(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-in": "./node_modules/moment/locale/en-in.js",
	"./en-in.js": "./node_modules/moment/locale/en-in.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./en-sg": "./node_modules/moment/locale/en-sg.js",
	"./en-sg.js": "./node_modules/moment/locale/en-sg.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fil": "./node_modules/moment/locale/fil.js",
	"./fil.js": "./node_modules/moment/locale/fil.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./ga": "./node_modules/moment/locale/ga.js",
	"./ga.js": "./node_modules/moment/locale/ga.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-deva": "./node_modules/moment/locale/gom-deva.js",
	"./gom-deva.js": "./node_modules/moment/locale/gom-deva.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it-ch": "./node_modules/moment/locale/it-ch.js",
	"./it-ch.js": "./node_modules/moment/locale/it-ch.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ku": "./node_modules/moment/locale/ku.js",
	"./ku.js": "./node_modules/moment/locale/ku.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./oc-lnc": "./node_modules/moment/locale/oc-lnc.js",
	"./oc-lnc.js": "./node_modules/moment/locale/oc-lnc.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tk": "./node_modules/moment/locale/tk.js",
	"./tk.js": "./node_modules/moment/locale/tk.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-mo": "./node_modules/moment/locale/zh-mo.js",
	"./zh-mo.js": "./node_modules/moment/locale/zh-mo.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/app.component.html":
/*!**************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/app.component.html ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<router-outlet></router-outlet>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/components/footer/footer.component.html":
/*!***********************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/components/footer/footer.component.html ***!
  \***********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<footer class=\"footer\" *ngIf=\"Summary && !Summary.HideCopyright\">\n  <div class=\"row align-items-center justify-content-xl-between\">\n    <div class=\"col-xl-6\">\n      <div class=\"copyright text-center text-xl-left text-muted\">\n        &copy; {{ test | date: \"yyyy\" }} <a href=\"https://inganibalguerra.github.io\" class=\"font-weight-bold ml-1\" target=\"_blank\">Anibal Guerra</a>\n      </div>\n    </div>\n    <!-- <div class=\"col-xl-6\">\n      <ul class=\"nav nav-footer justify-content-center justify-content-xl-end\">\n        <li class=\"nav-item\">\n          <a href=\"https://www.creative-tim.com?ref=ada-footer-admin-layout\" class=\"nav-link\" target=\"_blank\">Creative Tim</a>\n        </li>\n        <li class=\"nav-item\">\n          <a href=\"https://www.creative-tim.com/presentation?ref=ada-footer-admin-layout\" class=\"nav-link\" target=\"_blank\">About Us</a>\n        </li>\n        <li class=\"nav-item\">\n          <a href=\"http://blog.creative-tim.com?ref=ada-footer-admin-layout\" class=\"nav-link\" target=\"_blank\">Blog</a>\n        </li>\n        <li class=\"nav-item\">\n          <a href=\"https://github.com/creativetimofficial/argon-dashboard-angular/blob/master/LICENSE.md\" class=\"nav-link\" target=\"_blank\">MIT License</a>\n        </li>\n      </ul>\n    </div> -->\n  </div>\n</footer>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/components/loading/loading.component.html":
/*!*************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/components/loading/loading.component.html ***!
  \*************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<small class=\"text-white\" *ngIf=\"message\">{{message}}</small>\n<div class=\"loader\">\n    <div class=\"loaderBar\"></div>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/components/navbar/navbar.component.html":
/*!***********************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/components/navbar/navbar.component.html ***!
  \***********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<nav class=\"navbar navbar-top navbar-expand-md navbar-dark\" id=\"navbar-main\" *ngIf=\"Summary\">\n  <div class=\"container-fluid\">\n    <!-- Brand -->\n    <a class=\"h4 mb-0 text-white text-uppercase d-none d-lg-inline-block\" routerLinkActive=\"active\" [routerLink]=\"['/user-profile']\">{{getTitle()}}</a>\n    <!-- Form -->\n    <!-- <form class=\"navbar-search navbar-search-dark form-inline mr-3 d-none d-md-flex ml-lg-auto\">\n      <div class=\"form-group mb-0\" [ngClass]=\"{ 'focused': focus === true }\">\n        <div class=\"input-group input-group-alternative\">\n          <div class=\"input-group-prepend\">\n            <span class=\"input-group-text\"><i class=\"fas fa-search\"></i></span>\n          </div>\n          <input class=\"form-control\" placeholder=\"Search\" type=\"text\" (focus)=\"focus = true\"\n          (blur)=\"focus = false\">\n        </div>\n      </div>\n    </form> -->\n    <!-- User -->\n    <ul class=\"navbar-nav align-items-center d-none d-md-flex\">\n      <li class=\"nav-item\" ngbDropdown placement=\"bottom-right\">\n        <a class=\"nav-link pr-0\" role=\"button\" ngbDropdownToggle>\n          <div class=\"media align-items-center\">\n            <span class=\"avatar avatar-sm rounded-circle\">\n              <img alt=\"Image placeholder\" src=\"config/profile.png\">\n            </span>\n            <div class=\"media-body ml-2 d-none d-lg-block\">\n              <span class=\"mb-0 text-sm  font-weight-bold\">{{Summary.ShortName}}</span>\n            </div>\n          </div>\n        </a>\n        <div class=\"dropdown-menu-arrow dropdown-menu-right\" ngbDropdownMenu>\n          <div class=\" dropdown-header noti-title\">\n            <h6 class=\"text-overflow m-0\">Bienvenido!</h6>\n          </div>\n          <a routerLinkActive=\"active\" [routerLink]=\"['/user-profile']\" class=\"dropdown-item\">\n            <i class=\"ni ni-single-02\"></i>\n            <span>Mi Perfil</span>\n          </a>\n          <!-- <a routerLinkActive=\"active\" [routerLink]=\"['/user-profile']\" class=\"dropdown-item\">\n            <i class=\"ni ni-settings-gear-65\"></i>\n            <span>Settings</span>\n          </a>\n          <a routerLinkActive=\"active\" [routerLink]=\"['/user-profile']\" class=\"dropdown-item\">\n            <i class=\"ni ni-calendar-grid-58\"></i>\n            <span>Activity</span>\n          </a>\n          <a routerLinkActive=\"active\" [routerLink]=\"['/user-profile']\" class=\"dropdown-item\">\n            <i class=\"ni ni-support-16\"></i>\n            <span>Support</span>\n          </a>\n          <div class=\"dropdown-divider\"></div>\n          <a href=\"#!\" class=\"dropdown-item\">\n            <i class=\"ni ni-user-run\"></i>\n            <span>Logout</span>\n          </a> -->\n        </div>\n      </li>\n    </ul>\n  </div>\n</nav>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/components/sidebar/sidebar.component.html":
/*!*************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/components/sidebar/sidebar.component.html ***!
  \*************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<nav class=\"navbar navbar-vertical navbar-expand-md navbar-light bg-white\" id=\"sidenav-main\">\n  <div class=\"container-fluid\">\n    <!-- Toggler -->\n    <button class=\"navbar-toggler\" type=\"button\" (click)=\"isCollapsed=!isCollapsed\"\n       aria-controls=\"sidenav-collapse-main\">\n      <span class=\"navbar-toggler-icon\"></span>\n    </button>\n    <!-- Brand -->\n    <a class=\"navbar-brand pt-0\" routerLinkActive=\"active\" [routerLink]=\"['/user-profile']\">\n      <img src=\"./assets/img/icono.png\" class=\"navbar-brand-img\" style=\"max-height: 6.5rem;\" alt=\"...\">\n    </a>\n    <!-- User -->\n    <ul class=\"nav align-items-center d-md-none\">\n      <!-- <li class=\"nav-item\" ngbDropdown placement=\"bottom-right\">\n        <a class=\"nav-link nav-link-icon\" role=\"button\" ngbDropdownToggle>\n          <i class=\"ni ni-bell-55\"></i>\n        </a>\n        <div class=\"dropdown-menu-arrow dropdown-menu-right\" ngbDropdownMenu>\n          <a class=\"dropdown-item\" href=\"javascript:void(0)\">Action</a>\n          <a class=\"dropdown-item\" href=\"javascript:void(0)\">Another action</a>\n          <div class=\"dropdown-divider\"></div>\n          <a class=\"dropdown-item\" href=\"javascript:void(0)\">Something else here</a>\n        </div>\n      </li> -->\n      <li class=\"nav-item\" ngbDropdown placement=\"bottom-right\">\n        <a class=\"nav-link\" role=\"button\" ngbDropdownToggle>\n          <div class=\"media align-items-center\">\n            <span class=\"avatar avatar-sm rounded-circle\">\n              <img alt=\"Image placeholder\" src=\"./config/profile.png\">\n            </span>\n          </div>\n        </a>\n        <div class=\"dropdown-menu-arrow dropdown-menu-right\" ngbDropdownMenu>\n          <div class=\" dropdown-header noti-title\">\n            <h6 class=\"text-overflow m-0\">Bienvenido!</h6>\n          </div>\n          <a routerLinkActive=\"active\" [routerLink]=\"['/user-profile']\" class=\"dropdown-item\">\n            <i class=\"ni ni-single-02\"></i>\n            <span>Mi Perfil</span>\n          </a>\n          <!-- <a routerLinkActive=\"active\" [routerLink]=\"['/user-profile']\" class=\"dropdown-item\">\n            <i class=\"ni ni-settings-gear-65\"></i>\n            <span>Settings</span>\n          </a>\n          <a routerLinkActive=\"active\" [routerLink]=\"['/user-profile']\" class=\"dropdown-item\">\n            <i class=\"ni ni-calendar-grid-58\"></i>\n            <span>Activity</span>\n          </a>\n          <a routerLinkActive=\"active\" [routerLink]=\"['/user-profile']\" class=\"dropdown-item\">\n            <i class=\"ni ni-support-16\"></i>\n            <span>Support</span>\n          </a>\n          <div class=\"dropdown-divider\"></div>\n          <a href=\"#!\" class=\"dropdown-item\">\n            <i class=\"ni ni-user-run\"></i>\n            <span>Logout</span>\n          </a> -->\n        </div>\n      </li>\n    </ul>\n    <!-- Collapse -->\n    <div class=\"collapse navbar-collapse\"  [ngbCollapse]=\"isCollapsed\" id=\"sidenav-collapse-main\">\n      <!-- Collapse header -->\n      <div class=\"navbar-collapse-header d-md-none\">\n        <div class=\"row\">\n          <div class=\"col-6 collapse-brand\">\n            <a  routerLinkActive=\"active\" [routerLink]=\"['/user-profile']\">\n              <img src=\"./assets/img/icono.png\">\n            </a>\n          </div>\n          <div class=\"col-6 collapse-close\">\n            <button type=\"button\" class=\"navbar-toggler\" (click)=\"isCollapsed=!isCollapsed\">\n              <span></span>\n              <span></span>\n            </button>\n          </div>\n        </div>\n      </div>\n      <!-- Form -->\n      <form class=\"mt-4 mb-3 d-md-none\">\n        <div class=\"input-group input-group-rounded input-group-merge\">\n          <input type=\"search\" class=\"form-control form-control-rounded form-control-prepended\" placeholder=\"Search\" aria-label=\"Search\">\n          <div class=\"input-group-prepend\">\n            <div class=\"input-group-text\">\n              <span class=\"fa fa-search\"></span>\n            </div>\n          </div>\n        </div>\n      </form>\n      <!-- Navigation -->\n      <ul class=\"navbar-nav\">\n          <li *ngFor=\"let menuItem of menuItems\" class=\"{{menuItem.class}} nav-item\">\n              <a routerLinkActive=\"active\" [routerLink]=\"[menuItem.path]\" class=\"nav-link\">\n                  <i class=\"ni {{menuItem.icon}}\"></i>\n                  {{menuItem.title}}\n              </a>\n          </li>\n      </ul>\n      <!-- Divider \n      <hr class=\"my-3\">\n      Heading\n      <h6 class=\"navbar-heading text-muted\">Documentation</h6>\n      Navigation \n      <ul class=\"navbar-nav mb-md-3\">\n        <li class=\"nav-item\">\n          <a class=\"nav-link\" href=\"https://demos.creative-tim.com/argon-dashboard-angular/documentation/tutorial\">\n            <i class=\"ni ni-spaceship\"></i> Getting started\n          </a>\n        </li>\n        <li class=\"nav-item\">\n          <a class=\"nav-link\" href=\"https://demos.creative-tim.com/argon-dashboard-angular/documentation/colors\">\n            <i class=\"ni ni-palette\"></i> Foundation\n          </a>\n        </li>\n        <li class=\"nav-item\">\n          <a class=\"nav-link\" href=\"https://demos.creative-tim.com/argon-dashboard-angular/documentation/alerts\">\n            <i class=\"ni ni-ui-04\"></i> Components\n          </a>\n        </li>\n      </ul>-->\n    </div>\n  </div>\n</nav>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/layouts/admin-layout/admin-layout.component.html":
/*!********************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/layouts/admin-layout/admin-layout.component.html ***!
  \********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<!-- Sidenav -->\n<app-sidebar></app-sidebar>\n<div class=\"main-content\">\n  <!-- Top navbar -->\n  <app-navbar></app-navbar>\n  <!-- Pages -->\n  <router-outlet></router-outlet>\n  <div class=\"container-fluid\">\n    <app-footer></app-footer>\n  </div>\n</div>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/layouts/auth-layout/auth-layout.component.html":
/*!******************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/layouts/auth-layout/auth-layout.component.html ***!
  \******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"main-content\">\n  <nav class=\"navbar navbar-top navbar-horizontal navbar-expand-md navbar-dark\">\n    <div class=\"container px-4\">\n      <a class=\"navbar-brand\" routerLinkActive=\"active\" [routerLink]=\"['/dashboard']\">\n        <img src=\"assets/img/brand/argon-white.png\" />\n      </a>\n      <button class=\"navbar-toggler\" type=\"button\" (click)=\"isCollapsed=!isCollapsed\"\n         aria-controls=\"sidenav-collapse-main\">\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n      <div class=\"collapse navbar-collapse\"  [ngbCollapse]=\"isCollapsed\" id=\"sidenav-collapse-main\">\n        <!-- Collapse header -->\n        <div class=\"navbar-collapse-header d-md-none\">\n          <div class=\"row\">\n            <div class=\"col-6 collapse-brand\">\n              <a routerLinkActive=\"active\" [routerLink]=\"['/dashboard']\">\n                <img src=\"assets/img/brand/blue.png\">\n              </a>\n            </div>\n            <div class=\"col-6 collapse-close\">\n              <button type=\"button\" class=\"navbar-toggler\" (click)=\"isCollapsed=!isCollapsed\" >\n                <span></span>\n                <span></span>\n              </button>\n            </div>\n          </div>\n        </div>\n        <!-- Navbar items -->\n        <ul class=\"navbar-nav ml-auto\">\n          <li class=\"nav-item\">\n            <a class=\"nav-link nav-link-icon\" routerLinkActive=\"active\" [routerLink]=\"['/dashboard']\">\n              <i class=\"ni ni-planet\"></i>\n              <span class=\"nav-link-inner--text\">Dashboard</span>\n            </a>\n          </li>\n          <li class=\"nav-item\">\n            <a class=\"nav-link nav-link-icon\" routerLinkActive=\"active\" [routerLink]=\"['/register']\">\n              <i class=\"ni ni-circle-08\"></i>\n              <span class=\"nav-link-inner--text\">Register</span>\n            </a>\n          </li>\n          <li class=\"nav-item\">\n            <a class=\"nav-link nav-link-icon\" routerLinkActive=\"active\" [routerLink]=\"['/login']\">\n              <i class=\"ni ni-key-25\"></i>\n              <span class=\"nav-link-inner--text\">Login</span>\n            </a>\n          </li>\n          <li class=\"nav-item\">\n            <a class=\"nav-link nav-link-icon\" routerLinkActive=\"active\" [routerLink]=\"['/user-profile']\">\n              <i class=\"ni ni-single-02\"></i>\n              <span class=\"nav-link-inner--text\">Profile</span>\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </nav>\n  <router-outlet></router-outlet>\n</div>\n<footer class=\"py-5\">\n  <div class=\"container\">\n    <div class=\"row align-items-center justify-content-xl-between\">\n      <div class=\"col-xl-6\">\n        <div class=\"copyright text-center text-xl-left text-muted\">\n          &copy; {{ test | date: \"yyyy\" }} <a href=\"https://www.creative-tim.com?ref=ada-footer-auth-layout\" class=\"font-weight-bold ml-1\" target=\"_blank\">Creative Tim</a>\n        </div>\n      </div>\n      <div class=\"col-xl-6\">\n        <ul class=\"nav nav-footer justify-content-center justify-content-xl-end\">\n          <li class=\"nav-item\">\n            <a href=\"https://www.creative-tim.com?ref=ada-footer-auth-layout\" class=\"nav-link\" target=\"_blank\">Creative Tim</a>\n          </li>\n          <li class=\"nav-item\">\n            <a href=\"https://www.creative-tim.com/presentation?ref=ada-footer-auth-layout\" class=\"nav-link\" target=\"_blank\">About Us</a>\n          </li>\n          <li class=\"nav-item\">\n            <a href=\"http://blog.creative-tim.com?ref=ada-footer-auth-layout\" class=\"nav-link\" target=\"_blank\">Blog</a>\n          </li>\n          <li class=\"nav-item\">\n            <a href=\"https://github.com/creativetimofficial/argon-dashboard-angular/blob/master/LICENSE.md\" class=\"nav-link\" target=\"_blank\">MIT License</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</footer>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/account-control-list-budgets/account-control-list-budgets.component.html":
/*!******************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/account-control-list-budgets/account-control-list-budgets.component.html ***!
  \******************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"card card-stats mb-4 mb-lg-0\">\n    <div class=\"card-body\">\n        <div class=\"\">\n            <div *ngIf=\"budgetSettings\" class=\"card-profile-stats d-flex justify-content-center pt-0\">\n                <div class=\"p-0\">\n                    <span placement=\"bottom\" ngbTooltip=\"Ingresos actuales del mes\" class=\"heading text-success\">\n                        <i class=\"fas fa-arrow-circle-up\"></i>\n                        {{ currentTotalIncome | currency }}\n                    </span>\n                    <span class=\"description \">Total Ingresos</span>\n                    <span placement=\"bottom\" ngbTooltip=\"Presupuesto de ingresos del mes\"\n                        class=\"heading  description text-sm\">\n                        ({{ budgetSettings.totalIncome | currency }})\n                    </span>\n                </div>\n                <div class=\"p-0\">\n                    <span placement=\"bottom\" ngbTooltip=\"Gastos actuales del mes\" class=\"heading text-danger\">\n                        <i class=\"fas fa-arrow-circle-down\"></i>\n                        {{ currentTotalExpense | currency }}\n                    </span>\n                    <span class=\"description\">Total Gastos</span>\n                    <span placement=\"bottom\" ngbTooltip=\"Presupuesto de gastos del mes\"\n                        class=\"heading  description text-sm\">\n                        ({{ budgetSettings.totalExpense | currency }})\n                    </span>\n                </div>\n                <div class=\"p-0\">\n                    <span placement=\"bottom\" ngbTooltip=\"Ahorro actual del mes\" class=\"heading \"\n                        [ngClass]=\"currentSavingsGoal>=0?'text-info':'text-warning'\">\n                        <i class=\"fas fa-piggy-bank\"></i>\n                        {{ currentSavingsGoal | currency }}\n                    </span>\n                    <span class=\"description\">Ahorro Mensual</span>\n                    <span placement=\"bottom\" ngbTooltip=\"Presupuesto de ahorro del mes\"\n                        class=\"heading  description text-sm\">\n                        ({{ budgetSettings.savingsGoal | currency }})\n                    </span>\n                </div>\n\n            </div>\n            <div class=\"\">\n\n\n                <app-account-control-dash-daily-categories [transactions]=\"settingsData.transactions\"\n                    (changeCurrentMonth)=\"changeCurrentMonth($event)\"\n                    [budgetSettings]=\"settingsData.budgetSettings\"></app-account-control-dash-daily-categories>\n\n            </div>\n\n\n            <!-- Tabs para ingresos y gastos -->\n            <ul class=\"nav nav-tabs\">\n                <li class=\"nav-item\">\n                    <a class=\"nav-link active\" (click)=\"setActiveTab('income')\"\n                        [class.active]=\"activeTab === 'income'\">Ingresos <span\n                            class=\"badge badge-success\">{{getCategoriesByType(\"income\").length}}</span></a>\n                </li>\n                <li class=\"nav-item\">\n                    <a class=\"nav-link\" (click)=\"setActiveTab('expense')\"\n                        [class.active]=\"activeTab === 'expense'\">Gastos <span\n                            class=\"badge badge-danger\">{{getCategoriesByType(\"expense\").length}}</span></a>\n                </li>\n            </ul>\n            <div class=\"\">\n                <app-account-control-dash-radar-by-category [categoryType]=\"activeTab\" [currentDate]=\"lastSyncDate\"\n                    [budgetSettings]=\"budgetSettings\"></app-account-control-dash-radar-by-category>\n            </div>\n\n\n            <div class=\"table-responsive table-container scroll-container\" style=\"max-height: 744px; overflow-y: auto;\">\n                <table class=\"table table-bordered\">\n                    <thead class=\"thead-light\">\n                        <tr>\n                            <th scope=\"col\">Categoría</th>\n                            <th scope=\"col\">Actual</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor=\"let category of getCategoriesByType(activeTab); let i = index\">\n                            <th scope=\"row\" class=\"p-2\">\n                                {{ category.name }}\n                                <br />\n                                <small>{{ category.budget | currency }}</small>\n                            </th>\n                            <td class=\"text-right p-2\">\n                                {{category.currentAmmount | currency }}\n                                <div *ngIf=\"getTransactions(category).length>0\">\n                                    <app-account-control-dash-budget-by-category [percentage]=\"calculatePercentage(category.currentAmmount,\n                                    category.budget)\" [month]=\"getMonth()\"\n                                        [transactions]=\"getTransactions(category)\"></app-account-control-dash-budget-by-category>\n                                </div>\n\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/account-control-list-transactions/account-control-list-transactions.component.html":
/*!****************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/account-control-list-transactions/account-control-list-transactions.component.html ***!
  \****************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"card card-stats mb-4 mb-lg-0\">\n    <div class=\"card-body\">\n        <div class=\"mb-2\">\n            <!-- Input de búsqueda -->\n            <input type=\"text\" placeholder=\"Buscar transacción...\" class=\"form-control form-control-alternative mb-2\"\n                (input)=\"onSearch($event)\" />\n\n            <!-- Mostrar conteo de registros -->\n            <small class=\"text-muted\">Total registros:\n                <span *ngIf=\"filteredTransactions.length == transactions.length\">\n                    {{ visibleTransactions.length }}/{{ transactions.length }}\n                </span>\n                <span *ngIf=\"filteredTransactions.length != transactions.length\">\n                    {{ transactions.length }} | {{ visibleTransactions.length }}/{{ filteredTransactions.length }}\n                    coincidencias\n                </span>\n            </small>\n        </div>\n\n        <!-- Mostrar métricas al estar filtrando -->\n        <div *ngIf=\"isFiltering\" class=\"card-profile-stats d-flex justify-content-center mb-3\">\n            <div>\n                <span class=\"heading text-success\">\n                    <i class=\"fas fa-arrow-circle-up\"></i>\n                    {{ totalIncome | currency }}\n                </span>\n                <span class=\"description\">Total Ingresos</span>\n            </div>\n            <div>\n                <span class=\"heading text-danger\">\n                    <i class=\"fas fa-arrow-circle-down\"></i>\n                    {{ totalExpense | currency }}\n                </span>\n                <span class=\"description\">Total Gastos</span>\n            </div>\n            <div *ngIf=\"savingsGoal>0\">\n                <span class=\"heading text-info\">\n                    <i class=\"fas fa-piggy-bank\"></i>\n                    {{ savingsGoal | currency }}\n                </span>\n                <span class=\"description\">Ahorro</span>\n            </div>\n        </div>\n        <div *ngIf=\"isFiltering\" class=\"row col mb-1\">\n\n            <button placement=\"top\" ngbTooltip=\"Abrir dashboards\" (click)=\"openDashboards()\"\n                class=\"btn btn-icon btn-3 btn-sm btn-primary\" type=\"button\">\n                <span class=\"btn-inner--icon\">\n                    <i class=\"fas fa-chart-bar\"></i>\n                </span>\n            </button>\n        </div>\n\n        <!-- Contenedor con scroll que incluye las transacciones -->\n        <div class=\"scroll-container\" style=\"max-height: 1580px; overflow-y: auto;\" (scroll)=\"onScroll($event)\">\n\n            <div class=\"pb-1\" *ngFor=\"let transaction of visibleTransactions\">\n                <app-account-control-transaction-card [transaction]=\"transaction\" [settingsData]=\"settionsData\"\n                    (onRegisterAccount)=\"openCreateAccount(transaction)\"\n                    (onRegisterCategory)=\"openManagementCategories(transaction)\"\n                    (onEditTransaction)=\"openEditTransaction(transaction)\"\n                    (onDeleteTransaction)=\"deleteTransaction(transaction)\">\n                </app-account-control-transaction-card>\n            </div>\n        </div>\n    </div>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/account-control-management-account/account-control-management-account.component.html":
/*!******************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/account-control-management-account/account-control-management-account.component.html ***!
  \******************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"card card-stats mb-4 mb-lg-0\">\n    <div class=\"card-header bg-white border-0\">\n        <div class=\"row align-items-center\">\n            <div class=\"col-8\">\n                <h6 class=\"text-uppercase text-muted ls-1 mb-1\">\n                    Datos de la cuenta\n                </h6>\n            </div>\n            <div class=\"col-4 text-right\">\n                <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"activeModal.dismiss('Cross click')\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n        </div>\n    </div>\n    <div class=\"card-body\">\n        <form [formGroup]=\"configuracionForm\" (ngSubmit)=\"onSubmitInitial()\">\n            <div class=\"row\">\n                <div class=\"col-lg-6\">\n                    <div class=\"form-group\">\n\n                        <ng-container *ngIf=\"!disableAccountId; else elseNoDisableAccountIdInput\">\n                            <label placement=\"right\"\n                                ngbTooltip=\"Recuerda que en base a este identificador, el sistema registrara automaticamente las transacciones desde tu correo electrónico\"\n                                class=\"form-control-label\" for=\"accountId\">\n                                Identificador de la Cuenta\n                            </label>\n                            <input class=\"form-control form-control-alternative\" id=\"accountId\"\n                                formControlName=\"accountId\" placeholder=\"0\" type=\"text\">\n                            <p class=\"text-warning\">\n                                <span\n                                    *ngIf=\"configuracionForm.controls.submitted.value && configuracionForm.controls.accountId.errors?.required\">Campo\n                                    Requerido</span>\n                            </p>\n                        </ng-container>\n                        <ng-template #elseNoDisableAccountIdInput>\n                            <strong>\n                                Cuenta Nro: {{ accountToEdit.id }}\n                            </strong>\n                        </ng-template>\n\n                    </div>\n                </div>\n                <div class=\" col-lg-6\">\n                    <div class=\"form-group\">\n                        <label class=\"form-control-label\" for=\"accountName\">\n                            Nombre\n                        </label>\n                        <input class=\"form-control form-control-alternative\" id=\"accountName\"\n                            formControlName=\"accountName\" placeholder=\"\" type=\"text\">\n                        <p class=\"text-warning\">\n                            <span\n                                *ngIf=\"configuracionForm.controls.submitted.value && configuracionForm.controls.accountName.errors?.required\">Campo\n                                Requerido</span>\n                        </p>\n                    </div>\n                </div>\n\n            </div>\n            <div class=\"row\">\n                <div class=\"col-lg-6\">\n                    <div class=\"form-group\">\n\n                        <label class=\"form-control-label\" for=\"accountDescription\">\n                            Descripción\n                        </label>\n                        <textarea class=\"form-control form-control-alternative\" formControlName=\"accountDescription\"\n                            placeholder=\"\"></textarea>\n                        <p class=\"text-warning\">\n                            <span\n                                *ngIf=\"configuracionForm.controls.submitted.value && configuracionForm.controls.accountDescription.errors?.required\">Campo\n                                Requerido</span>\n                        </p>\n                    </div>\n                </div>\n                <div class=\"col-lg-6\">\n                    <div class=\"form-group\">\n                        <label class=\"form-control-label\" for=\"accountBalance\">\n                            Saldo actual\n                        </label>\n                        <input class=\"form-control form-control-alternative\" id=\"accountBalance\"\n                            formControlName=\"accountBalance\" placeholder=\"\" type=\"number\">\n                        <p class=\"text-warning\">\n                            <span\n                                *ngIf=\"configuracionForm.controls.submitted.value && configuracionForm.controls.accountBalance.errors?.required\">Campo\n                                Requerido</span>\n                        </p>\n                    </div>\n                </div>\n                <div class=\"col-lg-6\">\n                    <div class=\"form-group\">\n                        <div class=\"custom-control custom-control-alternative custom-checkbox pb-3 pt-0\">\n                            <input class=\"custom-control-input\" formControlName=\"accountIsPrincipal\"\n                                id=\"accountIsPrincipal\" type=\"checkbox\"><label class=\"custom-control-label\"\n                                for=\"accountIsPrincipal\"><span class=\"text-muted\">Principal</span></label>\n                        </div>\n                        <h6 class=\"text-uppercase text-muted ls-1 mb-1\">Saldra en el panel general</h6>\n                    </div>\n                </div>\n            </div>\n            <button [disabled]=\"!configuracionForm.valid\" type=\"submit\" class=\"btn btn-primary\">Guardar</button>\n        </form>\n    </div>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/account-control-management-categories/account-control-management-categories.component.html":
/*!************************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/account-control-management-categories/account-control-management-categories.component.html ***!
  \************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"card card-stats mb-4 mb-lg-0\">\n    <div class=\"card-header bg-white border-0\">\n        <div class=\"row align-items-center\">\n            <div class=\"col-8\">\n                <h6 class=\"text-uppercase text-muted ls-1 mb-1\">\n                    Gestión de Categorías y Presupuesto Mensual\n                </h6>\n            </div>\n            <div class=\"col-4 text-right\">\n                <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"activeModal.dismiss('Cross click')\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n        </div>\n    </div>\n    <div class=\"card-body\">\n        <div class=\"\">\n            <div *ngIf=\"budgetSettings\" class=\"card-profile-stats d-flex justify-content-center\">\n                <div>\n                    <span placement=\"top\" ngbTooltip=\"Ingresos actuales del mes\" class=\"heading text-success\">\n                        <i class=\"fas fa-arrow-circle-up\"></i>\n                        {{ budgetSettings.totalIncome| currency }}\n                    </span>\n                    <span class=\"description \">Total Ingresos</span>\n                    <span placement=\"bottom\" ngbTooltip=\"Presupuesto de ingresos del mes\"\n                        class=\"heading  description text-sm\">\n                        ({{ currentTotalIncome | currency }})\n                    </span>\n                </div>\n                <div>\n                    <span placement=\"top\" ngbTooltip=\"Gastos actuales del mes\" class=\"heading text-danger\">\n                        <i class=\"fas fa-arrow-circle-down\"></i>\n                        {{ budgetSettings.totalExpense| currency }}\n                    </span>\n                    <span class=\"description\">Total Gastos</span>\n                    <span placement=\"bottom\" ngbTooltip=\"Presupuesto de gastos del mes\"\n                        class=\"heading  description text-sm\">\n                        ({{currentTotalExpense | currency }})\n                    </span>\n                </div>\n                <div>\n                    <span placement=\"top\" ngbTooltip=\"Ahorro actual del mes\" class=\"heading \"\n                        [ngClass]=\"currentSavingsGoal>=0?'text-info':'text-warning'\">\n                        <i class=\"fas fa-piggy-bank\"></i>\n                        {{ budgetSettings.savingsGoal| currency }}\n                    </span>\n                    <span class=\"description\">Ahorro Mensual</span>\n                    <span placement=\"bottom\" ngbTooltip=\"Presupuesto de ahorro del mes\"\n                        class=\"heading  description text-sm\">\n                        ({{ currentSavingsGoal | currency }})\n                    </span>\n                </div>\n            </div>\n\n            <div *ngIf=\"transaction\">\n                <app-account-control-transaction-card [showOriginalBody]=\"true\" [showButtons]=\"false\"\n                    [transaction]=\"transaction\">\n                </app-account-control-transaction-card>\n                <br />\n            </div>\n\n\n            <!-- Tabs para ingresos y gastos -->\n            <ul class=\"nav nav-tabs\">\n                <li class=\"nav-item\">\n                    <a class=\"nav-link active\" (click)=\"setActiveTab('income')\"\n                        [class.active]=\"activeTab === 'income'\">Ingresos <span\n                            class=\"badge badge-success\">{{getCategoriesByType(\"income\").length}}</span></a>\n                </li>\n                <li class=\"nav-item\">\n                    <a class=\"nav-link\" (click)=\"setActiveTab('expense')\"\n                        [class.active]=\"activeTab === 'expense'\">Gastos <span\n                            class=\"badge badge-danger\">{{getCategoriesByType(\"expense\").length}}</span></a>\n                </li>\n            </ul>\n\n            <!-- Botón Nuevo para agregar categoría -->\n            <button (click)=\"addNewCategory()\" [disabled]=\"!isFormValidForCurrentTab(activeTab)\"\n                class=\"btn btn-outline-primary my-3\">Nuevo</button>\n\n            <!-- Contenedor responsivo de la tabla -->\n            <div #tableContainer class=\"table-responsive table-container\" style=\"max-height: 500px; overflow-y: auto;\">\n                <table class=\"table table-bordered\">\n                    <thead class=\"thead-light\">\n                        <tr>\n                            <th scope=\"col\" class=\"table-col-nombre\">Orden</th>\n                            <th scope=\"col\" class=\"table-col-nombre\">Categoria</th>\n                            <th scope=\"col\">Palabras Clave</th>\n                            <th scope=\"col\" class=\"table-col-categoria\">Presupuesto</th>\n                            <th scope=\"col\">Cuenta de Destino</th>\n                            <th scope=\"col\">Acciones</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor=\"let category of categoriesOfCurrentTab; let i = index\">\n                            <!-- <td>\n                                <input [(ngModel)]=\"category.order\" class=\"form-control\"\n                                    placeholder=\"Orden de prioridad\" [ngClass]=\"{'is-invalid': !category.order}\" />\n                                <div *ngIf=\"!category.order\" class=\"text-danger small\">Requerido</div>\n                                <small>Order de prioridad: {{category.order}}</small>\n                            </td> -->\n                            <td>\n                                <button (click)=\"moveCategoryUp(i)\" [disabled]=\"i === 0\" class=\"btn btn-sm\">\n                                    ▲\n                                </button>\n                                <button (click)=\"moveCategoryDown(i)\"\n                                    [disabled]=\"i === getCategoriesByType(activeTab).length - 1\" class=\"btn btn-sm\">\n                                    ▼\n                                </button>\n                                <br />\n                                <small>Order de prioridad: {{category.order}}</small>\n                            </td>\n                            <td>\n                                <input [(ngModel)]=\"category.name\" class=\"form-control\"\n                                    placeholder=\"Nombre de la categoría\" [ngClass]=\"{'is-invalid': !category.name}\" />\n                                <div *ngIf=\"!category.name\" class=\"text-danger small\">Requerido</div>\n                                <small>Nombre: {{category.name}}</small>\n                            </td>\n                            <td>\n                                <div class=\"keywords-container\">\n                                    <button *ngFor=\"let keyword of category.keyWords\" type=\"button\"\n                                        class=\"btn text-white btn-sm bg-gradient-dark\">\n                                        <span>{{ keyword }} </span>\n                                        <span (click)=\"removeKeyword(category, keyword)\"\n                                            class=\"badge badge-md  bg-gradient-danger border-white\">x</span>\n                                    </button>\n                                </div>\n                                <input [(ngModel)]=\"category.newKeyword\" placeholder=\"Nueva palabra clave\"\n                                    class=\"form-control mt-1\" [ngClass]=\"{'is-invalid': category.keyWords.length === 0}\"\n                                    (keyup.enter)=\"addKeyword(category)\" />\n                                <div *ngIf=\"category.keyWords.length === 0\" class=\"text-danger small\">Agregar al menos\n                                    una palabra clave</div>\n                                <button (click)=\"addKeyword(category)\"\n                                    class=\"btn btn-primary btn-sm mt-1\">Agregar</button>\n                            </td>\n                            <td class=\"table-col-categoria\">\n                                <input (change)=\"updateBudgetSummary()\" [(ngModel)]=\"category.budget\" type=\"number\"\n                                    class=\"form-control\" placeholder=\"Presupuesto\" />\n                                <small>Presupuesto: {{category.budget|currency}}</small>\n                                <br />\n                                <div style=\"width: 100%;\" *ngIf=\"category.currentAmmount>0\">\n                                    <app-account-control-dash-budget-by-category [percentage]=\"calculatePercentage(category.currentAmmount,\n                                        category.budget)\"\n                                        [transactions]=\"getTransactions(category)\"></app-account-control-dash-budget-by-category>\n                                </div>\n                                <small *ngIf=\"category.currentAmmount>0\">Actual:\n                                    {{category.currentAmmount|currency}}</small>\n                            </td>\n                            <td>\n                                <select id=\"accountId{{i}}\" [(ngModel)]=\"category.accountId\" class=\"form-control\">\n                                    <option value=null>N/A</option>\n                                    <option *ngFor=\"let accountId of accountsId()\" [value]=\"accountId\">\n                                        {{accountId}}\n                                    </option>\n                                </select>\n                                <small>Cuenta de destino: {{category.accountId}}</small>\n                            </td>\n                            <td>\n                                <button class=\"btn btn-icon btn-3 btn-sm btn-danger\" type=\"button\"\n                                    (click)=\"removeCategory(category)\">\n                                    <span class=\"btn-inner--icon\">\n                                        <i class=\"fa fa-trash\"></i>\n                                    </span>\n                                </button>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n\n            <!-- Botón para guardar todos los cambios, habilitado solo si todas las categorías están completas -->\n            <button (click)=\"saveAllCategories()\" [disabled]=\"!isFormValid()\" class=\"btn btn-primary mt-3\">Guardar\n                Cambios</button>\n        </div>\n    </div>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/account-control-management-transaction/account-control-management-transaction.component.html":
/*!**************************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/account-control-management-transaction/account-control-management-transaction.component.html ***!
  \**************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"card card-stats mb-4 mb-lg-0\">\n    <div class=\"card-header bg-white border-0\">\n        <div class=\"row align-items-center\">\n            <div class=\"col-8\">\n                <h6 class=\"text-uppercase text-muted ls-1 mb-1\">\n                    Datos de la Transacción\n                </h6>\n            </div>\n            <div class=\"col-4 text-right\">\n                <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"activeModal.dismiss('Cross click')\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n        </div>\n    </div>\n    <div class=\"card-body\">\n        <div class=\"row\">\n            <app-account-control-transaction-card *ngIf=\"transaction\" [transaction]=\"transaction\"\n                [settingsData]=\"settingsData\" [showOriginalBody]=\"true\" [showButtons]=\"false\">\n            </app-account-control-transaction-card>\n        </div>\n        <form [formGroup]=\"transactionForm\" (ngSubmit)=\"onSubmit()\">\n            <!-- Categoría y Tipo -->\n            <div class=\"row\">\n                <div class=\"col-lg-6\" *ngIf=\"!transaction\">\n                    <div class=\"form-group\">\n                        <label class=\"form-control-label\" for=\"type\">Tipo de Transacción</label>\n                        <select class=\"form-control\" id=\"type\" formControlName=\"type\">\n                            <option [value]=\"incomeType\">Ingreso</option>\n                            <option [value]=\"expenseType\">Gasto</option>\n                        </select>\n                    </div>\n                </div>\n                <div class=\"col-lg-6\">\n                    <div class=\"form-group\">\n                        <label class=\"form-control-label\" for=\"categoryId\">Categoria</label>\n                        <select class=\"form-control\" id=\"categoryId\" formControlName=\"categoryId\">\n                            <option value=\"\">Sin clasificar</option>\n                            <option *ngFor=\"let category of categories\" [value]=\"category.id\">\n                                {{ category.name }}\n                            </option>\n                        </select>\n                        <p class=\"text-warning\"\n                            *ngIf=\"isSubmitted && transactionForm.controls.categoryId.errors?.required\">Campo Requerido\n                        </p>\n                    </div>\n                </div>\n\n            </div>\n\n            <div class=\"row\">\n                <!-- Selección de Cuenta -->\n                <div class=\"col-lg-6\">\n                    <div class=\"form-group\">\n                        <label class=\"form-control-label\" for=\"originalAccount\">Cuenta Origen</label>\n                        <select class=\"form-control\" id=\"originalAccount\" formControlName=\"originalAccount\">\n                            <option *ngFor=\"let account of settingsData.accounts\" [value]=\"account.id\">\n                                {{ account.name }}\n                            </option>\n                        </select>\n                        <p class=\"text-warning\"\n                            *ngIf=\"isSubmitted && transactionForm.controls.originalAccount.errors?.required\">Campo\n                            Requerido\n                        </p>\n                    </div>\n                </div>\n\n                <!-- Selección de Cuenta -->\n                <div class=\"col-lg-6\" *ngIf=\"transactionForm.value.type=='expense' && !transaction\">\n                    <div class=\"form-group\">\n                        <label class=\"form-control-label\" for=\"targetAccountId\">Cuenta Destino (opcional)</label>\n                        <select class=\"form-control\" id=\"targetAccountId\" formControlName=\"targetAccountId\">\n                            <option *ngFor=\"let account of settingsData.accounts\" [value]=\"account.id\">\n                                {{ account.name }}\n                            </option>\n                        </select>\n                        <p class=\"text-warning\"\n                            *ngIf=\"isSubmitted && transactionForm.controls.targetAccountId.errors?.required\">Campo\n                            Requerido\n                        </p>\n                    </div>\n                </div>\n\n\n            </div>\n\n            <!-- Fecha y Monto -->\n            <div class=\"row\">\n                <div class=\"col-lg-6\">\n                    <div class=\"form-group\">\n                        <label class=\"form-control-label\" for=\"date\">Fecha</label>\n                        <input type=\"date\" class=\"form-control\" id=\"date\" formControlName=\"date\">\n                        <p class=\"text-warning\" *ngIf=\"isSubmitted && transactionForm.controls.date.errors?.required\">\n                            Campo Requerido</p>\n                    </div>\n                </div>\n\n                <!-- Monto de la Transacción -->\n                <div class=\"col-lg-6\">\n                    <div class=\"form-group\">\n                        <label class=\"form-control-label\" for=\"amount\">Monto</label>\n                        <input type=\"number\" class=\"form-control\" id=\"amount\" formControlName=\"amount\"\n                            placeholder=\"Monto\">\n                        <p class=\"text-warning\" *ngIf=\"isSubmitted && transactionForm.controls.amount.errors?.required\">\n                            Campo Requerido</p>\n                    </div>\n                </div>\n\n\n            </div>\n\n            <!-- Descripción -->\n            <div class=\"row\">\n                <div class=\"col-lg-6\">\n                    <div class=\"form-group\">\n\n                        <label class=\"form-control-label\" for=\"description\">\n                            Descripción\n                        </label>\n                        <textarea class=\"form-control form-control-alternative\" formControlName=\"description\"\n                            placeholder=\"\"></textarea>\n                        <p class=\"text-warning\">\n                            <span *ngIf=\"isSubmitted && transactionForm.controls.description.errors?.required\">Campo\n                                Requerido</span>\n                        </p>\n                    </div>\n                </div>\n            </div>\n\n            <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"!transactionForm.valid\">Guardar\n                Transacción</button>\n        </form>\n    </div>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/account-control-migrate-transaction/account-control-migrate-transaction.component.html":
/*!********************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/account-control-migrate-transaction/account-control-migrate-transaction.component.html ***!
  \********************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"card card-stats mb-4 mb-lg-0\">\n    <div class=\"card-header bg-white border-0\">\n        <div class=\"row align-items-center\">\n            <div class=\"col-8\">\n                <h6 class=\"text-uppercase text-muted ls-1 mb-1\">\n                    Migrar Transacción\n                </h6>\n            </div>\n            <div class=\"col-4 text-right\">\n                <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"activeModal.dismiss('Cross click')\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n        </div>\n    </div>\n    <div class=\"card-body\">\n        <!-- Botón para pegar contenido del portapapeles si está disponible -->\n        <div *ngIf=\"clipboardContent\" class=\"mb-3\">\n            <p>Texto detectado en el portapapeles:</p>\n            <button class=\"btn btn-outline-primary btn-sm\" (click)=\"pasteClipboardContent()\">Pegar del\n                Portapapeles</button>\n        </div>\n\n        <!-- Área de texto para el input -->\n        <textarea class=\"form-control mb-3\" rows=\"4\" placeholder=\"Pega o digita la información de la transacción aquí\"\n            [(ngModel)]=\"inputText\" (ngModelChange)=\"onTextInputChange()\">\n        </textarea>\n\n        <!-- Visualización de la transacción migrada -->\n        <div *ngIf=\"migratedTransaction\">\n            <h5>Vista previa de la Transacción</h5>\n            <!-- Componente de visualización -->\n            <app-account-control-transaction-card [transaction]=\"migratedTransaction\" [settingsData]=\"settingsData\"\n                [showOriginalBody]=\"true\" [showButtons]=\"false\">\n            </app-account-control-transaction-card>\n            <hr>\n            <!-- Componente de gestión -->\n            <app-account-control-management-transaction *ngIf=\"migratedTransaction?.canProcessed\"\n                [transaction]=\"migratedTransaction\" [settingsData]=\"settingsData\"\n                (onTransactionSave)=\"procesedTransaction()\">\n            </app-account-control-management-transaction>\n        </div>\n    </div>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/account-control-transaction-card/account-control-transaction-card.component.html":
/*!**************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/account-control-transaction-card/account-control-transaction-card.component.html ***!
  \**************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"card card-stats mb-4 mb-lg-0 \"\n    [ngClass]=\"{ 'bg-gradient-default': (!transaction.categoryId || transaction.categoryId=='no_category')}\">\n    <div class=\"card-body\">\n        <div class=\"row\">\n            <div *ngIf=\"transaction.canProcessed\" class=\"col\">\n                <h5 class=\"card-title text-uppercase text-muted mb-0\">\n                    {{transaction.description}}</h5>\n                <span *ngIf=\"transaction.type=='income'; else elseUnrecognizedTransactions\">\n                    <span class=\"text-success mr-2\"><i class=\"fa fa-arrow-up\"></i></span>\n                </span>\n                <ng-template #elseUnrecognizedTransactions>\n                    <span class=\"text-danger mr-2\"><i class=\"fa fa-arrow-down\"></i></span>\n                </ng-template>\n\n                <span class=\"h2 font-weight-bold mb-0\"\n                    [ngClass]=\"{ 'text-white': (!transaction.categoryId || transaction.categoryId=='no_category')}\">{{transaction.amount|currency}}</span>\n\n            </div>\n            <div class=\"col-auto\">\n                <button placement=\"left\" ngbTooltip=\"Configurar nueva cuenta\"\n                    *ngIf=\"showButtons && !transaction.isProcessed && transaction.canProcessed\"\n                    (click)=\"openCreateAccount(transaction)\" type=\"button\"\n                    class=\"btn text-white btn-sm bg-gradient-dark\">\n                    <span>Registrar </span>\n                    <span\n                        class=\"badge badge-md  bg-gradient-warning border-white\">{{transaction.originalAccount}}</span>\n                </button>\n\n\n\n                <button placement=\"left\" ngbTooltip=\"Configurar palabras clave para detectar la categoria\"\n                    *ngIf=\"showButtons && (!transaction.categoryId || transaction.categoryId=='no_category')\"\n                    (click)=\"openManagementCategories(transaction)\" type=\"button\"\n                    class=\"btn text-white btn-sm bg-gradient-warning\">\n                    <span>Categoria </span>\n                </button>\n\n                <button *ngIf=\"showButtons && transaction.canProcessed\" (click)=\"openEditTransaction(transaction)\"\n                    type=\"button\" class=\"btn text-white btn-sm bg-gradient-primary\">\n                    <span>Editar </span>\n                </button>\n\n                <div *ngIf=\"transaction.transactionId\" [ngClass]=\"transaction.type=='income'?'bg-success':'bg-danger'\"\n                    class=\"icon icon-shape text-white rounded-circle shadow\">\n                    <i class=\"ni ni-spaceship\"></i>\n                </div>\n            </div>\n        </div>\n        <p *ngIf=\"transaction.canProcessed\" class=\"mb-0 text-muted text-sm\">\n            <span class=\"mt-1\">\n                <i class=\"ni ni-credit-card\"></i>\n            </span>\n            {{transaction.accountId ? transaction.accountId : transaction.originalAccount}} |\n            <span class=\"text-nowrap\">\n                {{ transaction.date | date: 'dd/MM/yyyy HH:mm': '-0500'}}\n            </span>\n\n        </p>\n        <span class=\"badge badge-dot\" *ngIf=\"transaction.isProcessed; else elseUnrecognizedTransactions\">\n            <i class=\"bg-success\"></i>\n        </span>\n        <ng-template #elseUnrecognizedTransactions>\n            <span class=\"badge badge-dot\">\n                <i class=\"bg-danger\"></i>\n            </span>\n        </ng-template>\n\n        <span style=\"font-size: 50%;\" class=\"badge badge-pill text-white\"\n            [ngClass]=\"{ 'bg-gradient-success': (transaction.type=='income'), 'bg-gradient-danger': (transaction.type!='income')}\">\n            {{ getCategory(transaction.categoryId)}}\n        </span>\n        <p *ngIf=\"showOriginalBody || !transaction.canProcessed\" class=\"mb-0 text-muted text-sm\"\n            [ngClass]=\"{ 'text-white': (!transaction.categoryId || transaction.categoryId=='no_category') }\">\n            <strong>Cuerpo Original: </strong>\n            <span class=\"card-title mb-0\">{{ transaction.originalBody}}</span>\n        </p>\n        <div *ngIf=\"!transaction.canProcessed\" class=\"alert alert-danger\" role=\"alert\">\n            <span class=\"alert-inner--icon\"><i class=\"ni ni-like-2\"></i></span>\n            <strong> Advertencia!</strong> Comunicate con el desarrollador para configurar este nuevo escenario no\n            contemplado!\n        </div>\n\n        <div class=\"float-right\" *ngIf=\"!showOriginalBody\">\n            <button type=\"button\" (click)=\"deleteTransacion()\" class=\"btn btn-icon btn-3 btn-sm btn-danger\">\n                <span class=\"btn-inner--icon\">\n                    <i class=\"fa fa-trash\"></i>\n                </span>\n            </button>\n        </div>\n    </div>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/account-control.component.html":
/*!************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/account-control.component.html ***!
  \************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"header pb-6 pt-5 pt-md-8 bg-gradient-dark\">\n    <div class=\"container-fluid\">\n        <div class=\"header-body\">\n            <div class=\"row\">\n                <div class=\"col-lg-12\">\n                    <p class=\"float-right\" *ngIf=\"!configFromGoogle\">\n                        <a href=\"javascript:void(0)\" placement=\"bottom\" ngbTooltip=\"Autenticación\" (click)=\"Login()\"\n                            class=\"btn btn-sm btn-neutral btn-icon\">\n                            <span class=\"btn-inner--icon\"><img src=\"../assets/img/icons/common/google.svg\"></span>\n                            <span class=\"btn-inner--text\">Iniciar Con Google</span>\n                        </a>\n                    </p>\n                    <p class=\"float-right\" *ngIf=\"configFromGoogle\">\n                        <a href=\"javascript:void(0)\" placement=\"left\"\n                            [ngbTooltip]=\"'Cerrar sesión: '+configFromGoogle.user?.email || 'Email no encontrado'\"\n                            (click)=\"Logout()\" class=\"btn btn-sm btn-neutral btn-icon\">\n                            <span class=\"btn-inner--icon\"><img src=\"../assets/img/icons/common/google.svg\"></span>\n                            <span class=\"btn-inner--text\">Sync: {{configFromGoogle.user?.username}}</span>\n                        </a>\n                    </p>\n                    <h1 class=\" text-white\">Account Control</h1>\n                    <p class=\"text-white\">\n                        <strong>\n                            Aquí podras administrar todos tus ingresos y gastos de todas tus\n                            cuentas, para mayor experiencia sincronizate con tu cuenta de google.\n                        </strong>\n                    </p>\n                    <span class=\"custom-control custom-control-alternative custom-checkbox pb-3 pt-0\">\n                        <input class=\"custom-control-input\" id=\"showAccountIsPrincipal\" [(ngModel)]=\"showAllAccounts\"\n                            (change)=\"filterAccounts()\" type=\"checkbox\"><label class=\"custom-control-label\"\n                            for=\"showAccountIsPrincipal\"><span class=\"text-muted\">Mostrar\n                                todo?</span></label>\n                    </span>\n                </div>\n\n            </div>\n            <div class=\"mb-2\" *ngIf=\"isSync\">\n                <app-loading [message]=\"messageOrLoading\"></app-loading>\n\n            </div>\n            <div class=\"row\" *ngIf=\"settionsData\">\n                <div class=\"col-xl-3 col-lg-6 mb-3\" *ngFor=\"let account of accounts\">\n                    <div class=\"card card-stats mb-1 mb-xl-0\">\n                        <div class=\"card-body\">\n                            <div class=\"row\">\n                                <div class=\"col\">\n\n                                    <small class=\"card-title text-muted\">Cuenta: {{account.id}}</small>\n                                    <h5 class=\"card-title text-uppercase text-muted mb-0\">{{ account.name }}</h5>\n                                    <span class=\"h2 font-weight-bold mb-0\">{{ account.balance | currency }}</span>\n                                </div>\n                                <div class=\"col-auto\">\n                                    <button (click)=\"openEditAccount(account)\" type=\"button\"\n                                        class=\"btn text-white btn-sm bg-gradient-dark\">\n                                        <span>Editar</span>\n                                    </button>\n                                </div>\n                            </div>\n                            <p class=\"mt-1 mb-0 text-muted text-sm\">\n                                <!-- Condición para aumento, sin cambio y disminución -->\n                                <ng-container *ngIf=\"getPercentageChange(account) > 0; else noChange\">\n                                    <span class=\"text-success mr-2\">\n                                        <i class=\"fa fa-arrow-up\"></i> {{ getPercentageChange(account) | number:\n                                        '1.2-2' }}%\n                                    </span>\n                                </ng-container>\n                                <ng-template #noChange>\n                                    <ng-container *ngIf=\"getPercentageChange(account) < 0; else sameBalance\">\n                                        <span class=\"text-danger mr-2\">\n                                            <i class=\"fa fa-arrow-down\"></i> {{ getPercentageChange(account) |\n                                            number: '1.2-2' }}%\n                                        </span>\n                                    </ng-container>\n                                    <ng-template #sameBalance>\n                                        <span class=\"text-info mr-2\">\n                                            <i class=\"fa fa-minus\"></i> 0%\n                                        </span>\n                                    </ng-template>\n                                </ng-template>\n                                <span class=\"text-nowrap\">Último mes: {{ account.balanceLastMonth | currency }}</span>\n                            </p>\n                            <p class=\"mt-1 mb-0 text-muted text-sm\">\n                                {{account.description}}\n                            </p>\n                        </div>\n                        <div class=\"p-0\" style=\"margin-top: -20px;\">\n                            <app-account-control-dash-daily-by-account [account]=\"account\"\n                                [budgetSettings]=\"settionsData.budgetSettings\"\n                                [transactions]=\"transactions\"></app-account-control-dash-daily-by-account>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col col-lg-12\">\n                    <div class=\"d-flex text-white justify-content-between\">\n                        <p class=\"mr-4\">\n                            <ng-container *ngIf=\"heritage > 0; else noChange\">\n                                <span class=\"heading text-success mr-2\">\n                                    <i class=\"fa fa-arrow-circle-up\"></i>\n                                    <strong>\n                                        Patrimonio {{ heritage |currency}}\n                                    </strong>\n                                </span>\n                            </ng-container>\n                            <ng-template #noChange>\n                                <ng-container *ngIf=\"heritage < 0; else sameBalance\">\n                                    <span class=\"heading text-danger mr-2\">\n                                        <i class=\"fas fa-arrow-circle-down\"></i>\n                                        <strong>\n                                            Patrimonio {{ heritage |currency}}\n                                        </strong>\n                                    </span>\n                                </ng-container>\n                                <ng-template #sameBalance>\n                                    <span class=\"text-info mr-2\">\n                                        <i class=\"fa fa-minus\"></i>\n                                        <strong>\n                                            Patrimonio {{ heritage |currency}}\n                                        </strong>\n                                    </span>\n                                </ng-template>\n                            </ng-template>\n                        </p>\n                        <div class=\"float-right\">\n                            <button placement=\"top\" ngbTooltip=\"Crear cuenta\" (click)=\"openCreateAccount()\"\n                                class=\"btn btn-icon btn-3 btn-sm btn-success\" type=\"button\">\n                                <span class=\"btn-inner--icon\">\n                                    <i class=\"ni ni-fat-add\"></i>\n                                </span>\n                            </button>\n                            <button placement=\"top\" ngbTooltip=\"Abrir dashboards\" (click)=\"openDashboards()\"\n                                class=\"btn btn-icon btn-3 btn-sm btn-primary\" type=\"button\">\n                                <span class=\"btn-inner--icon\">\n                                    <i class=\"fas fa-chart-bar\"></i>\n                                </span>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class=\"container-fluid mt--7\">\n    <div class=\"row mt-4\">\n        <div class=\"col-lg-5\">\n            <div class=\"card bg-secondary shadow\">\n                <div class=\"card-header bg-white border-0\">\n                    <div class=\"row align-items-center\">\n                        <div class=\"col-6\">\n                            <h6 class=\"text-uppercase text-muted ls-1 mb-1\">\n                                <span>\n                                    Historial de transacciones\n                                </span>\n                            </h6>\n                        </div>\n                        <div class=\"col-6 text-right\">\n                            <button class=\"btn btn-sm btn-info\" (click)=\"openMigrateTransaction()\">Migrar</button>\n                            <button class=\"btn btn-sm btn-primary\" (click)=\"openCreateTransaction()\">Nueva</button>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"card-body p-3 \">\n                    <div class=\"scroll-container\" style=\"min-height: 1700px;  overflow-y: auto;\">\n                        <app-account-control-list-transactions (onFinish)=\"restartComponent()\"\n                            [settionsData]=\"settionsData\"\n                            [transactions]=\"transactions\"></app-account-control-list-transactions>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n        <div class=\"col-lg-7 mb-lg-0 mb-4\">\n            <div class=\"card shadow\">\n                <div class=\"card-header bg-white border-0\">\n                    <div class=\"row align-items-center\">\n                        <div class=\"col-8\">\n                            <h6 class=\"text-uppercase text-muted ls-1 mb-1\">\n                                <span>\n                                    Mi Presupuesto\n                                </span>\n                            </h6>\n                        </div>\n                        <div class=\"col-4 text-right\">\n                            <button class=\"btn btn-sm btn-primary\" [disabled]=\"!settionsData\"\n                                (click)=\"openManagementCategories()\">Categorias</button>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"card-body p-3 \">\n\n                    <div class=\"scroll-container\" style=\"min-height: 1700px; overflow-y: auto;\">\n                        <app-account-control-list-budgets [settingsData]=\"settionsData\">\n\n                        </app-account-control-list-budgets>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    </div>\n    <button placement=\"top\" ngbTooltip=\"Elimina toda la información del sistema, estas seguro?\" *ngIf=\"settionsData\"\n        (click)=\"deleteData()\" class=\"btn btn-icon btn-3 btn-sm btn-secondary text-warning float-right\" type=\"button\">\n        <span class=\"btn-inner--icon\">\n            <i class=\"fas fa-trash\"></i> Eliminar datos\n        </span>\n    </button>\n    <small *ngIf=\"settionsData && settionsData.lastSync\"><strong>Ultima actualización:\n        </strong>{{settionsData.lastSync.toISOString()}}</small>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dash-all-categories/account-control-dash-all-categories.component.html":
/*!*******************************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dash-all-categories/account-control-dash-all-categories.component.html ***!
  \*******************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div echarts [options]=\"chartOptions\" style=\"height: 500px;\"></div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dash-budget-by-category/account-control-dash-budget-by-category.component.html":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dash-budget-by-category/account-control-dash-budget-by-category.component.html ***!
  \***************************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div echarts [options]=\"chartOptions\" class=\"chart-container\"></div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dash-calendar/account-control-dash-calendar.component.html":
/*!*******************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dash-calendar/account-control-dash-calendar.component.html ***!
  \*******************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"outer-container\">\n    <!-- Contenedor del encabezado -->\n    <div class=\"header-container\">\n        <!-- Selector de tipo de transacción -->\n        <div class=\"year-selector\">\n            <ul class=\"nav nav-tabs\">\n                <li class=\"nav-item\">\n                    <a class=\"nav-link active\" (click)=\"setTransactionType('income')\"\n                        [class.active]=\"transactionType === 'income'\">Ingresos</a>\n                </li>\n                <li class=\"nav-item\">\n                    <a class=\"nav-link\" (click)=\"setTransactionType('expense')\"\n                        [class.active]=\"transactionType === 'expense'\">Gastos</a>\n                </li>\n            </ul>\n        </div>\n        <!-- Botones de navegación -->\n        <div class=\"button-container\">\n            <button (click)=\"goBack()\" class=\"nav-button left\">\n                <i class=\"fa fa-arrow-left\"></i>\n            </button>\n            <button (click)=\"goForward()\" class=\"nav-button right\">\n                <i class=\"fa fa-arrow-right\"></i>\n            </button>\n        </div>\n    </div>\n\n    <!-- Contenedor de la gráfica -->\n    <div echarts [options]=\"chartOptions\" class=\"chart-container\"></div>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dash-category-by-months/account-control-dash-category-by-months.component.html":
/*!***************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dash-category-by-months/account-control-dash-category-by-months.component.html ***!
  \***************************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div echarts [options]=\"chartOptions\" class=\"grafico-ejemplo\" (chartInit)=\"onChartInit($event)\">\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dash-daily-balance/account-control-dash-daily-balance.component.html":
/*!*****************************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dash-daily-balance/account-control-dash-daily-balance.component.html ***!
  \*****************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div echarts [options]=\"chartOptions\" class=\"chart-container\"></div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dash-daily-by-account/account-control-dash-daily-by-account.component.html":
/*!***********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dash-daily-by-account/account-control-dash-daily-by-account.component.html ***!
  \***********************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div echarts [options]=\"chartOption\" class=\"chart-container\"></div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dash-daily-categories/account-control-dash-daily-categories.component.html":
/*!***********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dash-daily-categories/account-control-dash-daily-categories.component.html ***!
  \***********************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"chart-container\">\n    <button (click)=\"previousMonth()\" class=\"nav-button left\">\n        <i class=\"fa fa-arrow-left\"></i> <!-- Icono de flecha hacia la izquierda -->\n    </button>\n\n    <div echarts [options]=\"chartOptions\" class=\"chart\"></div>\n\n    <button (click)=\"nextMonth()\" class=\"nav-button right\">\n        <i class=\"fa fa-arrow-right\"></i> <!-- Icono de flecha hacia la derecha -->\n    </button>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dash-income-vs-expense-daily/account-control-dash-income-vs-expense-daily.component.html":
/*!*************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dash-income-vs-expense-daily/account-control-dash-income-vs-expense-daily.component.html ***!
  \*************************************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div echarts [options]=\"chartOptions\" class=\"chart-container\"></div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dash-radar-by-category/account-control-dash-radar-by-category.component.html":
/*!*************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dash-radar-by-category/account-control-dash-radar-by-category.component.html ***!
  \*************************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div echarts [options]=\"chartOptions\" class=\"chart-container\"></div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dashboards.component.html":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dashboards.component.html ***!
  \**********************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"card card-stats mb-4 mb-lg-0\">\n    <div class=\"card-header bg-white border-0\">\n        <div class=\"row align-items-center\">\n            <div class=\"col-8\">\n                <h6 class=\"text-uppercase text-muted ls-1 mb-1\">\n                    Dashboards\n                </h6>\n            </div>\n            <div class=\"col-4 text-right\">\n                <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"activeModal.dismiss('Cross click')\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n        </div>\n    </div>\n    <div class=\"card-body\">\n        <!-- Tabs para ingresos y gastos -->\n        <ul class=\"nav nav-tabs\">\n            <li class=\"nav-item\">\n                <a class=\"nav-link active\" (click)=\"setActiveTab('byYear')\" [class.active]=\"currentTab === 'byYear'\">Por\n                    Año</a>\n            </li>\n            <li class=\"nav-item\">\n                <a class=\"nav-link\" (click)=\"setActiveTab('historic')\"\n                    [class.active]=\"currentTab === 'historic'\">Historico <span\n                        class=\"badge badge-info\">{{availableYears.length}} Años</span></a>\n            </li>\n        </ul>\n        <div class=\"\" *ngIf=\"currentTab === 'byYear'\">\n            <div class=\"row\">\n                <div class=\"col-lg-2\">\n                    <label for=\"yearSelector\">Año</label>\n                    <select id=\"yearSelector\" class=\"form-control\" [(ngModel)]=\"year\" (change)=\"onYearChange($event)\">\n                        <option *ngFor=\"let availableYear of availableYears\" [value]=\"availableYear\">\n                            {{ availableYear }}\n                        </option>\n                    </select>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-lg-12\">\n                    <app-account-control-dash-category-by-months [monthlyBudget]=\"true\" [transactions]=\"transactions\"\n                        [year]=\"year\"\n                        [budgetSettings]=\"settingsData.budgetSettings\"></app-account-control-dash-category-by-months>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-lg-6\">\n                    <app-account-control-dash-category-by-months [transactionType]=\"'income'\"\n                        [transactions]=\"transactions\" [year]=\"year\"\n                        [budgetSettings]=\"settingsData.budgetSettings\"></app-account-control-dash-category-by-months>\n                </div>\n                <div class=\"col-lg-6\">\n                    <app-account-control-dash-category-by-months [year]=\"year\" [transactions]=\"transactions\"\n                        [budgetSettings]=\"settingsData.budgetSettings\"></app-account-control-dash-category-by-months>\n                </div>\n            </div>\n        </div>\n        <div class=\"\" *ngIf=\"currentTab === 'historic'\">\n            <div class=\"row\">\n                <div class=\"col-lg-12\">\n                    <app-account-control-dash-income-vs-expense-daily [transactions]=\"transactions\"\n                        [budgetSettings]=\"settingsData.budgetSettings\"></app-account-control-dash-income-vs-expense-daily>\n                </div>\n            </div>\n\n            <div class=\"row\">\n                <div class=\"col-lg-12\">\n                    <app-account-control-dash-calendar [budgetSettings]=\"settingsData.budgetSettings\"\n                        [transactions]=\"transactions\"></app-account-control-dash-calendar>\n                </div>\n            </div>\n\n            <div class=\"row\">\n                <div class=\"col-lg-6\">\n                    <app-account-control-dash-all-categories [transactions]=\"transactions\"\n                        [budgetSettings]=\"settingsData.budgetSettings\"></app-account-control-dash-all-categories>\n                </div>\n                <div class=\"col-lg-6\">\n                    <app-account-control-dash-all-categories [transactions]=\"transactions\" [transactionType]=\"'expense'\"\n                        [budgetSettings]=\"settingsData.budgetSettings\"></app-account-control-dash-all-categories>\n                </div>\n            </div>\n\n            <div class=\"row\">\n                <div class=\"col-lg-12\">\n                    <app-account-control-dash-daily-balance\n                        [transactions]=\"transactions\"></app-account-control-dash-daily-balance>\n                </div>\n            </div>\n\n\n        </div>\n\n\n\n    </div>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/briefcases/briefcases.component.html":
/*!**************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/briefcases/briefcases.component.html ***!
  \**************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"header bg-gradient-primary pb-8 pt-5 pt-md-8\" *ngIf=\"Summary\">\n    <div class=\"container-fluid\">\n        <div class=\"header-body\">\n            <div class=\"row\">\n                <div class=\"col-lg-7 col-md-10\">\n                    <h1 class=\"display-2 text-white\">{{Summary.ShortName}}</h1>\n                    <p class=\"text-white\"><strong>PORTAFOLIO PERSONAL</strong></p>\n                    <p class=\"text-white\">{{Summary.About.Title}}</p>\n                    <p>\n                        <span class=\"ml-1\" *ngFor=\"let socialNetwork of Summary.SocialNetworks\">\n                            <a target=\"_blank\" href=\"{{socialNetwork.ProfileUrl}}\" title=\"{{socialNetwork.Name}}\"><img\n                                    class=\"rounded-circle\" height=\"25px\" src=\"{{socialNetwork.Icon}}\"> </a>\n                        </span>\n                    </p>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class=\"container-fluid mt--7\" *ngIf=\"Summary\">\n    <div class=\"row\">\n        <div class=\"col-xl-12 mb-4\" *ngFor=\"let briefcase of Summary.Briefcases\">\n            <div class=\"card shadow\">\n                <div class=\"card-header bg-transparent\">\n                    <div class=\"row align-items-center\">\n                        <div class=\"col\">\n                            <h6 class=\"text-uppercase text-muted ls-1 mb-1\">{{briefcase.Name}}</h6>\n                            <h2 class=\"mb-0\"><a target=\"_blank\" href=\"{{briefcase.Url}}\">{{briefcase.Tittle}}</a></h2>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"card-body\">\n                    <p class=\"card-text Justify\">{{briefcase.Description}}</p>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-lg-4 col-md-6 col-xs-12\" *ngFor=\"let image of briefcase.Images\">\n                        <div class=\"card-body\">\n                            <div class=\"card\">\n                                <img class=\"card-img-top\" style=\"cursor: pointer;\" (click)=\"openGallery(image.Index-1)\"\n                                    src=\"config/{{image.Path}}\" alt=\"Card image cap\">\n                                <div class=\"card-body\">\n                                    <!-- <h5 class=\"card-title\">{{image.}}</h5> -->\n                                    <p class=\"card-text Justify\">{{image.Description}}</p>\n                                    <!-- <a href=\"#\" class=\"btn btn-primary\">Go somewhere</a> -->\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<ngx-image-gallery [images]=\"images\" [conf]=\"conf\" (onDelete)=\"deleteImage($event)\"></ngx-image-gallery>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/business-control-settings/business-control-settings.component.html":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/business-control-settings/business-control-settings.component.html ***!
  \********************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"header  pb-7 pt-5 pt-md-8\"\n    [ngClass]=\"selectedBien && selectedBien.tipo=='Arrendamiento'?'bg-gradient-info':'bg-gradient-indigo'\">\n    <div class=\"container-fluid\">\n        <div class=\"header-body\">\n            <div class=\"row\">\n                <div class=\"col-lg-12\">\n                    <p class=\"float-right\" *ngIf=\"!userLogger\">\n                        <a href=\"javascript:void(0)\" placement=\"bottom\" ngbTooltip=\"Autenticación\" (click)=\"Login()\"\n                            class=\"btn btn-neutral btn-icon\">\n                            <span class=\"btn-inner--icon\"><img src=\"../assets/img/icons/common/google.svg\"></span>\n                            <span class=\"btn-inner--text\">Iniciar Con Google</span>\n                        </a>\n                    </p>\n                    <p class=\"float-right\" *ngIf=\"userLogger\">\n                        <a href=\"javascript:void(0)\" placement=\"left\"\n                            [ngbTooltip]=\"'Cerrar sesión: '+userLogger?.email || 'Email no encontrado'\"\n                            (click)=\"Logout()\" class=\"btn btn-neutral btn-icon\">\n                            <span class=\"btn-inner--icon\"><img src=\"../assets/img/icons/common/google.svg\"></span>\n                            <span class=\"btn-inner--text\">Sync: {{userLogger?.username}}</span>\n                        </a>\n                    </p>\n                    <h1 class=\"display-2 text-white\">Configuración: Business Control</h1>\n                    <p class=\"text-white\"><strong>Administre aquí sus bienes, si desea generar comprobantes de pago o\n                            visualizar reportes de sus bienes de clic <a href=\"#/business-control\"\n                                class=\"text-white\"><strong>aquí</strong></a></strong></p>\n                    <div class=\"p-0 col-lg-4\">\n                        <div class=\"form-group\" *ngIf=\"bienes.length>1\">\n                            <label for=\"bien\" class=\"text-white\">Selecciona tu bien</label>\n                            <select id=\"bien\" [(ngModel)]=\"selectedBienId\" (change)=\"onBienSelect($event.target.value)\"\n                                class=\"form-control\">\n                                <option *ngFor=\"let bien of bienes\" [value]=\"bien.id\">\n                                    <span *ngIf=\"bien.tipo=='Arrendamiento'; else elseArrendamientoSelect\">\n                                        Vivienda en arriendo:\n                                    </span>\n                                    <ng-template #elseArrendamientoSelect>\n                                        <span>Crédito:</span>\n                                    </ng-template>\n                                    {{bien.direccion}}\n                                </option>\n                            </select>\n                        </div>\n                    </div>\n                    <div class=\"d-flex text-white justify-content-between\">\n                        <p class=\"mr-4 \" *ngIf=\"selectedBien\">\n                            <i class=\" fa fa-arrow-up\"></i>\n                            <span class=\"text-nowrap\"> Total ingresos </span><span class=\"mr-2\">\n                                {{selectedBien.totalIngresos|\n                                currency}}\n                            </span>\n                        </p>\n                        <p class=\"float-right\">\n\n                            <i class=\" fa fa-lock\" *ngIf=\"config\"></i>\n                            <span *ngIf=\"config\" placement=\"top\"\n                                ngbTooltip=\"Utilice esta firma digital para verificar los comprobantes de pago\"\n                                class=\"text-nowrap\"> Firma digital: </span>\n                            <span *ngIf=\"config\" class=\"mr-2\">\n                                {{config.contratante.firmaDigital}}\n                            </span>\n                            <button placement=\"top\" ngbTooltip=\"Exportar datos\" *ngIf=\"config\"\n                                (click)=\"downloadConfig()\" class=\"btn btn-icon btn-3 btn-sm btn-dark\" type=\"button\">\n                                <span class=\"btn-inner--icon\">\n                                    <i class=\"ni ni-cloud-download-95\"></i>\n                                </span>\n                            </button>\n                            <button placement=\"top\" ngbTooltip=\"Importar datos\" (click)=\"fileInput.click()\"\n                                class=\"btn btn-icon btn-3 btn-sm btn-dark\" type=\"button\">\n                                <span class=\"btn-inner--icon\">\n                                    <i class=\"ni ni-cloud-upload-96\"></i>\n                                </span>\n                            </button>\n                            <input type=\"file\" #fileInput (input)=\"onFileChange($event)\" style=\"display: none;\"\n                                accept=\".json\">\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class=\"container-fluid mt--7\">\n    <div class=\"row\">\n        <div class=\"col-xl-12 mb-4\">\n            <div class=\"card shadow\">\n                <div class=\"card-header bg-transparent\">\n                    <div class=\"row align-items-center\">\n                        <div class=\"col\" *ngIf=\"selectedBien\">\n                            <h6 class=\"text-uppercase text-muted ls-1 mb-1\">\n                                <span *ngIf=\"selectedBien.tipo=='Arrendamiento'; else elseArrendamiento\">\n                                    Vivienda en arriendo\n                                </span>\n                                <ng-template #elseArrendamiento>\n                                    <span>Crédito</span>\n                                </ng-template>\n                                |\n                                {{selectedBien.ciudad}}\n                            </h6>\n                            <h2 class=\"mb-0 text-primary\">{{selectedBien.direccion}}, {{selectedBien.barrio}}\n\n                            </h2>\n                        </div>\n                        <div class=\"col\" *ngIf=\"!selectedBien\">\n                            <h6 class=\"text-uppercase text-muted ls-1 mb-1\">Verifique bien la información</h6>\n                            <h2 class=\"mb-0 text-primary\">Configuración\n                                Inicial Del Sistema\n                            </h2>\n                        </div>\n                        <div *ngIf=\"isConfigured\" class=\"custom-control custom-control-alternative custom-checkbox\">\n                            <input class=\"custom-control-input\" id=\"checkRegistrarNuevaBien\" type=\"checkbox\"\n                                [(ngModel)]=\"registrarNuevaBien\"><label class=\"custom-control-label\"\n                                for=\"checkRegistrarNuevaBien\"><span class=\"text-muted\">Registrar\n                                    nuevo bien?</span></label>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"card-body\">\n                    <div *ngIf=\"!isConfigured\">\n                        <h6 class=\"heading-small text-muted mb-4\">Datos del Contratante</h6>\n                        <form [formGroup]=\"configuracionForm\" (ngSubmit)=\"onSubmitInitial()\">\n                            <div class=\"row\">\n                                <div class=\"col-lg-6\">\n                                    <div class=\"form-group\">\n                                        <label class=\"form-control-label\" for=\"contratanteCedula\">\n                                            Cédula\n                                        </label>\n                                        <input class=\"form-control form-control-alternative\" id=\"contratanteCedula\"\n                                            formControlName=\"contratanteCedula\" placeholder=\"0\" type=\"number\">\n                                        <p class=\"text-warning\">\n                                            <span\n                                                *ngIf=\"configuracionForm.controls.submitted.value && configuracionForm.controls.contratanteCedula.errors?.required\">Campo\n                                                Requerido</span>\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\" col-lg-6\">\n                                    <div class=\"form-group\">\n                                        <label class=\"form-control-label\" for=\"contratanteNombre\">\n                                            Nombre\n                                        </label>\n                                        <input class=\"form-control form-control-alternative\" id=\"contratanteNombre\"\n                                            formControlName=\"contratanteNombre\" placeholder=\"jesse doe\" type=\"text\">\n                                        <p class=\"text-warning\">\n                                            <span\n                                                *ngIf=\"configuracionForm.controls.submitted.value && configuracionForm.controls.contratanteNombre.errors?.required\">Campo\n                                                Requerido</span>\n                                        </p>\n                                    </div>\n                                </div>\n\n                            </div>\n                            <div class=\"row\">\n                                <div class=\"col-lg-6\">\n                                    <div class=\"form-group\">\n                                        <label class=\"form-control-label\" for=\"contratanteTelefono\">\n                                            Teléfono\n                                        </label>\n                                        <input class=\"form-control form-control-alternative\" id=\"contratanteTelefono\"\n                                            formControlName=\"contratanteTelefono\" placeholder=\"0\" type=\"number\">\n                                        <p class=\"text-warning\">\n                                            <span\n                                                *ngIf=\"configuracionForm.controls.submitted.value && configuracionForm.controls.contratanteTelefono.errors?.required\">Campo\n                                                Requerido</span>\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"col-lg-6\">\n                                    <div class=\"form-group\">\n                                        <label class=\"form-control-label\" for=\"contratanteDireccion\">\n                                            Dirección\n                                        </label>\n                                        <input class=\"form-control form-control-alternative\" id=\"contratanteDireccion\"\n                                            formControlName=\"contratanteDireccion\" placeholder=\"Carrera 1 23 44\"\n                                            type=\"text\">\n                                        <p class=\"text-warning\">\n                                            <span\n                                                *ngIf=\"configuracionForm.controls.submitted.value && configuracionForm.controls.contratanteDireccion.errors?.required\">Campo\n                                                Requerido</span>\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"row\">\n                                <div class=\"col-lg-6\">\n                                    <div class=\"form-group\">\n                                        <label class=\"form-control-label\" for=\"contratanteEmail\">\n                                            Correo Electrónico\n                                        </label>\n                                        <input class=\"form-control form-control-alternative\" id=\"contratanteEmail\"\n                                            formControlName=\"contratanteEmail\" placeholder=\"jesse@example.com\"\n                                            type=\"email\">\n                                        <p class=\"text-warning\">\n                                            <span\n                                                *ngIf=\"configuracionForm.controls.submitted.value && configuracionForm.controls.contratanteEmail.errors?.required\">Campo\n                                                Requerido</span>\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"col-lg-6\">\n                                    <div class=\"form-group\">\n                                        <div\n                                            class=\"custom-control custom-control-alternative custom-checkbox pb-3 pt-0\">\n                                            <input class=\"custom-control-input\"\n                                                formControlName=\"contratanteMostrarDatosPersonales\"\n                                                id=\"contratanteMostrarDatosPersonales\" type=\"checkbox\"><label\n                                                class=\"custom-control-label\"\n                                                for=\"contratanteMostrarDatosPersonales\"><span class=\"text-muted\">Mostrar\n                                                    datos personales?</span></label>\n                                        </div>\n                                        <h6 class=\"text-uppercase text-muted ls-1 mb-1\">Visualizara datos personales en\n                                            los comprobantes de pago</h6>\n                                    </div>\n                                </div>\n\n                            </div>\n                            <button type=\"submit\" class=\"btn btn-primary\">Guardar Configuración</button>\n                        </form>\n                    </div>\n\n                    <div *ngIf=\"isConfigured && registrarNuevaBien\">\n                        <h6 class=\"heading-small text-muted mb-4\">Datos {{tipoBien=='Arrendamiento'?'de la vivienda':\n                            'del crédito'}}</h6>\n                        <div class=\"row\">\n                            <div class=\"col-lg-6\">\n                                <div class=\"form-group\">\n                                    <label class=\"form-control-label\" for=\"tipoBien\">Tipo de bien</label>\n                                    <select id=\"tipoBien\" [(ngModel)]=\"tipoBien\" class=\"form-control\">\n                                        <option *ngFor=\"let tipo of ['Arrendamiento','Credito']\" [value]=\"tipo\">\n                                            {{tipo}}</option>\n                                    </select>\n                                </div>\n                            </div>\n                        </div>\n                        <form [formGroup]=\"bienform\" (ngSubmit)=\"onSubmitBien()\">\n                            <div class=\"row\">\n                                <div class=\"col-lg-6\">\n                                    <div class=\"form-group\">\n                                        <label class=\"form-control-label\" for=\"direccion\">\n                                            Dirección\n                                        </label>\n                                        <input class=\"form-control form-control-alternative\" id=\"direccion\"\n                                            formControlName=\"direccion\" placeholder=\"Carrera 0 1 34\" type=\"text\">\n                                        <p class=\"text-warning\">\n                                            <span\n                                                *ngIf=\"bienform.controls.submitted.value && bienform.controls.direccion.errors?.required\">Campo\n                                                Requerido</span>\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\" col-lg-6\">\n                                    <div class=\"form-group\">\n                                        <label class=\"form-control-label\" for=\"barrio\">\n                                            Barrio\n                                        </label>\n                                        <input class=\"form-control form-control-alternative\" id=\"barrio\"\n                                            formControlName=\"barrio\" placeholder=\"jesse doe\" type=\"text\">\n                                        <p class=\"text-warning\">\n                                            <span\n                                                *ngIf=\"bienform.controls.submitted.value && bienform.controls.barrio.errors?.required\">Campo\n                                                Requerido</span>\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\" col-lg-6\">\n                                    <div class=\"form-group\">\n                                        <label class=\"form-control-label\" for=\"ciudad\">\n                                            Ciudad\n                                        </label>\n                                        <input class=\"form-control form-control-alternative\" id=\"ciudad\"\n                                            formControlName=\"ciudad\" placeholder=\"jesse doe\" type=\"text\">\n                                        <p class=\"text-warning\">\n                                            <span\n                                                *ngIf=\"bienform.controls.submitted.value && bienform.controls.ciudad.errors?.required\">Campo\n                                                Requerido</span>\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                            <button type=\"submit\" class=\"btn btn-primary\">Guardar Configuración</button>\n\n                        </form>\n                    </div>\n                    <div *ngIf=\"isConfigured && selectedBien  && !registrarNuevaBien\"\n                        class=\"custom-control custom-control-alternative custom-checkbox pb-3 pt-0\">\n                        <input class=\"custom-control-input\" id=\"checkRegistrarContrato\" type=\"checkbox\"\n                            [(ngModel)]=\"registrarNuevoContrato\"><label class=\"custom-control-label\"\n                            for=\"checkRegistrarContrato\"><span class=\"text-muted\">Registrar\n                                nuevo contrato?</span></label>\n                    </div>\n\n                    <div *ngIf=\"isConfigured && selectedBien && !registrarNuevaBien && registrarNuevoContrato\">\n                        <h6 class=\"heading-small text-muted mb-4\">Datos Del Contrato</h6>\n                        <form [formGroup]=\"contratoForm\" (ngSubmit)=\"onSubmitContrato()\">\n                            <div class=\"row\">\n                                <div class=\"col-lg-4\">\n                                    <div class=\"form-group\">\n                                        <label class=\"form-control-label\" for=\"contratoCedula\">\n                                            Cédula\n                                        </label>\n                                        <input class=\"form-control form-control-alternative\" id=\"contratoCedula\"\n                                            formControlName=\"contratoCedula\" placeholder=\"0\" type=\"number\">\n                                        <p class=\"text-warning\">\n                                            <span\n                                                *ngIf=\"contratoForm.controls.submitted.value && contratoForm.controls.contratoCedula.errors?.required\">Campo\n                                                Requerido</span>\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\" col-lg-4\">\n                                    <div class=\"form-group\">\n                                        <label class=\"form-control-label\" for=\"contratoNombre\">\n                                            Nombre\n                                        </label>\n                                        <input class=\"form-control form-control-alternative\" id=\"contratoNombre\"\n                                            formControlName=\"contratoNombre\" placeholder=\"jesse doe\" type=\"text\">\n                                        <p class=\"text-warning\">\n                                            <span\n                                                *ngIf=\"contratoForm.controls.submitted.value && contratoForm.controls.contratoNombre.errors?.required\">Campo\n                                                Requerido</span>\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\" col-lg-4\">\n                                    <div class=\"form-group\">\n                                        <label class=\"form-control-label\" for=\"contratoTelefono\">\n                                            Teléfono\n                                        </label>\n                                        <input class=\"form-control form-control-alternative\" id=\"contratoTelefono\"\n                                            formControlName=\"contratoTelefono\" placeholder=\"0\" type=\"number\">\n                                        <p class=\"text-warning\">\n                                            <span\n                                                *ngIf=\"contratoForm.controls.submitted.value && contratoForm.controls.contratoTelefono.errors?.required\">Campo\n                                                Requerido</span>\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"row\">\n                                <div class=\" col-lg-4\" *ngIf=\"tipoBien=='Arrendamiento'\">\n                                    <div class=\"form-group\">\n                                        <label class=\"form-control-label\" for=\"contratoMensualidad\">\n                                            Valor {{tipoBien=='Arrendamiento'?'del arriendo':\n                                            'del crédito'}}\n                                        </label>\n                                        <input class=\"form-control form-control-alternative\" id=\"contratoMensualidad\"\n                                            formControlName=\"contratoMensualidad\" placeholder=\"0\" type=\"number\">\n                                        <p class=\"text-warning\">\n                                            <span\n                                                *ngIf=\"contratoForm.controls.submitted.value && contratoForm.controls.contratoMensualidad.errors?.required\">Campo\n                                                Requerido</span>\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\" col-lg-4\" *ngIf=\"tipoBien=='Arrendamiento'\">\n                                    <div class=\"form-group\">\n                                        <label class=\"form-control-label\" for=\"contratoValorDeposito\">\n                                            Valor del deposito\n                                        </label>\n                                        <input class=\"form-control form-control-alternative\" id=\"contratoValorDeposito\"\n                                            formControlName=\"contratoValorDeposito\" placeholder=\"0\" type=\"number\">\n                                        <p class=\"text-warning\">\n                                            <span\n                                                *ngIf=\"contratoForm.controls.submitted.value && contratoForm.controls.contratoValorDeposito.errors?.required\">Campo\n                                                Requerido</span>\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\" col-lg-4\" *ngIf=\"tipoBien!='Arrendamiento'\">\n                                    <div class=\"form-group\">\n                                        <label placement=\"bottom\"\n                                            ngbTooltip=\"Especificar en porcentaje, no en decimales, ejemplo: 1.1 equivale a 1.1%\"\n                                            class=\"form-control-label\" for=\"contratoTasaEM\">\n                                            Tasa Efectivo Mensual\n                                        </label>\n                                        <input class=\"form-control form-control-alternative\" id=\"contratoTasaEM\"\n                                            formControlName=\"contratoTasaEM\" placeholder=\"6\" type=\"number\">\n                                        <p class=\"text-warning\">\n                                            <span\n                                                *ngIf=\"contratoForm.controls.submitted.value && contratoForm.controls.contratoTasaEM.errors?.required\">Campo\n                                                Requerido</span>\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\" col-lg-4\" *ngIf=\"tipoBien!='Arrendamiento'\">\n                                    <div class=\"form-group\">\n                                        <label class=\"form-control-label\" for=\"contratoValorCredito\">\n                                            Valor del credito\n                                        </label>\n                                        <input class=\"form-control form-control-alternative\" id=\"contratoValorCredito\"\n                                            formControlName=\"contratoValorCredito\" placeholder=\"0\" type=\"number\">\n                                        <p class=\"text-warning\">\n                                            <span\n                                                *ngIf=\"contratoForm.controls.submitted.value && contratoForm.controls.contratoValorCredito.errors?.required\">Campo\n                                                Requerido</span>\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\" col-lg-4\" *ngIf=\"tipoBien!='Arrendamiento'\">\n                                    <div class=\"form-group\">\n                                        <label class=\"form-control-label\" for=\"contratoPlazoMeses\">\n                                            Plazo en meses\n                                        </label>\n                                        <input class=\"form-control form-control-alternative\" id=\"contratoPlazoMeses\"\n                                            formControlName=\"contratoPlazoMeses\" placeholder=\"0\" type=\"number\">\n                                        <p class=\"text-warning\">\n                                            <span\n                                                *ngIf=\"contratoForm.controls.submitted.value && contratoForm.controls.contratoPlazoMeses.errors?.required\">Campo\n                                                Requerido</span>\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\" col-lg-4\" *ngIf=\"tipoBien!='Arrendamiento'\">\n                                    <div class=\"form-group\">\n                                        <label placement=\"bottom\"\n                                            ngbTooltip=\"Suma total de conceptos o seguros fijos que se desean adicionar en el credito, el caso mas comun seria un seguro de vida que se cobra con un valor fijo por cada cuota: [=(ValorCredito/1000000)*1290] donde 1290 varia dependiendo el seguro\"\n                                            class=\"form-control-label\" for=\"contratoTarifaFija\">\n                                            Tarifa fija\n                                        </label>\n                                        <input class=\"form-control form-control-alternative\" id=\"contratoTarifaFija\"\n                                            formControlName=\"contratoTarifaFija\" placeholder=\"0\" type=\"number\">\n                                        <p class=\"text-warning\">\n                                            <span\n                                                *ngIf=\"contratoForm.controls.submitted.value && contratoForm.controls.contratoTarifaFija.errors?.required\">Campo\n                                                Requerido</span>\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\" col-lg-4\">\n                                    <div class=\"form-group\">\n                                        <label class=\"form-control-label\" for=\"contratoFechaInicio\">\n                                            Fecha de inicio\n                                        </label>\n                                        <input class=\"form-control form-control-alternative\" id=\"contratoFechaInicio\"\n                                            formControlName=\"contratoFechaInicio\" placeholder=\"0\" type=\"date\">\n                                        <p class=\"text-warning\">\n                                            <span\n                                                *ngIf=\"contratoForm.controls.submitted.value && contratoForm.controls.contratoFechaInicio.errors?.required\">Campo\n                                                Requerido</span>\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"row\">\n                                <div class=\" col-lg-12\">\n                                    <div class=\"form-group\">\n                                        <label class=\"form-control-label\" for=\"contratoObservacion\">\n                                            Observaciones\n                                        </label>\n                                        <textarea rows=\"4\" class=\"form-control form-control-alternative\"\n                                            id=\"contratoObservacion\" formControlName=\"contratoObservacion\"\n                                            placeholder=\"datos de contacto de familiar u otra cosa de interes\"\n                                            type=\"text\"></textarea>\n                                        <p class=\"text-warning\">\n                                            <span\n                                                *ngIf=\"contratoForm.controls.submitted.value && contratoForm.controls.contratoObservacion.errors?.required\">Campo\n                                                Requerido</span>\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                            <button type=\"submit\" class=\"btn btn-primary\">Guardar Configuración</button>\n\n                        </form>\n                    </div>\n\n                    <div *ngIf=\"isConfigured && selectedBien && selectedBien.contratos.length>0 && !registrarNuevaBien\"\n                        class=\"row\">\n                        <div class=\"col-lg-12\">\n                            <div class=\"card shadow\">\n                                <div class=\"card-header border-0\">\n                                    <h3 class=\"mb-0\">Contratos</h3>\n                                </div>\n                                <div class=\"table-responsive\">\n                                    <table class=\"table align-items-center table-flush\">\n                                        <thead class=\"thead-light\">\n                                            <tr>\n                                                <th scope=\"col\">Cédula</th>\n                                                <th scope=\"col\">Nombre</th>\n                                                <th scope=\"col\">Teléfono</th>\n                                                <th scope=\"col\">Mensualidad</th>\n                                                <th scope=\"col\">Total Ingresos</th>\n                                                <th scope=\"col\">Numero Meses</th>\n                                                <th scope=\"col\">Observaciones</th>\n                                            </tr>\n                                        </thead>\n                                        <tbody>\n                                            <tr *ngFor=\"let contrato of selectedBien.contratos\">\n                                                <td scope=\"row\">\n                                                    <div\n                                                        class=\"custom-control custom-control-alternative custom-checkbox\">\n                                                        <input class=\"custom-control-input\"\n                                                            id=\"checkContratoActivo{{contrato.id}}\" type=\"checkbox\"\n                                                            [(ngModel)]=\"contrato.activo\"\n                                                            (click)=\"setContratoActivo(contrato)\">\n                                                        <label class=\"custom-control-label\"\n                                                            for=\"checkContratoActivo{{contrato.id}}\">\n                                                            <span class=\"badge badge-dot\"><i\n                                                                    [ngClass]=\"contrato.activo?'bg-success':'bg-info'\"></i>\n                                                                {{contrato.identificacion}}</span>\n                                                        </label>\n                                                    </div>\n\n                                                </td>\n                                                <td>{{contrato.nombre}}</td>\n                                                <td>{{contrato.telefono}}</td>\n                                                <td>\n                                                    {{contrato.mensualidad | number}}\n                                                </td>\n                                                <td>\n                                                    <div class=\"d-flex align-items-center\"\n                                                        *ngIf=\"selectedBien.totalIngresos>0\">\n                                                        <span class=\"mr-2\"> $ {{contrato.totalIngresos | number :\n                                                            '1.2-2'}}</span>\n                                                        <div class=\"progress ProgressByAnibal\">\n                                                            <!-- \"bg-gradient-danger\", \"bg-gradient-success\", \"bg-gradient-primary\", \"bg-gradient-info\", \"bg-gradient-warning\" -->\n                                                            <div class=\"progress-bar \"\n                                                                [ngClass]=\"{'bg-gradient-danger': contrato.porcentajeIngresos< 10, 'bg-gradient-warning' :contrato.porcentajeIngresos> 10 && contrato.porcentajeIngresos< 30, 'bg-gradient-info' :contrato.porcentajeIngresos> 30 && contrato.porcentajeIngresos< 60, 'bg-gradient-success' :contrato.porcentajeIngresos> 60 }\"\n                                                                role=\"progressbar\"\n                                                                aria-valuenow=\"{{contrato.porcentajeIngresos}}\"\n                                                                aria-valuemin=\"0\" aria-valuemax=\"100\"\n                                                                style=\"width: {{contrato.porcentajeIngresos}}%;\">\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                    <span *ngIf=\"selectedBien.totalIngresos==0\">0</span>\n                                                </td>\n                                                <td>\n                                                    {{contrato.comprobantesGenerados| number}}\n                                                </td>\n                                                <td>\n                                                    {{contrato.observacion}}\n                                                </td>\n                                            </tr>\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div *ngIf=\"isConfigured && selectedBien && selectedBien.contratoActivo && selectedBien.contratoActivo.tipo=='Credito' && !registrarNuevaBien\"\n                        class=\"row\">\n                        <div class=\"col-lg-12\">\n                            <div class=\"card-profile-stats d-flex justify-content-center\">\n                                <div>\n                                    <span class=\"heading\">\n                                        <i class=\"fas fa-dollar-sign\"></i>\n                                        {{selectedBien.contratoActivo.valorCredito | number}}</span>\n                                    <span class=\"description\">Valor del credito</span>\n                                </div>\n                                <div>\n                                    <span class=\"heading\">\n                                        <i class=\"fas fa-percent\"></i>\n                                        {{selectedBien.contratoActivo.tasaEM | number}}</span>\n                                    <span class=\"description\">Tasa efectivo mensual</span>\n                                </div>\n                                <div>\n                                    <span class=\"heading\">\n                                        <i class=\"fas fa-calendar-alt\"></i>\n                                        {{selectedBien.contratoActivo.plazoMeses | number}}</span>\n                                    <span class=\"description\">Plazo en meses</span>\n                                </div>\n\n                            </div>\n                            <div class=\"card-profile-stats d-flex justify-content-center\">\n                                <div *ngIf=\"responseAmortizacion && responseAmortizacion.ahorroIntereses>0\">\n                                    <span class=\"heading\">\n                                        <i class=\"fas fa-dollar-sign\"></i>\n                                        {{responseAmortizacion.ahorroIntereses | number}}</span>\n                                    <span class=\"description\">Ahorro intereses</span>\n                                </div>\n                                <div *ngIf=\"responseAmortizacion && responseAmortizacion.plazoReducido>0\">\n                                    <span class=\"heading\">\n                                        <i class=\"fas fa-calendar-alt\"></i>\n                                        {{responseAmortizacion.plazoReducido}} Meses</span>\n                                    <span class=\"description\">Reduccion de plazo</span>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"col\" *ngIf=\"responseAmortizacion\">\n                            <div class=\"card shadow\">\n\n                                <div class=\"card-header border-0\">\n                                    <h3 class=\"mb-0\">Tabla de amortizacion para el contrato Nro\n                                        {{selectedBien.contratoActivo.id|\n                                        slice:0:20}}</h3>\n                                </div>\n                                <div class=\"table-responsive\" id=\"amortizacion\">\n                                    <table class=\"table align-items-center table-flush\">\n                                        <thead class=\"thead-light\">\n                                            <tr>\n                                                <th scope=\"col\">Nro</th>\n                                                <th scope=\"col\">Cuota</th>\n                                                <th scope=\"col\">Intereses</th>\n                                                <th scope=\"col\">Tarifa fija</th>\n                                                <th scope=\"col\">Capital</th>\n                                                <th scope=\"col\">Abono Adicional Capital</th>\n                                                <th scope=\"col\">Total</th>\n                                                <th scope=\"col\">Saldo</th>\n                                                <th scope=\"col\"></th>\n                                            </tr>\n                                        </thead>\n                                        <tbody>\n                                            <tr *ngFor=\"let cuota of responseAmortizacion.amortizaciones\">\n                                                <td scope=\"row\">\n                                                    {{cuota.index| number}} - {{cuota.fechaCuota| date}}\n                                                </td>\n                                                <td>\n                                                    $ {{cuota.cuota| number}}\n                                                </td>\n                                                <td>\n                                                    $ {{cuota.interes| number}}\n                                                </td>\n                                                <td>\n                                                    $ {{cuota.tarifaFija | number}}\n                                                </td>\n                                                <td>\n                                                    $ {{cuota.abonoCapital | number}}\n                                                </td>\n                                                <td>\n                                                    $ {{cuota.abonoAdicionalCapital | number}}\n                                                </td>\n                                                <td>\n                                                    $ {{cuota.total | number}}\n                                                </td>\n                                                <td>\n                                                    $ {{cuota.saldoRestante | number}}\n                                                </td>\n                                                <td>\n                                                    <button *ngIf=\"cuota.comprobante\" placement=\"top\"\n                                                        ngbTooltip=\"Ver comprobante\"\n                                                        (click)=\"redireccionarAlComprobante(cuota);\"\n                                                        class=\"btn btn-icon btn-3 btn-sm btn-info\" type=\"button\">\n                                                        <span class=\"btn-inner--icon\">\n                                                            <i class=\"fas fa-eye\"></i>\n                                                        </span>\n                                                    </button>\n                                                    <button *ngIf=\"!cuota.comprobante\" placement=\"top\"\n                                                        ngbTooltip=\"Generar comprobante\"\n                                                        (click)=\"redireccionarGeneracionComprobante(cuota);\"\n                                                        class=\"btn btn-icon btn-3 btn-sm btn-neutral\" type=\"button\">\n                                                        <span class=\"btn-inner--icon\">\n                                                            <i class=\"fas fa-share-square\"></i>\n                                                        </span>\n                                                    </button>\n                                                </td>\n                                            </tr>\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <button placement=\"top\" ngbTooltip=\"Elimina toda la información del sistema, estas seguro?\" *ngIf=\"config\"\n        (click)=\"deleteData()\" class=\"btn btn-icon btn-3 btn-sm btn-secondary text-warning float-right\" type=\"button\">\n        <span class=\"btn-inner--icon\">\n            <i class=\"fas fa-trash\"></i> Eliminar datos\n        </span>\n    </button>\n    <small *ngIf=\"config\"><strong>Ultima actualización: </strong>{{config.ultimaModificacion.toISOString()}}</small>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/business-control-verify/business-control-verify.component.html":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/business-control-verify/business-control-verify.component.html ***!
  \****************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"header bg-gradient-dark pb-7 pt-5 pt-md-8\">\n    <div class=\"container-fluid\">\n        <div class=\"header-body\">\n            <div class=\"row\">\n                <div class=\"col-lg-12\">\n                    <h1 class=\"display-2 text-white\">Business Control</h1>\n                    <p class=\"text-white\">Bienvenido a la página de verificación de comprobantes de pago.\n                        <br>\n                        Aquí\n                        podrá confirmar la autenticidad del comprobante que ha recibido, revise los detalles a\n                        continuación para asegurarse de que todo esté en orden.\n\n                    </p>\n                    <div class=\"d-flex text-white justify-content-between\">\n\n                    </div>\n                    <div class=\"d-flex text-white justify-content-between\">\n\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class=\"container-fluid mt--7\">\n    <div class=\"row\">\n        <div class=\"col-xl-12 mb-4\">\n            <div class=\"card shadow\">\n                <div class=\"card-header bg-transparent\">\n                    <div class=\"row align-items-center\">\n                        <div class=\"col\">\n                            <h6 class=\"text-uppercase text-muted ls-1 mb-1\">Verifique bien la información</h6>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"card-body\">\n                    <div *ngIf=\"comprobante\">\n                        <app-business-control-voucher [comprobante]=\"comprobante\"\n                            [isVerify]=\"true\"></app-business-control-voucher>\n                    </div>\n                    <div *ngIf=\"!comprobante\">\n                        <div class=\"row container\">\n\n                            <div class=\"col-lg-12\">\n\n                                <div class=\"card card-profile shadow\">\n                                    <span class=\"badge badge-danger\"><i class=\"fa fa-star\"></i>\n                                        EL DOCUMENTO NO SE VERIFICÓ O NO SE ENCONTRÓ</span>\n\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/business-control-voucher/business-control-voucher.component.html":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/business-control-voucher/business-control-voucher.component.html ***!
  \******************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row container\" *ngIf=\"comprobante\">\n    <div class=\"col-lg-12\">\n\n        <div class=\"card card-profile shadow\" [ngClass]=\"isVerify?'':'pt-8'\">\n            <span class=\"badge badge-success\" *ngIf=\"isVerify\"><i class=\"fa fa-star\"></i>\n                VERIFICADO</span>\n\n            <div class=\"row justify-content-center\">\n                <div class=\"col-lg-3 order-lg-2\">\n                    <div class=\"card-profile-image center \" [ngClass]=\"isVerify?'pt-6 pb-6':'ml-7'\"><a\n                            href=\"javascript:void(0)\">\n                            <img [ngClass]=\"isVerify?'rounded-circle':''\" *ngIf=\"qrCodeDataUrl\" [src]=\"qrCodeDataUrl\"\n                                alt=\"Código QR\" /></a>\n                    </div>\n                </div>\n            </div>\n            <div class=\"card-header text-center border-0 pt-8 pt-md-4 pb-0\">\n                <div class=\"d-flex justify-content-between\">\n                    <span class=\"mr-4 badge badge-pill badge-info\">Desde:\n                        {{darFormatoCol(comprobante.periodo.inicio)}}</span>\n                    <span class=\" float-right badge badge-pill badge-success\">Hasta:\n                        {{darFormatoCol(comprobante.periodo.fin)}}</span>\n                </div>\n            </div>\n            <div class=\"card-body pt-0 pt-md-4\">\n\n                <div class=\"text-center\">\n\n                    <h3>\n                        <i class=\"ni ni-square-pin\"></i> {{comprobante.bien.direccion}}<span class=\"font-weight-light\">,\n                            {{comprobante.bien.barrio}} -\n                            {{comprobante.bien.ciudad}}</span>\n                    </h3>\n                    <div class=\"h5 font-weight-300\">\n                        <i class=\"ni ni-single-02\"></i> {{comprobante?.contratante?.nombre}}\n                    </div>\n                    <hr class=\"my-4\">\n                    <div class=\"h5 mt-4\">\n                        <i class=\"ni ni-badge\"> </i> {{contrato.tipoDocumento}}: {{contrato.identificacion}} | <i\n                            class=\"ni ni-paper-diploma\">\n                        </i> {{contrato.nombre}} | <i class=\"ni ni-mobile-button\"> </i> {{contrato.telefono}}\n                    </div>\n                    <div class=\"h5 mt-4\" *ngIf=\"contrato.tipo=='Credito'\">\n                        <i class=\"fas fa-dollar-sign\"></i> {{contrato.valorCredito | number }}\n                        | <i class=\"fas fa-percent\"></i> {{contrato.tasaEM}} E.M\n                        | <i class=\"fas fa-calendar-alt\"></i> {{contrato.plazoMeses}} Meses\n                    </div>\n                    <div><i class=\"ni education_hat mr-2\"></i>\n                        <span class=\"badge badge-dot\">\n                            <i [ngClass]=\"contratoID?'bg-success':'bg-danger'\"></i>\n\n\n                            <!-- <span *ngIf=\"contratoID; else elseContratoInvalido\">\n                                {{contratoID.id| slice:0:20}}\n                            </span>\n                            <ng-template #elseContratoInvalido>\n                                <span>{{contrato.id| slice:0:20}}</span>\n                            </ng-template> -->\n                        </span>\n                        Nro Contrato:\n                        <span>{{contrato.id| slice:0:20}}</span>\n                    </div>\n                    <hr class=\"my-4\">\n                    <div class=\"card shadow\">\n                        <div class=\"card-header border-0\">\n                            <h3 class=\"mb-0\">Conceptos\n                                <span *ngIf=\"contrato.tipo=='Arrendamiento'; else elseContratoArrendamiento\">\n                                    del arriendo\n                                </span>\n                                <ng-template #elseContratoArrendamiento>\n                                    <span>del crédito</span>\n                                </ng-template>\n                            </h3>\n                        </div>\n                        <div class=\"table-responsive\">\n                            <table class=\"table align-items-center table-flush\">\n                                <thead class=\"thead-light\">\n                                    <tr>\n                                        <th scope=\"col\">#</th>\n                                        <th scope=\"col\">Descripción</th>\n                                        <th scope=\"col\">Valor</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr *ngFor=\"let concepto of comprobante.conceptos; let i = index\">\n                                        <td>{{i + 1}}</td>\n                                        <td>{{concepto.descripcion}}</td>\n                                        <td>{{concepto.valor | currency}}</td>\n                                    </tr>\n                                    <tr>\n                                        <th colspan=\"4\" class=\"text-right\" scope=\"row\">\n                                            Total: {{comprobante.total | currency}}\n                                            <br />\n                                            <small><strong>Médio de pago: </strong>{{comprobante.medioPago}}</small>\n                                        </th>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"footer p-0 mt-2 text-center\">\n                    <small class=\"text-muted mb-4\" *ngIf=\"comprobante.observacion\">\n                        Observacion: {{comprobante.observacion}}\n                    </small><br />\n                    <small *ngIf=\"!isVerify\"><a target=\"_blank\" href=\"{{comprobanteUrl}}\">Verificar la\n                            autenticidad del\n                            comprobante</a><br /></small>\n\n                    <small>\n                        <i class=\" fa fa-lock\"></i>\n                        <span class=\"text-nowrap\"> Firma digital: </span>\n                        <span class=\"mr-2\">\n                            <span *ngIf=\"contratoID; else elseContratoInvalido\">\n                                {{contratoID.firmaDigital}}\n                            </span>\n                            <ng-template #elseContratoInvalido>\n                                <span> <span class=\"badge badge-danger\" *ngIf=\"isVerify\"><i class=\"fa fa-star\"></i>\n                                        Desconocido</span></span>\n                            </ng-template>\n                        </span>\n                    </small>\n                </div>\n            </div>\n        </div>\n        <small style=\"color: #afafaf\">ID: {{comprobante.id}} - Fecha de generación:\n            {{comprobante.fechaGeneracion.toISOString()}}, Fecha de impresión: {{date.toISOString()}}</small>\n    </div>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/business-control/business-control.component.html":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pages/business-control/business-control.component.html ***!
  \**************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"header pb-6 pt-5 pt-md-8\" *ngIf=\"selectedBien\"\n    [ngClass]=\"selectedBien.tipo=='Arrendamiento'?'bg-gradient-success':'bg-gradient-indigo'\">\n    <div class=\"container-fluid\">\n        <div class=\"header-body\">\n            <div class=\"row\">\n                <div class=\"col-lg-12\">\n                    <p class=\"float-right\" *ngIf=\"!userLogger\">\n                        <a href=\"javascript:void(0)\" placement=\"bottom\" ngbTooltip=\"Autenticación\" (click)=\"Login()\"\n                            class=\"btn btn-neutral btn-icon\">\n                            <span class=\"btn-inner--icon\"><img src=\"../assets/img/icons/common/google.svg\"></span>\n                            <span class=\"btn-inner--text\">Iniciar Con Google</span>\n                        </a>\n                    </p>\n                    <p class=\"float-right\" *ngIf=\"userLogger\">\n                        <a href=\"javascript:void(0)\" placement=\"left\"\n                            [ngbTooltip]=\"'Cerrar sesión: '+userLogger?.email || 'Email no encontrado'\"\n                            (click)=\"Logout()\" class=\"btn btn-neutral btn-icon\">\n                            <span class=\"btn-inner--icon\"><img src=\"../assets/img/icons/common/google.svg\"></span>\n                            <span class=\"btn-inner--text\">Sync: {{userLogger?.username}}</span>\n                        </a>\n                    </p>\n                    <h1 class=\"display-2 text-white\">Business Control</h1>\n                    <p class=\"text-white\"><strong>Genere comprobantes de pago y mucho mas, si desea generar administrar\n                            sus bienes de clic <a href=\"#/business-control-settings\"\n                                class=\"text-white\"><strong>aquí</strong></a></strong></p>\n                    <div class=\"p-0 col-lg-4\" *ngIf=\"this.config && this.config.bienes.length>1\">\n                        <div class=\"form-group\">\n                            <label for=\"bien\" class=\"text-white\">Selecciona tu bien</label>\n                            <select id=\"bien\" [(ngModel)]=\"selectedBienId\" (change)=\"onBienSelect($event.target.value)\"\n                                class=\"form-control\">\n                                <option *ngFor=\"let bien of this.config.bienes\" [value]=\"bien.id\">\n                                    <span *ngIf=\"bien.tipo=='Arrendamiento'; else elseArrendamientoSelect\">\n                                        Vivienda en arriendo:\n                                    </span>\n                                    <ng-template #elseArrendamientoSelect>\n                                        <span>Crédito:</span>\n                                    </ng-template>\n                                    {{bien.direccion}}\n                                </option>\n                            </select>\n                        </div>\n\n                    </div>\n                    <div class=\"d-flex text-white justify-content-between\">\n                        <p class=\"mr-4 \" *ngIf=\"selectedBien\">\n                            <i class=\" fa fa-arrow-up\"></i>\n                            <span class=\"text-nowrap\"> Total ingresos </span><span class=\"mr-2\">\n                                {{selectedBien.totalIngresos|\n                                currency}}\n                            </span>\n                        </p>\n                        <p class=\"float-right\" *ngIf=\"config\" placement=\"top\"\n                            ngbTooltip=\"Utilice esta firma digital para verificar los comprobantes de pago\">\n                            <i class=\" fa fa-lock\"></i>\n                            <span class=\"text-nowrap\"> Firma digital: </span><span class=\"mr-2\">\n                                {{firmaDigital}}\n                            </span>\n                        </p>\n                    </div>\n                </div>\n\n            </div>\n            <div class=\"row\">\n                <!-- <div class=\"col-xl-3 col-lg-6\">\n                    <div class=\"card card-stats h-95\">\n                        <div class=\"card-body\">\n                            <div class=\"row\">\n                                <div class=\"col\">\n                                    <h5 class=\"card-title text-uppercase text-muted mb-0\">Ingresos</h5>\n                                    <span class=\"h2 font-weight-bold mb-0\">{{selectedBien.totalIngresos|\n                                        currency}}</span>\n                                </div>\n                                <div class=\"col-auto\">\n                                    <div class=\"icon icon-shape bg-danger text-white rounded-circle shadow\"><i\n                                            class=\"fas fa-chart-bar\"></i></div>\n                                </div>\n                            </div>\n                            <p class=\"mt-3 mb-0 text-muted text-sm\"><span class=\"text-success mr-2\"><i\n                                        class=\"fa fa-arrow-up\"></i>\n                                    3.48%</span><span class=\"text-nowrap\">Since last month</span></p>\n                        </div>\n                    </div>\n                </div> -->\n                <!-- <div class=\"col-xl-4 col-lg-6 col-md-12\">\n                    <div class=\"card card-stats h-100\">\n                        <canvas id=\"canvas\" class=\"position-relative w-100 h-100\"></canvas>\n                        <p class=\"mt-3 mb-0 text-muted text-sm\"><i class=\"text-success fa fa-arrow-up\"></i>\n                            <span class=\"text-nowrap\"> Total ingresos </span><span class=\"text-success mr-2\">\n                                {{selectedBien.totalIngresos|\n                                currency}}</span>\n                        </p>\n                    </div>\n                </div> -->\n\n\n\n                <!-- <div class=\"col-xl-3 col-lg-6\">\n                    <div class=\"card card-stats mb-4 mb-xl-0\">\n                        <div class=\"card-body\">\n                            <div class=\"row\">\n                                <div class=\"col\">\n                                    <h5 class=\"card-title text-uppercase text-muted mb-0\">Sales</h5>\n                                    <span class=\"h2 font-weight-bold mb-0\">924</span>\n                                </div>\n                                <div class=\"col-auto\">\n                                    <div class=\"icon icon-shape bg-yellow text-white rounded-circle shadow\"><i\n                                            class=\"fas fa-users\"></i></div>\n                                </div>\n                            </div>\n                            <p class=\"mt-3 mb-0 text-muted text-sm\"><span class=\"text-warning mr-2\"><i\n                                        class=\"fas fa-arrow-down\"></i>\n                                    1.10%</span><span class=\"text-nowrap\">Since yesterday</span></p>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"col-xl-3 col-lg-6\">\n                    <div class=\"card card-stats mb-4 mb-xl-0\">\n                        <div class=\"card-body\">\n                            <div class=\"row\">\n                                <div class=\"col\">\n                                    <h5 class=\"card-title text-uppercase text-muted mb-0\">Performance\n                                    </h5><span class=\"h2 font-weight-bold mb-0\">49,65%</span>\n                                </div>\n                                <div class=\"col-auto\">\n                                    <div class=\"icon icon-shape bg-info text-white rounded-circle shadow\"><i\n                                            class=\"fas fa-percent\"></i></div>\n                                </div>\n                            </div>\n                            <p class=\"mt-3 mb-0 text-muted text-sm\"><span class=\"text-success mr-2\"><i\n                                        class=\"fas fa-arrow-up\"></i>\n                                    12%</span><span class=\"text-nowrap\">Since last month</span></p>\n                        </div>\n                    </div>\n                </div> -->\n            </div>\n        </div>\n\n        <p class=\"text-warning mt-0 mb-5 pt-4\" *ngIf=\"selectedBien && !selectedBien.contratoActivo\"><strong>Debe\n                configurar al\n                menos\n                un\n                contrato para el bien, por favor configurelo <a href=\"#/business-control-settings\">aquí</a></strong></p>\n    </div>\n</div>\n<div class=\"container-fluid mt--7\" *ngIf=\"config && selectedBien && selectedBien.contratoActivo\">\n    <div class=\"row mt-4\">\n        <div class=\"col-lg-7 mb-lg-0 mb-4\">\n            <div class=\"card shadow\">\n                <div class=\"card-header pb-0 pt-3 bg-transparent\">\n                    <h6 class=\"text-uppercase text-muted ls-1 mb-1\">\n                        <span *ngIf=\"selectedBien.tipo=='Arrendamiento'; else elseArrendamiento\">\n                            Vivienda en arriendo\n                        </span>\n                        <ng-template #elseArrendamiento>\n                            <span>Crédito</span>\n                        </ng-template>\n                        |\n                        {{selectedBien.ciudad}}\n                    </h6>\n                    <h2 class=\"mb-0 text-primary\">{{selectedBien.direccion}}, {{selectedBien.barrio}}\n\n                    </h2>\n                </div>\n                <div class=\"card-body p-3\">\n                    <div class=\"pb-3\">\n                        <h6 class=\"heading-small text-muted\">Comprobantes de pago</h6>\n                        <h6 class=\"text-muted\">Contrato Nro:\n                            {{selectedBien.contratoActivo.id| slice:0:20}}\n                        </h6>\n                        <h6 class=\"text-muted\">\n                            <i class=\"ni ni-badge\"> </i> {{selectedBien.contratoActivo.tipoDocumento}}:\n                            {{selectedBien.contratoActivo.identificacion}} | <i class=\"ni ni-paper-diploma\">\n                            </i> {{selectedBien.contratoActivo.nombre}} | <i class=\"ni ni-mobile-button\"> </i>\n                            {{selectedBien.contratoActivo.telefono}}\n                        </h6>\n                        <h6 class=\"text-muted mb-4\" *ngIf=\"selectedBien.contratoActivo.observacion\">\n                            <i class=\"ni ni-bullet-list-67\"> </i> {{selectedBien.contratoActivo.observacion}}\n                        </h6>\n                        <form [formGroup]=\"comprobanteForm\" (ngSubmit)=\"addConcepto()\">\n                            <div class=\"row\">\n                                <div class=\"col-lg-6 col-md-6\" *ngIf=\"this.config && this.config.bienes.length>0\">\n                                    <div class=\"form-group\">\n                                        <label for=\"seleccionarConcepto\">Conceptos</label>\n                                        <select id=\"seleccionarConcepto\"\n                                            (change)=\"onConceptoSelected($event.target.value)\" class=\"form-control\">\n                                            <option *ngFor=\"let concepto of conceptosByContrato\"\n                                                [value]=\"concepto.descripcion\">\n                                                {{concepto.descripcion}}</option>\n                                        </select>\n                                    </div>\n                                </div>\n                                <div class=\"col-lg-6 col-md-6\"\n                                    *ngIf=\"comprobanteForm.controls.descripcionTemp.value=='Otro'\">\n                                    <div class=\"form-group\">\n                                        <label class=\"form-control-label\" for=\"descripcion\">\n                                            Descripción del concepto\n                                        </label>\n                                        <input class=\"form-control form-control-alternative\" id=\"descripcion\"\n                                            formControlName=\"descripcion\" placeholder=\"\" type=\"text\">\n                                        <p class=\"text-warning\">\n                                            <span\n                                                *ngIf=\"comprobanteForm.controls.submitted.value && comprobanteForm.controls.descripcion.errors?.required\">Campo\n                                                Requerido</span>\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"col-lg-6 col-md-6\">\n                                    <div class=\"form-group\">\n                                        <label class=\"form-control-label\" for=\"valor\">\n                                            Valor\n                                        </label>\n                                        <input class=\"form-control form-control-alternative\" id=\"valor\"\n                                            formControlName=\"valor\" placeholder=\"\" type=\"number\">\n                                        <p class=\"text-warning\">\n                                            <span\n                                                *ngIf=\"comprobanteForm.controls.submitted.value && comprobanteForm.controls.valor.errors?.required\">Campo\n                                                Requerido</span>\n                                        </p>\n                                    </div>\n                                </div>\n                                <div class=\"col-lg-6 col-md-6 pb-2\">\n                                    <button type=\"submit\" class=\"btn btn-md btn-primary\">Agregar Concepto</button>\n\n                                </div>\n                            </div>\n\n\n                        </form>\n                        <div *ngIf=\"newComprobante.conceptos.length > 0\">\n                            <div class=\"row pb-3\">\n                                <div class=\"col-lg-8\">\n                                    <div class=\"card shadow\">\n                                        <div class=\"card-header border-0\">\n                                            <h3 class=\"mb-0\">Conceptos</h3>\n                                        </div>\n                                        <div class=\"table-responsive\">\n                                            <table class=\"table align-items-center table-flush\">\n                                                <thead class=\"thead-light\">\n                                                    <tr>\n                                                        <th scope=\"col\">#</th>\n                                                        <th scope=\"col\">Descripción</th>\n                                                        <th scope=\"col\">Valor</th>\n                                                        <th scope=\"col\"></th>\n                                                    </tr>\n                                                </thead>\n                                                <tbody>\n                                                    <tr\n                                                        *ngFor=\"let concepto of newComprobante.conceptos; let i = index\">\n                                                        <td>{{i + 1}}</td>\n                                                        <td>{{concepto.descripcion}}</td>\n                                                        <td>\n                                                            <input (input)=\"calcularTotalComprobante()\"\n                                                                class=\"form-control form-control-alternative\"\n                                                                id=\"valor{{i}}\" [(ngModel)]=\"concepto.valor\"\n                                                                style=\"min-width: 120px;\" type=\"number\">\n                                                        </td>\n                                                        <td>\n                                                            <button class=\"btn btn-icon btn-3 btn-sm btn-danger\"\n                                                                type=\"button\" (click)=\"removeConcepto(i)\">\n                                                                <span class=\"btn-inner--icon\">\n                                                                    <i class=\"fa fa-trash\"></i>\n                                                                </span>\n                                                            </button>\n                                                        </td>\n                                                    </tr>\n                                                    <tr>\n                                                        <th colspan=\"4\" class=\"text-right\" scope=\"row\">\n                                                            Total: {{newComprobante.total | currency}}\n                                                        </th>\n                                                    </tr>\n                                                </tbody>\n                                            </table>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"col-lg-4\">\n                                    <div class=\"form-group\">\n                                        <label class=\"form-control-label\" for=\"observacionComprobante\">\n                                            Observación\n                                        </label>\n                                        <textarea class=\"form-control form-control-alternative\"\n                                            id=\"observacionComprobante\" [(ngModel)]=\"observacionComprobante\"\n                                            placeholder=\"\"></textarea>\n                                    </div>\n                                    <div class=\"form-group\">\n                                        <label for=\"seleccionarConcepto\">Medios de pago</label>\n                                        <select id=\"seleccionarConcepto\" [(ngModel)]=\"metodoPagoComprobante\"\n                                            class=\"form-control\">\n                                            <option *ngFor=\"let medio of config.mediosPago\" [value]=\"medio\">\n                                                {{medio}}</option>\n                                        </select>\n                                    </div>\n                                </div>\n                                <div class=\"col-lg-4\">\n                                    <div class=\"form-group\">\n                                        <label class=\"form-control-label\" for=\"fechaComprobante\">\n                                            Fecha comprobante\n                                        </label>\n                                        <input [(ngModel)]=\"fechaComprobante\"\n                                            class=\"form-control form-control-alternative\" id=\"fechaComprobante\"\n                                            placeholder=\"\" type=\"date\">\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"row\">\n                                <div class=\"col-lg-12\">\n                                    <button class=\"btn btn-success\" (click)=\"generateComprobante()\">Generar\n                                        Comprobante</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div *ngIf=\"this.config && selectedBien && selectedBien.comprobantes.length>0\" class=\"row\">\n                        <div class=\"col\">\n                            <div class=\"card shadow\">\n                                <div class=\"card-header border-0\">\n                                    <h3 class=\"mb-0\">Comprobantes de pago</h3>\n                                </div>\n                                <div class=\"table-responsive\">\n                                    <table class=\"table align-items-center table-flush\">\n                                        <thead class=\"thead-light\">\n                                            <tr>\n                                                <th scope=\"col\"></th>\n                                                <th scope=\"col\">Fecha</th>\n                                                <th scope=\"col\">Total</th>\n                                                <th scope=\"col\">Observación</th>\n                                                <th scope=\"col\">Metodo de pago</th>\n                                                <th scope=\"col\"></th>\n                                            </tr>\n                                        </thead>\n                                        <tbody>\n                                            <tr *ngFor=\"let comprobante of selectedBien.comprobantes; let i = index\">\n                                                <th scope=\"row\">\n                                                    {{comprobante.id| slice:-4}}\n                                                </th>\n                                                <th>\n                                                    {{comprobante.fechaGeneracion | date}}\n                                                </th>\n                                                <td>{{comprobante.total| number}}</td>\n                                                <td>\n                                                    <span\n                                                        *ngIf=\"comprobante.observacion.length > 25; else shortObservacion\"\n                                                        [ngbTooltip]=\"comprobante.observacion\"\n                                                        [attr.aria-label]=\"comprobante.observacion\">\n                                                        {{comprobante.observacion | slice:0:25}}...\n                                                    </span>\n                                                    <ng-template #shortObservacion>\n                                                        {{comprobante.observacion}}\n                                                    </ng-template>\n                                                </td>\n                                                <td>\n                                                    {{comprobante.medioPago }}\n                                                </td>\n                                                <td>\n                                                    <div class=\"d-flex justify-content-center align-items-center\">\n                                                        <div class=\"spinner-border\" role=\"status\">\n                                                            <span\n                                                                *ngIf=\"comprobante.generandoPdf || comprobante.compartiendoPdf || comprobante.compartiendoUrl\">\n                                                                Cargando...\n                                                            </span>\n                                                        </div>\n                                                    </div>\n                                                    <button [disabled]=\"comprobante.generandoPdf\"\n                                                        (click)=\"generatePDF(comprobante);\"\n                                                        class=\"btn btn-icon btn-3 btn-sm btn-success\" type=\"button\">\n                                                        <span class=\"btn-inner--icon\">\n                                                            <i class=\"fa fa-download\"></i>\n                                                        </span>\n                                                    </button>\n                                                    <button [disabled]=\"comprobante.compartiendoPdf\"\n                                                        *ngIf=\"isWebShareSupported\" (click)=\"sharedPDF(comprobante)\"\n                                                        class=\"btn btn-icon btn-3 btn-sm btn-primary\" type=\"button\">\n                                                        <span class=\"btn-inner--icon\">\n                                                            <i class=\"fas fa-share-alt\"></i>\n                                                        </span>\n                                                    </button>\n                                                    <button [disabled]=\"comprobante.compartiendoUrl\"\n                                                        *ngIf=\"isWebShareSupported && comprobante.urlCorta\"\n                                                        (click)=\"sharedUrl(comprobante)\"\n                                                        class=\"btn btn-icon btn-3 btn-sm btn-neutral\" type=\"button\">\n                                                        <span class=\"btn-inner--icon\">\n                                                            <i class=\"fas fa-share-square\"></i>\n                                                        </span>\n                                                    </button>\n                                                    <button (click)=\"showComprobante(comprobante)\"\n                                                        class=\"btn btn-icon btn-3 btn-sm btn-info\" type=\"button\">\n                                                        <span class=\"btn-inner--icon\">\n                                                            <i class=\"fas fa-eye\"></i>\n                                                        </span>\n                                                    </button>\n                                                </td>\n                                            </tr>\n                                            <tr>\n                                                <th colspan=\"6\" class=\"text-right\" scope=\"row\">\n                                                    Total: {{selectedBien.totalIngresos | currency}}\n                                                </th>\n                                            </tr>\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div *ngIf=\"comprobanteToPdf\" style=\"margin-left: -1000px; position: fixed;\">\n                        <!-- <div *ngIf=\"comprobanteToPdf\"> -->\n                        <div #pdfContent>\n                            <app-business-control-voucher\n                                [comprobante]=\"comprobanteToPdf\"></app-business-control-voucher>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-lg-5\">\n            <div class=\"card shadow\">\n                <div class=\"card-header pb-0 pt-3 bg-transparent\">\n                    <h6 class=\"text-uppercase text-muted ls-1 mb-1\">\n                        <span *ngIf=\"selectedBien.tipo=='Arrendamiento'; else elseArrendamientoServiciosPublicos\">\n                            Servicios públicos |\n                        </span>\n                        <ng-template #elseArrendamientoServiciosPublicos>\n                            <span> </span>\n                        </ng-template>\n                        {{selectedBien.ciudad}}\n                    </h6>\n                    <h2 class=\"mb-0 text-primary\">{{selectedBien.direccion}}, {{selectedBien.barrio}}\n\n                    </h2>\n                </div>\n                <div class=\"card-body p-3\">\n                    <div>\n                        <h6 class=\"heading-small text-muted\">\n                            <span *ngIf=\"selectedBien.tipo=='Arrendamiento'; else elseArrendamientoServiciosPublicos\">\n                                Servicios públicos\n                            </span>\n                            <ng-template #elseArrendamientoServiciosPublicos>\n                                <span>Comportamiento de ingresos</span>\n                            </ng-template>\n                        </h6>\n                        <h6 class=\"text-muted mb-4\">\n                            Aquí podra registrar los valores de los recibos de cada mes a modo\n                            de\n                            comparativa entre ingresos y gastos\n                        </h6>\n                        <div class=\"col-lg-12 mt-5\">\n                            <div class=\"card card-stats h-100\">\n                                <!-- Chart -->\n                                <canvas id=\"canvas\" class=\"position-relative w-100 h-100\"></canvas>\n\n                            </div>\n                        </div>\n                        <form [formGroup]=\"servicioForm\" (ngSubmit)=\"registerServicio()\"\n                            *ngIf=\"selectedBien.tipo=='Arrendamiento'\">\n                            <div *ngIf=\"selectedBien\">\n                                <div class=\"row\">\n                                    <div class=\"col-lg-6\">\n                                        <div class=\"form-group\">\n                                            <label class=\"form-control-label\" for=\"tipo\">Tipo de servicio</label>\n                                            <select id=\"tipo\" formControlName=\"tipo\" class=\"form-control\">\n                                                <option *ngFor=\"let tipo of ['Luz','Agua', 'Gas', 'Internet', 'Otro']\"\n                                                    [value]=\"tipo\">\n                                                    {{tipo}}</option>\n                                            </select>\n                                            <p class=\"text-warning\">\n                                                <span\n                                                    *ngIf=\"servicioForm.controls.submitted.value && servicioForm.controls.tipo.errors?.required\">Campo\n                                                    Requerido</span>\n                                            </p>\n                                        </div>\n                                    </div>\n                                    <div class=\"col-lg-6\">\n                                        <div class=\"form-group\">\n                                            <label class=\"form-control-label\" for=\"valor\">\n                                                Valor\n                                            </label>\n                                            <input class=\"form-control form-control-alternative\" id=\"valor\"\n                                                formControlName=\"valor\" placeholder=\"0\" type=\"number\">\n                                            <p class=\"text-warning\">\n                                                <span\n                                                    *ngIf=\"servicioForm.controls.submitted.value && servicioForm.controls.valor.errors?.required\">Campo\n                                                    Requerido</span>\n                                            </p>\n                                        </div>\n                                    </div>\n                                    <div class=\"col-lg-6\">\n                                        <div class=\"form-group\">\n                                            <label class=\"form-control-label\" for=\"fechaGeneracion\">\n                                                Fecha de Generación\n                                            </label>\n                                            <input class=\"form-control form-control-alternative\" id=\"fechaGeneracion\"\n                                                formControlName=\"fechaGeneracion\" placeholder=\"0\" type=\"date\">\n                                            <p class=\"text-warning\">\n                                                <span\n                                                    *ngIf=\"servicioForm.controls.submitted.value && servicioForm.controls.fechaGeneracion.errors?.required\">Campo\n                                                    Requerido</span>\n                                            </p>\n                                        </div>\n                                    </div>\n                                    <div class=\"col-lg-6\">\n                                        <div class=\"form-group\">\n                                            <label class=\"form-control-label\" for=\"fechaPago\">\n                                                Fecha de Pago\n                                            </label>\n                                            <input class=\"form-control form-control-alternative\" id=\"fechaPago\"\n                                                formControlName=\"fechaPago\" placeholder=\"0\" type=\"date\">\n                                            <p class=\"text-warning\">\n                                                <span\n                                                    *ngIf=\"servicioForm.controls.submitted.value && servicioForm.controls.fechaPago.errors?.required\">Campo\n                                                    Requerido</span>\n                                            </p>\n                                        </div>\n                                    </div>\n                                </div>\n                                <button type=\"submit\" class=\"btn btn-primary\">Registrar Pago</button>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>");

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/app.component.scss":
/*!************************************!*\
  !*** ./src/app/app.component.scss ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyJ9 */");

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};

var AppComponent = /** @class */ (function () {
    function AppComponent() {
        this.title = 'argon-dashboard-angular';
    }
    AppComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-root',
            template: __importDefault(__webpack_require__(/*! raw-loader!./app.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/app.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./app.component.scss */ "./src/app/app.component.scss")).default]
        })
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/__ivy_ngcc__/fesm5/animations.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/__ivy_ngcc__/fesm5/forms.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/__ivy_ngcc__/fesm5/http.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/__ivy_ngcc__/fesm5/router.js");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _layouts_admin_layout_admin_layout_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./layouts/admin-layout/admin-layout.component */ "./src/app/layouts/admin-layout/admin-layout.component.ts");
/* harmony import */ var _layouts_auth_layout_auth_layout_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./layouts/auth-layout/auth-layout.component */ "./src/app/layouts/auth-layout/auth-layout.component.ts");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/__ivy_ngcc__/fesm5/ng-bootstrap.js");
/* harmony import */ var _app_routing__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./app.routing */ "./src/app/app.routing.ts");
/* harmony import */ var _components_components_module__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/components.module */ "./src/app/components/components.module.ts");
/* harmony import */ var _pages_briefcases_briefcases_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./pages/briefcases/briefcases.component */ "./src/app/pages/briefcases/briefcases.component.ts");
/* harmony import */ var ngx_image_gallery__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ngx-image-gallery */ "./node_modules/ngx-image-gallery/__ivy_ngcc__/fesm5/ngx-image-gallery.js");
/* harmony import */ var _pages_business_control_business_control_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./pages/business-control/business-control.component */ "./src/app/pages/business-control/business-control.component.ts");
/* harmony import */ var _pages_business_control_settings_business_control_settings_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./pages/business-control-settings/business-control-settings.component */ "./src/app/pages/business-control-settings/business-control-settings.component.ts");
/* harmony import */ var _pages_business_control_voucher_business_control_voucher_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./pages/business-control-voucher/business-control-voucher.component */ "./src/app/pages/business-control-voucher/business-control-voucher.component.ts");
/* harmony import */ var _pages_business_control_verify_business_control_verify_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./pages/business-control-verify/business-control-verify.component */ "./src/app/pages/business-control-verify/business-control-verify.component.ts");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/__ivy_ngcc__/fesm5/ngx-toastr.js");
/* harmony import */ var _pages_account_control_account_control_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./pages/account-control/account-control.component */ "./src/app/pages/account-control/account-control.component.ts");
/* harmony import */ var _pages_account_control_account_control_management_account_account_control_management_account_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./pages/account-control/account-control-management-account/account-control-management-account.component */ "./src/app/pages/account-control/account-control-management-account/account-control-management-account.component.ts");
/* harmony import */ var _pages_account_control_account_control_management_categories_account_control_management_categories_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./pages/account-control/account-control-management-categories/account-control-management-categories.component */ "./src/app/pages/account-control/account-control-management-categories/account-control-management-categories.component.ts");
/* harmony import */ var _pages_account_control_account_control_transaction_card_account_control_transaction_card_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./pages/account-control/account-control-transaction-card/account-control-transaction-card.component */ "./src/app/pages/account-control/account-control-transaction-card/account-control-transaction-card.component.ts");
/* harmony import */ var _pages_account_control_account_control_list_budgets_account_control_list_budgets_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./pages/account-control/account-control-list-budgets/account-control-list-budgets.component */ "./src/app/pages/account-control/account-control-list-budgets/account-control-list-budgets.component.ts");
/* harmony import */ var _pages_account_control_account_control_list_transactions_account_control_list_transactions_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./pages/account-control/account-control-list-transactions/account-control-list-transactions.component */ "./src/app/pages/account-control/account-control-list-transactions/account-control-list-transactions.component.ts");
/* harmony import */ var _pages_account_control_account_control_management_transaction_account_control_management_transaction_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./pages/account-control/account-control-management-transaction/account-control-management-transaction.component */ "./src/app/pages/account-control/account-control-management-transaction/account-control-management-transaction.component.ts");
/* harmony import */ var _pages_account_control_dashboards_account_control_dash_category_by_months_account_control_dash_category_by_months_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./pages/account-control/dashboards/account-control-dash-category-by-months/account-control-dash-category-by-months.component */ "./src/app/pages/account-control/dashboards/account-control-dash-category-by-months/account-control-dash-category-by-months.component.ts");
/* harmony import */ var ngx_echarts__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ngx-echarts */ "./node_modules/ngx-echarts/__ivy_ngcc__/fesm5/ngx-echarts.js");
/* harmony import */ var _pages_account_control_dashboards_account_control_dash_daily_balance_account_control_dash_daily_balance_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./pages/account-control/dashboards/account-control-dash-daily-balance/account-control-dash-daily-balance.component */ "./src/app/pages/account-control/dashboards/account-control-dash-daily-balance/account-control-dash-daily-balance.component.ts");
/* harmony import */ var _pages_account_control_dashboards_account_control_dashboards_component__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./pages/account-control/dashboards/account-control-dashboards.component */ "./src/app/pages/account-control/dashboards/account-control-dashboards.component.ts");
/* harmony import */ var _pages_account_control_dashboards_account_control_dash_all_categories_account_control_dash_all_categories_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./pages/account-control/dashboards/account-control-dash-all-categories/account-control-dash-all-categories.component */ "./src/app/pages/account-control/dashboards/account-control-dash-all-categories/account-control-dash-all-categories.component.ts");
/* harmony import */ var _pages_account_control_dashboards_account_control_dash_daily_categories_account_control_dash_daily_categories_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./pages/account-control/dashboards/account-control-dash-daily-categories/account-control-dash-daily-categories.component */ "./src/app/pages/account-control/dashboards/account-control-dash-daily-categories/account-control-dash-daily-categories.component.ts");
/* harmony import */ var _pages_account_control_account_control_migrate_transaction_account_control_migrate_transaction_component__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./pages/account-control/account-control-migrate-transaction/account-control-migrate-transaction.component */ "./src/app/pages/account-control/account-control-migrate-transaction/account-control-migrate-transaction.component.ts");
/* harmony import */ var _pages_account_control_dashboards_account_control_dash_daily_by_account_account_control_dash_daily_by_account_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./pages/account-control/dashboards/account-control-dash-daily-by-account/account-control-dash-daily-by-account.component */ "./src/app/pages/account-control/dashboards/account-control-dash-daily-by-account/account-control-dash-daily-by-account.component.ts");
/* harmony import */ var _pages_account_control_dashboards_account_control_dash_budget_by_category_account_control_dash_budget_by_category_component__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./pages/account-control/dashboards/account-control-dash-budget-by-category/account-control-dash-budget-by-category.component */ "./src/app/pages/account-control/dashboards/account-control-dash-budget-by-category/account-control-dash-budget-by-category.component.ts");
/* harmony import */ var _pages_account_control_dashboards_account_control_dash_radar_by_category_account_control_dash_radar_by_category_component__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./pages/account-control/dashboards/account-control-dash-radar-by-category/account-control-dash-radar-by-category.component */ "./src/app/pages/account-control/dashboards/account-control-dash-radar-by-category/account-control-dash-radar-by-category.component.ts");
/* harmony import */ var _pages_account_control_dashboards_account_control_dash_income_vs_expense_daily_account_control_dash_income_vs_expense_daily_component__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./pages/account-control/dashboards/account-control-dash-income-vs-expense-daily/account-control-dash-income-vs-expense-daily.component */ "./src/app/pages/account-control/dashboards/account-control-dash-income-vs-expense-daily/account-control-dash-income-vs-expense-daily.component.ts");
/* harmony import */ var _pages_account_control_dashboards_account_control_dash_calendar_account_control_dash_calendar_component__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./pages/account-control/dashboards/account-control-dash-calendar/account-control-dash-calendar.component */ "./src/app/pages/account-control/dashboards/account-control-dash-calendar/account-control-dash-calendar.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};





































var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            imports: [
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClientModule"],
                _components_components_module__WEBPACK_IMPORTED_MODULE_10__["ComponentsModule"],
                _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_8__["NgbModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterModule"],
                _app_routing__WEBPACK_IMPORTED_MODULE_9__["AppRoutingModule"],
                ngx_image_gallery__WEBPACK_IMPORTED_MODULE_12__["NgxImageGalleryModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_0__["BrowserAnimationsModule"],
                ngx_toastr__WEBPACK_IMPORTED_MODULE_17__["ToastrModule"].forRoot({
                    // Configuración opcional de Toastr
                    timeOut: 7000,
                    positionClass: 'toast-bottom-right',
                    preventDuplicates: true,
                }),
                ngx_echarts__WEBPACK_IMPORTED_MODULE_26__["NgxEchartsModule"].forRoot({
                    echarts: function () { return Promise.resolve(/*! import() */).then(__webpack_require__.bind(null, /*! echarts */ "./node_modules/echarts/index.js")); } // Carga dinámica de ECharts
                })
            ],
            declarations: [
                _app_component__WEBPACK_IMPORTED_MODULE_5__["AppComponent"],
                _layouts_admin_layout_admin_layout_component__WEBPACK_IMPORTED_MODULE_6__["AdminLayoutComponent"],
                _layouts_auth_layout_auth_layout_component__WEBPACK_IMPORTED_MODULE_7__["AuthLayoutComponent"],
                _pages_briefcases_briefcases_component__WEBPACK_IMPORTED_MODULE_11__["BriefcasesComponent"],
                _pages_business_control_business_control_component__WEBPACK_IMPORTED_MODULE_13__["BusinessControlComponent"],
                _pages_business_control_settings_business_control_settings_component__WEBPACK_IMPORTED_MODULE_14__["BusinessControlSettingsComponent"],
                _pages_business_control_voucher_business_control_voucher_component__WEBPACK_IMPORTED_MODULE_15__["BusinessControlVoucherComponent"],
                _pages_business_control_verify_business_control_verify_component__WEBPACK_IMPORTED_MODULE_16__["BusinessControlVerifyComponent"],
                _pages_account_control_account_control_component__WEBPACK_IMPORTED_MODULE_18__["AccountControlComponent"],
                _pages_account_control_account_control_management_account_account_control_management_account_component__WEBPACK_IMPORTED_MODULE_19__["AccountControlManagementAccountComponent"],
                _pages_account_control_account_control_management_categories_account_control_management_categories_component__WEBPACK_IMPORTED_MODULE_20__["AccountControlManagementCategoriesComponent"],
                _pages_account_control_account_control_transaction_card_account_control_transaction_card_component__WEBPACK_IMPORTED_MODULE_21__["AccountControlTransactionCardComponent"],
                _pages_account_control_account_control_list_budgets_account_control_list_budgets_component__WEBPACK_IMPORTED_MODULE_22__["AccountControlListBudgetsComponent"],
                _pages_account_control_account_control_list_transactions_account_control_list_transactions_component__WEBPACK_IMPORTED_MODULE_23__["AccountControlListTransactionsComponent"],
                _pages_account_control_account_control_management_transaction_account_control_management_transaction_component__WEBPACK_IMPORTED_MODULE_24__["AccountControlManagementTransactionComponent"],
                _pages_account_control_dashboards_account_control_dash_category_by_months_account_control_dash_category_by_months_component__WEBPACK_IMPORTED_MODULE_25__["AccountControlDashCategoryByMonthsComponent"],
                _pages_account_control_dashboards_account_control_dash_daily_balance_account_control_dash_daily_balance_component__WEBPACK_IMPORTED_MODULE_27__["AccountControlDashDailyBalanceComponent"],
                _pages_account_control_dashboards_account_control_dashboards_component__WEBPACK_IMPORTED_MODULE_28__["AccountControlDashboardsComponent"],
                _pages_account_control_dashboards_account_control_dash_all_categories_account_control_dash_all_categories_component__WEBPACK_IMPORTED_MODULE_29__["AccountControlDashAllCategoriesComponent"],
                _pages_account_control_dashboards_account_control_dash_daily_categories_account_control_dash_daily_categories_component__WEBPACK_IMPORTED_MODULE_30__["AccountControlDashDailyCategoriesComponent"],
                _pages_account_control_account_control_migrate_transaction_account_control_migrate_transaction_component__WEBPACK_IMPORTED_MODULE_31__["AccountControlMigrateTransactionComponent"],
                _pages_account_control_dashboards_account_control_dash_daily_by_account_account_control_dash_daily_by_account_component__WEBPACK_IMPORTED_MODULE_32__["AccountControlDashDailyByAccountComponent"],
                _pages_account_control_dashboards_account_control_dash_budget_by_category_account_control_dash_budget_by_category_component__WEBPACK_IMPORTED_MODULE_33__["AccountControlDashBudgetByCategoryComponent"],
                _pages_account_control_dashboards_account_control_dash_radar_by_category_account_control_dash_radar_by_category_component__WEBPACK_IMPORTED_MODULE_34__["AccountControlDashRadarByCategoryComponent"],
                _pages_account_control_dashboards_account_control_dash_income_vs_expense_daily_account_control_dash_income_vs_expense_daily_component__WEBPACK_IMPORTED_MODULE_35__["AccountControlDashIncomeVsExpenseDailyComponent"],
                _pages_account_control_dashboards_account_control_dash_calendar_account_control_dash_calendar_component__WEBPACK_IMPORTED_MODULE_36__["AccountControlDashCalendarComponent"]
            ],
            providers: [],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_5__["AppComponent"]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/app.routing.ts":
/*!********************************!*\
  !*** ./src/app/app.routing.ts ***!
  \********************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/__ivy_ngcc__/fesm5/common.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/__ivy_ngcc__/fesm5/platform-browser.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/__ivy_ngcc__/fesm5/router.js");
/* harmony import */ var _layouts_admin_layout_admin_layout_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./layouts/admin-layout/admin-layout.component */ "./src/app/layouts/admin-layout/admin-layout.component.ts");
/* harmony import */ var _layouts_auth_layout_auth_layout_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./layouts/auth-layout/auth-layout.component */ "./src/app/layouts/auth-layout/auth-layout.component.ts");
/* harmony import */ var _pages_briefcases_briefcases_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./pages/briefcases/briefcases.component */ "./src/app/pages/briefcases/briefcases.component.ts");
/* harmony import */ var _pages_business_control_business_control_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./pages/business-control/business-control.component */ "./src/app/pages/business-control/business-control.component.ts");
/* harmony import */ var _pages_business_control_settings_business_control_settings_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./pages/business-control-settings/business-control-settings.component */ "./src/app/pages/business-control-settings/business-control-settings.component.ts");
/* harmony import */ var _pages_business_control_verify_business_control_verify_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pages/business-control-verify/business-control-verify.component */ "./src/app/pages/business-control-verify/business-control-verify.component.ts");
/* harmony import */ var _pages_account_control_account_control_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./pages/account-control/account-control.component */ "./src/app/pages/account-control/account-control.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};











var routes = [
    {
        path: '',
        redirectTo: 'user-profile',
        pathMatch: 'full',
    }, {
        path: '',
        component: _layouts_admin_layout_admin_layout_component__WEBPACK_IMPORTED_MODULE_4__["AdminLayoutComponent"],
        children: [
            {
                path: '',
                loadChildren: function () { return __webpack_require__.e(/*! import() | layouts-admin-layout-admin-layout-module */ "layouts-admin-layout-admin-layout-module").then(__webpack_require__.bind(null, /*! ./layouts/admin-layout/admin-layout.module */ "./src/app/layouts/admin-layout/admin-layout.module.ts")).then(function (m) { return m.AdminLayoutModule; }); }
            },
            { path: 'briefcases', component: _pages_briefcases_briefcases_component__WEBPACK_IMPORTED_MODULE_6__["BriefcasesComponent"] },
        ]
    }, {
        path: '',
        component: _layouts_admin_layout_admin_layout_component__WEBPACK_IMPORTED_MODULE_4__["AdminLayoutComponent"],
        children: [
            {
                path: '',
                loadChildren: function () { return __webpack_require__.e(/*! import() | layouts-admin-layout-admin-layout-module */ "layouts-admin-layout-admin-layout-module").then(__webpack_require__.bind(null, /*! ./layouts/admin-layout/admin-layout.module */ "./src/app/layouts/admin-layout/admin-layout.module.ts")).then(function (m) { return m.AdminLayoutModule; }); }
            },
            { path: 'business-control', component: _pages_business_control_business_control_component__WEBPACK_IMPORTED_MODULE_7__["BusinessControlComponent"] },
        ]
    }, {
        path: '',
        component: _layouts_admin_layout_admin_layout_component__WEBPACK_IMPORTED_MODULE_4__["AdminLayoutComponent"],
        children: [
            {
                path: '',
                loadChildren: function () { return __webpack_require__.e(/*! import() | layouts-admin-layout-admin-layout-module */ "layouts-admin-layout-admin-layout-module").then(__webpack_require__.bind(null, /*! ./layouts/admin-layout/admin-layout.module */ "./src/app/layouts/admin-layout/admin-layout.module.ts")).then(function (m) { return m.AdminLayoutModule; }); }
            },
            { path: 'business-control-settings', component: _pages_business_control_settings_business_control_settings_component__WEBPACK_IMPORTED_MODULE_8__["BusinessControlSettingsComponent"] },
        ]
    }, {
        path: '',
        component: _layouts_admin_layout_admin_layout_component__WEBPACK_IMPORTED_MODULE_4__["AdminLayoutComponent"],
        children: [
            {
                path: '',
                loadChildren: function () { return __webpack_require__.e(/*! import() | layouts-admin-layout-admin-layout-module */ "layouts-admin-layout-admin-layout-module").then(__webpack_require__.bind(null, /*! ./layouts/admin-layout/admin-layout.module */ "./src/app/layouts/admin-layout/admin-layout.module.ts")).then(function (m) { return m.AdminLayoutModule; }); }
            },
            { path: 'business-control-verify', component: _pages_business_control_verify_business_control_verify_component__WEBPACK_IMPORTED_MODULE_9__["BusinessControlVerifyComponent"] },
        ]
    }, {
        path: '',
        component: _layouts_admin_layout_admin_layout_component__WEBPACK_IMPORTED_MODULE_4__["AdminLayoutComponent"],
        children: [
            {
                path: '',
                loadChildren: function () { return __webpack_require__.e(/*! import() | layouts-admin-layout-admin-layout-module */ "layouts-admin-layout-admin-layout-module").then(__webpack_require__.bind(null, /*! ./layouts/admin-layout/admin-layout.module */ "./src/app/layouts/admin-layout/admin-layout.module.ts")).then(function (m) { return m.AdminLayoutModule; }); }
            },
            { path: 'account-control', component: _pages_account_control_account_control_component__WEBPACK_IMPORTED_MODULE_10__["AccountControlComponent"] },
        ]
    },
    {
        path: '',
        component: _layouts_auth_layout_auth_layout_component__WEBPACK_IMPORTED_MODULE_5__["AuthLayoutComponent"],
        children: [
            {
                path: '',
                loadChildren: function () { return __webpack_require__.e(/*! import() | layouts-auth-layout-auth-layout-module */ "layouts-auth-layout-auth-layout-module").then(__webpack_require__.bind(null, /*! ./layouts/auth-layout/auth-layout.module */ "./src/app/layouts/auth-layout/auth-layout.module.ts")).then(function (m) { return m.AuthLayoutModule; }); }
            }
        ]
    }, {
        path: '**',
        redirectTo: 'user-profile'
    }
];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__["BrowserModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"].forRoot(routes, {
                    useHash: true
                })
            ],
            exports: [],
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/components/components.module.ts":
/*!*************************************************!*\
  !*** ./src/app/components/components.module.ts ***!
  \*************************************************/
/*! exports provided: ComponentsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComponentsModule", function() { return ComponentsModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/__ivy_ngcc__/fesm5/common.js");
/* harmony import */ var _sidebar_sidebar_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sidebar/sidebar.component */ "./src/app/components/sidebar/sidebar.component.ts");
/* harmony import */ var _navbar_navbar_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./navbar/navbar.component */ "./src/app/components/navbar/navbar.component.ts");
/* harmony import */ var _footer_footer_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./footer/footer.component */ "./src/app/components/footer/footer.component.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/__ivy_ngcc__/fesm5/router.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/__ivy_ngcc__/fesm5/ng-bootstrap.js");
/* harmony import */ var _loading_loading_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./loading/loading.component */ "./src/app/components/loading/loading.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};








var ComponentsModule = /** @class */ (function () {
    function ComponentsModule() {
    }
    ComponentsModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_5__["RouterModule"],
                _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_6__["NgbModule"]
            ],
            declarations: [
                _footer_footer_component__WEBPACK_IMPORTED_MODULE_4__["FooterComponent"],
                _navbar_navbar_component__WEBPACK_IMPORTED_MODULE_3__["NavbarComponent"],
                _sidebar_sidebar_component__WEBPACK_IMPORTED_MODULE_2__["SidebarComponent"],
                _loading_loading_component__WEBPACK_IMPORTED_MODULE_7__["LoadingComponent"]
            ],
            exports: [
                _footer_footer_component__WEBPACK_IMPORTED_MODULE_4__["FooterComponent"],
                _navbar_navbar_component__WEBPACK_IMPORTED_MODULE_3__["NavbarComponent"],
                _sidebar_sidebar_component__WEBPACK_IMPORTED_MODULE_2__["SidebarComponent"],
                _loading_loading_component__WEBPACK_IMPORTED_MODULE_7__["LoadingComponent"]
            ]
        })
    ], ComponentsModule);
    return ComponentsModule;
}());



/***/ }),

/***/ "./src/app/components/footer/footer.component.scss":
/*!*********************************************************!*\
  !*** ./src/app/components/footer/footer.component.scss ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvZm9vdGVyL2Zvb3Rlci5jb21wb25lbnQuc2NzcyJ9 */");

/***/ }),

/***/ "./src/app/components/footer/footer.component.ts":
/*!*******************************************************!*\
  !*** ./src/app/components/footer/footer.component.ts ***!
  \*******************************************************/
/*! exports provided: FooterComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FooterComponent", function() { return FooterComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var src_app_services_summary_resume_summary_resume_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/summary-resume/summary-resume.service */ "./src/app/services/summary-resume/summary-resume.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};


var FooterComponent = /** @class */ (function () {
    function FooterComponent(_summaryResumeService) {
        this._summaryResumeService = _summaryResumeService;
        this.test = new Date();
    }
    FooterComponent.prototype.ngOnInit = function () {
        this.getData();
    };
    FooterComponent.prototype.getData = function () {
        var _this = this;
        this._summaryResumeService.GetProfile().subscribe(function (data) {
            _this.Summary = data;
        });
    };
    FooterComponent.ctorParameters = function () { return [
        { type: src_app_services_summary_resume_summary_resume_service__WEBPACK_IMPORTED_MODULE_1__["SummaryResumeService"] }
    ]; };
    FooterComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-footer',
            template: __importDefault(__webpack_require__(/*! raw-loader!./footer.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/components/footer/footer.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./footer.component.scss */ "./src/app/components/footer/footer.component.scss")).default]
        }),
        __metadata("design:paramtypes", [src_app_services_summary_resume_summary_resume_service__WEBPACK_IMPORTED_MODULE_1__["SummaryResumeService"]])
    ], FooterComponent);
    return FooterComponent;
}());



/***/ }),

/***/ "./src/app/components/loading/loading.component.css":
/*!**********************************************************!*\
  !*** ./src/app/components/loading/loading.component.css ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("body {\n    background: #333;\n}\n\n.loader {\n    width: 100%;\n    margin: 0 auto;\n    border-radius: 10px;\n    border: 4px solid transparent;\n    position: relative;\n    padding: 1px;\n}\n\n.loader:before {\n    content: '';\n    position: absolute;\n    top: -4px;\n    right: -4px;\n    bottom: -4px;\n    left: -4px;\n}\n\n.loader .loaderBar {\n    position: absolute;\n    border-radius: 10px;\n    top: 0;\n    right: 100%;\n    bottom: 0;\n    left: 0;\n    background: #fff;\n    width: 0;\n    -webkit-animation: borealisBar 2s linear infinite;\n            animation: borealisBar 2s linear infinite;\n}\n\n@-webkit-keyframes borealisBar {\n    0% {\n        left: 0%;\n        right: 100%;\n        width: 0%;\n    }\n\n    10% {\n        left: 0%;\n        right: 75%;\n        width: 25%;\n    }\n\n    90% {\n        right: 0%;\n        left: 75%;\n        width: 25%;\n    }\n\n    100% {\n        left: 100%;\n        right: 0%;\n        width: 0%;\n    }\n}\n\n@keyframes borealisBar {\n    0% {\n        left: 0%;\n        right: 100%;\n        width: 0%;\n    }\n\n    10% {\n        left: 0%;\n        right: 75%;\n        width: 25%;\n    }\n\n    90% {\n        right: 0%;\n        left: 75%;\n        width: 25%;\n    }\n\n    100% {\n        left: 100%;\n        right: 0%;\n        width: 0%;\n    }\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9sb2FkaW5nL2xvYWRpbmcuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxjQUFjO0lBQ2QsbUJBQW1CO0lBQ25CLDZCQUE2QjtJQUM3QixrQkFBa0I7SUFDbEIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxrQkFBa0I7SUFDbEIsU0FBUztJQUNULFdBQVc7SUFDWCxZQUFZO0lBQ1osVUFBVTtBQUNkOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLG1CQUFtQjtJQUNuQixNQUFNO0lBQ04sV0FBVztJQUNYLFNBQVM7SUFDVCxPQUFPO0lBQ1AsZ0JBQWdCO0lBQ2hCLFFBQVE7SUFDUixpREFBeUM7WUFBekMseUNBQXlDO0FBQzdDOztBQUVBO0lBQ0k7UUFDSSxRQUFRO1FBQ1IsV0FBVztRQUNYLFNBQVM7SUFDYjs7SUFFQTtRQUNJLFFBQVE7UUFDUixVQUFVO1FBQ1YsVUFBVTtJQUNkOztJQUVBO1FBQ0ksU0FBUztRQUNULFNBQVM7UUFDVCxVQUFVO0lBQ2Q7O0lBRUE7UUFDSSxVQUFVO1FBQ1YsU0FBUztRQUNULFNBQVM7SUFDYjtBQUNKOztBQXhCQTtJQUNJO1FBQ0ksUUFBUTtRQUNSLFdBQVc7UUFDWCxTQUFTO0lBQ2I7O0lBRUE7UUFDSSxRQUFRO1FBQ1IsVUFBVTtRQUNWLFVBQVU7SUFDZDs7SUFFQTtRQUNJLFNBQVM7UUFDVCxTQUFTO1FBQ1QsVUFBVTtJQUNkOztJQUVBO1FBQ0ksVUFBVTtRQUNWLFNBQVM7UUFDVCxTQUFTO0lBQ2I7QUFDSiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvbG9hZGluZy9sb2FkaW5nLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJib2R5IHtcbiAgICBiYWNrZ3JvdW5kOiAjMzMzO1xufVxuXG4ubG9hZGVyIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICAgIGJvcmRlcjogNHB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBwYWRkaW5nOiAxcHg7XG59XG5cbi5sb2FkZXI6YmVmb3JlIHtcbiAgICBjb250ZW50OiAnJztcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAtNHB4O1xuICAgIHJpZ2h0OiAtNHB4O1xuICAgIGJvdHRvbTogLTRweDtcbiAgICBsZWZ0OiAtNHB4O1xufVxuXG4ubG9hZGVyIC5sb2FkZXJCYXIge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICAgIHRvcDogMDtcbiAgICByaWdodDogMTAwJTtcbiAgICBib3R0b206IDA7XG4gICAgbGVmdDogMDtcbiAgICBiYWNrZ3JvdW5kOiAjZmZmO1xuICAgIHdpZHRoOiAwO1xuICAgIGFuaW1hdGlvbjogYm9yZWFsaXNCYXIgMnMgbGluZWFyIGluZmluaXRlO1xufVxuXG5Aa2V5ZnJhbWVzIGJvcmVhbGlzQmFyIHtcbiAgICAwJSB7XG4gICAgICAgIGxlZnQ6IDAlO1xuICAgICAgICByaWdodDogMTAwJTtcbiAgICAgICAgd2lkdGg6IDAlO1xuICAgIH1cblxuICAgIDEwJSB7XG4gICAgICAgIGxlZnQ6IDAlO1xuICAgICAgICByaWdodDogNzUlO1xuICAgICAgICB3aWR0aDogMjUlO1xuICAgIH1cblxuICAgIDkwJSB7XG4gICAgICAgIHJpZ2h0OiAwJTtcbiAgICAgICAgbGVmdDogNzUlO1xuICAgICAgICB3aWR0aDogMjUlO1xuICAgIH1cblxuICAgIDEwMCUge1xuICAgICAgICBsZWZ0OiAxMDAlO1xuICAgICAgICByaWdodDogMCU7XG4gICAgICAgIHdpZHRoOiAwJTtcbiAgICB9XG59Il19 */");

/***/ }),

/***/ "./src/app/components/loading/loading.component.ts":
/*!*********************************************************!*\
  !*** ./src/app/components/loading/loading.component.ts ***!
  \*********************************************************/
/*! exports provided: LoadingComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoadingComponent", function() { return LoadingComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};

var LoadingComponent = /** @class */ (function () {
    function LoadingComponent() {
    }
    LoadingComponent.prototype.ngOnInit = function () {
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], LoadingComponent.prototype, "message", void 0);
    LoadingComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-loading',
            template: __importDefault(__webpack_require__(/*! raw-loader!./loading.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/components/loading/loading.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./loading.component.css */ "./src/app/components/loading/loading.component.css")).default]
        }),
        __metadata("design:paramtypes", [])
    ], LoadingComponent);
    return LoadingComponent;
}());



/***/ }),

/***/ "./src/app/components/navbar/navbar.component.scss":
/*!*********************************************************!*\
  !*** ./src/app/components/navbar/navbar.component.scss ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvbmF2YmFyL25hdmJhci5jb21wb25lbnQuc2NzcyJ9 */");

/***/ }),

/***/ "./src/app/components/navbar/navbar.component.ts":
/*!*******************************************************!*\
  !*** ./src/app/components/navbar/navbar.component.ts ***!
  \*******************************************************/
/*! exports provided: NavbarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavbarComponent", function() { return NavbarComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var _sidebar_sidebar_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../sidebar/sidebar.component */ "./src/app/components/sidebar/sidebar.component.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/__ivy_ngcc__/fesm5/common.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/__ivy_ngcc__/fesm5/router.js");
/* harmony import */ var src_app_services_summary_resume_summary_resume_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/summary-resume/summary-resume.service */ "./src/app/services/summary-resume/summary-resume.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};





var NavbarComponent = /** @class */ (function () {
    function NavbarComponent(location, element, router, _summaryResumeService) {
        this.element = element;
        this.router = router;
        this._summaryResumeService = _summaryResumeService;
        this.location = location;
    }
    NavbarComponent.prototype.ngOnInit = function () {
        this.listTitles = _sidebar_sidebar_component__WEBPACK_IMPORTED_MODULE_1__["ROUTES"].filter(function (listTitle) { return listTitle; });
        this.getData();
    };
    NavbarComponent.prototype.getTitle = function () {
        var titlee = this.location.prepareExternalUrl(this.location.path());
        if (titlee.charAt(0) === '#') {
            titlee = titlee.slice(1);
        }
        for (var item = 0; item < this.listTitles.length; item++) {
            if (this.listTitles[item].path === titlee) {
                return this.listTitles[item].title;
            }
        }
        return 'Dashboard';
    };
    NavbarComponent.prototype.getData = function () {
        var _this = this;
        this._summaryResumeService.GetProfile().subscribe(function (data) {
            _this.Summary = data;
        });
    };
    NavbarComponent.ctorParameters = function () { return [
        { type: _angular_common__WEBPACK_IMPORTED_MODULE_2__["Location"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"] },
        { type: src_app_services_summary_resume_summary_resume_service__WEBPACK_IMPORTED_MODULE_4__["SummaryResumeService"] }
    ]; };
    NavbarComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-navbar',
            template: __importDefault(__webpack_require__(/*! raw-loader!./navbar.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/components/navbar/navbar.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./navbar.component.scss */ "./src/app/components/navbar/navbar.component.scss")).default]
        }),
        __metadata("design:paramtypes", [_angular_common__WEBPACK_IMPORTED_MODULE_2__["Location"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"], _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"], src_app_services_summary_resume_summary_resume_service__WEBPACK_IMPORTED_MODULE_4__["SummaryResumeService"]])
    ], NavbarComponent);
    return NavbarComponent;
}());



/***/ }),

/***/ "./src/app/components/sidebar/sidebar.component.scss":
/*!***********************************************************!*\
  !*** ./src/app/components/sidebar/sidebar.component.scss ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".hide {\n  display: none;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL1N1bW1hcnlSZXN1bWUvU3VtbWFyeVJlc3VtZS9zcmMvYXBwL2NvbXBvbmVudHMvc2lkZWJhci9zaWRlYmFyLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jb21wb25lbnRzL3NpZGViYXIvc2lkZWJhci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGFBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvc2lkZWJhci9zaWRlYmFyLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmhpZGUge1xuICAgIGRpc3BsYXk6IG5vbmU7XG59IiwiLmhpZGUge1xuICBkaXNwbGF5OiBub25lO1xufSJdfQ== */");

/***/ }),

/***/ "./src/app/components/sidebar/sidebar.component.ts":
/*!*********************************************************!*\
  !*** ./src/app/components/sidebar/sidebar.component.ts ***!
  \*********************************************************/
/*! exports provided: ROUTES, SidebarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ROUTES", function() { return ROUTES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SidebarComponent", function() { return SidebarComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/__ivy_ngcc__/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};


var ROUTES = [
    // { path: '/dashboard', title: 'Dashboard',  icon: 'ni-tv-2 text-primary', class: '' },
    // { path: '/icons', title: 'Icons',  icon:'ni-planet text-blue', class: '' },
    // { path: '/maps', title: 'Maps',  icon:'ni-pin-3 text-orange', class: '' },
    { path: '/user-profile', title: 'Perfil', icon: 'ni-single-02 text-yellow', class: '' },
    { path: '/briefcases', title: 'Portafolio', icon: 'ni-tv-2 text-primary', class: '' },
    { path: '/account-control', title: 'Cuentas', icon: 'ni-credit-card text-default', class: '' },
    { path: '/account-control-settings', title: 'Configuracion de Cuentas', icon: 'ni-building text-success', class: 'hide' },
    { path: '/business-control', title: 'Negocio', icon: 'ni-building text-success', class: '' },
    { path: '/business-control-verify', title: 'Verificacion', icon: 'ni ni-atom text-warn', class: 'hide' },
];
var SidebarComponent = /** @class */ (function () {
    function SidebarComponent(router) {
        this.router = router;
        this.isCollapsed = true;
    }
    SidebarComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.menuItems = ROUTES.filter(function (menuItem) { return menuItem; });
        this.router.events.subscribe(function (event) {
            _this.isCollapsed = true;
        });
    };
    SidebarComponent.ctorParameters = function () { return [
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] }
    ]; };
    SidebarComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-sidebar',
            template: __importDefault(__webpack_require__(/*! raw-loader!./sidebar.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/components/sidebar/sidebar.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./sidebar.component.scss */ "./src/app/components/sidebar/sidebar.component.scss")).default]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]])
    ], SidebarComponent);
    return SidebarComponent;
}());



/***/ }),

/***/ "./src/app/entities/account-control.ts":
/*!*********************************************!*\
  !*** ./src/app/entities/account-control.ts ***!
  \*********************************************/
/*! exports provided: AccountConstant */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountConstant", function() { return AccountConstant; });
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
var AccountConstant = /** @class */ (function () {
    function AccountConstant() {
    }
    AccountConstant.TRANSACTION_TYPE_INCOME = 'income';
    AccountConstant.TRANSACTION_TYPE_EXPENSE = 'expense';
    AccountConstant.ACCOUNT_BILLETERA = 'Billetera';
    return AccountConstant;
}());



/***/ }),

/***/ "./src/app/layouts/admin-layout/admin-layout.component.scss":
/*!******************************************************************!*\
  !*** ./src/app/layouts/admin-layout/admin-layout.component.scss ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xheW91dHMvYWRtaW4tbGF5b3V0L2FkbWluLWxheW91dC5jb21wb25lbnQuc2NzcyJ9 */");

/***/ }),

/***/ "./src/app/layouts/admin-layout/admin-layout.component.ts":
/*!****************************************************************!*\
  !*** ./src/app/layouts/admin-layout/admin-layout.component.ts ***!
  \****************************************************************/
/*! exports provided: AdminLayoutComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdminLayoutComponent", function() { return AdminLayoutComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};

var AdminLayoutComponent = /** @class */ (function () {
    function AdminLayoutComponent() {
    }
    AdminLayoutComponent.prototype.ngOnInit = function () {
    };
    AdminLayoutComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-admin-layout',
            template: __importDefault(__webpack_require__(/*! raw-loader!./admin-layout.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/layouts/admin-layout/admin-layout.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./admin-layout.component.scss */ "./src/app/layouts/admin-layout/admin-layout.component.scss")).default]
        }),
        __metadata("design:paramtypes", [])
    ], AdminLayoutComponent);
    return AdminLayoutComponent;
}());



/***/ }),

/***/ "./src/app/layouts/auth-layout/auth-layout.component.scss":
/*!****************************************************************!*\
  !*** ./src/app/layouts/auth-layout/auth-layout.component.scss ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xheW91dHMvYXV0aC1sYXlvdXQvYXV0aC1sYXlvdXQuY29tcG9uZW50LnNjc3MifQ== */");

/***/ }),

/***/ "./src/app/layouts/auth-layout/auth-layout.component.ts":
/*!**************************************************************!*\
  !*** ./src/app/layouts/auth-layout/auth-layout.component.ts ***!
  \**************************************************************/
/*! exports provided: AuthLayoutComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthLayoutComponent", function() { return AuthLayoutComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/__ivy_ngcc__/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};


var AuthLayoutComponent = /** @class */ (function () {
    function AuthLayoutComponent(router) {
        this.router = router;
        this.test = new Date();
        this.isCollapsed = true;
    }
    AuthLayoutComponent.prototype.ngOnInit = function () {
        var _this = this;
        var html = document.getElementsByTagName("html")[0];
        html.classList.add("auth-layout");
        var body = document.getElementsByTagName("body")[0];
        body.classList.add("bg-default");
        this.router.events.subscribe(function (event) {
            _this.isCollapsed = true;
        });
    };
    AuthLayoutComponent.prototype.ngOnDestroy = function () {
        var html = document.getElementsByTagName("html")[0];
        html.classList.remove("auth-layout");
        var body = document.getElementsByTagName("body")[0];
        body.classList.remove("bg-default");
    };
    AuthLayoutComponent.ctorParameters = function () { return [
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] }
    ]; };
    AuthLayoutComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-auth-layout',
            template: __importDefault(__webpack_require__(/*! raw-loader!./auth-layout.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/layouts/auth-layout/auth-layout.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./auth-layout.component.scss */ "./src/app/layouts/auth-layout/auth-layout.component.scss")).default]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]])
    ], AuthLayoutComponent);
    return AuthLayoutComponent;
}());



/***/ }),

/***/ "./src/app/pages/account-control/account-control-list-budgets/account-control-list-budgets.component.css":
/*!***************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/account-control-list-budgets/account-control-list-budgets.component.css ***!
  \***************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".keywords-container {\n    display: -webkit-box;\n    display: flex;\n    flex-wrap: wrap;\n    gap: 5px;\n    padding: 5px 0;\n}\n\n.keyword-badge {\n    display: -webkit-box;\n    display: flex;\n    -webkit-box-align: center;\n            align-items: center;\n    gap: 3px;\n    margin-bottom: 5px;\n}\n\n.is-invalid {\n    border-color: red;\n}\n\n.text-danger {\n    color: red;\n}\n\n.table-responsive {\n    overflow-x: auto;\n    /* Habilita el desplazamiento horizontal */\n    -webkit-overflow-scrolling: touch;\n    /* Mejora la experiencia de desplazamiento en iOS */\n}\n\n.table-container {\n    width: 100%;\n    /* Asegura que el contenedor ocupe el 100% del espacio disponible */\n}\n\n.keywords-container {\n    display: -webkit-box;\n    display: flex;\n    flex-wrap: wrap;\n    /* Coloca los badges en varias líneas */\n    gap: 4px;\n    max-width: 250px;\n    /* Opcional: Ajusta el ancho máximo para las keywords */\n}\n\n.btn-sm.bg-gradient-dark {\n    margin-right: 4px;\n    /* Espacio entre badges */\n}\n\n.table-col-nombre {\n    min-width: 150px;\n    /* Define el ancho mínimo deseado */\n}\n\n/* Estilo para filas pares */\n\ntable.table tbody tr:nth-child(even) {\n    background-color: #f9f9f9;\n    /* Color gris claro */\n}\n\n.card-profile-stats {\n    display: -webkit-box;\n    display: flex;\n    flex-wrap: wrap;\n    gap: 1rem;\n    /* Añade espacio entre los elementos */\n}\n\n.budget-item {\n    min-width: 120px;\n    /* Ancho mínimo para cada elemento */\n    padding: 0.5rem;\n    -webkit-box-flex: 1;\n            flex: 1 1 30%;\n    /* Los elementos ocupan 30% del ancho en pantallas grandes */\n}\n\n/* En pantallas pequeñas, se organiza en columnas */\n\n@media (max-width: 576px) {\n    .card-profile-stats {\n        -webkit-box-orient: vertical;\n        -webkit-box-direction: normal;\n                flex-direction: column;\n        -webkit-box-align: center;\n                align-items: center;\n    }\n\n    .budget-item {\n        width: 100%;\n        /* Cada elemento toma el 100% del ancho en pantallas pequeñas */\n    }\n}\n\n.nav-item {\n    cursor: pointer;\n}\n\n/* Personalizar el estilo de la barra de scroll en el contenedor de transacciones */\n\n.scroll-container::-webkit-scrollbar {\n    width: 8px;\n}\n\n.scroll-container::-webkit-scrollbar-thumb {\n    background-color: #aaa;\n    border-radius: 4px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYWNjb3VudC1jb250cm9sL2FjY291bnQtY29udHJvbC1saXN0LWJ1ZGdldHMvYWNjb3VudC1jb250cm9sLWxpc3QtYnVkZ2V0cy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksb0JBQWE7SUFBYixhQUFhO0lBQ2IsZUFBZTtJQUNmLFFBQVE7SUFDUixjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksb0JBQWE7SUFBYixhQUFhO0lBQ2IseUJBQW1CO1lBQW5CLG1CQUFtQjtJQUNuQixRQUFRO0lBQ1Isa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksVUFBVTtBQUNkOztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLDBDQUEwQztJQUMxQyxpQ0FBaUM7SUFDakMsbURBQW1EO0FBQ3ZEOztBQUVBO0lBQ0ksV0FBVztJQUNYLG1FQUFtRTtBQUN2RTs7QUFFQTtJQUNJLG9CQUFhO0lBQWIsYUFBYTtJQUNiLGVBQWU7SUFDZix1Q0FBdUM7SUFDdkMsUUFBUTtJQUNSLGdCQUFnQjtJQUNoQix1REFBdUQ7QUFDM0Q7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLG1DQUFtQztBQUN2Qzs7QUFFQSw0QkFBNEI7O0FBQzVCO0lBQ0kseUJBQXlCO0lBQ3pCLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLG9CQUFhO0lBQWIsYUFBYTtJQUNiLGVBQWU7SUFDZixTQUFTO0lBQ1Qsc0NBQXNDO0FBQzFDOztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLG9DQUFvQztJQUNwQyxlQUFlO0lBQ2YsbUJBQWE7WUFBYixhQUFhO0lBQ2IsNERBQTREO0FBQ2hFOztBQUVBLG1EQUFtRDs7QUFDbkQ7SUFDSTtRQUNJLDRCQUFzQjtRQUF0Qiw2QkFBc0I7Z0JBQXRCLHNCQUFzQjtRQUN0Qix5QkFBbUI7Z0JBQW5CLG1CQUFtQjtJQUN2Qjs7SUFFQTtRQUNJLFdBQVc7UUFDWCwrREFBK0Q7SUFDbkU7QUFDSjs7QUFFQTtJQUNJLGVBQWU7QUFDbkI7O0FBRUEsbUZBQW1GOztBQUNuRjtJQUNJLFVBQVU7QUFDZDs7QUFFQTtJQUNJLHNCQUFzQjtJQUN0QixrQkFBa0I7QUFDdEIiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9hY2NvdW50LWNvbnRyb2wvYWNjb3VudC1jb250cm9sLWxpc3QtYnVkZ2V0cy9hY2NvdW50LWNvbnRyb2wtbGlzdC1idWRnZXRzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIua2V5d29yZHMtY29udGFpbmVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICBnYXA6IDVweDtcbiAgICBwYWRkaW5nOiA1cHggMDtcbn1cblxuLmtleXdvcmQtYmFkZ2Uge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBnYXA6IDNweDtcbiAgICBtYXJnaW4tYm90dG9tOiA1cHg7XG59XG5cbi5pcy1pbnZhbGlkIHtcbiAgICBib3JkZXItY29sb3I6IHJlZDtcbn1cblxuLnRleHQtZGFuZ2VyIHtcbiAgICBjb2xvcjogcmVkO1xufVxuXG4udGFibGUtcmVzcG9uc2l2ZSB7XG4gICAgb3ZlcmZsb3cteDogYXV0bztcbiAgICAvKiBIYWJpbGl0YSBlbCBkZXNwbGF6YW1pZW50byBob3Jpem9udGFsICovXG4gICAgLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6IHRvdWNoO1xuICAgIC8qIE1lam9yYSBsYSBleHBlcmllbmNpYSBkZSBkZXNwbGF6YW1pZW50byBlbiBpT1MgKi9cbn1cblxuLnRhYmxlLWNvbnRhaW5lciB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgLyogQXNlZ3VyYSBxdWUgZWwgY29udGVuZWRvciBvY3VwZSBlbCAxMDAlIGRlbCBlc3BhY2lvIGRpc3BvbmlibGUgKi9cbn1cblxuLmtleXdvcmRzLWNvbnRhaW5lciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAgLyogQ29sb2NhIGxvcyBiYWRnZXMgZW4gdmFyaWFzIGzDrW5lYXMgKi9cbiAgICBnYXA6IDRweDtcbiAgICBtYXgtd2lkdGg6IDI1MHB4O1xuICAgIC8qIE9wY2lvbmFsOiBBanVzdGEgZWwgYW5jaG8gbcOheGltbyBwYXJhIGxhcyBrZXl3b3JkcyAqL1xufVxuXG4uYnRuLXNtLmJnLWdyYWRpZW50LWRhcmsge1xuICAgIG1hcmdpbi1yaWdodDogNHB4O1xuICAgIC8qIEVzcGFjaW8gZW50cmUgYmFkZ2VzICovXG59XG5cbi50YWJsZS1jb2wtbm9tYnJlIHtcbiAgICBtaW4td2lkdGg6IDE1MHB4O1xuICAgIC8qIERlZmluZSBlbCBhbmNobyBtw61uaW1vIGRlc2VhZG8gKi9cbn1cblxuLyogRXN0aWxvIHBhcmEgZmlsYXMgcGFyZXMgKi9cbnRhYmxlLnRhYmxlIHRib2R5IHRyOm50aC1jaGlsZChldmVuKSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjlmOTtcbiAgICAvKiBDb2xvciBncmlzIGNsYXJvICovXG59XG5cbi5jYXJkLXByb2ZpbGUtc3RhdHMge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC13cmFwOiB3cmFwO1xuICAgIGdhcDogMXJlbTtcbiAgICAvKiBBw7FhZGUgZXNwYWNpbyBlbnRyZSBsb3MgZWxlbWVudG9zICovXG59XG5cbi5idWRnZXQtaXRlbSB7XG4gICAgbWluLXdpZHRoOiAxMjBweDtcbiAgICAvKiBBbmNobyBtw61uaW1vIHBhcmEgY2FkYSBlbGVtZW50byAqL1xuICAgIHBhZGRpbmc6IDAuNXJlbTtcbiAgICBmbGV4OiAxIDEgMzAlO1xuICAgIC8qIExvcyBlbGVtZW50b3Mgb2N1cGFuIDMwJSBkZWwgYW5jaG8gZW4gcGFudGFsbGFzIGdyYW5kZXMgKi9cbn1cblxuLyogRW4gcGFudGFsbGFzIHBlcXVlw7Fhcywgc2Ugb3JnYW5pemEgZW4gY29sdW1uYXMgKi9cbkBtZWRpYSAobWF4LXdpZHRoOiA1NzZweCkge1xuICAgIC5jYXJkLXByb2ZpbGUtc3RhdHMge1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIH1cblxuICAgIC5idWRnZXQtaXRlbSB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAvKiBDYWRhIGVsZW1lbnRvIHRvbWEgZWwgMTAwJSBkZWwgYW5jaG8gZW4gcGFudGFsbGFzIHBlcXVlw7FhcyAqL1xuICAgIH1cbn1cblxuLm5hdi1pdGVtIHtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi8qIFBlcnNvbmFsaXphciBlbCBlc3RpbG8gZGUgbGEgYmFycmEgZGUgc2Nyb2xsIGVuIGVsIGNvbnRlbmVkb3IgZGUgdHJhbnNhY2Npb25lcyAqL1xuLnNjcm9sbC1jb250YWluZXI6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgICB3aWR0aDogOHB4O1xufVxuXG4uc2Nyb2xsLWNvbnRhaW5lcjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNhYWE7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xufSJdfQ== */");

/***/ }),

/***/ "./src/app/pages/account-control/account-control-list-budgets/account-control-list-budgets.component.ts":
/*!**************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/account-control-list-budgets/account-control-list-budgets.component.ts ***!
  \**************************************************************************************************************/
/*! exports provided: AccountControlListBudgetsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountControlListBudgetsComponent", function() { return AccountControlListBudgetsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/entities/account-control */ "./src/app/entities/account-control.ts");
/* harmony import */ var src_app_services_account_control_account_control_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/account-control/account-control.service */ "./src/app/services/account-control/account-control.service.ts");
/* harmony import */ var src_app_services_utils_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/utils/common */ "./src/app/services/utils/common.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};




var AccountControlListBudgetsComponent = /** @class */ (function () {
    function AccountControlListBudgetsComponent(accountService) {
        this.accountService = accountService;
        this.activeTab = 'expense';
        this.categories = [];
        this.budgetSettings = {
            categories: [],
            totalIncome: 0,
            totalExpense: 0,
            savingsGoal: 0
        };
        this.currentTotalIncome = 0;
        this.currentTotalExpense = 0;
        this.currentSavingsGoal = 0;
        this.currentMonth = new Date();
    }
    Object.defineProperty(AccountControlListBudgetsComponent.prototype, "settingsData", {
        get: function () {
            return this._settingsData;
        },
        set: function (value) {
            if (value) {
                this.onSettingsDataChange(value);
            }
        },
        enumerable: true,
        configurable: true
    });
    AccountControlListBudgetsComponent.prototype.ngOnInit = function () {
    };
    AccountControlListBudgetsComponent.prototype.ngOnChanges = function (changes) {
        if (changes.settingsData && !changes.settingsData.firstChange) {
            this.onSettingsDataChange(this._settingsData);
        }
    };
    AccountControlListBudgetsComponent.prototype.onSettingsDataChange = function (value) {
        this._settingsData = JSON.parse(JSON.stringify(value));
        if (value && value.budgetSettings) {
            this.calculeAmounts();
        }
    };
    AccountControlListBudgetsComponent.prototype.calculeAmounts = function () {
        this.categories = this._settingsData.budgetSettings.categories;
        this.budgetSettings = this._settingsData.budgetSettings;
        this.currentTotalIncome = this.categories.filter(function (c) { return c.type === src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_1__["AccountConstant"].TRANSACTION_TYPE_INCOME; })
            .reduce(function (acc, curr) { return acc + curr.currentAmmount; }, 0);
        this.currentTotalExpense = this.categories.filter(function (c) { return c.type === src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_1__["AccountConstant"].TRANSACTION_TYPE_EXPENSE; })
            .reduce(function (acc, curr) { return acc + curr.currentAmmount; }, 0);
        this.currentSavingsGoal = this.currentTotalIncome - this.currentTotalExpense;
    };
    AccountControlListBudgetsComponent.prototype.calculatePercentage = function (currentAmmount, budget) {
        if (budget === 0)
            return 0;
        return Math.round((currentAmmount / budget) * 100);
    };
    AccountControlListBudgetsComponent.prototype.getCategoriesByType = function (type) {
        return this.categories.filter(function (category) {
            return category.type === (type === 'income' ? src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_1__["AccountConstant"].TRANSACTION_TYPE_INCOME : src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_1__["AccountConstant"].TRANSACTION_TYPE_EXPENSE);
        })
            .sort(function (a, b) { return b.currentAmmount - a.currentAmmount; });
    };
    AccountControlListBudgetsComponent.prototype.setActiveTab = function (type) {
        this.activeTab = type;
    };
    AccountControlListBudgetsComponent.prototype.getTransactions = function (category) {
        var _a, _b;
        // Crea un mapa para acumular las transacciones por día
        var transactionsMap = new Map();
        // Itera sobre las transacciones del mes actual
        (_b = (_a = category) === null || _a === void 0 ? void 0 : _a.transactionCurrentMonth) === null || _b === void 0 ? void 0 : _b.forEach(function (t) {
            var day = Object(src_app_services_utils_common__WEBPACK_IMPORTED_MODULE_3__["formatDateSimpleAnibal"])(t.date);
            var value = t.amount;
            var transaction = { description: t.description, type: t.type, amount: t.amount };
            // Si ya existen transacciones para el mismo día, acumula el valor y añade la transacción
            if (transactionsMap.has(day)) {
                var existingEntry = transactionsMap.get(day);
                if (existingEntry) {
                    existingEntry.total += value;
                    existingEntry.transactions.push(transaction);
                }
            }
            else {
                // Si es la primera transacción del día, crea una nueva entrada
                transactionsMap.set(day, { total: value, transactions: [transaction] });
            }
        });
        // Convierte el mapa en un array
        var response = Array.from(transactionsMap, function (_a) {
            var day = _a[0], data = _a[1];
            return (__assign({ day: day }, data));
        })
            .sort(function (a, b) { return a.day.localeCompare(b.day); });
        return response;
    };
    AccountControlListBudgetsComponent.prototype.changeCurrentMonth = function (date) {
        var _this = this;
        var _a, _b;
        this.currentMonth = date;
        console.log(this.currentMonth);
        if (this._settingsData && this._settingsData.budgetSettings && this.currentMonth != this.lastSyncDate) {
            this.lastSyncDate = new Date(this.currentMonth);
            this._settingsData.budgetSettings.lastSyncDate = this.lastSyncDate;
            this._settingsData.budgetSettings.categories.forEach(function (category) {
                category.currentAmmount = 0;
                category.transactionCurrentMonth = [];
            });
            (_b = (_a = this._settingsData) === null || _a === void 0 ? void 0 : _a.transactions) === null || _b === void 0 ? void 0 : _b.forEach(function (transaction) {
                transaction.date = new Date(transaction.date);
                _this.accountService.assignCategory(_this._settingsData, transaction, _this.currentMonth);
            });
            this.calculeAmounts();
        }
    };
    AccountControlListBudgetsComponent.prototype.getMonth = function () {
        return this.currentMonth.getMonth() + 1;
    };
    AccountControlListBudgetsComponent.ctorParameters = function () { return [
        { type: src_app_services_account_control_account_control_service__WEBPACK_IMPORTED_MODULE_2__["AccountControlService"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object),
        __metadata("design:paramtypes", [Object])
    ], AccountControlListBudgetsComponent.prototype, "settingsData", null);
    AccountControlListBudgetsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-account-control-list-budgets',
            template: __importDefault(__webpack_require__(/*! raw-loader!./account-control-list-budgets.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/account-control-list-budgets/account-control-list-budgets.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./account-control-list-budgets.component.css */ "./src/app/pages/account-control/account-control-list-budgets/account-control-list-budgets.component.css")).default]
        }),
        __metadata("design:paramtypes", [src_app_services_account_control_account_control_service__WEBPACK_IMPORTED_MODULE_2__["AccountControlService"]])
    ], AccountControlListBudgetsComponent);
    return AccountControlListBudgetsComponent;
}());



/***/ }),

/***/ "./src/app/pages/account-control/account-control-list-transactions/account-control-list-transactions.component.css":
/*!*************************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/account-control-list-transactions/account-control-list-transactions.component.css ***!
  \*************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("/* Personalizar el estilo de la barra de scroll en el contenedor de transacciones */\n.card-body .scroll-container::-webkit-scrollbar {\n    width: 8px;\n}\n.card-body .scroll-container::-webkit-scrollbar-thumb {\n    background-color: #aaa;\n    border-radius: 4px;\n}\n/* En pantallas pequeñas, se organiza en columnas */\n@media (max-width: 576px) {\n    .card-profile-stats {\n        -webkit-box-orient: vertical;\n        -webkit-box-direction: normal;\n                flex-direction: column;\n        -webkit-box-align: center;\n                align-items: center;\n    }\n\n    .budget-item {\n        width: 100%;\n        /* Cada elemento toma el 100% del ancho en pantallas pequeñas */\n    }\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYWNjb3VudC1jb250cm9sL2FjY291bnQtY29udHJvbC1saXN0LXRyYW5zYWN0aW9ucy9hY2NvdW50LWNvbnRyb2wtbGlzdC10cmFuc2FjdGlvbnMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxtRkFBbUY7QUFDbkY7SUFDSSxVQUFVO0FBQ2Q7QUFFQTtJQUNJLHNCQUFzQjtJQUN0QixrQkFBa0I7QUFDdEI7QUFFQSxtREFBbUQ7QUFDbkQ7SUFDSTtRQUNJLDRCQUFzQjtRQUF0Qiw2QkFBc0I7Z0JBQXRCLHNCQUFzQjtRQUN0Qix5QkFBbUI7Z0JBQW5CLG1CQUFtQjtJQUN2Qjs7SUFFQTtRQUNJLFdBQVc7UUFDWCwrREFBK0Q7SUFDbkU7QUFDSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2FjY291bnQtY29udHJvbC9hY2NvdW50LWNvbnRyb2wtbGlzdC10cmFuc2FjdGlvbnMvYWNjb3VudC1jb250cm9sLWxpc3QtdHJhbnNhY3Rpb25zLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBQZXJzb25hbGl6YXIgZWwgZXN0aWxvIGRlIGxhIGJhcnJhIGRlIHNjcm9sbCBlbiBlbCBjb250ZW5lZG9yIGRlIHRyYW5zYWNjaW9uZXMgKi9cbi5jYXJkLWJvZHkgLnNjcm9sbC1jb250YWluZXI6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgICB3aWR0aDogOHB4O1xufVxuXG4uY2FyZC1ib2R5IC5zY3JvbGwtY29udGFpbmVyOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2FhYTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG59XG5cbi8qIEVuIHBhbnRhbGxhcyBwZXF1ZcOxYXMsIHNlIG9yZ2FuaXphIGVuIGNvbHVtbmFzICovXG5AbWVkaWEgKG1heC13aWR0aDogNTc2cHgpIHtcbiAgICAuY2FyZC1wcm9maWxlLXN0YXRzIHtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICB9XG5cbiAgICAuYnVkZ2V0LWl0ZW0ge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgLyogQ2FkYSBlbGVtZW50byB0b21hIGVsIDEwMCUgZGVsIGFuY2hvIGVuIHBhbnRhbGxhcyBwZXF1ZcOxYXMgKi9cbiAgICB9XG59Il19 */");

/***/ }),

/***/ "./src/app/pages/account-control/account-control-list-transactions/account-control-list-transactions.component.ts":
/*!************************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/account-control-list-transactions/account-control-list-transactions.component.ts ***!
  \************************************************************************************************************************/
/*! exports provided: AccountControlListTransactionsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountControlListTransactionsComponent", function() { return AccountControlListTransactionsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/__ivy_ngcc__/fesm5/ng-bootstrap.js");
/* harmony import */ var src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/entities/account-control */ "./src/app/entities/account-control.ts");
/* harmony import */ var _account_control_management_categories_account_control_management_categories_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../account-control-management-categories/account-control-management-categories.component */ "./src/app/pages/account-control/account-control-management-categories/account-control-management-categories.component.ts");
/* harmony import */ var _account_control_management_account_account_control_management_account_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../account-control-management-account/account-control-management-account.component */ "./src/app/pages/account-control/account-control-management-account/account-control-management-account.component.ts");
/* harmony import */ var _account_control_management_transaction_account_control_management_transaction_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../account-control-management-transaction/account-control-management-transaction.component */ "./src/app/pages/account-control/account-control-management-transaction/account-control-management-transaction.component.ts");
/* harmony import */ var _dashboards_account_control_dashboards_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../dashboards/account-control-dashboards.component */ "./src/app/pages/account-control/dashboards/account-control-dashboards.component.ts");
/* harmony import */ var src_app_services_account_control_account_control_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/services/account-control/account-control.service */ "./src/app/services/account-control/account-control.service.ts");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/__ivy_ngcc__/fesm5/ngx-toastr.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
var __spreadArrays = (undefined && undefined.__spreadArrays) || function () {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};









var AccountControlListTransactionsComponent = /** @class */ (function () {
    function AccountControlListTransactionsComponent(modalService, accountService, toastr) {
        this.modalService = modalService;
        this.accountService = accountService;
        this.toastr = toastr;
        this.visibleTransactions = []; // Transacciones visibles en la vista
        this.filteredTransactions = []; // Transacciones filtradas con el input de búsqueda
        this.pageSize = 20; // Número de transacciones por página
        this.currentPage = 0; // Página actual
        this.totalIncome = 0;
        this.totalExpense = 0;
        this.savingsGoal = 0;
        this.isFiltering = false; // Variable para verificar si se está filtrando
        this.onFinish = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    Object.defineProperty(AccountControlListTransactionsComponent.prototype, "transactions", {
        get: function () {
            return this._transactions;
        },
        set: function (value) {
            if (value) {
                this.onSettionsDataChange(value); // Llama a un método cuando el valor cambia
            }
        },
        enumerable: true,
        configurable: true
    });
    AccountControlListTransactionsComponent.prototype.onSettionsDataChange = function (value) {
        this._transactions = JSON.parse(JSON.stringify(value));
        if (value && value.length > 0) {
            this.ngOnInit();
        }
    };
    AccountControlListTransactionsComponent.prototype.ngOnInit = function () {
        this.filteredTransactions = [];
        this.visibleTransactions = [];
        this.currentPage = 0;
        this.resetMetrics();
        this.filteredTransactions = __spreadArrays(this.transactions); // Inicialmente sin filtrar
        this.loadMoreTransactions(); // Carga los primeros 30 registros
        if (this.lastEvent) {
            this.onSearch(this.lastEvent);
        }
    };
    AccountControlListTransactionsComponent.prototype.onScroll = function (event) {
        var element = event.target;
        // Cambia a <= para asegurarte de activar el evento cerca del final
        if (element.scrollHeight - element.scrollTop <= element.clientHeight + 1) {
            this.loadMoreTransactions();
        }
    };
    AccountControlListTransactionsComponent.prototype.onSearch = function (event) {
        this.lastEvent = event;
        var input = event.target.value;
        this.isFiltering = input.length > 0;
        if (this.isFiltering) {
            this.filteredTransactions = this.transactions.filter(function (transaction) {
                return JSON.stringify(transaction).toLowerCase().includes(input.toLowerCase());
            });
            this.calculateMetrics(this.filteredTransactions); // Actualiza métricas
            this.visibleTransactions = this.filteredTransactions.slice(0, 30); // Primera página de resultados
        }
        else {
            this.filteredTransactions = __spreadArrays(this.transactions);
            this.visibleTransactions = this.transactions.slice(0, 30);
            this.resetMetrics(); // Restaura métricas si no hay filtro
        }
    };
    AccountControlListTransactionsComponent.prototype.calculateMetrics = function (transactions) {
        this.totalIncome = transactions
            .filter(function (transaction) { return transaction.type === src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_2__["AccountConstant"].TRANSACTION_TYPE_INCOME; })
            .reduce(function (sum, transaction) { return sum + transaction.amount; }, 0);
        this.totalExpense = transactions
            .filter(function (transaction) { return transaction.type === src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_2__["AccountConstant"].TRANSACTION_TYPE_EXPENSE; })
            .reduce(function (sum, transaction) { return sum + transaction.amount; }, 0);
        this.savingsGoal = this.totalIncome - Math.abs(this.totalExpense);
    };
    AccountControlListTransactionsComponent.prototype.resetMetrics = function () {
        this.totalIncome = 0;
        this.totalExpense = 0;
        this.savingsGoal = 0;
    };
    // Carga la siguiente página de transacciones
    AccountControlListTransactionsComponent.prototype.loadMoreTransactions = function () {
        var startIndex = this.currentPage * this.pageSize;
        var endIndex = startIndex + this.pageSize;
        var newTransactions = this.filteredTransactions.slice(startIndex, endIndex);
        this.visibleTransactions = __spreadArrays(this.visibleTransactions, newTransactions);
        this.currentPage++;
    };
    AccountControlListTransactionsComponent.prototype.openManagementCategories = function (transaction) {
        var _this = this;
        var componentRef = this.modalService.open(_account_control_management_categories_account_control_management_categories_component__WEBPACK_IMPORTED_MODULE_3__["AccountControlManagementCategoriesComponent"], { size: 'xxl' });
        var componentInstance = componentRef.componentInstance;
        componentInstance.transaction = transaction;
        componentInstance.settionsData = this.settionsData;
        componentInstance.onFinish.subscribe(function (data) {
            _this.onFinish.emit();
            componentRef.close();
        });
    };
    AccountControlListTransactionsComponent.prototype.openCreateAccount = function (transaction) {
        var _this = this;
        var componentRef = this.modalService.open(_account_control_management_account_account_control_management_account_component__WEBPACK_IMPORTED_MODULE_4__["AccountControlManagementAccountComponent"], { size: 'xl' });
        var componentInstance = componentRef.componentInstance;
        componentInstance.transaction = transaction;
        componentInstance.onFinish.subscribe(function (data) {
            _this.onFinish.emit();
            componentRef.close();
        });
    };
    AccountControlListTransactionsComponent.prototype.openEditTransaction = function (transaction) {
        var _this = this;
        var componentRef = this.modalService.open(_account_control_management_transaction_account_control_management_transaction_component__WEBPACK_IMPORTED_MODULE_5__["AccountControlManagementTransactionComponent"], { size: 'xl' });
        var componentInstance = componentRef.componentInstance;
        componentInstance.transaction = transaction;
        componentInstance.settingsData = this.settionsData;
        componentInstance.onTransactionSave.subscribe(function (data) {
            _this.onFinish.emit();
            componentRef.close();
        });
    };
    AccountControlListTransactionsComponent.prototype.openDashboards = function () {
        var componentRef = this.modalService.open(_dashboards_account_control_dashboards_component__WEBPACK_IMPORTED_MODULE_6__["AccountControlDashboardsComponent"], { size: 'xxl' });
        var componentInstance = componentRef.componentInstance;
        componentInstance.transactions = this.visibleTransactions;
        componentInstance.settingsData = this.settionsData;
    };
    AccountControlListTransactionsComponent.prototype.deleteTransaction = function (transaction) {
        var result = confirm('¿Estás seguro de que deseas continuar?');
        if (result) {
            this.accountService.deleteTransaction(transaction);
            this.onFinish.emit();
        }
        else {
            this.toastr.info("Operación de eliminación cancelada", "Account Control!!");
        }
    };
    AccountControlListTransactionsComponent.ctorParameters = function () { return [
        { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__["NgbModal"] },
        { type: src_app_services_account_control_account_control_service__WEBPACK_IMPORTED_MODULE_7__["AccountControlService"] },
        { type: ngx_toastr__WEBPACK_IMPORTED_MODULE_8__["ToastrService"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array),
        __metadata("design:paramtypes", [Array])
    ], AccountControlListTransactionsComponent.prototype, "transactions", null);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], AccountControlListTransactionsComponent.prototype, "settionsData", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], AccountControlListTransactionsComponent.prototype, "onFinish", void 0);
    AccountControlListTransactionsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-account-control-list-transactions',
            template: __importDefault(__webpack_require__(/*! raw-loader!./account-control-list-transactions.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/account-control-list-transactions/account-control-list-transactions.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./account-control-list-transactions.component.css */ "./src/app/pages/account-control/account-control-list-transactions/account-control-list-transactions.component.css")).default]
        }),
        __metadata("design:paramtypes", [_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__["NgbModal"], src_app_services_account_control_account_control_service__WEBPACK_IMPORTED_MODULE_7__["AccountControlService"], ngx_toastr__WEBPACK_IMPORTED_MODULE_8__["ToastrService"]])
    ], AccountControlListTransactionsComponent);
    return AccountControlListTransactionsComponent;
}());



/***/ }),

/***/ "./src/app/pages/account-control/account-control-management-account/account-control-management-account.component.css":
/*!***************************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/account-control-management-account/account-control-management-account.component.css ***!
  \***************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2FjY291bnQtY29udHJvbC9hY2NvdW50LWNvbnRyb2wtbWFuYWdlbWVudC1hY2NvdW50L2FjY291bnQtY29udHJvbC1tYW5hZ2VtZW50LWFjY291bnQuY29tcG9uZW50LmNzcyJ9 */");

/***/ }),

/***/ "./src/app/pages/account-control/account-control-management-account/account-control-management-account.component.ts":
/*!**************************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/account-control-management-account/account-control-management-account.component.ts ***!
  \**************************************************************************************************************************/
/*! exports provided: AccountControlManagementAccountComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountControlManagementAccountComponent", function() { return AccountControlManagementAccountComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/__ivy_ngcc__/fesm5/forms.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/__ivy_ngcc__/fesm5/ng-bootstrap.js");
/* harmony import */ var src_app_services_account_control_account_control_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/account-control/account-control.service */ "./src/app/services/account-control/account-control.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};




var AccountControlManagementAccountComponent = /** @class */ (function () {
    function AccountControlManagementAccountComponent(activeModal, fb, accountService) {
        this.activeModal = activeModal;
        this.fb = fb;
        this.accountService = accountService;
        this.disableAccountId = false;
        this.onFinish = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.configuracionForm = this.fb.group({
            accountId: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required],
            accountName: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required],
            accountDescription: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required],
            accountBalance: [0, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required],
            accountIsPrincipal: [false],
            submitted: [false]
        });
    }
    Object.defineProperty(AccountControlManagementAccountComponent.prototype, "transaction", {
        get: function () {
            return this._transaction;
        },
        set: function (value) {
            this._transaction = value;
            this.onTransactionChange(value); // Llama a un método cuando el valor cambia
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AccountControlManagementAccountComponent.prototype, "accountToEdit", {
        get: function () {
            return this._accountEdit;
        },
        set: function (value) {
            this._accountEdit = value;
            this.onAccountChange(value); // Llama a un método cuando el valor cambia
        },
        enumerable: true,
        configurable: true
    });
    AccountControlManagementAccountComponent.prototype.onAccountChange = function (value) {
        if (value) {
            this.disableAccountId = true;
            this.configuracionForm.patchValue({ accountId: value.id });
            this.configuracionForm.patchValue({ accountName: value.name });
            this.configuracionForm.patchValue({ accountDescription: value.description });
            this.configuracionForm.patchValue({ accountBalance: value.balance });
            this.configuracionForm.patchValue({ accountIsPrincipal: value.isPrincipal });
        }
    };
    AccountControlManagementAccountComponent.prototype.onTransactionChange = function (value) {
        if (value) {
            this._transaction.originalAccount = this._transaction.originalAccount.replace("*", "");
            this.configuracionForm.patchValue({ accountId: value.originalAccount });
        }
    };
    AccountControlManagementAccountComponent.prototype.ngOnInit = function () {
    };
    AccountControlManagementAccountComponent.prototype.onSubmitInitial = function () {
        this.configuracionForm.patchValue({ submitted: true });
        if (this.configuracionForm.valid) {
            var formValues = this.configuracionForm.value;
            var account = {
                id: formValues.accountId,
                name: formValues.accountName,
                description: formValues.accountDescription,
                balance: formValues.accountBalance,
                transactions: [],
                lastBalance: 0,
                balanceLastMonth: 0,
                lastTransaction: null,
                isPrincipal: formValues.accountIsPrincipal
            };
            this.accountService.saveAccount(account);
            this.onFinish.emit(account);
        }
    };
    AccountControlManagementAccountComponent.ctorParameters = function () { return [
        { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbActiveModal"] },
        { type: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"] },
        { type: src_app_services_account_control_account_control_service__WEBPACK_IMPORTED_MODULE_3__["AccountControlService"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object),
        __metadata("design:paramtypes", [Object])
    ], AccountControlManagementAccountComponent.prototype, "transaction", null);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object),
        __metadata("design:paramtypes", [Object])
    ], AccountControlManagementAccountComponent.prototype, "accountToEdit", null);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], AccountControlManagementAccountComponent.prototype, "onFinish", void 0);
    AccountControlManagementAccountComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-account-control-management-account',
            template: __importDefault(__webpack_require__(/*! raw-loader!./account-control-management-account.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/account-control-management-account/account-control-management-account.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./account-control-management-account.component.css */ "./src/app/pages/account-control/account-control-management-account/account-control-management-account.component.css")).default]
        }),
        __metadata("design:paramtypes", [_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbActiveModal"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"], src_app_services_account_control_account_control_service__WEBPACK_IMPORTED_MODULE_3__["AccountControlService"]])
    ], AccountControlManagementAccountComponent);
    return AccountControlManagementAccountComponent;
}());



/***/ }),

/***/ "./src/app/pages/account-control/account-control-management-categories/account-control-management-categories.component.css":
/*!*********************************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/account-control-management-categories/account-control-management-categories.component.css ***!
  \*********************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".keywords-container {\n    display: -webkit-box;\n    display: flex;\n    flex-wrap: wrap;\n    gap: 5px;\n    padding: 5px 0;\n}\n\n.keyword-badge {\n    display: -webkit-box;\n    display: flex;\n    -webkit-box-align: center;\n            align-items: center;\n    gap: 3px;\n    margin-bottom: 5px;\n}\n\n.is-invalid {\n    border-color: red;\n}\n\n.text-danger {\n    color: red;\n}\n\n.table-responsive {\n    overflow-x: auto;\n    /* Habilita el desplazamiento horizontal */\n    -webkit-overflow-scrolling: touch;\n    /* Mejora la experiencia de desplazamiento en iOS */\n}\n\n.table-container {\n    width: 100%;\n    /* Asegura que el contenedor ocupe el 100% del espacio disponible */\n}\n\n.keywords-container {\n    display: -webkit-box;\n    display: flex;\n    flex-wrap: wrap;\n    /* Coloca los badges en varias líneas */\n    gap: 4px;\n    max-width: 250px;\n    /* Opcional: Ajusta el ancho máximo para las keywords */\n}\n\n.btn-sm.bg-gradient-dark {\n    margin-right: 4px;\n    /* Espacio entre badges */\n}\n\n.table-col-nombre {\n    min-width: 150px;\n    /* Define el ancho mínimo deseado */\n}\n\n.table-col-categoria {\n    max-width: 400px;\n    /* Define el ancho mínimo deseado */\n}\n\n/* Estilo para filas pares */\n\ntable.table tbody tr:nth-child(even) {\n    background-color: #f9f9f9;\n    /* Color gris claro */\n}\n\n.card-profile-stats {\n    display: -webkit-box;\n    display: flex;\n    flex-wrap: wrap;\n    gap: 1rem;\n    /* Añade espacio entre los elementos */\n}\n\n.budget-item {\n    min-width: 120px;\n    /* Ancho mínimo para cada elemento */\n    padding: 0.5rem;\n    -webkit-box-flex: 1;\n            flex: 1 1 30%;\n    /* Los elementos ocupan 30% del ancho en pantallas grandes */\n}\n\n/* En pantallas pequeñas, se organiza en columnas */\n\n@media (max-width: 576px) {\n    .card-profile-stats {\n        -webkit-box-orient: vertical;\n        -webkit-box-direction: normal;\n                flex-direction: column;\n        -webkit-box-align: center;\n                align-items: center;\n    }\n\n    .budget-item {\n        width: 100%;\n        /* Cada elemento toma el 100% del ancho en pantallas pequeñas */\n    }\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYWNjb3VudC1jb250cm9sL2FjY291bnQtY29udHJvbC1tYW5hZ2VtZW50LWNhdGVnb3JpZXMvYWNjb3VudC1jb250cm9sLW1hbmFnZW1lbnQtY2F0ZWdvcmllcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksb0JBQWE7SUFBYixhQUFhO0lBQ2IsZUFBZTtJQUNmLFFBQVE7SUFDUixjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksb0JBQWE7SUFBYixhQUFhO0lBQ2IseUJBQW1CO1lBQW5CLG1CQUFtQjtJQUNuQixRQUFRO0lBQ1Isa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksVUFBVTtBQUNkOztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLDBDQUEwQztJQUMxQyxpQ0FBaUM7SUFDakMsbURBQW1EO0FBQ3ZEOztBQUVBO0lBQ0ksV0FBVztJQUNYLG1FQUFtRTtBQUN2RTs7QUFFQTtJQUNJLG9CQUFhO0lBQWIsYUFBYTtJQUNiLGVBQWU7SUFDZix1Q0FBdUM7SUFDdkMsUUFBUTtJQUNSLGdCQUFnQjtJQUNoQix1REFBdUQ7QUFDM0Q7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLG1DQUFtQztBQUN2Qzs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixtQ0FBbUM7QUFDdkM7O0FBR0EsNEJBQTRCOztBQUM1QjtJQUNJLHlCQUF5QjtJQUN6QixxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSxvQkFBYTtJQUFiLGFBQWE7SUFDYixlQUFlO0lBQ2YsU0FBUztJQUNULHNDQUFzQztBQUMxQzs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixvQ0FBb0M7SUFDcEMsZUFBZTtJQUNmLG1CQUFhO1lBQWIsYUFBYTtJQUNiLDREQUE0RDtBQUNoRTs7QUFFQSxtREFBbUQ7O0FBQ25EO0lBQ0k7UUFDSSw0QkFBc0I7UUFBdEIsNkJBQXNCO2dCQUF0QixzQkFBc0I7UUFDdEIseUJBQW1CO2dCQUFuQixtQkFBbUI7SUFDdkI7O0lBRUE7UUFDSSxXQUFXO1FBQ1gsK0RBQStEO0lBQ25FO0FBQ0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9hY2NvdW50LWNvbnRyb2wvYWNjb3VudC1jb250cm9sLW1hbmFnZW1lbnQtY2F0ZWdvcmllcy9hY2NvdW50LWNvbnRyb2wtbWFuYWdlbWVudC1jYXRlZ29yaWVzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIua2V5d29yZHMtY29udGFpbmVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICBnYXA6IDVweDtcbiAgICBwYWRkaW5nOiA1cHggMDtcbn1cblxuLmtleXdvcmQtYmFkZ2Uge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBnYXA6IDNweDtcbiAgICBtYXJnaW4tYm90dG9tOiA1cHg7XG59XG5cbi5pcy1pbnZhbGlkIHtcbiAgICBib3JkZXItY29sb3I6IHJlZDtcbn1cblxuLnRleHQtZGFuZ2VyIHtcbiAgICBjb2xvcjogcmVkO1xufVxuXG4udGFibGUtcmVzcG9uc2l2ZSB7XG4gICAgb3ZlcmZsb3cteDogYXV0bztcbiAgICAvKiBIYWJpbGl0YSBlbCBkZXNwbGF6YW1pZW50byBob3Jpem9udGFsICovXG4gICAgLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6IHRvdWNoO1xuICAgIC8qIE1lam9yYSBsYSBleHBlcmllbmNpYSBkZSBkZXNwbGF6YW1pZW50byBlbiBpT1MgKi9cbn1cblxuLnRhYmxlLWNvbnRhaW5lciB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgLyogQXNlZ3VyYSBxdWUgZWwgY29udGVuZWRvciBvY3VwZSBlbCAxMDAlIGRlbCBlc3BhY2lvIGRpc3BvbmlibGUgKi9cbn1cblxuLmtleXdvcmRzLWNvbnRhaW5lciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAgLyogQ29sb2NhIGxvcyBiYWRnZXMgZW4gdmFyaWFzIGzDrW5lYXMgKi9cbiAgICBnYXA6IDRweDtcbiAgICBtYXgtd2lkdGg6IDI1MHB4O1xuICAgIC8qIE9wY2lvbmFsOiBBanVzdGEgZWwgYW5jaG8gbcOheGltbyBwYXJhIGxhcyBrZXl3b3JkcyAqL1xufVxuXG4uYnRuLXNtLmJnLWdyYWRpZW50LWRhcmsge1xuICAgIG1hcmdpbi1yaWdodDogNHB4O1xuICAgIC8qIEVzcGFjaW8gZW50cmUgYmFkZ2VzICovXG59XG5cbi50YWJsZS1jb2wtbm9tYnJlIHtcbiAgICBtaW4td2lkdGg6IDE1MHB4O1xuICAgIC8qIERlZmluZSBlbCBhbmNobyBtw61uaW1vIGRlc2VhZG8gKi9cbn1cblxuLnRhYmxlLWNvbC1jYXRlZ29yaWEge1xuICAgIG1heC13aWR0aDogNDAwcHg7XG4gICAgLyogRGVmaW5lIGVsIGFuY2hvIG3DrW5pbW8gZGVzZWFkbyAqL1xufVxuXG5cbi8qIEVzdGlsbyBwYXJhIGZpbGFzIHBhcmVzICovXG50YWJsZS50YWJsZSB0Ym9keSB0cjpudGgtY2hpbGQoZXZlbikge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7XG4gICAgLyogQ29sb3IgZ3JpcyBjbGFybyAqL1xufVxuXG4uY2FyZC1wcm9maWxlLXN0YXRzIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICBnYXA6IDFyZW07XG4gICAgLyogQcOxYWRlIGVzcGFjaW8gZW50cmUgbG9zIGVsZW1lbnRvcyAqL1xufVxuXG4uYnVkZ2V0LWl0ZW0ge1xuICAgIG1pbi13aWR0aDogMTIwcHg7XG4gICAgLyogQW5jaG8gbcOtbmltbyBwYXJhIGNhZGEgZWxlbWVudG8gKi9cbiAgICBwYWRkaW5nOiAwLjVyZW07XG4gICAgZmxleDogMSAxIDMwJTtcbiAgICAvKiBMb3MgZWxlbWVudG9zIG9jdXBhbiAzMCUgZGVsIGFuY2hvIGVuIHBhbnRhbGxhcyBncmFuZGVzICovXG59XG5cbi8qIEVuIHBhbnRhbGxhcyBwZXF1ZcOxYXMsIHNlIG9yZ2FuaXphIGVuIGNvbHVtbmFzICovXG5AbWVkaWEgKG1heC13aWR0aDogNTc2cHgpIHtcbiAgICAuY2FyZC1wcm9maWxlLXN0YXRzIHtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICB9XG5cbiAgICAuYnVkZ2V0LWl0ZW0ge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgLyogQ2FkYSBlbGVtZW50byB0b21hIGVsIDEwMCUgZGVsIGFuY2hvIGVuIHBhbnRhbGxhcyBwZXF1ZcOxYXMgKi9cbiAgICB9XG59Il19 */");

/***/ }),

/***/ "./src/app/pages/account-control/account-control-management-categories/account-control-management-categories.component.ts":
/*!********************************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/account-control-management-categories/account-control-management-categories.component.ts ***!
  \********************************************************************************************************************************/
/*! exports provided: AccountControlManagementCategoriesComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountControlManagementCategoriesComponent", function() { return AccountControlManagementCategoriesComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/__ivy_ngcc__/fesm5/ng-bootstrap.js");
/* harmony import */ var src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/entities/account-control */ "./src/app/entities/account-control.ts");
/* harmony import */ var src_app_services_account_control_account_control_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/account-control/account-control.service */ "./src/app/services/account-control/account-control.service.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};




var AccountControlManagementCategoriesComponent = /** @class */ (function () {
    function AccountControlManagementCategoriesComponent(activeModal, accountService) {
        this.activeModal = activeModal;
        this.accountService = accountService;
        this.currentTotalIncome = 0;
        this.currentTotalExpense = 0;
        this.currentSavingsGoal = 0;
        this.onFinish = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.activeTab = 'expense';
        this.newKeyword = '';
        this.categories = [];
        this.budgetSettings = {
            categories: [],
            totalIncome: 0,
            totalExpense: 0,
            savingsGoal: 0
        };
    }
    Object.defineProperty(AccountControlManagementCategoriesComponent.prototype, "transaction", {
        get: function () {
            return this._transaction;
        },
        set: function (value) {
            this._transaction = value;
            this.onTransactionChange(value); // Llama a un método cuando el valor cambia
        },
        enumerable: true,
        configurable: true
    });
    AccountControlManagementCategoriesComponent.prototype.onTransactionChange = function (value) {
        if (value) {
            if (value.type === src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_2__["AccountConstant"].TRANSACTION_TYPE_INCOME || value.type === src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_2__["AccountConstant"].TRANSACTION_TYPE_EXPENSE) {
                this.activeTab = value.type;
                // this.addNewCategory();
                this._filterCategoriesOfCurrentTab();
            }
        }
    };
    Object.defineProperty(AccountControlManagementCategoriesComponent.prototype, "settionsData", {
        get: function () {
            return this._settionsData;
        },
        set: function (value) {
            if (value) {
                this._settionsData = JSON.parse(JSON.stringify(value));
                this.onSettionsDataChange(value); // Llama a un método cuando el valor cambia
            }
        },
        enumerable: true,
        configurable: true
    });
    AccountControlManagementCategoriesComponent.prototype.onSettionsDataChange = function (value) {
        if (value && value.budgetSettings) {
            this.categories = value.budgetSettings.categories.map(function (t) {
                return __assign(__assign({}, t), { newKeyword: '' });
            });
            this.budgetSettings = value.budgetSettings;
            this.currentTotalIncome = this.categories.filter(function (c) { return c.type === src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_2__["AccountConstant"].TRANSACTION_TYPE_INCOME; })
                .reduce(function (acc, curr) { return acc + curr.currentAmmount; }, 0);
            this.currentTotalExpense = this.categories.filter(function (c) { return c.type === src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_2__["AccountConstant"].TRANSACTION_TYPE_EXPENSE; })
                .reduce(function (acc, curr) { return acc + curr.currentAmmount; }, 0);
            this.currentSavingsGoal = this.currentTotalIncome - this.currentTotalExpense;
            this._filterCategoriesOfCurrentTab();
            if (this._transaction) {
                this.onTransactionChange(this._transaction);
            }
        }
    };
    AccountControlManagementCategoriesComponent.prototype.accountsId = function () {
        var _a, _b, _c;
        return _c = (_b = (_a = this.settionsData) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.map(function (a) { return a.id; }), (_c !== null && _c !== void 0 ? _c : []);
    };
    AccountControlManagementCategoriesComponent.prototype.ngOnInit = function () {
    };
    AccountControlManagementCategoriesComponent.prototype.setActiveTab = function (type) {
        this.activeTab = type;
        this._filterCategoriesOfCurrentTab();
    };
    AccountControlManagementCategoriesComponent.prototype._filterCategoriesOfCurrentTab = function () {
        this.categoriesOfCurrentTab = this.getCategoriesByType(this.activeTab);
    };
    AccountControlManagementCategoriesComponent.prototype.getCategoriesByType = function (type) {
        return this.categories.filter(function (category) {
            return category.type === (type === 'income' ? src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_2__["AccountConstant"].TRANSACTION_TYPE_INCOME : src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_2__["AccountConstant"].TRANSACTION_TYPE_EXPENSE);
        }).sort(function (a, b) { return a.order - b.order; });
    };
    AccountControlManagementCategoriesComponent.prototype.addNewCategory = function () {
        var _this = this;
        var groupOfOrder = this.getGroupOfOrder(this.activeTab);
        var newCategory = {
            id: this.activeTab + "_" + Date.now(),
            name: '',
            keyWords: [],
            type: this.activeTab === 'income' ? src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_2__["AccountConstant"].TRANSACTION_TYPE_INCOME : src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_2__["AccountConstant"].TRANSACTION_TYPE_EXPENSE,
            budget: 0,
            accountId: '',
            order: groupOfOrder + this.getCategoriesByType(this.activeTab).length,
            newKeyword: '' // Añade la propiedad temporal de entrada de keyword
        };
        this.categories.push(newCategory);
        this.updateBudgetSummary();
        // Desplazar al final de la tabla
        setTimeout(function () {
            var container = _this.tableContainer.nativeElement;
            container.scrollTop = container.scrollHeight; // Hace scroll al final
        });
    };
    AccountControlManagementCategoriesComponent.prototype.getGroupOfOrder = function (type) {
        var groupOfOrder = 1000;
        if (type === src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_2__["AccountConstant"].TRANSACTION_TYPE_INCOME) {
            groupOfOrder = 2000;
        }
        return groupOfOrder;
    };
    AccountControlManagementCategoriesComponent.prototype.addKeyword = function (category) {
        if (category.newKeyword && !category.keyWords.includes(category.newKeyword)) {
            category.keyWords.push(category.newKeyword.trim());
            category.newKeyword = ''; // Limpiar el input de esta fila específica
            this.updateBudgetSummary();
        }
    };
    // Mover una categoría hacia arriba
    AccountControlManagementCategoriesComponent.prototype.moveCategoryUp = function (index) {
        var _a;
        if (index > 0) {
            var indexReal = index;
            _a = [this.categoriesOfCurrentTab[indexReal], this.categoriesOfCurrentTab[indexReal - 1]], this.categoriesOfCurrentTab[indexReal - 1] = _a[0], this.categoriesOfCurrentTab[indexReal] = _a[1];
            var groupOfOrder = this.getGroupOfOrder(this.categoriesOfCurrentTab[indexReal].type);
            this.categoriesOfCurrentTab[indexReal].order = groupOfOrder + indexReal;
            this.categoriesOfCurrentTab[indexReal - 1].order = groupOfOrder + indexReal - 1;
        }
    };
    // Mover una categoría hacia abajo
    AccountControlManagementCategoriesComponent.prototype.moveCategoryDown = function (index) {
        var _a;
        if (index < this.categoriesOfCurrentTab.length - 1) {
            var indexReal = index;
            _a = [this.categoriesOfCurrentTab[indexReal], this.categoriesOfCurrentTab[indexReal + 1]], this.categoriesOfCurrentTab[indexReal + 1] = _a[0], this.categoriesOfCurrentTab[indexReal] = _a[1];
            var groupOfOrder = this.getGroupOfOrder(this.categoriesOfCurrentTab[indexReal].type);
            this.categoriesOfCurrentTab[indexReal].order = groupOfOrder + indexReal;
            this.categoriesOfCurrentTab[indexReal + 1].order = groupOfOrder + indexReal + 1;
        }
    };
    AccountControlManagementCategoriesComponent.prototype.removeKeyword = function (category, keyword) {
        category.keyWords = category.keyWords.filter(function (k) { return k !== keyword; });
        this.updateBudgetSummary();
    };
    AccountControlManagementCategoriesComponent.prototype.removeCategory = function (category) {
        this.categories = this.categories.filter(function (k) { return k.id !== category.id; });
        this.updateBudgetSummary();
    };
    AccountControlManagementCategoriesComponent.prototype.saveAllCategories = function () {
        // Lógica para guardar todas las categorías en la base de datos o backend
        this.updateBudgetSummary();
        this.accountService.saveBudgetSettings(this.budgetSettings);
        this.onFinish.emit(this.budgetSettings);
    };
    AccountControlManagementCategoriesComponent.prototype.updateBudgetSummary = function () {
        this.categories.forEach(function (category) {
            category.id = (category.type + "_" + category.name).replace(/ /g, "").toLowerCase();
            if (!category.accountId || category.accountId == 'null') {
                category.accountId = null;
            }
        });
        this.budgetSettings.categories = this.categories.sort(function (a, b) { return a.order - b.order; });
        this.budgetSettings.totalIncome = this.budgetSettings.categories
            .filter(function (c) { return c.type === src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_2__["AccountConstant"].TRANSACTION_TYPE_INCOME; })
            .reduce(function (sum, category) { return sum + category.budget; }, 0);
        this.budgetSettings.totalExpense = this.budgetSettings.categories
            .filter(function (c) { return c.type === src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_2__["AccountConstant"].TRANSACTION_TYPE_EXPENSE; })
            .reduce(function (sum, category) { return sum + category.budget; }, 0);
        this.budgetSettings.savingsGoal = this.budgetSettings.totalIncome - this.budgetSettings.totalExpense;
        this._filterCategoriesOfCurrentTab();
    };
    AccountControlManagementCategoriesComponent.prototype.isFormValid = function () {
        return this.categories.every(function (category) {
            return category.name &&
                category.type &&
                category.keyWords.length > 0;
        });
    };
    AccountControlManagementCategoriesComponent.prototype.isFormValidForCurrentTab = function (type) {
        return this.getCategoriesByType(type).every(function (category) {
            return category.name &&
                category.type &&
                category.keyWords.length > 0;
        });
    };
    AccountControlManagementCategoriesComponent.prototype.calculatePercentage = function (currentAmmount, budget) {
        if (budget === 0)
            return 0;
        return Math.round((currentAmmount / budget) * 100);
    };
    AccountControlManagementCategoriesComponent.prototype.getTransactions = function (category) {
        var _a, _b;
        // Crea un mapa para acumular las transacciones por día
        var transactionsMap = new Map();
        // Itera sobre las transacciones del mes actual
        (_b = (_a = category) === null || _a === void 0 ? void 0 : _a.transactionCurrentMonth) === null || _b === void 0 ? void 0 : _b.forEach(function (t) {
            var day = t.date.toISOString().slice(0, 10);
            var value = t.amount;
            var transaction = { description: t.description, type: t.type, amount: t.amount };
            // Si ya existen transacciones para el mismo día, acumula el valor y añade la transacción
            if (transactionsMap.has(day)) {
                var existingEntry = transactionsMap.get(day);
                if (existingEntry) {
                    existingEntry.total += value;
                    existingEntry.transactions.push(transaction);
                }
            }
            else {
                // Si es la primera transacción del día, crea una nueva entrada
                transactionsMap.set(day, { total: value, transactions: [transaction] });
            }
        });
        // Convierte el mapa en un array
        var response = Array.from(transactionsMap, function (_a) {
            var day = _a[0], data = _a[1];
            return (__assign({ day: day }, data));
        })
            .sort(function (a, b) { return a.day.localeCompare(b.day); });
        return response;
    };
    AccountControlManagementCategoriesComponent.ctorParameters = function () { return [
        { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__["NgbActiveModal"] },
        { type: src_app_services_account_control_account_control_service__WEBPACK_IMPORTED_MODULE_3__["AccountControlService"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('tableContainer'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], AccountControlManagementCategoriesComponent.prototype, "tableContainer", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object),
        __metadata("design:paramtypes", [Object])
    ], AccountControlManagementCategoriesComponent.prototype, "transaction", null);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object),
        __metadata("design:paramtypes", [Object])
    ], AccountControlManagementCategoriesComponent.prototype, "settionsData", null);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], AccountControlManagementCategoriesComponent.prototype, "onFinish", void 0);
    AccountControlManagementCategoriesComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-account-control-management-categories',
            template: __importDefault(__webpack_require__(/*! raw-loader!./account-control-management-categories.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/account-control-management-categories/account-control-management-categories.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./account-control-management-categories.component.css */ "./src/app/pages/account-control/account-control-management-categories/account-control-management-categories.component.css")).default]
        }),
        __metadata("design:paramtypes", [_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__["NgbActiveModal"], src_app_services_account_control_account_control_service__WEBPACK_IMPORTED_MODULE_3__["AccountControlService"]])
    ], AccountControlManagementCategoriesComponent);
    return AccountControlManagementCategoriesComponent;
}());



/***/ }),

/***/ "./src/app/pages/account-control/account-control-management-transaction/account-control-management-transaction.component.css":
/*!***********************************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/account-control-management-transaction/account-control-management-transaction.component.css ***!
  \***********************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2FjY291bnQtY29udHJvbC9hY2NvdW50LWNvbnRyb2wtbWFuYWdlbWVudC10cmFuc2FjdGlvbi9hY2NvdW50LWNvbnRyb2wtbWFuYWdlbWVudC10cmFuc2FjdGlvbi5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/pages/account-control/account-control-management-transaction/account-control-management-transaction.component.ts":
/*!**********************************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/account-control-management-transaction/account-control-management-transaction.component.ts ***!
  \**********************************************************************************************************************************/
/*! exports provided: AccountControlManagementTransactionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountControlManagementTransactionComponent", function() { return AccountControlManagementTransactionComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/__ivy_ngcc__/fesm5/forms.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/__ivy_ngcc__/fesm5/ng-bootstrap.js");
/* harmony import */ var src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/entities/account-control */ "./src/app/entities/account-control.ts");
/* harmony import */ var src_app_services_account_control_account_control_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/account-control/account-control.service */ "./src/app/services/account-control/account-control.service.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};





var AccountControlManagementTransactionComponent = /** @class */ (function () {
    function AccountControlManagementTransactionComponent(activeModal, fb, accountService) {
        this.activeModal = activeModal;
        this.fb = fb;
        this.accountService = accountService;
        this.isSubmitted = false;
        this.onTransactionSave = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.incomeType = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_3__["AccountConstant"].TRANSACTION_TYPE_INCOME;
        this.expenseType = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_3__["AccountConstant"].TRANSACTION_TYPE_EXPENSE;
        this.transactionForm = this.fb.group({
            originalAccount: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required],
            amount: [, [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].min(0.01)]],
            date: [this.convertToColDate(new Date()).toISOString().substring(0, 10), _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required],
            description: [''],
            categoryId: [''],
            type: [src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_3__["AccountConstant"].TRANSACTION_TYPE_EXPENSE, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required],
            targetAccountId: [''],
            isProcessed: [false],
            originalBody: [''],
            canProcessed: [true]
        });
    }
    Object.defineProperty(AccountControlManagementTransactionComponent.prototype, "categories", {
        get: function () {
            var _a, _b, _c, _d, _e;
            if (this.transactionForm.value) {
                var typeTransaction_1 = this.transactionForm.value.type;
                return (_b = (_a = this.settingsData) === null || _a === void 0 ? void 0 : _a.budgetSettings) === null || _b === void 0 ? void 0 : _b.categories.filter(function (t) { return t.type === typeTransaction_1; });
            }
            return _e = (_d = (_c = this.settingsData) === null || _c === void 0 ? void 0 : _c.budgetSettings) === null || _d === void 0 ? void 0 : _d.categories, (_e !== null && _e !== void 0 ? _e : []);
        },
        enumerable: true,
        configurable: true
    });
    AccountControlManagementTransactionComponent.prototype.ngOnInit = function () {
        if (this.transaction) {
            this.loadTransactionData();
        }
    };
    AccountControlManagementTransactionComponent.prototype.ngOnChanges = function (changes) {
        if (changes.transaction || changes.settingsData) {
            this.loadTransactionData();
        }
    };
    AccountControlManagementTransactionComponent.prototype.loadTransactionData = function () {
        this.transactionForm.patchValue({
            originalAccount: this.transaction.originalAccount,
            amount: this.transaction.type == src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_3__["AccountConstant"].TRANSACTION_TYPE_EXPENSE ? -this.transaction.amount : this.transaction.amount,
            date: this.convertToColDate(new Date(this.transaction.date)).toISOString().substring(0, 10),
            description: this.transaction.description,
            categoryId: this.transaction.categoryId,
            type: this.transaction.type,
            targetAccountId: this.transaction.targetAccountId,
            isProcessed: this.transaction.isProcessed,
            originalBody: this.transaction.originalBody,
            canProcessed: this.transaction.canProcessed
        });
    };
    AccountControlManagementTransactionComponent.prototype.convertToColDate = function (date) {
        date.setHours(date.getHours() - 5);
        return date;
    };
    AccountControlManagementTransactionComponent.prototype.convertToUTCDate = function (date) {
        var newDate = new Date(date);
        newDate.setHours(newDate.getHours() + 5);
        return newDate;
    };
    AccountControlManagementTransactionComponent.prototype.onSubmit = function () {
        var _this = this;
        var _a, _b;
        this.isSubmitted = true;
        if (this.transactionForm.valid) {
            var formValues = this.transactionForm.value;
            var transactionToSave_1 = __assign({ id: this.transaction ? this.transaction.id : '' }, formValues);
            if (this.transaction) {
                this.transaction.date = new Date(this.transaction.date);
            }
            transactionToSave_1.date = this.convertToUTCDate(new Date(transactionToSave_1.date));
            if (this.transaction && this.transaction.date && this.isSameDate(transactionToSave_1.date, this.transaction.date)) {
                transactionToSave_1.date = this.transaction.date;
            }
            if (transactionToSave_1.categoryId && transactionToSave_1.categoryId != "no_category") {
                var category = this.settingsData.budgetSettings.categories.find(function (c) { return c.id == transactionToSave_1.categoryId; });
                if (category && !transactionToSave_1.description.toLowerCase().includes(category.name.toLowerCase())) {
                    if (!transactionToSave_1.id) {
                        transactionToSave_1.description = transactionToSave_1.description ? transactionToSave_1.description + " = " + category.name : category.name;
                    }
                    else {
                        if ((this.transaction && category.id != this.transaction.categoryId)) {
                            //Aqui eliminariamos de la descripción el nombre de la categoria anterior
                            var oldTransaction = this.settingsData.budgetSettings.categories.find(function (c) { return c.id == _this.transaction.categoryId; });
                            transactionToSave_1.description = (_a = transactionToSave_1.description) === null || _a === void 0 ? void 0 : _a.replace(" = " + ((_b = oldTransaction) === null || _b === void 0 ? void 0 : _b.name), "");
                            transactionToSave_1.description = transactionToSave_1.description ? transactionToSave_1.description + " = " + category.name : category.name;
                        }
                        else {
                            transactionToSave_1.description = transactionToSave_1.description ? "" + transactionToSave_1.description : category.name;
                        }
                    }
                }
            }
            this.accountService.saveTransaction(transactionToSave_1);
            this.onTransactionSave.emit(transactionToSave_1);
        }
    };
    AccountControlManagementTransactionComponent.prototype.isSameDate = function (date1, date2) {
        return date1.getFullYear() === date2.getFullYear() &&
            date1.getMonth() === date2.getMonth() &&
            date1.getDate() === date2.getDate();
    };
    AccountControlManagementTransactionComponent.ctorParameters = function () { return [
        { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbActiveModal"] },
        { type: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"] },
        { type: src_app_services_account_control_account_control_service__WEBPACK_IMPORTED_MODULE_4__["AccountControlService"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], AccountControlManagementTransactionComponent.prototype, "transaction", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], AccountControlManagementTransactionComponent.prototype, "settingsData", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], AccountControlManagementTransactionComponent.prototype, "onTransactionSave", void 0);
    AccountControlManagementTransactionComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-account-control-management-transaction',
            template: __importDefault(__webpack_require__(/*! raw-loader!./account-control-management-transaction.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/account-control-management-transaction/account-control-management-transaction.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./account-control-management-transaction.component.css */ "./src/app/pages/account-control/account-control-management-transaction/account-control-management-transaction.component.css")).default]
        }),
        __metadata("design:paramtypes", [_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbActiveModal"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"], src_app_services_account_control_account_control_service__WEBPACK_IMPORTED_MODULE_4__["AccountControlService"]])
    ], AccountControlManagementTransactionComponent);
    return AccountControlManagementTransactionComponent;
}());



/***/ }),

/***/ "./src/app/pages/account-control/account-control-migrate-transaction/account-control-migrate-transaction.component.css":
/*!*****************************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/account-control-migrate-transaction/account-control-migrate-transaction.component.css ***!
  \*****************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2FjY291bnQtY29udHJvbC9hY2NvdW50LWNvbnRyb2wtbWlncmF0ZS10cmFuc2FjdGlvbi9hY2NvdW50LWNvbnRyb2wtbWlncmF0ZS10cmFuc2FjdGlvbi5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/pages/account-control/account-control-migrate-transaction/account-control-migrate-transaction.component.ts":
/*!****************************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/account-control-migrate-transaction/account-control-migrate-transaction.component.ts ***!
  \****************************************************************************************************************************/
/*! exports provided: AccountControlMigrateTransactionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountControlMigrateTransactionComponent", function() { return AccountControlMigrateTransactionComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/__ivy_ngcc__/fesm5/ng-bootstrap.js");
/* harmony import */ var src_app_services_utils_transaction_operation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/utils/transaction-operation */ "./src/app/services/utils/transaction-operation.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};



var AccountControlMigrateTransactionComponent = /** @class */ (function () {
    function AccountControlMigrateTransactionComponent(activeModal) {
        this.activeModal = activeModal;
        this.onTransactionSave = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.inputText = ''; // Variable para capturar el texto ingresado
        this.migratedTransaction = null; // Transacción migrada
        this.clipboardContent = null; // Contenido actual del portapapeles
    }
    AccountControlMigrateTransactionComponent.prototype.ngOnInit = function () {
        this.checkClipboard(); // Verificar el portapapeles al iniciar el componente
    };
    /**
     * Llama a la función que migra la transacción desde el texto ingresado
     */
    AccountControlMigrateTransactionComponent.prototype.onTextInputChange = function () {
        if (this.inputText.trim()) {
            this.migratedTransaction = null;
            this.migratedTransaction = this.migrateTransaction(this.inputText.trim());
        }
    };
    /**
     * Migra una transacción a partir del texto original
     * @param bodyOriginal Texto original de la transacción
     * @returns La transacción migrada
     */
    AccountControlMigrateTransactionComponent.prototype.migrateTransaction = function (bodyOriginal) {
        var helper = new src_app_services_utils_transaction_operation__WEBPACK_IMPORTED_MODULE_2__["TransactionOperation"]();
        return helper.getTransaction(bodyOriginal);
    };
    /**
     * Procesar la transacción migrada
     */
    AccountControlMigrateTransactionComponent.prototype.procesedTransaction = function () {
        this.onTransactionSave.emit(this.migratedTransaction);
    };
    /**
     * Verifica si hay texto en el portapapeles
     */
    AccountControlMigrateTransactionComponent.prototype.checkClipboard = function () {
        return __awaiter(this, void 0, void 0, function () {
            var text, error_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, navigator.clipboard.readText()];
                    case 1:
                        text = _a.sent();
                        if (text && text.trim()) {
                            this.clipboardContent = text.trim();
                        }
                        return [3 /*break*/, 3];
                    case 2:
                        error_1 = _a.sent();
                        console.error('Error al acceder al portapapeles:', error_1);
                        this.clipboardContent = null;
                        return [3 /*break*/, 3];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    /**
     * Pegar texto del portapapeles automáticamente
     */
    AccountControlMigrateTransactionComponent.prototype.pasteClipboardContent = function () {
        if (this.clipboardContent) {
            this.inputText = this.clipboardContent;
            this.onTextInputChange();
        }
    };
    AccountControlMigrateTransactionComponent.ctorParameters = function () { return [
        { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__["NgbActiveModal"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], AccountControlMigrateTransactionComponent.prototype, "settingsData", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], AccountControlMigrateTransactionComponent.prototype, "onTransactionSave", void 0);
    AccountControlMigrateTransactionComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-account-control-migrate-transaction',
            template: __importDefault(__webpack_require__(/*! raw-loader!./account-control-migrate-transaction.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/account-control-migrate-transaction/account-control-migrate-transaction.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./account-control-migrate-transaction.component.css */ "./src/app/pages/account-control/account-control-migrate-transaction/account-control-migrate-transaction.component.css")).default]
        }),
        __metadata("design:paramtypes", [_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__["NgbActiveModal"]])
    ], AccountControlMigrateTransactionComponent);
    return AccountControlMigrateTransactionComponent;
}());



/***/ }),

/***/ "./src/app/pages/account-control/account-control-transaction-card/account-control-transaction-card.component.css":
/*!***********************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/account-control-transaction-card/account-control-transaction-card.component.css ***!
  \***********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2FjY291bnQtY29udHJvbC9hY2NvdW50LWNvbnRyb2wtdHJhbnNhY3Rpb24tY2FyZC9hY2NvdW50LWNvbnRyb2wtdHJhbnNhY3Rpb24tY2FyZC5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/pages/account-control/account-control-transaction-card/account-control-transaction-card.component.ts":
/*!**********************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/account-control-transaction-card/account-control-transaction-card.component.ts ***!
  \**********************************************************************************************************************/
/*! exports provided: AccountControlTransactionCardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountControlTransactionCardComponent", function() { return AccountControlTransactionCardComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};

var AccountControlTransactionCardComponent = /** @class */ (function () {
    function AccountControlTransactionCardComponent() {
        this.showOriginalBody = false;
        this.showButtons = true;
        this.onRegisterCategory = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.onRegisterAccount = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.onEditTransaction = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.onDeleteTransaction = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    AccountControlTransactionCardComponent.prototype.ngOnInit = function () {
    };
    AccountControlTransactionCardComponent.prototype.openManagementCategories = function () {
        this.onRegisterCategory.emit(this.transaction);
    };
    AccountControlTransactionCardComponent.prototype.openCreateAccount = function () {
        this.onRegisterAccount.emit(this.transaction);
    };
    AccountControlTransactionCardComponent.prototype.openEditTransaction = function () {
        this.onEditTransaction.emit(this.transaction);
    };
    AccountControlTransactionCardComponent.prototype.getCategory = function (categoryId) {
        var _a, _b, _c, _d, _e;
        return _e = (_d = (_c = (_b = (_a = this.settingsData) === null || _a === void 0 ? void 0 : _a.budgetSettings) === null || _b === void 0 ? void 0 : _b.categories) === null || _c === void 0 ? void 0 : _c.find(function (c) { return c.id === categoryId; })) === null || _d === void 0 ? void 0 : _d.name, (_e !== null && _e !== void 0 ? _e : 'Sin clasificar');
    };
    AccountControlTransactionCardComponent.prototype.deleteTransacion = function () {
        this.onDeleteTransaction.emit(this.transaction);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], AccountControlTransactionCardComponent.prototype, "transaction", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], AccountControlTransactionCardComponent.prototype, "settingsData", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], AccountControlTransactionCardComponent.prototype, "showOriginalBody", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], AccountControlTransactionCardComponent.prototype, "showButtons", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], AccountControlTransactionCardComponent.prototype, "onRegisterCategory", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], AccountControlTransactionCardComponent.prototype, "onRegisterAccount", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], AccountControlTransactionCardComponent.prototype, "onEditTransaction", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], AccountControlTransactionCardComponent.prototype, "onDeleteTransaction", void 0);
    AccountControlTransactionCardComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-account-control-transaction-card',
            template: __importDefault(__webpack_require__(/*! raw-loader!./account-control-transaction-card.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/account-control-transaction-card/account-control-transaction-card.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./account-control-transaction-card.component.css */ "./src/app/pages/account-control/account-control-transaction-card/account-control-transaction-card.component.css")).default]
        }),
        __metadata("design:paramtypes", [])
    ], AccountControlTransactionCardComponent);
    return AccountControlTransactionCardComponent;
}());



/***/ }),

/***/ "./src/app/pages/account-control/account-control.component.css":
/*!*********************************************************************!*\
  !*** ./src/app/pages/account-control/account-control.component.css ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("/* Personalizar el estilo de la barra de scroll en el contenedor de transacciones */\n.card-body .scroll-container::-webkit-scrollbar {\n    width: 8px;\n}\n.card-body .scroll-container::-webkit-scrollbar-thumb {\n    background-color: #aaa;\n    border-radius: 4px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYWNjb3VudC1jb250cm9sL2FjY291bnQtY29udHJvbC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG1GQUFtRjtBQUNuRjtJQUNJLFVBQVU7QUFDZDtBQUVBO0lBQ0ksc0JBQXNCO0lBQ3RCLGtCQUFrQjtBQUN0QiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2FjY291bnQtY29udHJvbC9hY2NvdW50LWNvbnRyb2wuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIFBlcnNvbmFsaXphciBlbCBlc3RpbG8gZGUgbGEgYmFycmEgZGUgc2Nyb2xsIGVuIGVsIGNvbnRlbmVkb3IgZGUgdHJhbnNhY2Npb25lcyAqL1xuLmNhcmQtYm9keSAuc2Nyb2xsLWNvbnRhaW5lcjo6LXdlYmtpdC1zY3JvbGxiYXIge1xuICAgIHdpZHRoOiA4cHg7XG59XG5cbi5jYXJkLWJvZHkgLnNjcm9sbC1jb250YWluZXI6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYWFhO1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbn0iXX0= */");

/***/ }),

/***/ "./src/app/pages/account-control/account-control.component.ts":
/*!********************************************************************!*\
  !*** ./src/app/pages/account-control/account-control.component.ts ***!
  \********************************************************************/
/*! exports provided: AccountControlComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountControlComponent", function() { return AccountControlComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var src_app_services_google_services_google_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/google-services/google.service */ "./src/app/services/google-services/google.service.ts");
/* harmony import */ var _common_base_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/base-component */ "./src/app/pages/common/base-component.ts");
/* harmony import */ var _account_control_management_categories_account_control_management_categories_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./account-control-management-categories/account-control-management-categories.component */ "./src/app/pages/account-control/account-control-management-categories/account-control-management-categories.component.ts");
/* harmony import */ var _account_control_management_account_account_control_management_account_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./account-control-management-account/account-control-management-account.component */ "./src/app/pages/account-control/account-control-management-account/account-control-management-account.component.ts");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/__ivy_ngcc__/fesm5/ng-bootstrap.js");
/* harmony import */ var src_app_services_account_control_account_control_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/account-control/account-control.service */ "./src/app/services/account-control/account-control.service.ts");
/* harmony import */ var _account_control_management_transaction_account_control_management_transaction_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./account-control-management-transaction/account-control-management-transaction.component */ "./src/app/pages/account-control/account-control-management-transaction/account-control-management-transaction.component.ts");
/* harmony import */ var _dashboards_account_control_dashboards_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./dashboards/account-control-dashboards.component */ "./src/app/pages/account-control/dashboards/account-control-dashboards.component.ts");
/* harmony import */ var _account_control_migrate_transaction_account_control_migrate_transaction_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./account-control-migrate-transaction/account-control-migrate-transaction.component */ "./src/app/pages/account-control/account-control-migrate-transaction/account-control-migrate-transaction.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};










var AccountControlComponent = /** @class */ (function (_super) {
    __extends(AccountControlComponent, _super);
    function AccountControlComponent(googleService, modalService, accountService) {
        var _this = _super.call(this, googleService) || this;
        _this.modalService = modalService;
        _this.accountService = accountService;
        _this.transactions = [];
        _this.accounts = [];
        _this.showAllAccounts = false;
        _this.heritage = 0;
        return _this;
    }
    AccountControlComponent.prototype.initialiceComponent = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.hideLoading();
                        this.settionsData = this.accountService.getTransactions(this.settionsData);
                        if (!this.isLogged()) return [3 /*break*/, 2];
                        this.showLoading("Sincronizando transacciones");
                        _a = this;
                        return [4 /*yield*/, this.accountService.syncTransactions(this.configFromGoogle)];
                    case 1:
                        _a.settionsData = _b.sent();
                        this.hideLoading();
                        _b.label = 2;
                    case 2:
                        this.transactions = this.settionsData.transactions;
                        this.filterAccounts();
                        return [2 /*return*/];
                }
            });
        });
    };
    AccountControlComponent.prototype.ngOnInit = function () {
        this.init();
        //this.openDashboards();
    };
    AccountControlComponent.prototype.ngOnDestroy = function () {
        this.detroy();
    };
    AccountControlComponent.prototype.openEditAccount = function (account) {
        var _this = this;
        var componentRef = this.modalService.open(_account_control_management_account_account_control_management_account_component__WEBPACK_IMPORTED_MODULE_4__["AccountControlManagementAccountComponent"], { size: 'xl' });
        var componentInstance = componentRef.componentInstance;
        componentInstance.accountToEdit = account;
        componentInstance.onFinish.subscribe(function (data) {
            _this.initialiceComponent();
            componentRef.close();
        });
    };
    AccountControlComponent.prototype.openCreateAccount = function (transaction) {
        var _this = this;
        var componentRef = this.modalService.open(_account_control_management_account_account_control_management_account_component__WEBPACK_IMPORTED_MODULE_4__["AccountControlManagementAccountComponent"], { size: 'xl' });
        var componentInstance = componentRef.componentInstance;
        componentInstance.transaction = transaction;
        componentInstance.onFinish.subscribe(function (data) {
            _this.initialiceComponent();
            componentRef.close();
        });
    };
    AccountControlComponent.prototype.openManagementCategories = function (transaction) {
        var _this = this;
        var componentRef = this.modalService.open(_account_control_management_categories_account_control_management_categories_component__WEBPACK_IMPORTED_MODULE_3__["AccountControlManagementCategoriesComponent"], { size: 'xxl' });
        var componentInstance = componentRef.componentInstance;
        componentInstance.transaction = transaction;
        componentInstance.settionsData = this.settionsData;
        componentInstance.onFinish.subscribe(function (data) {
            _this.initialiceComponent();
            componentRef.close();
        });
    };
    AccountControlComponent.prototype.openDashboards = function (transactions) {
        var componentRef = this.modalService.open(_dashboards_account_control_dashboards_component__WEBPACK_IMPORTED_MODULE_8__["AccountControlDashboardsComponent"], { size: 'xxl' });
        var componentInstance = componentRef.componentInstance;
        componentInstance.transactions = (transactions !== null && transactions !== void 0 ? transactions : this.settionsData.transactions);
        componentInstance.settingsData = this.settionsData;
    };
    AccountControlComponent.prototype.openCreateTransaction = function (transaction) {
        var _this = this;
        var componentRef = this.modalService.open(_account_control_management_transaction_account_control_management_transaction_component__WEBPACK_IMPORTED_MODULE_7__["AccountControlManagementTransactionComponent"], { size: 'xl' });
        var componentInstance = componentRef.componentInstance;
        componentInstance.transaction = transaction;
        componentInstance.settingsData = this.settionsData;
        componentInstance.onTransactionSave.subscribe(function (data) {
            _this.restartComponent();
            componentRef.close();
        });
    };
    AccountControlComponent.prototype.openMigrateTransaction = function () {
        var _this = this;
        var componentRef = this.modalService.open(_account_control_migrate_transaction_account_control_migrate_transaction_component__WEBPACK_IMPORTED_MODULE_9__["AccountControlMigrateTransactionComponent"], { size: 'xl' });
        var componentInstance = componentRef.componentInstance;
        componentInstance.settingsData = this.settionsData;
        componentInstance.onTransactionSave.subscribe(function (data) {
            _this.restartComponent();
            componentRef.close();
        });
    };
    AccountControlComponent.prototype.restartComponent = function () {
        this.settionsData = null;
        this.transactions = [];
        this.accounts = [];
        this.initialiceComponent();
    };
    AccountControlComponent.prototype.filterAccounts = function () {
        if (this.showAllAccounts) {
            this.accounts = this.settionsData.accounts;
        }
        else {
            this.accounts = this.settionsData.accounts.filter(function (a) { return a.isPrincipal; });
        }
        this.heritage = this.accounts.reduce(function (sum, acc) { return sum + acc.balance; }, 0);
    };
    AccountControlComponent.prototype.getPercentageChange = function (account) {
        if (account.balanceLastMonth === 0) {
            // Evita la división por cero, devuelve 0 o alguna otra indicación
            return 0;
        }
        // else if (account.balanceLastMonth > 0) {
        var change = ((Math.abs(account.balance) - Math.abs(account.balanceLastMonth)) / Math.abs(account.balanceLastMonth)) * 100;
        return change;
        // }
    };
    AccountControlComponent.prototype.deleteData = function () {
        var result = confirm('¿Estás seguro de que deseas continuar?');
        if (result) {
            this.accountService.deleteData();
            window.location.reload();
        }
    };
    AccountControlComponent.prototype.syncGoogleDrive = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.accountService.syncWithGoogleDrive(this.settionsData, true)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    AccountControlComponent.ctorParameters = function () { return [
        { type: src_app_services_google_services_google_service__WEBPACK_IMPORTED_MODULE_1__["GoogleService"] },
        { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_5__["NgbModal"] },
        { type: src_app_services_account_control_account_control_service__WEBPACK_IMPORTED_MODULE_6__["AccountControlService"] }
    ]; };
    AccountControlComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-account-control',
            template: __importDefault(__webpack_require__(/*! raw-loader!./account-control.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/account-control.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./account-control.component.css */ "./src/app/pages/account-control/account-control.component.css")).default]
        }),
        __metadata("design:paramtypes", [src_app_services_google_services_google_service__WEBPACK_IMPORTED_MODULE_1__["GoogleService"], _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_5__["NgbModal"], src_app_services_account_control_account_control_service__WEBPACK_IMPORTED_MODULE_6__["AccountControlService"]])
    ], AccountControlComponent);
    return AccountControlComponent;
}(_common_base_component__WEBPACK_IMPORTED_MODULE_2__["BaseComponent"]));



/***/ }),

/***/ "./src/app/pages/account-control/dashboards/account-control-dash-all-categories/account-control-dash-all-categories.component.css":
/*!****************************************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/dashboards/account-control-dash-all-categories/account-control-dash-all-categories.component.css ***!
  \****************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2FjY291bnQtY29udHJvbC9kYXNoYm9hcmRzL2FjY291bnQtY29udHJvbC1kYXNoLWFsbC1jYXRlZ29yaWVzL2FjY291bnQtY29udHJvbC1kYXNoLWFsbC1jYXRlZ29yaWVzLmNvbXBvbmVudC5jc3MifQ== */");

/***/ }),

/***/ "./src/app/pages/account-control/dashboards/account-control-dash-all-categories/account-control-dash-all-categories.component.ts":
/*!***************************************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/dashboards/account-control-dash-all-categories/account-control-dash-all-categories.component.ts ***!
  \***************************************************************************************************************************************/
/*! exports provided: AccountControlDashAllCategoriesComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountControlDashAllCategoriesComponent", function() { return AccountControlDashAllCategoriesComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/entities/account-control */ "./src/app/entities/account-control.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
var __spreadArrays = (undefined && undefined.__spreadArrays) || function () {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};


var AccountControlDashAllCategoriesComponent = /** @class */ (function () {
    function AccountControlDashAllCategoriesComponent() {
        this.transactions = [];
        this.transactionType = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_1__["AccountConstant"].TRANSACTION_TYPE_INCOME;
    }
    AccountControlDashAllCategoriesComponent.prototype.ngOnInit = function () {
        this.prepareChartData();
    };
    AccountControlDashAllCategoriesComponent.prototype.prepareChartData = function () {
        var _this = this;
        var transactionsOfCurrentType = this.transactions.filter(function (transaction) { return transaction.type === _this.transactionType; });
        // Extraer y formatear las fechas únicas en formato `YYYY-MM`
        var uniqueDates = Array.from(new Set(transactionsOfCurrentType.map(function (tx) {
            var date = new Date(tx.date);
            return date.getFullYear() + "-" + (date.getMonth() + 1).toString().padStart(2, '0');
        }))).sort();
        // Mapear `categoryId` a `categoryName`
        var categoryMap = new Map(this.budgetSettings.categories.map(function (category) { return [category.id, category.name]; }));
        // Sumar y acumular los montos por mes y categoría
        var dataByCategoryAndMonth = {};
        transactionsOfCurrentType.forEach(function (tx) {
            if (tx.transactionId || (tx.targetAccountId && tx.type == src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_1__["AccountConstant"].TRANSACTION_TYPE_INCOME)) {
                return;
            }
            var date = new Date(tx.date);
            var month = date.getFullYear() + "-" + (date.getMonth() + 1).toString().padStart(2, '0');
            var categoryName = categoryMap.get(tx.categoryId) || 'Other';
            if (!dataByCategoryAndMonth[categoryName]) {
                dataByCategoryAndMonth[categoryName] = {};
            }
            if (!dataByCategoryAndMonth[categoryName][month]) {
                dataByCategoryAndMonth[categoryName][month] = 0;
            }
            dataByCategoryAndMonth[categoryName][month] += Math.abs(tx.amount);
        });
        // Generar los datos acumulados por categoría
        var accumulatedDataByCategory = {};
        Object.keys(dataByCategoryAndMonth).forEach(function (category) {
            accumulatedDataByCategory[category] = {};
            var cumulativeAmount = 0;
            uniqueDates.forEach(function (month) {
                cumulativeAmount += dataByCategoryAndMonth[category][month] || 0;
                accumulatedDataByCategory[category][month] = cumulativeAmount;
            });
        });
        // Configuración de datasets y series
        var datasetWithFilters = [];
        var seriesList = [];
        Object.keys(accumulatedDataByCategory).forEach(function (category) {
            var datasetId = "dataset_" + category;
            datasetWithFilters.push({
                id: datasetId,
                source: uniqueDates.map(function (month) { return ({
                    Month: month,
                    Amount: accumulatedDataByCategory[category][month] || null
                }); })
            });
            seriesList.push({
                type: 'line',
                datasetId: datasetId,
                showSymbol: false,
                name: category,
                endLabel: {
                    show: true,
                    formatter: function (params) {
                        var amountFormatted = params.data.Amount.toLocaleString('en-US', { style: 'currency', currency: 'USD' });
                        return category + ": " + amountFormatted;
                    }
                },
                labelLayout: {
                    moveOverlap: 'shiftY'
                },
                emphasis: {
                    focus: 'series'
                },
                encode: {
                    x: 'Month',
                    y: 'Amount',
                    label: ['Month', 'Amount'],
                    itemName: 'Month',
                    tooltip: ['Amount']
                }
            });
        });
        // Configuración de opciones del gráfico
        this.chartOptions = {
            animationDuration: 10000,
            dataset: __spreadArrays([
                {
                    id: 'dataset_raw',
                    source: datasetWithFilters
                }
            ], datasetWithFilters),
            title: {
                left: 'center',
                text: (this.transactionType == src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_1__["AccountConstant"].TRANSACTION_TYPE_EXPENSE ? 'Gastos' : 'Ingresos') + " por categoria"
            },
            tooltip: {
                order: 'valueDesc',
                trigger: 'axis',
            },
            xAxis: {
                type: 'category',
                name: 'Dia'
            },
            yAxis: {
                name: 'Dinero',
            },
            grid: {
                right: 140
            },
            series: seriesList
        };
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], AccountControlDashAllCategoriesComponent.prototype, "transactions", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], AccountControlDashAllCategoriesComponent.prototype, "budgetSettings", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], AccountControlDashAllCategoriesComponent.prototype, "transactionType", void 0);
    AccountControlDashAllCategoriesComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-account-control-dash-all-categories',
            template: __importDefault(__webpack_require__(/*! raw-loader!./account-control-dash-all-categories.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dash-all-categories/account-control-dash-all-categories.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./account-control-dash-all-categories.component.css */ "./src/app/pages/account-control/dashboards/account-control-dash-all-categories/account-control-dash-all-categories.component.css")).default]
        })
    ], AccountControlDashAllCategoriesComponent);
    return AccountControlDashAllCategoriesComponent;
}());



/***/ }),

/***/ "./src/app/pages/account-control/dashboards/account-control-dash-budget-by-category/account-control-dash-budget-by-category.component.css":
/*!************************************************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/dashboards/account-control-dash-budget-by-category/account-control-dash-budget-by-category.component.css ***!
  \************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".chart-container {\n    width: 100%;\n    height: 60px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYWNjb3VudC1jb250cm9sL2Rhc2hib2FyZHMvYWNjb3VudC1jb250cm9sLWRhc2gtYnVkZ2V0LWJ5LWNhdGVnb3J5L2FjY291bnQtY29udHJvbC1kYXNoLWJ1ZGdldC1ieS1jYXRlZ29yeS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksV0FBVztJQUNYLFlBQVk7QUFDaEIiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9hY2NvdW50LWNvbnRyb2wvZGFzaGJvYXJkcy9hY2NvdW50LWNvbnRyb2wtZGFzaC1idWRnZXQtYnktY2F0ZWdvcnkvYWNjb3VudC1jb250cm9sLWRhc2gtYnVkZ2V0LWJ5LWNhdGVnb3J5LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2hhcnQtY29udGFpbmVyIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDYwcHg7XG59Il19 */");

/***/ }),

/***/ "./src/app/pages/account-control/dashboards/account-control-dash-budget-by-category/account-control-dash-budget-by-category.component.ts":
/*!***********************************************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/dashboards/account-control-dash-budget-by-category/account-control-dash-budget-by-category.component.ts ***!
  \***********************************************************************************************************************************************/
/*! exports provided: AccountControlDashBudgetByCategoryComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountControlDashBudgetByCategoryComponent", function() { return AccountControlDashBudgetByCategoryComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};

var AccountControlDashBudgetByCategoryComponent = /** @class */ (function () {
    function AccountControlDashBudgetByCategoryComponent() {
        this.percentage = 0; // Porcentaje del presupuesto utilizado
        this.transactions = []; // Transacciones diarias
        this.month = new Date().getMonth() + 1; // Mes (1 = Enero, 12 = Diciembre)
    }
    AccountControlDashBudgetByCategoryComponent.prototype.ngOnInit = function () {
        // this.initChart();
        this.chartOptions = this.createChartOption(this.transactions);
    };
    AccountControlDashBudgetByCategoryComponent.prototype.ngOnChanges = function (changes) {
        if (changes.month) {
            this.chartOptions = this.createChartOption(this.transactions);
        }
    };
    AccountControlDashBudgetByCategoryComponent.prototype.getDaysInMonth = function (month, year) {
        var daysCount = new Date(year, month, 0).getDate();
        return Array.from({ length: daysCount }, function (_, i) { return i + 1; });
    };
    AccountControlDashBudgetByCategoryComponent.prototype.getPercentageColor = function () {
        if (this.percentage < 10)
            return '#2dce89'; // Verde
        if (this.percentage < 30)
            return '#007bff'; // Azul
        if (this.percentage < 60)
            return '#fb9e02'; // Naranja
        return '#f5365c'; // Rojo
    };
    AccountControlDashBudgetByCategoryComponent.prototype.initChart = function () {
        var _this = this;
        var year = new Date().getFullYear();
        var daysInMonth = this.getDaysInMonth(this.month, year); // Calcular días del mes
        var transactionData = this.transactions.map(function (t) {
            return [t.day, t.total]; // Asignar 0 si no hay transacción
        });
        var percentageColor = this.getPercentageColor(); // Color del porcentaje según rango
        // Condición para mostrar el texto del porcentaje solo si es mayor que 0
        var showPercentage = this.percentage > 0;
        this.chartOptions = {
            tooltip: {
                trigger: 'item',
                formatter: function (params) {
                    if (params.seriesName === 'Transacciones') {
                        var day = params.data[0]; // Día
                        var value = params.data[1]; // Valor de la transacción
                        return "<b>D\u00EDa:</b> " + day + "<br/><b>Transacci\u00F3n:</b> $" + value.toFixed(2);
                    }
                    return ''; // No mostrar *tooltip* para otras series
                },
            },
            grid: {
                left: 1,
                right: 0,
                top: 0,
                bottom: 0,
                containLabel: false,
            },
            xAxis: {
                type: 'category',
                boundaryGap: false,
                show: false,
                data: daysInMonth,
                axisLabel: {
                    formatter: function (value) { return "D\u00EDa " + value; },
                },
            },
            yAxis: {
                type: 'value',
                show: false,
                min: 0,
                max: 100,
                axisLabel: {
                    formatter: '{value}%',
                },
            },
            series: [
                {
                    name: 'Fondo rojo',
                    type: 'line',
                    data: daysInMonth.map(function (day) { return [day, _this.percentage]; }),
                    areaStyle: {
                        color: 'rgba(245, 54, 92, 0.3)',
                    },
                    lineStyle: {
                        opacity: 0,
                    },
                    showSymbol: false,
                    tooltip: {
                        show: false,
                    },
                },
                {
                    name: 'Transacciones',
                    type: 'line',
                    data: transactionData,
                    lineStyle: {
                        color: '#2dce89',
                    },
                    itemStyle: {
                        color: '#2dce89',
                    },
                },
            ],
            graphic: showPercentage
                ? {
                    type: 'text',
                    left: 'center',
                    top: '20%',
                    style: {
                        text: this.percentage + "%",
                        font: 'bold 20px sans-serif',
                        fill: percentageColor,
                    },
                }
                : undefined,
        };
    };
    AccountControlDashBudgetByCategoryComponent.prototype.createChartOption = function (data) {
        var _this = this;
        var year = new Date().getFullYear();
        var daysInMonth = this.getDaysInMonth(this.month, year); // Calcular días del mes
        var allDays = Array.from({ length: daysInMonth.length }, function (_, i) { return i + 1; }); // Crear array con todos los días del mes
        // Convertir data a un mapa, extrayendo el día del formato anio-mes-dia
        var transactionMap = new Map(data.map(function (t) { return [parseInt(t.day.split('-')[2]), t]; }));
        var dataNew = allDays.map(function (day) {
            if (transactionMap.has(day)) {
                return transactionMap.get(day);
            }
            else {
                return {
                    day: year + "-" + _this.month.toString().padStart(2, '0') + "-" + day.toString().padStart(2, '0'),
                    total: 0,
                    transactions: []
                };
            }
        });
        var percentageColor = this.getPercentageColor(); // Color del porcentaje según rango
        // Condición para mostrar el texto del porcentaje solo si es mayor que 0
        var showPercentage = this.percentage > 0;
        return {
            grid: {
                left: 1,
                right: 0,
                top: 0,
                bottom: 0,
                containLabel: false,
            },
            tooltip: {
                trigger: 'axis',
                position: function (pt, params, dom, rect, size) {
                    var contentSize = size.contentSize, viewSize = size.viewSize;
                    var x = pt[0], y = pt[1];
                    var isOverflowingRight = x + contentSize[0] > viewSize[0];
                    return isOverflowingRight ? [x - contentSize[0], y] : [x, y];
                },
                formatter: function (params) {
                    var dataPoint = params[0];
                    var value = dataPoint.value; // value: [date, balance, categories]
                    var day = value[0], total = value[1];
                    var categories = dataPoint.data.transactions;
                    // Formatear balance como moneda
                    var balanceFormatted = new Intl.NumberFormat('en-US', {
                        style: 'currency',
                        currency: 'USD',
                        minimumFractionDigits: 0,
                        maximumFractionDigits: 0
                    }).format(total);
                    // Obtener el color del punto actual
                    var color = params[0].color; // Color calculado automáticamente por visualMap
                    // Generar lista de categorías si existen
                    var categoriesContent = categories.length
                        ? "\n              <div>\n                <b>Transacciones:</b>\n                <ul style=\"padding-left: 15px; margin: 5px 0;\">\n                  " + categories.map(function (category) {
                            var description = category.description;
                            description = description.toString().split(" = ")[0];
                            var aux = description.toString().split("Compra en");
                            if (aux.length > 1) {
                                description = aux[1];
                            }
                            aux = description.toString().split("Transferencia a la cuenta");
                            if (aux.length > 1) {
                                description = aux[1];
                            }
                            aux = description.toString().split("Transferencia con QR a la cuenta ");
                            if (aux.length > 1) {
                                description = "QR Con" + aux[1];
                            }
                            var circleColor = category.type == 'expense' ? '#f5365c' : '#2dce89';
                            return "<li style=\"list-style: none;\">\n                              <span style=\"margin-right: 5px;color: " + circleColor + ";\">\u25CF</span><span style=\"font-size: 90%\">" + (description.length > 40 ? description.substring(0, 40) + '...' : description) + "</span>: " + new Intl.NumberFormat('en-US', {
                                style: 'currency',
                                currency: 'USD',
                                minimumFractionDigits: 0,
                                maximumFractionDigits: 0
                            }).format(category.amount) + "\n                            </li>";
                        }).join('') + "\n                </ul>\n              </div>\n            "
                        : '';
                    // Retornar tooltip con balance coloreado
                    return "\n            " + day + "<br/>\n            <span style=\"display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:" + color + ";\"></span>\n            <span style=\"font-size:14px;color:#666;font-weight:400;margin-left:2px\">Balance</span>\n            <span style=\"float:right;margin-left:20px;font-size:14px;color:#666;font-weight:900\">" + balanceFormatted + "</span><br/>\n            " + categoriesContent + "\n          ";
                }
            },
            xAxis: {
                type: 'category',
                boundaryGap: false,
                show: false
            },
            yAxis: {
                type: 'value',
                boundaryGap: [0, '100%'],
                show: false // Ocultar eje Y
            },
            visualMap: {
                top: 50,
                show: false,
                right: 10,
                pieces: [
                    {
                        lte: -3000000,
                        color: '#fd0100'
                    },
                    {
                        gt: -3000000,
                        lte: -2000000,
                        color: '#f5365c'
                    },
                    {
                        gt: -2000000,
                        lte: -500000,
                        color: '#fb6340'
                    },
                    {
                        gt: -500000,
                        lte: 0,
                        color: '#fb9f40'
                    },
                    {
                        gt: 1,
                        lte: 10000,
                        color: '#ffd600'
                    },
                    {
                        gt: 10000,
                        lte: 300000,
                        color: '#11cdef'
                    },
                    {
                        gt: 300000,
                        lte: 600000,
                        color: '#04d39a'
                    },
                    {
                        gt: 600000,
                        lte: 1500000,
                        color: '#2dce66'
                    },
                    {
                        gt: 1500000,
                        lte: 5000000,
                        color: '#0fd731'
                    },
                    {
                        gt: 5000000,
                        lte: 10000000,
                        color: '#5e72e4'
                    },
                    {
                        gt: 10000000,
                        lte: 30000000,
                        color: '#8965e0'
                    },
                    {
                        gt: 30000000,
                        color: '#5603ad'
                    }
                ],
                outOfRange: {
                    color: '#999'
                }
            },
            series: [
                {
                    name: 'Balance',
                    type: 'line',
                    smooth: true,
                    symbol: 'none',
                    data: dataNew.map(function (d) { return ({
                        value: [d.day, d.total],
                        transactions: d.transactions
                    }); })
                }
            ],
            graphic: showPercentage
                ? {
                    type: 'text',
                    left: 'center',
                    top: '20%',
                    style: {
                        text: this.percentage + "%",
                        font: 'bold 150% sans-serif',
                        fill: percentageColor,
                    },
                }
                : undefined,
        };
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Number)
    ], AccountControlDashBudgetByCategoryComponent.prototype, "percentage", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], AccountControlDashBudgetByCategoryComponent.prototype, "transactions", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Number)
    ], AccountControlDashBudgetByCategoryComponent.prototype, "month", void 0);
    AccountControlDashBudgetByCategoryComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-account-control-dash-budget-by-category',
            template: __importDefault(__webpack_require__(/*! raw-loader!./account-control-dash-budget-by-category.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dash-budget-by-category/account-control-dash-budget-by-category.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./account-control-dash-budget-by-category.component.css */ "./src/app/pages/account-control/dashboards/account-control-dash-budget-by-category/account-control-dash-budget-by-category.component.css")).default]
        })
    ], AccountControlDashBudgetByCategoryComponent);
    return AccountControlDashBudgetByCategoryComponent;
}());



/***/ }),

/***/ "./src/app/pages/account-control/dashboards/account-control-dash-calendar/account-control-dash-calendar.component.css":
/*!****************************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/dashboards/account-control-dash-calendar/account-control-dash-calendar.component.css ***!
  \****************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".outer-container {\n    width: 100%;\n    overflow-x: auto;\n    /* Habilita el scroll horizontal */\n    padding-top: 20px;\n}\n\n.chart-container {\n    min-width: 1400px;\n    /* Asegura que el ancho mínimo sea suficiente para la gráfica */\n    height: 600px;\n    white-space: nowrap;\n    /* Asegura que el contenido no se envuelva */\n}\n\n.header-container {\n    display: -webkit-box;\n    display: flex;\n    -webkit-box-pack: justify;\n            justify-content: space-between;\n    /* Espacio entre selector y botones */\n    -webkit-box-align: center;\n            align-items: center;\n    /* Alineación vertical */\n    margin-bottom: 20px;\n}\n\n.header-container .year-selector {\n    margin-left: 10px;\n    /* Margen izquierdo opcional */\n}\n\n.header-container .button-container {\n    display: -webkit-box;\n    display: flex;\n    gap: 10px;\n    /* Espaciado entre botones */\n}\n\n.nav-button {\n    background: none;\n    border: none;\n    font-size: 18px;\n    color: #007bff;\n    /* Color azul de los botones */\n    cursor: pointer;\n}\n\n.nav-button i {\n    font-size: 20px;\n    /* Tamaño de las flechas */\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYWNjb3VudC1jb250cm9sL2Rhc2hib2FyZHMvYWNjb3VudC1jb250cm9sLWRhc2gtY2FsZW5kYXIvYWNjb3VudC1jb250cm9sLWRhc2gtY2FsZW5kYXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFdBQVc7SUFDWCxnQkFBZ0I7SUFDaEIsa0NBQWtDO0lBQ2xDLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLGlCQUFpQjtJQUNqQiwrREFBK0Q7SUFDL0QsYUFBYTtJQUNiLG1CQUFtQjtJQUNuQiw0Q0FBNEM7QUFDaEQ7O0FBRUE7SUFDSSxvQkFBYTtJQUFiLGFBQWE7SUFDYix5QkFBOEI7WUFBOUIsOEJBQThCO0lBQzlCLHFDQUFxQztJQUNyQyx5QkFBbUI7WUFBbkIsbUJBQW1CO0lBQ25CLHdCQUF3QjtJQUN4QixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsOEJBQThCO0FBQ2xDOztBQUVBO0lBQ0ksb0JBQWE7SUFBYixhQUFhO0lBQ2IsU0FBUztJQUNULDRCQUE0QjtBQUNoQzs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixZQUFZO0lBQ1osZUFBZTtJQUNmLGNBQWM7SUFDZCw4QkFBOEI7SUFDOUIsZUFBZTtBQUNuQjs7QUFFQTtJQUNJLGVBQWU7SUFDZiwwQkFBMEI7QUFDOUIiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9hY2NvdW50LWNvbnRyb2wvZGFzaGJvYXJkcy9hY2NvdW50LWNvbnRyb2wtZGFzaC1jYWxlbmRhci9hY2NvdW50LWNvbnRyb2wtZGFzaC1jYWxlbmRhci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm91dGVyLWNvbnRhaW5lciB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgb3ZlcmZsb3cteDogYXV0bztcbiAgICAvKiBIYWJpbGl0YSBlbCBzY3JvbGwgaG9yaXpvbnRhbCAqL1xuICAgIHBhZGRpbmctdG9wOiAyMHB4O1xufVxuXG4uY2hhcnQtY29udGFpbmVyIHtcbiAgICBtaW4td2lkdGg6IDE0MDBweDtcbiAgICAvKiBBc2VndXJhIHF1ZSBlbCBhbmNobyBtw61uaW1vIHNlYSBzdWZpY2llbnRlIHBhcmEgbGEgZ3LDoWZpY2EgKi9cbiAgICBoZWlnaHQ6IDYwMHB4O1xuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgLyogQXNlZ3VyYSBxdWUgZWwgY29udGVuaWRvIG5vIHNlIGVudnVlbHZhICovXG59XG5cbi5oZWFkZXItY29udGFpbmVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAvKiBFc3BhY2lvIGVudHJlIHNlbGVjdG9yIHkgYm90b25lcyAqL1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgLyogQWxpbmVhY2nDs24gdmVydGljYWwgKi9cbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xufVxuXG4uaGVhZGVyLWNvbnRhaW5lciAueWVhci1zZWxlY3RvciB7XG4gICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gICAgLyogTWFyZ2VuIGl6cXVpZXJkbyBvcGNpb25hbCAqL1xufVxuXG4uaGVhZGVyLWNvbnRhaW5lciAuYnV0dG9uLWNvbnRhaW5lciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBnYXA6IDEwcHg7XG4gICAgLyogRXNwYWNpYWRvIGVudHJlIGJvdG9uZXMgKi9cbn1cblxuLm5hdi1idXR0b24ge1xuICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICBjb2xvcjogIzAwN2JmZjtcbiAgICAvKiBDb2xvciBhenVsIGRlIGxvcyBib3RvbmVzICovXG4gICAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4ubmF2LWJ1dHRvbiBpIHtcbiAgICBmb250LXNpemU6IDIwcHg7XG4gICAgLyogVGFtYcOxbyBkZSBsYXMgZmxlY2hhcyAqL1xufSJdfQ== */");

/***/ }),

/***/ "./src/app/pages/account-control/dashboards/account-control-dash-calendar/account-control-dash-calendar.component.ts":
/*!***************************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/dashboards/account-control-dash-calendar/account-control-dash-calendar.component.ts ***!
  \***************************************************************************************************************************/
/*! exports provided: AccountControlDashCalendarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountControlDashCalendarComponent", function() { return AccountControlDashCalendarComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var src_app_services_utils_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/utils/common */ "./src/app/services/utils/common.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};


var AccountControlDashCalendarComponent = /** @class */ (function () {
    function AccountControlDashCalendarComponent() {
        this.transactions = []; // Transacciones diarias
        this.budgetSettings = null; // Configuración de presupuesto
        this.transactionType = 'expense'; // Tipo de transacción
        this.currentYear = new Date().getFullYear(); // Año inicial
    }
    AccountControlDashCalendarComponent.prototype.ngOnChanges = function (changes) {
        if (changes.transactions || changes.transactionType) {
            this.createChartOption();
        }
    };
    // Cambiar el tipo de transacción
    AccountControlDashCalendarComponent.prototype.setTransactionType = function (type) {
        this.transactionType = type;
        this.createChartOption();
    };
    // Método para generar las opciones del gráfico
    AccountControlDashCalendarComponent.prototype.createChartOption = function () {
        var _this = this;
        this.tooltipData = {};
        this.maxAmount = 50000;
        var totalTransactions = 0;
        var totalAmount = 0;
        var getTransactionData = function (year) {
            var startOfYear = new Date(year, 0, 1).getTime();
            var endOfYear = new Date(year + 1, 0, 1).getTime();
            var dayTime = 3600 * 24 * 1000;
            var data = {};
            _this.transactions
                .filter(function (t) { return t.type === _this.transactionType; })
                .forEach(function (transaction) {
                var _a, _b, _c;
                totalTransactions++;
                var transactionDate = new Date(transaction.date).getTime();
                if (transactionDate >= startOfYear && transactionDate < endOfYear) {
                    var dateStr = Object(src_app_services_utils_common__WEBPACK_IMPORTED_MODULE_1__["formatDateSimpleAnibal"])(transaction.date);
                    if (!data[dateStr]) {
                        data[dateStr] = { total: 0, categories: [] };
                    }
                    var amount = Math.abs(transaction.amount);
                    totalAmount += amount;
                    data[dateStr].total += amount;
                    var category = ((_c = (_b = (_a = _this.budgetSettings) === null || _a === void 0 ? void 0 : _a.categories) === null || _b === void 0 ? void 0 : _b.find(function (cat) { return cat.id === transaction.categoryId; })) === null || _c === void 0 ? void 0 : _c.name) || 'Sin Categoría';
                    data[dateStr].categories.push({ category: category, amount: amount });
                }
            });
            _this.tooltipData = __assign(__assign({}, _this.tooltipData), data); // Guardar datos adicionales para el tooltip
            var result = [];
            for (var time_1 = startOfYear; time_1 < endOfYear; time_1 += dayTime) {
                var dateStr = Object(src_app_services_utils_common__WEBPACK_IMPORTED_MODULE_1__["formatDateSimpleAnibal"])(time_1);
                var entry = data[dateStr] || { total: 0 };
                result.push([dateStr, entry.total]);
            }
            var temp = Math.ceil(totalAmount / totalTransactions) * 30;
            if (temp > _this.maxAmount) {
                _this.maxAmount = temp;
            }
            return result;
        };
        var getColorMap = function () {
            if (_this.transactionType === 'income') {
                return {
                    min: 0,
                    max: _this.maxAmount,
                    inRange: {
                        color: ['#ffff', '#04d39a']
                    }
                };
            }
            else {
                return {
                    min: 0,
                    max: _this.maxAmount,
                    inRange: {
                        color: ['#ffff', '#f5365c']
                    }
                };
            }
        };
        this.chartOptions = {
            tooltip: {
                trigger: 'item',
                formatter: function (params) {
                    var _a;
                    var date = params.data[0];
                    var amount = params.data[1];
                    var categories = ((_a = _this.tooltipData[date]) === null || _a === void 0 ? void 0 : _a.categories) || [];
                    return "\n            <strong>" + date + "</strong><br>\n            <strong>Monto:</strong> " + Object(src_app_services_utils_common__WEBPACK_IMPORTED_MODULE_1__["formatCurrencyAnibal"])(amount) + "<br>\n            <strong>Categor\u00EDas:</strong><ul>\n              " + categories.map(function (c) { return "<li><strong>" + c.category + "</strong>: " + Object(src_app_services_utils_common__WEBPACK_IMPORTED_MODULE_1__["formatCurrencyAnibal"])(c.amount) + "</li>"; }).join('') + "\n            </ul>\n          ";
                }
            },
            series: Array.from({ length: 3 }, function (_, i) { return ({
                type: 'heatmap',
                coordinateSystem: 'calendar',
                calendarIndex: i,
                data: getTransactionData(_this.currentYear - i)
            }); }),
            visualMap: __assign(__assign({}, getColorMap()), { calculable: true, orient: 'horizontal', left: 'center', top: 'top' }),
            calendar: Array.from({ length: 3 }, function (_, i) {
                if (i == 0)
                    return {
                        range: "" + (_this.currentYear - i),
                        cellSize: ['auto', 20]
                    };
                return {
                    top: i * ((i % 2 == 0) ? 220 : 250),
                    range: "" + (_this.currentYear - i),
                    cellSize: ['auto', 20]
                };
            })
        };
    };
    // Métodos para cambiar los años mostrados
    AccountControlDashCalendarComponent.prototype.goBack = function () {
        this.currentYear -= 3;
        this.createChartOption();
    };
    AccountControlDashCalendarComponent.prototype.goForward = function () {
        this.currentYear += 3;
        this.createChartOption();
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], AccountControlDashCalendarComponent.prototype, "transactions", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], AccountControlDashCalendarComponent.prototype, "budgetSettings", void 0);
    AccountControlDashCalendarComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-account-control-dash-calendar',
            template: __importDefault(__webpack_require__(/*! raw-loader!./account-control-dash-calendar.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dash-calendar/account-control-dash-calendar.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./account-control-dash-calendar.component.css */ "./src/app/pages/account-control/dashboards/account-control-dash-calendar/account-control-dash-calendar.component.css")).default]
        })
    ], AccountControlDashCalendarComponent);
    return AccountControlDashCalendarComponent;
}());



/***/ }),

/***/ "./src/app/pages/account-control/dashboards/account-control-dash-category-by-months/account-control-dash-category-by-months.component.css":
/*!************************************************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/dashboards/account-control-dash-category-by-months/account-control-dash-category-by-months.component.css ***!
  \************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2FjY291bnQtY29udHJvbC9kYXNoYm9hcmRzL2FjY291bnQtY29udHJvbC1kYXNoLWNhdGVnb3J5LWJ5LW1vbnRocy9hY2NvdW50LWNvbnRyb2wtZGFzaC1jYXRlZ29yeS1ieS1tb250aHMuY29tcG9uZW50LmNzcyJ9 */");

/***/ }),

/***/ "./src/app/pages/account-control/dashboards/account-control-dash-category-by-months/account-control-dash-category-by-months.component.ts":
/*!***********************************************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/dashboards/account-control-dash-category-by-months/account-control-dash-category-by-months.component.ts ***!
  \***********************************************************************************************************************************************/
/*! exports provided: AccountControlDashCategoryByMonthsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountControlDashCategoryByMonthsComponent", function() { return AccountControlDashCategoryByMonthsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/entities/account-control */ "./src/app/entities/account-control.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
var __spreadArrays = (undefined && undefined.__spreadArrays) || function () {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};


var AccountControlDashCategoryByMonthsComponent = /** @class */ (function () {
    function AccountControlDashCategoryByMonthsComponent() {
        this.transactions = [];
        this.year = new Date().getFullYear();
        this.transactionType = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_1__["AccountConstant"].TRANSACTION_TYPE_EXPENSE;
        this.monthlyBudget = false;
    }
    AccountControlDashCategoryByMonthsComponent.prototype.ngOnInit = function () {
        this.generateChartOptions();
    };
    AccountControlDashCategoryByMonthsComponent.prototype.ngOnChanges = function (changes) {
        if (changes.transactions || changes.year || changes.transactionType || changes.budgetSettings) {
            this.generateChartOptions();
        }
    };
    AccountControlDashCategoryByMonthsComponent.prototype.generateChartOptions = function () {
        var _this = this;
        var _a;
        var filteredTransactions = this.transactions.filter(function (transaction) {
            return new Date(transaction.date).getFullYear() === _this.year;
        });
        var title = "Presupuesto mensual de " + this.year;
        var relevantCategories = [{ id: 'Ingreso', name: 'Ingreso' }, { id: 'Gasto', name: 'Gasto' }, { id: 'Ahorro', name: 'Ahorro' }];
        if (!this.monthlyBudget) {
            title = (this.transactionType === src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_1__["AccountConstant"].TRANSACTION_TYPE_EXPENSE ? 'Gastos' : 'Ingresos') + " de " + this.year;
            // Filtrar las transacciones por año y tipo
            filteredTransactions = filteredTransactions.filter(function (transaction) {
                return transaction.type === _this.transactionType;
            });
            // Obtener las categorías de las transacciones filtradas
            var filteredCategoryIds_1 = new Set(filteredTransactions.map(function (t) { return t.categoryId; }));
            relevantCategories = this.budgetSettings.categories.filter(function (category) {
                return filteredCategoryIds_1.has(category.id);
            }).map(function (cat) { return { name: cat.name, id: cat.id }; });
        }
        // Crear el objeto monthlyData
        var monthlyData = {};
        if (!this.monthlyBudget) {
            // Inicializar monthlyData para cada categoría relevante con un array de 12 `null`
            for (var _i = 0, relevantCategories_1 = relevantCategories; _i < relevantCategories_1.length; _i++) {
                var category = relevantCategories_1[_i];
                monthlyData[category.name] = Array(12).fill(null);
            }
        }
        else {
            monthlyData['Gasto'] = Array(12).fill(null);
            monthlyData['Ingreso'] = Array(12).fill(null);
            monthlyData['Ahorro'] = Array(12).fill(null);
        }
        var lastMonth = 1;
        var _loop_1 = function (transaction) {
            var month = new Date(transaction.date).getMonth();
            var categoryName = transaction.type == src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_1__["AccountConstant"].TRANSACTION_TYPE_EXPENSE ? 'Gasto' : 'Ingreso';
            if (!this_1.monthlyBudget) {
                categoryName = (_a = relevantCategories.find(function (cat) { return cat.id === transaction.categoryId; })) === null || _a === void 0 ? void 0 : _a.name;
            }
            if (categoryName) {
                if (lastMonth < month) {
                    lastMonth = month;
                }
                monthlyData[categoryName][month] = (monthlyData[categoryName][month] || 0) + Math.round(Math.abs(transaction.amount));
            }
            if (this_1.monthlyBudget) {
                monthlyData['Ahorro'][month] = (monthlyData['Ingreso'][month] || 0) - (monthlyData['Gasto'][month] || 0);
            }
        };
        var this_1 = this;
        // Llenar monthlyData con los valores de las transacciones
        for (var _b = 0, filteredTransactions_1 = filteredTransactions; _b < filteredTransactions_1.length; _b++) {
            var transaction = filteredTransactions_1[_b];
            _loop_1(transaction);
        }
        // Formatear el dataset en un array, agregando el nombre de la categoría como primera columna
        this.renderChart(monthlyData, relevantCategories, lastMonth, title, this.monthlyBudget);
    };
    AccountControlDashCategoryByMonthsComponent.prototype.renderChart = function (monthlyData, relevantCategories, lastMonth, title, showLegend) {
        var _this = this;
        if (showLegend === void 0) { showLegend = false; }
        var dataset = [__spreadArrays(['product'], Array.from({ length: 12 }, function (_, i) { return _this.getNameOfMonth(i); }))];
        for (var category in monthlyData) {
            var row = [category];
            for (var i = 0; i < 12; i++) {
                row.push(monthlyData[category][i]);
            }
            dataset.push(row);
        }
        // Configuración del gráfico
        this.chartOptions = {
            title: {
                text: title,
                left: 'center',
                top: showLegend ? '15' : undefined,
                textStyle: {
                    fontSize: 18,
                    fontWeight: 'bold',
                }
            },
            legend: {
                show: showLegend
            },
            tooltip: {
                trigger: 'axis',
                showContent: false
            },
            dataset: { source: dataset },
            xAxis: { type: 'category' },
            yAxis: { gridIndex: 0 },
            grid: { top: '45%', left: '80px' },
            series: __spreadArrays(this.getSeriesOfLines(relevantCategories), [
                {
                    type: 'pie',
                    id: 'pie',
                    radius: '30%',
                    center: ['50%', '27%'],
                    emphasis: {
                        focus: 'self'
                    },
                    tooltip: {
                        trigger: 'axis',
                        showContent: true
                    },
                    label: {
                        show: true,
                        formatter: '{b}: {@' + this.getNameOfMonth(lastMonth) + '} ({d}%)'
                    },
                    encode: {
                        itemName: 'product',
                        value: this.getNameOfMonth(lastMonth),
                        tooltip: this.getNameOfMonth(lastMonth)
                    }
                }
            ])
        };
    };
    AccountControlDashCategoryByMonthsComponent.prototype.getNameOfMonth = function (i) {
        return new Date(0, i).toLocaleString('default', { month: 'short' });
    };
    AccountControlDashCategoryByMonthsComponent.prototype.getSeriesOfLines = function (categories) {
        var response = categories.map(function (t) {
            return {
                type: 'line',
                smooth: true,
                seriesLayoutBy: 'row',
                emphasis: { focus: 'series' },
            };
        });
        return response;
    };
    AccountControlDashCategoryByMonthsComponent.prototype.getSeriesOfMoth = function (months) {
    };
    AccountControlDashCategoryByMonthsComponent.prototype.onChartInit = function (chart) {
        chart.on('updateAxisPointer', function (event) {
            var xAxisInfo = event.axesInfo[0];
            if (xAxisInfo) {
                var dimension = xAxisInfo.value + 1;
                chart.setOption({
                    series: {
                        id: 'pie',
                        label: {
                            formatter: '{b}: {@[' + dimension + ']} ({d}%)'
                        },
                        encode: {
                            value: dimension,
                            tooltip: dimension
                        }
                    }
                });
            }
        });
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], AccountControlDashCategoryByMonthsComponent.prototype, "transactions", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Number)
    ], AccountControlDashCategoryByMonthsComponent.prototype, "year", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], AccountControlDashCategoryByMonthsComponent.prototype, "transactionType", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], AccountControlDashCategoryByMonthsComponent.prototype, "monthlyBudget", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], AccountControlDashCategoryByMonthsComponent.prototype, "budgetSettings", void 0);
    AccountControlDashCategoryByMonthsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-account-control-dash-category-by-months',
            template: __importDefault(__webpack_require__(/*! raw-loader!./account-control-dash-category-by-months.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dash-category-by-months/account-control-dash-category-by-months.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./account-control-dash-category-by-months.component.css */ "./src/app/pages/account-control/dashboards/account-control-dash-category-by-months/account-control-dash-category-by-months.component.css")).default]
        })
    ], AccountControlDashCategoryByMonthsComponent);
    return AccountControlDashCategoryByMonthsComponent;
}());



/***/ }),

/***/ "./src/app/pages/account-control/dashboards/account-control-dash-daily-balance/account-control-dash-daily-balance.component.css":
/*!**************************************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/dashboards/account-control-dash-daily-balance/account-control-dash-daily-balance.component.css ***!
  \**************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2FjY291bnQtY29udHJvbC9kYXNoYm9hcmRzL2FjY291bnQtY29udHJvbC1kYXNoLWRhaWx5LWJhbGFuY2UvYWNjb3VudC1jb250cm9sLWRhc2gtZGFpbHktYmFsYW5jZS5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/pages/account-control/dashboards/account-control-dash-daily-balance/account-control-dash-daily-balance.component.ts":
/*!*************************************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/dashboards/account-control-dash-daily-balance/account-control-dash-daily-balance.component.ts ***!
  \*************************************************************************************************************************************/
/*! exports provided: AccountControlDashDailyBalanceComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountControlDashDailyBalanceComponent", function() { return AccountControlDashDailyBalanceComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var echarts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! echarts */ "./node_modules/echarts/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};


var AccountControlDashDailyBalanceComponent = /** @class */ (function () {
    function AccountControlDashDailyBalanceComponent() {
        this.transactions = [];
    }
    AccountControlDashDailyBalanceComponent.prototype.ngOnInit = function () {
        this.generateChartOptions();
    };
    AccountControlDashDailyBalanceComponent.prototype.generateChartOptions = function () {
        var _a = this.calculateDailyBalance(), dates = _a.dates, balances = _a.balances;
        // Determinar el color del área basado en el balance promedio
        var averageBalance = balances.reduce(function (sum, value) { return sum + value; }, 0) / balances.length;
        var areaColor = averageBalance >= 0
            ? new echarts__WEBPACK_IMPORTED_MODULE_1__["graphic"].LinearGradient(0, 0, 0, 1, [
                { offset: 0, color: 'rgba(173, 216, 230, 0.8)' },
                { offset: 1, color: 'rgba(173, 216, 230, 0.2)' }
            ])
            : new echarts__WEBPACK_IMPORTED_MODULE_1__["graphic"].LinearGradient(0, 0, 0, 1, [
                { offset: 0, color: 'rgba(255, 165, 0, 0.8)' },
                { offset: 1, color: 'rgba(255, 165, 0, 0.2)' }
            ]);
        this.chartOptions = {
            tooltip: {
                trigger: 'axis',
                position: function (pt) { return [pt[0], '10%']; }
            },
            title: {
                left: 'center',
                text: 'Patrimonio Diario'
            },
            toolbox: {
                feature: {
                    dataZoom: { yAxisIndex: 'none' },
                    restore: {},
                    saveAsImage: {}
                }
            },
            xAxis: {
                type: 'category',
                boundaryGap: false,
                data: dates
            },
            yAxis: {
                type: 'value',
                boundaryGap: [0, '100%']
            },
            visualMap: {
                top: 50,
                show: false,
                right: 10,
                pieces: [
                    { lte: -3000000, color: '#fd0100' },
                    { gt: -3000000, lte: -2000000, color: '#f5365c' },
                    { gt: -2000000, lte: -500000, color: '#fb6340' },
                    { gt: -500000, lte: 0, color: '#fb9f40' },
                    { gt: 1, lte: 10000, color: '#ffd600' },
                    { gt: 10000, lte: 300000, color: '#11cdef' },
                    { gt: 300000, lte: 600000, color: '#04d39a' },
                    { gt: 600000, lte: 1500000, color: '#2dce66' },
                    { gt: 1500000, lte: 5000000, color: '#0fd731' },
                    { gt: 5000000, lte: 10000000, color: '#5e72e4' },
                    { gt: 10000000, lte: 30000000, color: '#8965e0' },
                    { gt: 30000000, color: '#5603ad' }
                ],
                outOfRange: { color: '#999' }
            },
            dataZoom: [
                { type: 'inside', start: 0, end: 100 },
                { start: 0, end: 100 }
            ],
            series: [
                {
                    name: 'Saldo',
                    type: 'line',
                    symbol: 'none',
                    sampling: 'lttb',
                    itemStyle: { color: 'rgb(255, 70, 131)' },
                    areaStyle: {
                        color: areaColor
                    },
                    data: balances
                }
            ]
        };
    };
    AccountControlDashDailyBalanceComponent.prototype.calculateDailyBalance = function () {
        var dailyBalanceMap = new Map();
        var currentBalance = 0;
        // Ordenar transacciones por fecha
        var sortedTransactions = this.transactions.sort(function (a, b) { return new Date(a.date).getTime() - new Date(b.date).getTime(); });
        for (var _i = 0, sortedTransactions_1 = sortedTransactions; _i < sortedTransactions_1.length; _i++) {
            var transaction = sortedTransactions_1[_i];
            // Formatear la fecha en formato YYYY-MM-DD
            var date = new Date(transaction.date).toISOString().split('T')[0];
            var amount = transaction.amount;
            currentBalance += amount;
            if (!dailyBalanceMap.has(date)) {
                dailyBalanceMap.set(date, currentBalance);
            }
        }
        // Convertir el Map a arrays para las fechas y los balances
        var dates = Array.from(dailyBalanceMap.keys());
        var balances = Array.from(dailyBalanceMap.values());
        return { dates: dates, balances: balances };
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], AccountControlDashDailyBalanceComponent.prototype, "transactions", void 0);
    AccountControlDashDailyBalanceComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-account-control-dash-daily-balance',
            template: __importDefault(__webpack_require__(/*! raw-loader!./account-control-dash-daily-balance.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dash-daily-balance/account-control-dash-daily-balance.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./account-control-dash-daily-balance.component.css */ "./src/app/pages/account-control/dashboards/account-control-dash-daily-balance/account-control-dash-daily-balance.component.css")).default]
        })
    ], AccountControlDashDailyBalanceComponent);
    return AccountControlDashDailyBalanceComponent;
}());



/***/ }),

/***/ "./src/app/pages/account-control/dashboards/account-control-dash-daily-by-account/account-control-dash-daily-by-account.component.css":
/*!********************************************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/dashboards/account-control-dash-daily-by-account/account-control-dash-daily-by-account.component.css ***!
  \********************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".chart-container {\n    width: 100%;\n    height: 100px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYWNjb3VudC1jb250cm9sL2Rhc2hib2FyZHMvYWNjb3VudC1jb250cm9sLWRhc2gtZGFpbHktYnktYWNjb3VudC9hY2NvdW50LWNvbnRyb2wtZGFzaC1kYWlseS1ieS1hY2NvdW50LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxXQUFXO0lBQ1gsYUFBYTtBQUNqQiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2FjY291bnQtY29udHJvbC9kYXNoYm9hcmRzL2FjY291bnQtY29udHJvbC1kYXNoLWRhaWx5LWJ5LWFjY291bnQvYWNjb3VudC1jb250cm9sLWRhc2gtZGFpbHktYnktYWNjb3VudC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNoYXJ0LWNvbnRhaW5lciB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDBweDtcbn0iXX0= */");

/***/ }),

/***/ "./src/app/pages/account-control/dashboards/account-control-dash-daily-by-account/account-control-dash-daily-by-account.component.ts":
/*!*******************************************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/dashboards/account-control-dash-daily-by-account/account-control-dash-daily-by-account.component.ts ***!
  \*******************************************************************************************************************************************/
/*! exports provided: AccountControlDashDailyByAccountComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountControlDashDailyByAccountComponent", function() { return AccountControlDashDailyByAccountComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
var __spreadArrays = (undefined && undefined.__spreadArrays) || function () {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};

var AccountControlDashDailyByAccountComponent = /** @class */ (function () {
    function AccountControlDashDailyByAccountComponent() {
        this.transactions = [];
        this.frequency = 'daily';
    }
    AccountControlDashDailyByAccountComponent.prototype.ngOnInit = function () {
        this.updateChart();
    };
    AccountControlDashDailyByAccountComponent.prototype.ngOnChanges = function (changes) {
        if (changes['transactions'] || changes['frequency'] || changes['budgetSettings']) {
            this.updateChart();
        }
    };
    AccountControlDashDailyByAccountComponent.prototype.updateChart = function () {
        if (!this.transactions || !this.account)
            return;
        var filteredTransactions = this.filterTransactionsByFrequency();
        var groupedBalances = this.calculateBalances(filteredTransactions);
        var groupToRender = groupedBalances.map(function (balance) { return { date: balance.date.toISOString().slice(0, 10), balance: balance.balance, categories: balance.categories }; });
        this.chartOption = this.createChartOption(groupToRender);
    };
    AccountControlDashDailyByAccountComponent.prototype.filterTransactionsByFrequency = function () {
        var _this = this;
        var transactionsByCategory = this.transactions.filter(function (t) { return _this.account.id.includes(t.accountId); });
        var lastTransactionDate = transactionsByCategory.length > 0 ? new Date(transactionsByCategory[0].date) : new Date();
        var thirtyDaysAgoFromLastTransaction = new Date(lastTransactionDate);
        thirtyDaysAgoFromLastTransaction.setDate(lastTransactionDate.getDate() - 365);
        return transactionsByCategory.filter(function (transaction) {
            var transactionDate = new Date(transaction.date);
            if (_this.frequency === 'daily') {
                return transactionDate >= thirtyDaysAgoFromLastTransaction;
            }
            else if (_this.frequency === 'monthly') {
                return transactionDate.getFullYear() === lastTransactionDate.getFullYear() &&
                    transactionDate.getMonth() === lastTransactionDate.getMonth();
            }
            // 'annual' no filtra, se usa todo el historial.
            return true;
        });
    };
    AccountControlDashDailyByAccountComponent.prototype.calculateBalances = function (transactions) {
        // Ordenar las transacciones de más reciente a más antigua
        var sortedTransactions = __spreadArrays(transactions).sort(function (a, b) { return new Date(b.date).getTime() - new Date(a.date).getTime(); });
        // El balance inicial es el de la cuenta en la fecha de la última transacción
        var currentBalance = this.account.balance;
        return this.generateResult(transactions, currentBalance);
    };
    AccountControlDashDailyByAccountComponent.prototype.generateResult = function (sortedTransactions, initialBalance) {
        var _this = this;
        var _a, _b, _c, _d;
        var currentBalance = initialBalance;
        var result = [];
        // Agrupar las transacciones por fecha
        var transactionsByDate = sortedTransactions.reduce(function (acc, trx) {
            var dateKey = _this.formatDate(trx.date); // Obtener solo la fecha
            if (!acc[dateKey]) {
                acc[dateKey] = [];
            }
            acc[dateKey].push(trx);
            return acc;
        }, []);
        var firstDate = sortedTransactions[0].date;
        // Función para formatear una fecha a 'YYYY-MM-DD' 
        // Generar array de los 30 días anteriores 
        var past30Days = Array.from({ length: 365 }, function (_, i) { var date = new Date(); date.setDate(date.getDate() - i); return _this.formatDate(date); });
        var nextAmount = currentBalance;
        for (var _i = 0, past30Days_1 = past30Days; _i < past30Days_1.length; _i++) {
            var date = past30Days_1[_i];
            var dayTransactions = (_a = transactionsByDate[date], (_a !== null && _a !== void 0 ? _a : []));
            var categories = [];
            var _loop_1 = function (trx) {
                // currentBalance += trx.amount; // Sumar porque estamos retrocediendo en el tiempo
                var categoryName = ((_d = (_c = (_b = this_1.budgetSettings) === null || _b === void 0 ? void 0 : _b.categories) === null || _c === void 0 ? void 0 : _c.find(function (cat) { return cat.id == trx.categoryId; })) === null || _d === void 0 ? void 0 : _d.name) || 'Sin Categoría';
                // Agregar la transacción al arreglo de categorías
                // Asegurar que el balance final de la transacción también se registre
                categories.push({
                    name: categoryName,
                    type: trx.type,
                    amount: trx.amount
                });
            };
            var this_1 = this;
            for (var _e = 0, dayTransactions_1 = dayTransactions; _e < dayTransactions_1.length; _e++) {
                var trx = dayTransactions_1[_e];
                _loop_1(trx);
            }
            var totalAmount = dayTransactions.reduce(function (acc, transaction) { return acc + transaction.amount; }, 0);
            currentBalance = (nextAmount + (totalAmount * -1)) + totalAmount;
            nextAmount = (currentBalance + (totalAmount * -1));
            // Agregar el resultado del día al arreglo final
            result.push({
                date: new Date(date),
                balance: currentBalance,
                categories: categories
            });
        }
        return result.sort(function (a, b) { return a.date.getTime() - b.date.getTime(); });
        ;
    };
    AccountControlDashDailyByAccountComponent.prototype.formatDate = function (date) {
        var year = date.getFullYear();
        var month = (date.getMonth() + 1).toString().padStart(2, '0');
        var day = date.getDate().toString().padStart(2, '0');
        return year + "-" + month + "-" + day;
    };
    AccountControlDashDailyByAccountComponent.prototype.createChartOption = function (data) {
        return {
            tooltip: {
                trigger: 'axis',
                position: function (pt, params, dom, rect, size) {
                    var contentSize = size.contentSize, viewSize = size.viewSize;
                    var x = pt[0], y = pt[1];
                    var isOverflowingRight = x + contentSize[0] > viewSize[0];
                    return isOverflowingRight ? [x - contentSize[0], y] : [x, y];
                },
                formatter: function (params) {
                    var dataPoint = params[0];
                    var value = dataPoint.value; // value: [date, balance, categories]
                    var date = value[0], balance = value[1];
                    var categories = dataPoint.data.categories;
                    // Formatear balance como moneda
                    var balanceFormatted = new Intl.NumberFormat('en-US', {
                        style: 'currency',
                        currency: 'USD',
                        minimumFractionDigits: 0,
                        maximumFractionDigits: 0
                    }).format(balance);
                    // Obtener el color del punto actual
                    var color = params[0].color; // Color calculado automáticamente por visualMap
                    var totalAmount = categories.reduce(function (sum, category) { return sum + category.amount; }, 0);
                    // Generar lista de categorías si existen
                    var categoriesContent = categories.length
                        ? "\n              <div>\n                <b>Categorias:</b>\n                <ul style=\"padding-left: 15px; margin: 5px 0;\">\n                  " + categories.map(function (category) {
                            var circleColor = category.type == 'expense' ? '#f5365c' : '#2dce89';
                            return "<li style=\"list-style: none;\">\n                              <span style=\"margin-right: 5px;color: " + circleColor + ";\">\u25CF</span>" + category.name + ": " + new Intl.NumberFormat('en-US', {
                                style: 'currency',
                                currency: 'USD',
                                minimumFractionDigits: 0,
                                maximumFractionDigits: 0
                            }).format(category.amount) + "\n                            </li>";
                        }).join('') + "\n                </ul>\n                Total:  <b>" + new Intl.NumberFormat('en-US', {
                            style: 'currency',
                            currency: 'USD',
                            minimumFractionDigits: 0,
                            maximumFractionDigits: 0
                        }).format(totalAmount) + "</b>\n              </div>\n            "
                        : '';
                    // Retornar tooltip con balance coloreado
                    return "\n            " + date + "<br/>\n            <span style=\"display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:" + color + ";\"></span>\n            <span style=\"font-size:14px;color:#666;font-weight:400;margin-left:2px\">Balance</span>\n            <span style=\"float:right;margin-left:20px;font-size:14px;color:#666;font-weight:900\">" + balanceFormatted + "</span><br/>\n            " + categoriesContent + "\n          ";
                }
            },
            xAxis: {
                type: 'category',
                boundaryGap: false,
                show: false
            },
            yAxis: {
                type: 'value',
                boundaryGap: [0, '100%'],
                show: false // Ocultar eje Y
            },
            dataZoom: [
                {
                    show: false,
                    realtime: true,
                    start: 70,
                    end: 100,
                    xAxisIndex: [0, 1]
                },
                {
                    type: 'inside',
                    realtime: true,
                    start: 0,
                    end: 100,
                    xAxisIndex: [0, 1]
                }
            ],
            visualMap: {
                top: 50,
                show: false,
                right: 10,
                pieces: [
                    {
                        lte: -3000000,
                        color: '#fd0100'
                    },
                    {
                        gt: -3000000,
                        lte: -2000000,
                        color: '#f5365c'
                    },
                    {
                        gt: -2000000,
                        lte: -500000,
                        color: '#fb6340'
                    },
                    {
                        gt: -500000,
                        lte: 0,
                        color: '#fb9f40'
                    },
                    {
                        gt: 1,
                        lte: 10000,
                        color: '#ffd600'
                    },
                    {
                        gt: 10000,
                        lte: 300000,
                        color: '#11cdef'
                    },
                    {
                        gt: 300000,
                        lte: 600000,
                        color: '#04d39a'
                    },
                    {
                        gt: 600000,
                        lte: 1500000,
                        color: '#2dce66'
                    },
                    {
                        gt: 1500000,
                        lte: 5000000,
                        color: '#0fd731'
                    },
                    {
                        gt: 5000000,
                        lte: 10000000,
                        color: '#5e72e4'
                    },
                    {
                        gt: 10000000,
                        lte: 30000000,
                        color: '#8965e0'
                    },
                    {
                        gt: 30000000,
                        color: '#5603ad'
                    }
                ],
                outOfRange: {
                    color: '#999'
                }
            },
            series: [
                {
                    name: 'Balance',
                    type: 'line',
                    smooth: true,
                    symbol: 'none',
                    data: data.map(function (d) { return ({
                        value: [d.date, d.balance],
                        categories: d.categories
                    }); })
                }
            ]
        };
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], AccountControlDashDailyByAccountComponent.prototype, "transactions", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], AccountControlDashDailyByAccountComponent.prototype, "account", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], AccountControlDashDailyByAccountComponent.prototype, "budgetSettings", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], AccountControlDashDailyByAccountComponent.prototype, "frequency", void 0);
    AccountControlDashDailyByAccountComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-account-control-dash-daily-by-account',
            template: __importDefault(__webpack_require__(/*! raw-loader!./account-control-dash-daily-by-account.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dash-daily-by-account/account-control-dash-daily-by-account.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./account-control-dash-daily-by-account.component.css */ "./src/app/pages/account-control/dashboards/account-control-dash-daily-by-account/account-control-dash-daily-by-account.component.css")).default]
        }),
        __metadata("design:paramtypes", [])
    ], AccountControlDashDailyByAccountComponent);
    return AccountControlDashDailyByAccountComponent;
}());



/***/ }),

/***/ "./src/app/pages/account-control/dashboards/account-control-dash-daily-categories/account-control-dash-daily-categories.component.css":
/*!********************************************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/dashboards/account-control-dash-daily-categories/account-control-dash-daily-categories.component.css ***!
  \********************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".chart-container {\n    display: -webkit-box;\n    display: flex;\n    -webkit-box-pack: justify;\n            justify-content: space-between;\n    -webkit-box-align: center;\n            align-items: center;\n    position: relative;\n}\n\n.nav-button {\n    background: none;\n    border: none;\n    font-size: 18px;\n    color: #007bff;\n    /* Color azul de los botones */\n    cursor: pointer;\n}\n\n.nav-button i {\n    font-size: 20px;\n    /* Tamaño de las flechas */\n}\n\n.chart {\n    -webkit-box-flex: 1;\n            flex-grow: 1;\n    height: 400px;\n    /* Ajusta el tamaño del gráfico según lo necesites */\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYWNjb3VudC1jb250cm9sL2Rhc2hib2FyZHMvYWNjb3VudC1jb250cm9sLWRhc2gtZGFpbHktY2F0ZWdvcmllcy9hY2NvdW50LWNvbnRyb2wtZGFzaC1kYWlseS1jYXRlZ29yaWVzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxvQkFBYTtJQUFiLGFBQWE7SUFDYix5QkFBOEI7WUFBOUIsOEJBQThCO0lBQzlCLHlCQUFtQjtZQUFuQixtQkFBbUI7SUFDbkIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLFlBQVk7SUFDWixlQUFlO0lBQ2YsY0FBYztJQUNkLDhCQUE4QjtJQUM5QixlQUFlO0FBQ25COztBQUVBO0lBQ0ksZUFBZTtJQUNmLDBCQUEwQjtBQUM5Qjs7QUFFQTtJQUNJLG1CQUFZO1lBQVosWUFBWTtJQUNaLGFBQWE7SUFDYixvREFBb0Q7QUFDeEQiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9hY2NvdW50LWNvbnRyb2wvZGFzaGJvYXJkcy9hY2NvdW50LWNvbnRyb2wtZGFzaC1kYWlseS1jYXRlZ29yaWVzL2FjY291bnQtY29udHJvbC1kYXNoLWRhaWx5LWNhdGVnb3JpZXMuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jaGFydC1jb250YWluZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4ubmF2LWJ1dHRvbiB7XG4gICAgYmFja2dyb3VuZDogbm9uZTtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgZm9udC1zaXplOiAxOHB4O1xuICAgIGNvbG9yOiAjMDA3YmZmO1xuICAgIC8qIENvbG9yIGF6dWwgZGUgbG9zIGJvdG9uZXMgKi9cbiAgICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5uYXYtYnV0dG9uIGkge1xuICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICAvKiBUYW1hw7FvIGRlIGxhcyBmbGVjaGFzICovXG59XG5cbi5jaGFydCB7XG4gICAgZmxleC1ncm93OiAxO1xuICAgIGhlaWdodDogNDAwcHg7XG4gICAgLyogQWp1c3RhIGVsIHRhbWHDsW8gZGVsIGdyw6FmaWNvIHNlZ8O6biBsbyBuZWNlc2l0ZXMgKi9cbn0iXX0= */");

/***/ }),

/***/ "./src/app/pages/account-control/dashboards/account-control-dash-daily-categories/account-control-dash-daily-categories.component.ts":
/*!*******************************************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/dashboards/account-control-dash-daily-categories/account-control-dash-daily-categories.component.ts ***!
  \*******************************************************************************************************************************************/
/*! exports provided: AccountControlDashDailyCategoriesComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountControlDashDailyCategoriesComponent", function() { return AccountControlDashDailyCategoriesComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/entities/account-control */ "./src/app/entities/account-control.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};


var AccountControlDashDailyCategoriesComponent = /** @class */ (function () {
    function AccountControlDashDailyCategoriesComponent() {
        this.transactions = [];
        this.changeCurrentMonth = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.chartOptions = {};
        this.currentMonth = new Date(); // Mes actual para visualizar
        this.posList = [
            'left',
            'right',
            'top',
            'bottom',
            'inside',
            'insideTop',
            'insideLeft',
            'insideRight',
            'insideBottom',
            'insideTopLeft',
            'insideTopRight',
            'insideBottomLeft',
            'insideBottomRight'
        ];
    }
    AccountControlDashDailyCategoriesComponent.prototype.ngOnInit = function () {
        this.prepareChartData();
    };
    AccountControlDashDailyCategoriesComponent.prototype.previousMonth = function () {
        this.currentMonth.setMonth(this.currentMonth.getMonth() - 1);
        this.prepareChartData();
    };
    AccountControlDashDailyCategoriesComponent.prototype.nextMonth = function () {
        this.currentMonth.setMonth(this.currentMonth.getMonth() + 1);
        this.prepareChartData();
    };
    AccountControlDashDailyCategoriesComponent.prototype.prepareChartData = function () {
        var _this = this;
        this.changeCurrentMonth.emit(this.currentMonth);
        var year = this.currentMonth.getFullYear();
        var month = this.currentMonth.getMonth();
        // Formatear el nombre del mes
        var monthNames = [
            'Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio',
            'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'
        ];
        var monthName = monthNames[month];
        // Título con el mes y año actuales
        var title = monthName + " de " + year;
        // Fechas de inicio y fin del mes
        var startDate = new Date(year, month, 1);
        var endDate = new Date(year, month + 1, 0);
        var daysInMonth = Array.from({ length: endDate.getDate() }, function (_, i) { return i + 1; });
        // Agrupar transacciones por días y categorías
        var dataByDay = {};
        var activeDays = new Set(); // Para almacenar los días con transacciones
        this.transactions.forEach(function (tx) {
            var _a, _b, _c;
            var txDate = new Date(tx.date);
            if (tx.transactionId && tx.type == src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_1__["AccountConstant"].TRANSACTION_TYPE_INCOME) {
                return;
            }
            if (txDate.getFullYear() === year && txDate.getMonth() === month) {
                var day = txDate.getDate() - 1; // Índice del día en el mes
                var category = ((_c = (_b = (_a = _this.budgetSettings) === null || _a === void 0 ? void 0 : _a.categories) === null || _b === void 0 ? void 0 : _b.find(function (cat) { return cat.id == tx.categoryId; })) === null || _c === void 0 ? void 0 : _c.name) || 'Sin Categoría';
                if (!dataByDay[category]) {
                    dataByDay[category] = Array(endDate.getDate()).fill(0);
                }
                dataByDay[category][day] += tx.amount;
                activeDays.add(day); // Registrar el día con transacción
            }
        });
        // Determinar el primer y último día con datos
        var firstDay = Math.min.apply(Math, Array.from(activeDays));
        var lastDay = Math.max.apply(Math, Array.from(activeDays));
        var labelOption = {
            show: false,
            position: this.posList[4],
            distance: 15,
            align: 'center',
            verticalAlign: 'middle',
            rotate: 0,
            formatter: function (params) {
                return params.value !== 0 ? params.value : ''; // Mostrar solo si el valor no es 0
            },
            fontSize: 12
        };
        // Crear las series para el gráfico
        var series = Object.entries(dataByDay).map(function (_a) {
            var category = _a[0], data = _a[1];
            return ({
                name: category,
                type: 'bar',
                stack: 'Total',
                label: labelOption,
                emphasis: {
                    focus: 'series' // Corrigiendo el valor de "focus"
                },
                data: data
            });
        });
        // Calcular el porcentaje de zoom para el rango de días con datos
        var startZoom = (firstDay / (endDate.getDate() - 1)) * 100;
        var endZoom = (lastDay / (endDate.getDate() - 1)) * 100;
        // Función para formatear valores como moneda
        var formatCurrency = function (value) {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            }).format(value);
        };
        // Configuración del gráfico
        this.chartOptions = {
            title: {
                text: title,
                left: 'center',
                textStyle: {
                    fontSize: 18,
                    fontWeight: 'bold'
                }
            },
            tooltip: {
                trigger: 'axis',
                axisPointer: { type: 'shadow' },
                formatter: function (params) {
                    var tooltipContent = "<strong>" + params[0].name + "</strong><br>";
                    var totalAmount = 0; // Variable para almacenar la suma total
                    params.forEach(function (param) {
                        if (param.value !== 0) { // Mostrar solo si el valor es diferente de cero
                            totalAmount += param.value;
                            tooltipContent += "\n                <span style=\"display: inline-block; width: 12px; height: 12px; border-radius: 50%; background-color:" + param.color + "; margin-right: 5px;\"></span>\n                " + param.seriesName + ": " + formatCurrency(param.value) + "<br>\n              ";
                        }
                    });
                    tooltipContent += "<strong>Total: " + formatCurrency(totalAmount) + "</strong>";
                    return tooltipContent;
                }
            },
            legend: {
                data: Object.keys(dataByDay),
                show: false,
            },
            toolbox: {
                show: true,
                orient: 'vertical',
                left: 'right',
                top: 'center',
                feature: {
                    dataView: { show: true, readOnly: false },
                    magicType: { show: true, type: ['line', 'bar', 'stack'] },
                    restore: { show: true },
                    saveAsImage: { show: true }
                }
            },
            xAxis: {
                type: 'category',
                axisTick: { show: false },
                data: daysInMonth.map(function (day) { return "D\u00EDa " + day; })
            },
            yAxis: {
                type: 'value'
            },
            series: series,
            dataZoom: [
                {
                    type: 'slider',
                    show: true,
                    start: startZoom,
                    end: endZoom,
                    xAxisIndex: [0],
                    handleSize: '8%' // Tamaño del control deslizante
                },
                {
                    type: 'inside',
                    xAxisIndex: [0],
                    zoomOnMouseWheel: true,
                    moveOnMouseMove: true
                }
            ]
        };
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], AccountControlDashDailyCategoriesComponent.prototype, "transactions", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], AccountControlDashDailyCategoriesComponent.prototype, "budgetSettings", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
        __metadata("design:type", Object)
    ], AccountControlDashDailyCategoriesComponent.prototype, "changeCurrentMonth", void 0);
    AccountControlDashDailyCategoriesComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-account-control-dash-daily-categories',
            template: __importDefault(__webpack_require__(/*! raw-loader!./account-control-dash-daily-categories.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dash-daily-categories/account-control-dash-daily-categories.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./account-control-dash-daily-categories.component.css */ "./src/app/pages/account-control/dashboards/account-control-dash-daily-categories/account-control-dash-daily-categories.component.css")).default]
        })
    ], AccountControlDashDailyCategoriesComponent);
    return AccountControlDashDailyCategoriesComponent;
}());



/***/ }),

/***/ "./src/app/pages/account-control/dashboards/account-control-dash-income-vs-expense-daily/account-control-dash-income-vs-expense-daily.component.css":
/*!**********************************************************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/dashboards/account-control-dash-income-vs-expense-daily/account-control-dash-income-vs-expense-daily.component.css ***!
  \**********************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2FjY291bnQtY29udHJvbC9kYXNoYm9hcmRzL2FjY291bnQtY29udHJvbC1kYXNoLWluY29tZS12cy1leHBlbnNlLWRhaWx5L2FjY291bnQtY29udHJvbC1kYXNoLWluY29tZS12cy1leHBlbnNlLWRhaWx5LmNvbXBvbmVudC5jc3MifQ== */");

/***/ }),

/***/ "./src/app/pages/account-control/dashboards/account-control-dash-income-vs-expense-daily/account-control-dash-income-vs-expense-daily.component.ts":
/*!*********************************************************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/dashboards/account-control-dash-income-vs-expense-daily/account-control-dash-income-vs-expense-daily.component.ts ***!
  \*********************************************************************************************************************************************************/
/*! exports provided: AccountControlDashIncomeVsExpenseDailyComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountControlDashIncomeVsExpenseDailyComponent", function() { return AccountControlDashIncomeVsExpenseDailyComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var src_app_services_utils_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/utils/common */ "./src/app/services/utils/common.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};


var AccountControlDashIncomeVsExpenseDailyComponent = /** @class */ (function () {
    function AccountControlDashIncomeVsExpenseDailyComponent() {
        this.transactions = []; // Lista de transacciones recibidas
        this.budgetSettings = null; // Configuración de presupuesto
        this.chartOptions = null; // Opciones del gráfico
    }
    AccountControlDashIncomeVsExpenseDailyComponent.prototype.ngOnChanges = function (changes) {
        if (changes['transactions'] && this.transactions) {
            this.generateChartOptions();
        }
    };
    AccountControlDashIncomeVsExpenseDailyComponent.prototype.generateChartOptions = function () {
        var _this = this;
        // Agrupar transacciones por día
        var groupedTransactions = {};
        this.transactions.forEach(function (transaction) {
            var _a, _b, _c;
            transaction.date = new Date(transaction.date);
            var date = transaction.date.toISOString().split('T')[0]; // Obtener fecha en formato YYYY-MM-DD
            if (!groupedTransactions[date]) {
                groupedTransactions[date] = { income: 0, expense: 0, incomeCategories: new Set(), expenseCategories: new Set() };
            }
            var category = ((_c = (_b = (_a = _this.budgetSettings) === null || _a === void 0 ? void 0 : _a.categories) === null || _b === void 0 ? void 0 : _b.find(function (cat) { return cat.id === transaction.categoryId; })) === null || _c === void 0 ? void 0 : _c.name) || 'Sin Categoría';
            if (transaction.type === 'income') {
                groupedTransactions[date].income += transaction.amount;
                groupedTransactions[date].incomeCategories.add(category);
            }
            else if (transaction.type === 'expense') {
                groupedTransactions[date].expense += transaction.amount;
                groupedTransactions[date].expenseCategories.add(category);
            }
        });
        // Extraer datos ordenados por fecha
        var dates = Object.keys(groupedTransactions).sort();
        var incomeData = dates.map(function (date) { return groupedTransactions[date].income; });
        var expenseData = dates.map(function (date) { return groupedTransactions[date].expense; });
        // Obtener la fecha de hace 6 meses
        var twelveMonthsAgo = new Date();
        twelveMonthsAgo.setMonth(twelveMonthsAgo.getMonth() - 6);
        // Filtrar las fechas para los últimos 12 meses para establecer el rango de zoom
        var last12MonthsIndex = dates.findIndex(function (date) { return new Date(date) >= twelveMonthsAgo; });
        var startZoomin = 0;
        if (dates.length > 100) {
            startZoomin = last12MonthsIndex;
        }
        // Configurar opciones del gráfico
        this.chartOptions = {
            title: {
                text: 'Ingresos vs Gastos Diarios',
                left: 'center'
            },
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    animation: true
                },
                formatter: function (params) {
                    var tooltipContent = "<strong>" + params[0].name + "</strong><br>";
                    var totalAmount = 0; // Variable para almacenar la suma total
                    var incomeCategories = '';
                    var expenseCategories = '';
                    params.forEach(function (param) {
                        var _a, _b;
                        if (param.value !== 0) { // Mostrar solo si el valor es diferente de cero
                            totalAmount += param.value;
                            // Agregar las categorías de ingresos y gastos al contenido del tooltip
                            if (param.seriesName === 'Ingresos') {
                                incomeCategories = Array.from((_a = groupedTransactions[params[0].name]) === null || _a === void 0 ? void 0 : _a.incomeCategories).map(function (category) { return "<li>" + category + "</li>"; }).join('') || 'N/A';
                                tooltipContent += " \n                  <span style=\"display: inline-block; width: 12px; height: 12px; border-radius: 50%; background-color:" + param.color + "; margin-right: 5px;\"></span>\n                  " + param.seriesName + ": " + _this.formatCurrency(param.value) + "<br>\n                  <ul>" + incomeCategories + "</ul>\n                ";
                            }
                            else if (param.seriesName === 'Gastos') {
                                expenseCategories = Array.from((_b = groupedTransactions[params[0].name]) === null || _b === void 0 ? void 0 : _b.expenseCategories).map(function (category) { return "<li>" + category + "</li>"; }).join('') || 'N/A';
                                tooltipContent += " \n                  <span style=\"display: inline-block; width: 12px; height: 12px; border-radius: 50%; background-color:" + param.color + "; margin-right: 5px;\"></span>\n                  " + param.seriesName + ": " + _this.formatCurrency(param.value) + "<br>\n                  <ul>" + expenseCategories + "</ul>\n                ";
                            }
                        }
                    });
                    tooltipContent += "<strong>Total: " + _this.formatCurrency(totalAmount) + "</strong>";
                    return tooltipContent;
                }
            },
            legend: {
                data: ['Ingresos', 'Gastos'],
                left: 10,
                show: false,
            },
            toolbox: {
                feature: {
                    dataZoom: {
                        yAxisIndex: 'none'
                    },
                    restore: {},
                    saveAsImage: {}
                }
            },
            axisPointer: {
                link: [
                    {
                        xAxisIndex: 'all'
                    }
                ]
            },
            dataZoom: [
                {
                    show: true,
                    realtime: true,
                    start: (startZoomin / dates.length) * 100,
                    end: 100,
                    xAxisIndex: [0, 1]
                },
                {
                    type: 'inside',
                    realtime: true,
                    start: (startZoomin / dates.length) * 100,
                    end: 100,
                    xAxisIndex: [0, 1]
                }
            ],
            grid: [
                {
                    left: 60,
                    right: 50,
                    height: '35%'
                },
                {
                    left: 60,
                    right: 50,
                    top: '65%',
                    height: '35%'
                }
            ],
            xAxis: [
                {
                    type: 'category',
                    boundaryGap: false,
                    axisLine: { onZero: true },
                    data: dates
                },
                {
                    gridIndex: 1,
                    type: 'category',
                    boundaryGap: false,
                    axisLine: { onZero: true },
                    data: dates,
                    position: 'top'
                }
            ],
            yAxis: [
                {
                    name: 'Ingresos',
                    type: 'value',
                },
                {
                    gridIndex: 1,
                    name: 'Gastos',
                    type: 'value',
                }
            ],
            visualMap: {
                show: false,
                pieces: [
                    { lte: -3000000, color: '#fd0100' },
                    { gt: -3000000, lte: -2000000, color: '#f5365c' },
                    { gt: -2000000, lte: -500000, color: '#fb6340' },
                    { gt: -500000, lte: 0, color: '#fb9f40' },
                    { gt: 1, lte: 10000, color: '#ffd600' },
                    { gt: 10000, lte: 300000, color: '#11cdef' },
                    { gt: 300000, lte: 600000, color: '#04d39a' },
                    { gt: 600000, lte: 1500000, color: '#2dce66' },
                    { gt: 1500000, lte: 5000000, color: '#0fd731' },
                    { gt: 5000000, lte: 10000000, color: '#5e72e4' },
                    { gt: 10000000, lte: 30000000, color: '#8965e0' },
                    { gt: 30000000, color: '#5603ad' }
                ],
                outOfRange: { color: '#999' }
            },
            series: [
                {
                    name: 'Ingresos',
                    type: 'line',
                    symbol: 'none',
                    smooth: true,
                    data: incomeData
                },
                {
                    name: 'Gastos',
                    type: 'line',
                    symbol: 'none',
                    xAxisIndex: 1,
                    yAxisIndex: 1,
                    smooth: true,
                    data: expenseData
                }
            ]
        };
    };
    // Formatear números como moneda
    AccountControlDashIncomeVsExpenseDailyComponent.prototype.formatCurrency = function (value) {
        return Object(src_app_services_utils_common__WEBPACK_IMPORTED_MODULE_1__["formatCurrencyAnibal"])(value);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], AccountControlDashIncomeVsExpenseDailyComponent.prototype, "transactions", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], AccountControlDashIncomeVsExpenseDailyComponent.prototype, "budgetSettings", void 0);
    AccountControlDashIncomeVsExpenseDailyComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-account-control-dash-income-vs-expense-daily',
            template: __importDefault(__webpack_require__(/*! raw-loader!./account-control-dash-income-vs-expense-daily.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dash-income-vs-expense-daily/account-control-dash-income-vs-expense-daily.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./account-control-dash-income-vs-expense-daily.component.css */ "./src/app/pages/account-control/dashboards/account-control-dash-income-vs-expense-daily/account-control-dash-income-vs-expense-daily.component.css")).default]
        })
    ], AccountControlDashIncomeVsExpenseDailyComponent);
    return AccountControlDashIncomeVsExpenseDailyComponent;
}());



/***/ }),

/***/ "./src/app/pages/account-control/dashboards/account-control-dash-radar-by-category/account-control-dash-radar-by-category.component.css":
/*!**********************************************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/dashboards/account-control-dash-radar-by-category/account-control-dash-radar-by-category.component.css ***!
  \**********************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".chart-container {\n    width: 100%;\n\n}\n\n@media (max-width: 768px) {\n    .chart-container {\n        width: 100%;\n        height: 270px;\n    }\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYWNjb3VudC1jb250cm9sL2Rhc2hib2FyZHMvYWNjb3VudC1jb250cm9sLWRhc2gtcmFkYXItYnktY2F0ZWdvcnkvYWNjb3VudC1jb250cm9sLWRhc2gtcmFkYXItYnktY2F0ZWdvcnkuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFdBQVc7O0FBRWY7O0FBRUE7SUFDSTtRQUNJLFdBQVc7UUFDWCxhQUFhO0lBQ2pCO0FBQ0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9hY2NvdW50LWNvbnRyb2wvZGFzaGJvYXJkcy9hY2NvdW50LWNvbnRyb2wtZGFzaC1yYWRhci1ieS1jYXRlZ29yeS9hY2NvdW50LWNvbnRyb2wtZGFzaC1yYWRhci1ieS1jYXRlZ29yeS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNoYXJ0LWNvbnRhaW5lciB7XG4gICAgd2lkdGg6IDEwMCU7XG5cbn1cblxuQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gICAgLmNoYXJ0LWNvbnRhaW5lciB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBoZWlnaHQ6IDI3MHB4O1xuICAgIH1cbn0iXX0= */");

/***/ }),

/***/ "./src/app/pages/account-control/dashboards/account-control-dash-radar-by-category/account-control-dash-radar-by-category.component.ts":
/*!*********************************************************************************************************************************************!*\
  !*** ./src/app/pages/account-control/dashboards/account-control-dash-radar-by-category/account-control-dash-radar-by-category.component.ts ***!
  \*********************************************************************************************************************************************/
/*! exports provided: AccountControlDashRadarByCategoryComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountControlDashRadarByCategoryComponent", function() { return AccountControlDashRadarByCategoryComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var src_app_services_utils_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/utils/common */ "./src/app/services/utils/common.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};


var AccountControlDashRadarByCategoryComponent = /** @class */ (function () {
    function AccountControlDashRadarByCategoryComponent() {
    }
    AccountControlDashRadarByCategoryComponent.prototype.ngOnChanges = function (changes) {
        if ((changes['budgetSettings'] || changes['categoryType'] || changes['currentDate']) && this.budgetSettings) {
            this.generateChartOptions();
        }
    };
    AccountControlDashRadarByCategoryComponent.prototype.generateChartOptions = function () {
        var _this = this;
        // Filtrar categorías según el tipo y que tengan presupuesto o monto actual
        var categories = this.budgetSettings.categories.filter(function (category) { return category.type === _this.categoryType &&
            (category.budget > 0 || (category.currentAmmount || 0) > 0); });
        // Define las etiquetas del radar y los valores máximos
        var indicators = categories.map(function (category) { return ({
            name: category.name,
            max: Math.max(category.budget, category.currentAmmount || 0) * 1.2 // Aumenta un 20% el máximo para margen
        }); });
        // Serie de datos para presupuesto
        var budgetData = categories.map(function (category) { return category.budget; });
        // Serie de datos para el valor actual
        var actualData = categories.map(function (category) { return category.currentAmmount || 0; });
        var tempRadar = {};
        if (Object(src_app_services_utils_common__WEBPACK_IMPORTED_MODULE_1__["isMobileResolution"])())
            tempRadar = { radius: 80 };
        var month = this.currentDate.getMonth();
        // Formatear el nombre del mes
        var monthNames = [
            'Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio',
            'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'
        ];
        var monthName = monthNames[month];
        // Construcción de las opciones del gráfico
        this.chartOptions = {
            title: {
                text: (this.categoryType === 'income' ? 'Ingresos' : 'Gastos') + " de " + monthName + " de " + this.currentDate.getFullYear(),
                left: 'center'
            },
            legend: {
                top: 'bottom',
                data: ['Presupuesto Asignado', 'Monto Actual']
            },
            radar: __assign({ indicator: indicators, shape: 'polygon' }, tempRadar),
            tooltip: {
                trigger: 'item'
            },
            series: [
                {
                    name: 'Presupuesto vs Gastos',
                    type: 'radar',
                    areaStyle: {},
                    data: [
                        {
                            value: budgetData,
                            name: 'Presupuesto Asignado'
                        },
                        {
                            value: actualData,
                            name: 'Monto Actual'
                        }
                    ]
                }
            ]
        };
    };
    // Formatear como moneda
    AccountControlDashRadarByCategoryComponent.prototype.formatCurrency = function (value) {
        return new Intl.NumberFormat('en-US', {
            style: 'currency',
            currency: 'USD',
            minimumFractionDigits: 2
        }).format(value);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], AccountControlDashRadarByCategoryComponent.prototype, "budgetSettings", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], AccountControlDashRadarByCategoryComponent.prototype, "categoryType", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Date)
    ], AccountControlDashRadarByCategoryComponent.prototype, "currentDate", void 0);
    AccountControlDashRadarByCategoryComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-account-control-dash-radar-by-category',
            template: __importDefault(__webpack_require__(/*! raw-loader!./account-control-dash-radar-by-category.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dash-radar-by-category/account-control-dash-radar-by-category.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./account-control-dash-radar-by-category.component.css */ "./src/app/pages/account-control/dashboards/account-control-dash-radar-by-category/account-control-dash-radar-by-category.component.css")).default]
        })
    ], AccountControlDashRadarByCategoryComponent);
    return AccountControlDashRadarByCategoryComponent;
}());



/***/ }),

/***/ "./src/app/pages/account-control/dashboards/account-control-dashboards.component.css":
/*!*******************************************************************************************!*\
  !*** ./src/app/pages/account-control/dashboards/account-control-dashboards.component.css ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2FjY291bnQtY29udHJvbC9kYXNoYm9hcmRzL2FjY291bnQtY29udHJvbC1kYXNoYm9hcmRzLmNvbXBvbmVudC5jc3MifQ== */");

/***/ }),

/***/ "./src/app/pages/account-control/dashboards/account-control-dashboards.component.ts":
/*!******************************************************************************************!*\
  !*** ./src/app/pages/account-control/dashboards/account-control-dashboards.component.ts ***!
  \******************************************************************************************/
/*! exports provided: AccountControlDashboardsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountControlDashboardsComponent", function() { return AccountControlDashboardsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/__ivy_ngcc__/fesm5/ng-bootstrap.js");
/* harmony import */ var src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/entities/account-control */ "./src/app/entities/account-control.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};



var AccountControlDashboardsComponent = /** @class */ (function () {
    function AccountControlDashboardsComponent(activeModal) {
        this.activeModal = activeModal;
        this.transactions = [];
        this.year = new Date().getFullYear();
        this.transactionType = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_2__["AccountConstant"].TRANSACTION_TYPE_EXPENSE;
        this.currentTab = 'historic';
        this.availableYears = [];
    }
    AccountControlDashboardsComponent.prototype.ngOnInit = function () {
        this.populateAvailableYears();
    };
    /**
     * Extrae los años únicos de las transacciones.
     */
    AccountControlDashboardsComponent.prototype.populateAvailableYears = function () {
        if (this.transactions && this.transactions.length > 0) {
            this.availableYears = Array.from(new Set(this.transactions.map(function (tx) { return new Date(tx.date).getFullYear(); }))).sort(function (a, b) { return a - b; });
        }
        else {
            // Asegúrate de tener un rango predeterminado.
            var currentYear = new Date().getFullYear();
            this.availableYears = [currentYear - 1, currentYear, currentYear + 1];
        }
    };
    /**
   * Maneja el cambio de año desde el selector.
   */
    AccountControlDashboardsComponent.prototype.onYearChange = function (event) {
        var selectedYear = event.target.value;
        this.year = parseInt(selectedYear, 10);
    };
    AccountControlDashboardsComponent.prototype.setActiveTab = function (tab) {
        this.currentTab = tab;
    };
    AccountControlDashboardsComponent.ctorParameters = function () { return [
        { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__["NgbActiveModal"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], AccountControlDashboardsComponent.prototype, "transactions", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Number)
    ], AccountControlDashboardsComponent.prototype, "year", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], AccountControlDashboardsComponent.prototype, "transactionType", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], AccountControlDashboardsComponent.prototype, "settingsData", void 0);
    AccountControlDashboardsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-account-control-dashboards',
            template: __importDefault(__webpack_require__(/*! raw-loader!./account-control-dashboards.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/account-control/dashboards/account-control-dashboards.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./account-control-dashboards.component.css */ "./src/app/pages/account-control/dashboards/account-control-dashboards.component.css")).default]
        }),
        __metadata("design:paramtypes", [_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_1__["NgbActiveModal"]])
    ], AccountControlDashboardsComponent);
    return AccountControlDashboardsComponent;
}());



/***/ }),

/***/ "./src/app/pages/briefcases/briefcases.component.css":
/*!***********************************************************!*\
  !*** ./src/app/pages/briefcases/briefcases.component.css ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2JyaWVmY2FzZXMvYnJpZWZjYXNlcy5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/pages/briefcases/briefcases.component.ts":
/*!**********************************************************!*\
  !*** ./src/app/pages/briefcases/briefcases.component.ts ***!
  \**********************************************************/
/*! exports provided: BriefcasesComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BriefcasesComponent", function() { return BriefcasesComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var ngx_image_gallery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ngx-image-gallery */ "./node_modules/ngx-image-gallery/__ivy_ngcc__/fesm5/ngx-image-gallery.js");
/* harmony import */ var src_app_services_summary_resume_summary_resume_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/summary-resume/summary-resume.service */ "./src/app/services/summary-resume/summary-resume.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};



var BriefcasesComponent = /** @class */ (function () {
    function BriefcasesComponent(_summaryResumeService) {
        this._summaryResumeService = _summaryResumeService;
        // gallery configuration
        this.conf = {
            imageOffset: '0px',
            showDeleteControl: false,
            showImageTitle: false,
        };
        // gallery images
        this.images = [
            {
                url: "https://images.pexels.com/photos/669013/pexels-photo-669013.jpeg?w=1260",
                altText: 'woman-in-black-blazer-holding-blue-cup',
                title: 'woman-in-black-blazer-holding-blue-cup',
                thumbnailUrl: "https://images.pexels.com/photos/669013/pexels-photo-669013.jpeg?w=60"
            },
            {
                url: "https://images.pexels.com/photos/669006/pexels-photo-669006.jpeg?w=1260",
                altText: 'two-woman-standing-on-the-ground-and-staring-at-the-mountain',
                extUrl: 'https://www.pexels.com/photo/two-woman-standing-on-the-ground-and-staring-at-the-mountain-669006/',
                thumbnailUrl: "https://images.pexels.com/photos/669006/pexels-photo-669006.jpeg?w=60"
            },
        ];
    }
    BriefcasesComponent.prototype.ngOnInit = function () {
        this.getData();
    };
    BriefcasesComponent.prototype.getData = function () {
        var _this = this;
        this._summaryResumeService.GetProfile().subscribe(function (data) {
            _this.Summary = data;
            var contador = 0;
            _this.images = [];
            _this.Summary.Briefcases.forEach(function (Briefcase) {
                Briefcase.Images.forEach(function (image) {
                    image.Index = ++contador;
                    _this.images.push({
                        url: "config/" + image.Path,
                        altText: 'image.Path',
                        title: 'image.Path',
                        thumbnailUrl: "config/" + image.Path
                    });
                });
            });
        });
    };
    // METHODS
    // open gallery
    BriefcasesComponent.prototype.openGallery = function (index) {
        if (index === void 0) { index = 0; }
        this.ngxImageGallery.open(index);
    };
    // close gallery
    BriefcasesComponent.prototype.closeGallery = function () {
        this.ngxImageGallery.close();
    };
    // set new active(visible) image in gallery
    BriefcasesComponent.prototype.newImage = function (index) {
        if (index === void 0) { index = 0; }
        this.ngxImageGallery.setActiveImage(index);
    };
    // next image in gallery
    BriefcasesComponent.prototype.nextImage = function (index) {
        if (index === void 0) { index = 0; }
        this.ngxImageGallery.next();
    };
    // prev image in gallery
    BriefcasesComponent.prototype.prevImage = function (index) {
        if (index === void 0) { index = 0; }
        this.ngxImageGallery.prev();
    };
    BriefcasesComponent.ctorParameters = function () { return [
        { type: src_app_services_summary_resume_summary_resume_service__WEBPACK_IMPORTED_MODULE_2__["SummaryResumeService"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(ngx_image_gallery__WEBPACK_IMPORTED_MODULE_1__["NgxImageGalleryComponent"]),
        __metadata("design:type", ngx_image_gallery__WEBPACK_IMPORTED_MODULE_1__["NgxImageGalleryComponent"])
    ], BriefcasesComponent.prototype, "ngxImageGallery", void 0);
    BriefcasesComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-briefcases',
            template: __importDefault(__webpack_require__(/*! raw-loader!./briefcases.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/briefcases/briefcases.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./briefcases.component.css */ "./src/app/pages/briefcases/briefcases.component.css")).default]
        }),
        __metadata("design:paramtypes", [src_app_services_summary_resume_summary_resume_service__WEBPACK_IMPORTED_MODULE_2__["SummaryResumeService"]])
    ], BriefcasesComponent);
    return BriefcasesComponent;
}());



/***/ }),

/***/ "./src/app/pages/business-control-settings/business-control-settings.component.css":
/*!*****************************************************************************************!*\
  !*** ./src/app/pages/business-control-settings/business-control-settings.component.css ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2J1c2luZXNzLWNvbnRyb2wtc2V0dGluZ3MvYnVzaW5lc3MtY29udHJvbC1zZXR0aW5ncy5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/pages/business-control-settings/business-control-settings.component.ts":
/*!****************************************************************************************!*\
  !*** ./src/app/pages/business-control-settings/business-control-settings.component.ts ***!
  \****************************************************************************************/
/*! exports provided: BusinessControlSettingsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BusinessControlSettingsComponent", function() { return BusinessControlSettingsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/business-control/business-control.service */ "./src/app/services/business-control/business-control.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/__ivy_ngcc__/fesm5/forms.js");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/__ivy_ngcc__/fesm5/ngx-toastr.js");
/* harmony import */ var src_app_services_google_services_google_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/google-services/google.service */ "./src/app/services/google-services/google.service.ts");
/* harmony import */ var src_app_services_credit_credit_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/credit/credit.service */ "./src/app/services/credit/credit.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
var __spreadArrays = (undefined && undefined.__spreadArrays) || function () {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};






var BusinessControlSettingsComponent = /** @class */ (function () {
    function BusinessControlSettingsComponent(creditService, toastr, googleService, fb, bussinessServices) {
        this.creditService = creditService;
        this.toastr = toastr;
        this.googleService = googleService;
        this.fb = fb;
        this.bussinessServices = bussinessServices;
        this.config = null;
        this.isConfigured = false;
        this.bienes = [];
        this.selectedBien = null;
        this.registrarNuevaBien = false;
        this.registrarNuevoContrato = false;
        this.tipoBien = 'Arrendamiento';
        this.isProcessingFile = false;
        this.configuracionForm = this.fb.group({
            contratanteCedula: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required],
            contratanteNombre: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required],
            contratanteTelefono: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required],
            contratanteDireccion: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required],
            contratanteEmail: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required],
            contratanteMostrarDatosPersonales: [false],
            submitted: [false]
        });
        this.bienform = this.fb.group({
            direccion: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required],
            barrio: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required],
            ciudad: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required],
            submitted: [false]
        });
        this.contratoForm = this.fb.group({
            contratoNombre: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required],
            contratoCedula: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required],
            contratoTelefono: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required],
            contratoMensualidad: [0],
            contratoValorDeposito: [0],
            contratoTasaEM: [0],
            contratoValorCredito: [0],
            contratoPlazoMeses: [0],
            contratoTarifaFija: [0],
            contratoFechaInicio: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required],
            contratoObservacion: [''],
            submitted: [false]
        });
    }
    BusinessControlSettingsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.initialiceComponent();
        setTimeout(function () {
            _this.getUserLogget();
        }, 300);
        this.getUserLogget();
    };
    BusinessControlSettingsComponent.prototype.initialiceComponent = function () {
        var _a;
        this.isConfigured = false;
        this.selectedBien = null;
        this.responseAmortizacion = null;
        this.config = this.bussinessServices.getConfiguracion();
        if (this.config) {
            this.isConfigured = true;
            this.bienes = this.config.bienes;
            var bienId = this.bussinessServices.getSelectedId();
            if (!bienId || bienId == 'undefined' || bienId == 'null') {
                bienId = (_a = this.bienes[0]) === null || _a === void 0 ? void 0 : _a.id;
            }
            this.tipoBien = 'Arrendamiento';
            this.onBienSelect(bienId);
            if (!this.selectedBien || !this.selectedBien.contratoActivo) {
                this.registrarNuevoContrato = true;
                return;
            }
        }
        this.configuracionForm.reset();
        this.bienform.reset();
        this.contratoForm.reset();
    };
    BusinessControlSettingsComponent.prototype.Login = function () {
        var _this = this;
        this.googleService.signIn().then(function (config) {
            var _a;
            _this.userLogger = (_a = config) === null || _a === void 0 ? void 0 : _a.user;
            if (config.data) {
                _this.ngOnInit();
            }
        });
    };
    BusinessControlSettingsComponent.prototype.Logout = function () {
        this.googleService.signOut();
        this.userLogger = null;
    };
    BusinessControlSettingsComponent.prototype.getUserLogget = function () {
        var _this = this;
        this.googleService.getUser().then(function (config) { return __awaiter(_this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                this.userLogger = (_a = config) === null || _a === void 0 ? void 0 : _a.user;
                return [2 /*return*/];
            });
        }); });
    };
    BusinessControlSettingsComponent.prototype.onSubmitInitial = function () {
        this.configuracionForm.patchValue({ submitted: true });
        if (this.configuracionForm.valid) {
            var formValues = this.configuracionForm.value;
            var newContratante = {
                nombre: formValues.contratanteNombre,
                identificacion: formValues.contratanteCedula,
                telefono: formValues.contratanteTelefono,
                direccion: formValues.contratanteDireccion,
                email: formValues.contratanteEmail,
                mostrarDatosPersonales: formValues.contratanteMostrarDatosPersonales,
                firmaDigital: ''
            };
            if (!this.isConfigured) {
                this.isConfigured = true;
                this.registrarNuevaBien = true;
                this.bussinessServices.setContratante(newContratante);
                this.ngOnInit();
            }
            else {
                this.toastr.info("Ya configuraste el sistema!", "Business Control");
            }
        }
    };
    BusinessControlSettingsComponent.prototype.onSubmitBien = function () {
        this.bienform.patchValue({ submitted: true });
        if (this.bienform.valid) {
            var formValues = this.bienform.value;
            var newBien = {
                id: '',
                direccion: formValues.direccion,
                barrio: formValues.barrio,
                ciudad: formValues.ciudad,
                tipo: this.tipoBien,
                contratos: [],
                comprobantes: [],
                serviciosPublicos: []
            };
            this.registrarNuevaBien = false;
            this.registrarNuevoContrato = true;
            this.bussinessServices.addBien(newBien);
            this.ngOnInit();
        }
    };
    BusinessControlSettingsComponent.prototype.onSubmitContrato = function () {
        this.contratoForm.patchValue({ submitted: true });
        if (this.contratoForm.valid) {
            var formValues = this.contratoForm.value;
            var newContrato = {
                tipoDocumento: 'CC',
                id: formValues.contratoCedula,
                nombre: formValues.contratoNombre,
                identificacion: formValues.contratoCedula,
                telefono: formValues.contratoTelefono,
                observacion: formValues.contratoObservacion,
                mensualidad: formValues.contratoMensualidad,
                valorDeposito: formValues.contratoValorDeposito,
                inicio: formValues.contratoFechaInicio,
                tipo: this.selectedBien.tipo,
                activo: true,
                plazoMeses: formValues.contratoPlazoMeses,
                tasaEM: formValues.contratoTasaEM,
                valorCredito: formValues.contratoValorCredito,
                tarifaFija: formValues.contratoTarifaFija,
            };
            this.config.conceptos = this.getConceptos(newContrato);
            this.bussinessServices.saveConfiguracion(this.config);
            this.bussinessServices.addContrato(this.selectedBien.id, newContrato);
            this.ngOnInit();
        }
    };
    BusinessControlSettingsComponent.prototype.getConceptos = function (contrato) {
        var conceptoCreditos = [
            {
                descripcion: src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"].CONCEPTO_INTERESES,
                valor: 0,
                tipo: src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"].TIPO_BIEN_CREDITO
            },
            {
                descripcion: src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"].CONCEPTO_CAPITAL,
                valor: 0,
                tipo: src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"].TIPO_BIEN_CREDITO
            },
            {
                descripcion: src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"].CONCEPTO_TARIFA_FIJA,
                valor: contrato.valorDeposito,
                tipo: src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"].TIPO_BIEN_CREDITO
            },
            {
                descripcion: src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"].CONCEPTO_ABONO_CAPITAL,
                valor: 0,
                tipo: src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"].TIPO_BIEN_CREDITO
            },
            {
                descripcion: src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"].CONCEPTO_OTRO,
                valor: 0,
                tipo: src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"].TIPO_BIEN_CREDITO
            },
        ];
        var conceptosArrendamiento = [
            {
                descripcion: src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"].CONCEPTO_MENSUALIDAD,
                valor: contrato.mensualidad,
                tipo: src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"].TIPO_BIEN_ARRIENDO
            },
            {
                descripcion: src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"].CONCEPTO_DEPOSITO,
                valor: contrato.valorDeposito,
                tipo: src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"].TIPO_BIEN_ARRIENDO
            },
            {
                descripcion: src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"].CONCEPTO_DEPOSITO_50,
                valor: Math.round(contrato.valorDeposito / 2),
                tipo: src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"].TIPO_BIEN_ARRIENDO
            },
            {
                descripcion: src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"].CONCEPTO_OTRO,
                valor: 0,
                tipo: src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"].TIPO_BIEN_ARRIENDO
            },
        ];
        if (this.config.conceptos.length > 0) {
            return __spreadArrays(conceptoCreditos, conceptosArrendamiento);
        }
        if (contrato.tipo == src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"].TIPO_BIEN_ARRIENDO) {
            return conceptosArrendamiento;
        }
        return conceptoCreditos;
    };
    BusinessControlSettingsComponent.prototype.onBienSelect = function (bienId) {
        this.selectedBienId = bienId;
        this.bussinessServices.setSelectedId(bienId);
        this.selectedBien = this.bussinessServices.getBienById(bienId);
        if (this.selectedBien) {
            this.tipoBien = this.selectedBien.tipo;
        }
        if (this.selectedBien && this.selectedBien.contratoActivo && this.selectedBien.contratoActivo.tipo == 'Credito') {
            this.responseAmortizacion = this.creditService.calcularAmortizacion(this.selectedBien);
        }
    };
    BusinessControlSettingsComponent.prototype.redireccionarAlComprobante = function (cuota) {
        var url = this.bussinessServices.generateUrlFirmada(cuota.comprobante);
        window.open(url, '_blank');
    };
    BusinessControlSettingsComponent.prototype.redireccionarGeneracionComprobante = function (cuota) {
        var _a, _b, _c;
        var comprobante = {
            id: (_c = (_b = (_a = cuota) === null || _a === void 0 ? void 0 : _a.fechaCuota) === null || _b === void 0 ? void 0 : _b.toLocaleDateString('en-CA').replace(/-/g, ''), (_c !== null && _c !== void 0 ? _c : cuota.index.toString())),
            conceptos: [
                {
                    valor: cuota.interes,
                    descripcion: src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"].CONCEPTO_INTERESES
                },
                {
                    valor: cuota.abonoCapital,
                    descripcion: src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"].CONCEPTO_CAPITAL
                },
                {
                    valor: 0,
                    descripcion: src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"].CONCEPTO_ABONO_CAPITAL
                }
            ],
            total: 0,
            fechaGeneracion: cuota.fechaCuota,
            periodo: {
                inicio: cuota.fechaCuota,
                fin: cuota.fechaCuota,
            },
            observacion: "Cuota " + cuota.index,
            contratoId: this.selectedBien.contratoActivo.id,
            medioPago: 'Efectivo',
        };
        if (cuota.tarifaFija > 0) {
            comprobante.conceptos.push({
                valor: cuota.tarifaFija,
                descripcion: src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"].CONCEPTO_TARIFA_FIJA
            });
        }
        window.location.href = this.bussinessServices.generateUrlFirmada(comprobante, "business-control");
    };
    BusinessControlSettingsComponent.prototype.setContratoActivo = function (contrato) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.bussinessServices.setContratoActivo(this.selectedBienId, contrato.id)];
                    case 1:
                        _a.sent();
                        this.ngOnInit();
                        return [2 /*return*/];
                }
            });
        });
    };
    BusinessControlSettingsComponent.prototype.downloadConfig = function () {
        this.bussinessServices.downloadConfig();
    };
    // Método para manejar el cambio de archivo
    BusinessControlSettingsComponent.prototype.onFileChange = function (event) {
        if (this.isProcessingFile) {
            return; // Si ya se está procesando un archivo, salir
        }
        this.isProcessingFile = true;
        var input = event.target;
        if (input.files && input.files.length) {
            var file = input.files[0];
            this.readAndValidateFile(file);
            input.value = ''; // Restablecer el valor del input
        }
        else {
            this.isProcessingFile = false;
        }
    };
    // Método para leer el archivo y validarlo
    BusinessControlSettingsComponent.prototype.readAndValidateFile = function (file) {
        var _this = this;
        if (file.size === 0) {
            this.toastr.info("Archivo vacio", "Business Control");
            this.isProcessingFile = false;
            return;
        }
        var reader = new FileReader();
        reader.onload = function (e) { return __awaiter(_this, void 0, void 0, function () {
            var json, _a, error_1;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _b.trys.push([0, 3, 4, 5]);
                        this.isProcessingFile = false;
                        json = JSON.parse(reader.result);
                        if (!json) return [3 /*break*/, 2];
                        _a = this;
                        return [4 /*yield*/, this.bussinessServices.saveConfiguracion(json)];
                    case 1:
                        _a.config = _b.sent();
                        this.toastr.success("Datos importados correctamente", "Business Control");
                        this.ngOnInit();
                        _b.label = 2;
                    case 2: return [3 /*break*/, 5];
                    case 3:
                        error_1 = _b.sent();
                        this.toastr.error('Error al procesar el archivo JSON - ' + JSON.stringify(error_1) + ' | ' + JSON.stringify(reader.result), "Business Control");
                        alert();
                        return [3 /*break*/, 5];
                    case 4:
                        reader.onload = null;
                        return [7 /*endfinally*/];
                    case 5: return [2 /*return*/];
                }
            });
        }); };
        reader.readAsText(file);
    };
    BusinessControlSettingsComponent.prototype.deleteData = function () {
        var result = confirm('¿Estás seguro de que deseas continuar?');
        if (result) {
            this.bussinessServices.deleteData();
            this.ngOnInit();
        }
        else {
            this.toastr.info("Operación de eliminación cancelada", "Business Control");
        }
    };
    BusinessControlSettingsComponent.ctorParameters = function () { return [
        { type: src_app_services_credit_credit_service__WEBPACK_IMPORTED_MODULE_5__["CreditService"] },
        { type: ngx_toastr__WEBPACK_IMPORTED_MODULE_3__["ToastrService"] },
        { type: src_app_services_google_services_google_service__WEBPACK_IMPORTED_MODULE_4__["GoogleService"] },
        { type: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"] },
        { type: src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('fileInput'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], BusinessControlSettingsComponent.prototype, "fileInput", void 0);
    BusinessControlSettingsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-business-control-settings',
            template: __importDefault(__webpack_require__(/*! raw-loader!./business-control-settings.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/business-control-settings/business-control-settings.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./business-control-settings.component.css */ "./src/app/pages/business-control-settings/business-control-settings.component.css")).default]
        }),
        __metadata("design:paramtypes", [src_app_services_credit_credit_service__WEBPACK_IMPORTED_MODULE_5__["CreditService"], ngx_toastr__WEBPACK_IMPORTED_MODULE_3__["ToastrService"], src_app_services_google_services_google_service__WEBPACK_IMPORTED_MODULE_4__["GoogleService"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"], src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"]])
    ], BusinessControlSettingsComponent);
    return BusinessControlSettingsComponent;
}());



/***/ }),

/***/ "./src/app/pages/business-control-verify/business-control-verify.component.css":
/*!*************************************************************************************!*\
  !*** ./src/app/pages/business-control-verify/business-control-verify.component.css ***!
  \*************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".container {\n    /* font-family: Arial, sans-serif; */\n    margin: 0;\n    padding: 20px;\n    box-sizing: border-box;\n    background-color: #f4f4f4;\n    max-width: 800px;\n    margin: 0 auto;\n    background: #fff;\n    color: #000;\n    padding: 20px;\n    border-radius: 10px;\n    font-size: 80%;\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYnVzaW5lc3MtY29udHJvbC12ZXJpZnkvYnVzaW5lc3MtY29udHJvbC12ZXJpZnkuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLG9DQUFvQztJQUNwQyxTQUFTO0lBQ1QsYUFBYTtJQUNiLHNCQUFzQjtJQUN0Qix5QkFBeUI7SUFDekIsZ0JBQWdCO0lBQ2hCLGNBQWM7SUFDZCxnQkFBZ0I7SUFDaEIsV0FBVztJQUNYLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsY0FBYztJQUNkLHVDQUF1QztBQUMzQyIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2J1c2luZXNzLWNvbnRyb2wtdmVyaWZ5L2J1c2luZXNzLWNvbnRyb2wtdmVyaWZ5LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyIHtcbiAgICAvKiBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7ICovXG4gICAgbWFyZ2luOiAwO1xuICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjRmNGY0O1xuICAgIG1heC13aWR0aDogODAwcHg7XG4gICAgbWFyZ2luOiAwIGF1dG87XG4gICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICBjb2xvcjogIzAwMDtcbiAgICBwYWRkaW5nOiAyMHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgZm9udC1zaXplOiA4MCU7XG4gICAgYm94LXNoYWRvdzogMCAwIDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xufSJdfQ== */");

/***/ }),

/***/ "./src/app/pages/business-control-verify/business-control-verify.component.ts":
/*!************************************************************************************!*\
  !*** ./src/app/pages/business-control-verify/business-control-verify.component.ts ***!
  \************************************************************************************/
/*! exports provided: BusinessControlVerifyComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BusinessControlVerifyComponent", function() { return BusinessControlVerifyComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/__ivy_ngcc__/fesm5/router.js");
/* harmony import */ var src_app_services_crypt_crypt_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/crypt/crypt.service */ "./src/app/services/crypt/crypt.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};



var BusinessControlVerifyComponent = /** @class */ (function () {
    function BusinessControlVerifyComponent(cryptService, route) {
        this.cryptService = cryptService;
        this.route = route;
    }
    BusinessControlVerifyComponent.prototype.ngOnInit = function () {
        var _this = this;
        // Obtener el valor del query param "comprobante"
        this.route.queryParamMap.subscribe(function (params) {
            try {
                var comprobanteCrypted = params.get('comprobante');
                var aux = _this.cryptService.decrypt(comprobanteCrypted);
                _this.comprobante = JSON.parse(aux);
                _this.comprobante.fechaGeneracion = new Date(_this.comprobante.fechaGeneracion);
                if (!_this.comprobante.contratante) {
                    _this.comprobante.bien.comprobantes.forEach(function (t) {
                        if (t && t.contratante && t.contratoId == _this.comprobante.contratoId) {
                            _this.comprobante.contratante = t.contratante;
                            return;
                        }
                    });
                }
            }
            catch (error) {
                console.log(error);
            }
        });
    };
    BusinessControlVerifyComponent.ctorParameters = function () { return [
        { type: src_app_services_crypt_crypt_service__WEBPACK_IMPORTED_MODULE_2__["CryptService"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"] }
    ]; };
    BusinessControlVerifyComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-business-control-verify',
            template: __importDefault(__webpack_require__(/*! raw-loader!./business-control-verify.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/business-control-verify/business-control-verify.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./business-control-verify.component.css */ "./src/app/pages/business-control-verify/business-control-verify.component.css")).default]
        }),
        __metadata("design:paramtypes", [src_app_services_crypt_crypt_service__WEBPACK_IMPORTED_MODULE_2__["CryptService"], _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"]])
    ], BusinessControlVerifyComponent);
    return BusinessControlVerifyComponent;
}());



/***/ }),

/***/ "./src/app/pages/business-control-voucher/business-control-voucher.component.css":
/*!***************************************************************************************!*\
  !*** ./src/app/pages/business-control-voucher/business-control-voucher.component.css ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".container {\n    /* font-family: Arial, sans-serif; */\n    margin: 0;\n    padding: 20px;\n    box-sizing: border-box;\n    background-color: #f4f4f4;\n    max-width: 800px;\n    margin: 0 auto;\n    background: #fff;\n    color: #000;\n    padding: 20px;\n    border-radius: 10px;\n    font-size: 80%;\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYnVzaW5lc3MtY29udHJvbC12b3VjaGVyL2J1c2luZXNzLWNvbnRyb2wtdm91Y2hlci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksb0NBQW9DO0lBQ3BDLFNBQVM7SUFDVCxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLHlCQUF5QjtJQUN6QixnQkFBZ0I7SUFDaEIsY0FBYztJQUNkLGdCQUFnQjtJQUNoQixXQUFXO0lBQ1gsYUFBYTtJQUNiLG1CQUFtQjtJQUNuQixjQUFjO0lBQ2QsdUNBQXVDO0FBQzNDIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvYnVzaW5lc3MtY29udHJvbC12b3VjaGVyL2J1c2luZXNzLWNvbnRyb2wtdm91Y2hlci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lciB7XG4gICAgLyogZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOyAqL1xuICAgIG1hcmdpbjogMDtcbiAgICBwYWRkaW5nOiAyMHB4O1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y0ZjRmNDtcbiAgICBtYXgtd2lkdGg6IDgwMHB4O1xuICAgIG1hcmdpbjogMCBhdXRvO1xuICAgIGJhY2tncm91bmQ6ICNmZmY7XG4gICAgY29sb3I6ICMwMDA7XG4gICAgcGFkZGluZzogMjBweDtcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICAgIGZvbnQtc2l6ZTogODAlO1xuICAgIGJveC1zaGFkb3c6IDAgMCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbn0iXX0= */");

/***/ }),

/***/ "./src/app/pages/business-control-voucher/business-control-voucher.component.ts":
/*!**************************************************************************************!*\
  !*** ./src/app/pages/business-control-voucher/business-control-voucher.component.ts ***!
  \**************************************************************************************/
/*! exports provided: BusinessControlVoucherComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BusinessControlVoucherComponent", function() { return BusinessControlVoucherComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/business-control/business-control.service */ "./src/app/services/business-control/business-control.service.ts");
/* harmony import */ var src_app_services_crypt_crypt_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/crypt/crypt.service */ "./src/app/services/crypt/crypt.service.ts");
/* harmony import */ var src_app_services_qr_code_qr_code_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/qr-code/qr-code.service */ "./src/app/services/qr-code/qr-code.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};




var BusinessControlVoucherComponent = /** @class */ (function () {
    function BusinessControlVoucherComponent(qrCodeService, service, cryptService) {
        this.qrCodeService = qrCodeService;
        this.service = service;
        this.cryptService = cryptService;
        this.host = window.location.origin;
        this.comprobanteUrl = '';
        this.date = new Date();
    }
    BusinessControlVoucherComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.contrato = this.comprobante.bien.contratos.find(function (t) { return t.id == _this.comprobante.contratoId; });
        this.host = window.location.origin;
        this.replaceData();
        try {
            var dencriptado = this.cryptService.decrypt(this.contrato.id);
            this.contratoID = JSON.parse(dencriptado);
        }
        catch (error) {
            this.contratoID = null;
        }
    };
    BusinessControlVoucherComponent.prototype.darFormatoCol = function (date) {
        return this.service.formatoInternacional(date);
    };
    BusinessControlVoucherComponent.prototype.replaceData = function () {
        this.comprobanteUrl = this.service.generateUrlFirmada(this.comprobante);
        if (this.comprobante.urlCorta) {
            this.generateQRCode(this.comprobante.urlCorta);
        }
        else {
            this.generateQRCode(JSON.stringify({
                codigo: this.comprobante.id,
                total: this.comprobante.total,
                numeroContrato: this.comprobante.contratoId
            }));
        }
    };
    BusinessControlVoucherComponent.prototype.generateQRCode = function (text) {
        var _this = this;
        this.qrCodeService.generateQRCode(text).then(function (qr) {
            _this.qrCodeDataUrl = qr;
        });
    };
    BusinessControlVoucherComponent.ctorParameters = function () { return [
        { type: src_app_services_qr_code_qr_code_service__WEBPACK_IMPORTED_MODULE_3__["QrCodeService"] },
        { type: src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"] },
        { type: src_app_services_crypt_crypt_service__WEBPACK_IMPORTED_MODULE_2__["CryptService"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Object)
    ], BusinessControlVoucherComponent.prototype, "comprobante", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Boolean)
    ], BusinessControlVoucherComponent.prototype, "isVerify", void 0);
    BusinessControlVoucherComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-business-control-voucher',
            template: __importDefault(__webpack_require__(/*! raw-loader!./business-control-voucher.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/business-control-voucher/business-control-voucher.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./business-control-voucher.component.css */ "./src/app/pages/business-control-voucher/business-control-voucher.component.css")).default]
        }),
        __metadata("design:paramtypes", [src_app_services_qr_code_qr_code_service__WEBPACK_IMPORTED_MODULE_3__["QrCodeService"], src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"], src_app_services_crypt_crypt_service__WEBPACK_IMPORTED_MODULE_2__["CryptService"]])
    ], BusinessControlVoucherComponent);
    return BusinessControlVoucherComponent;
}());



/***/ }),

/***/ "./src/app/pages/business-control/business-control.component.css":
/*!***********************************************************************!*\
  !*** ./src/app/pages/business-control/business-control.component.css ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2J1c2luZXNzLWNvbnRyb2wvYnVzaW5lc3MtY29udHJvbC5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/pages/business-control/business-control.component.ts":
/*!**********************************************************************!*\
  !*** ./src/app/pages/business-control/business-control.component.ts ***!
  \**********************************************************************/
/*! exports provided: BusinessControlComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BusinessControlComponent", function() { return BusinessControlComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/__ivy_ngcc__/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/__ivy_ngcc__/fesm5/router.js");
/* harmony import */ var src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/business-control/business-control.service */ "./src/app/services/business-control/business-control.service.ts");
/* harmony import */ var chart_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! chart.js */ "./node_modules/chart.js/src/chart.js");
/* harmony import */ var chart_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(chart_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var src_app_services_pdf_pdf_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/pdf/pdf.service */ "./src/app/services/pdf/pdf.service.ts");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/__ivy_ngcc__/fesm5/ngx-toastr.js");
/* harmony import */ var src_app_services_google_services_google_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/services/google-services/google.service */ "./src/app/services/google-services/google.service.ts");
/* harmony import */ var src_app_services_crypt_crypt_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/services/crypt/crypt.service */ "./src/app/services/crypt/crypt.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};









var BusinessControlComponent = /** @class */ (function () {
    function BusinessControlComponent(googleService, cryptService, toastr, fb, businessService, router, pdfService, route) {
        this.googleService = googleService;
        this.cryptService = cryptService;
        this.toastr = toastr;
        this.fb = fb;
        this.businessService = businessService;
        this.router = router;
        this.pdfService = pdfService;
        this.route = route;
        this.selectedBien = null;
        this.config = null;
        this.newComprobante = null;
        this.observacionComprobante = '';
        this.metodoPagoComprobante = '';
        this.fechaComprobante = new Date().toISOString().substring(0, 10);
        this.comprobanteToPdf = null;
        this.firmaDigital = '';
        this.isWebShareSupported = false;
        this.conceptosByContrato = [];
        this.comprobanteForm = this.fb.group({
            descripcion: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required],
            descripcionTemp: [''],
            valor: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required],
            submitted: [false]
        });
        this.servicioForm = this.fb.group({
            tipo: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required],
            valor: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required],
            fechaGeneracion: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required],
            fechaPago: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required],
            submitted: [false]
        });
        this.isWebShareSupported = !!navigator.share;
    }
    BusinessControlComponent.prototype.InicializarComprobante = function () {
        console.log("inicializando");
        if (!this.newComprobante || (this.newComprobante && !this.newComprobante.id)) {
            this.observacionComprobante = "";
            this.newComprobante = {
                id: '',
                conceptos: [],
                total: 0,
                fechaGeneracion: this.businessService.instanceDateFromString(this.fechaComprobante),
                periodo: {
                    inicio: new Date(),
                    fin: new Date(),
                },
                observacion: '',
                contratoId: '',
                medioPago: 'Efectivo',
            };
        }
    };
    BusinessControlComponent.prototype.ngOnInit = function () {
        var _this = this;
        // Obtener el valor del query param "comprobante"
        this.route.queryParamMap.subscribe(function (params) {
            try {
                var comprobanteCrypted = params.get('comprobante');
                if (comprobanteCrypted) {
                    console.log("asignando");
                    var aux = _this.cryptService.decrypt(comprobanteCrypted);
                    console.log(_this.newComprobante);
                    console.log(JSON.parse(aux));
                    _this.newComprobante = JSON.parse(aux);
                    _this.newComprobante.fechaGeneracion = new Date(_this.newComprobante.fechaGeneracion);
                    _this.calcularTotalComprobante();
                    _this.observacionComprobante = _this.newComprobante.observacion;
                    _this.comprobanteForm.patchValue({ descripcion: _this.newComprobante.observacion });
                    _this.comprobanteForm.patchValue({ descripcionTemp: _this.newComprobante.observacion });
                    _this.fechaComprobante = _this.newComprobante.fechaGeneracion.toISOString().substring(0, 10);
                }
            }
            catch (error) {
                _this.toastr.error("Error al obtener el comprobante en la url: " + JSON.stringify(error), 'Business Control!');
            }
        });
        this.initialiceComponent();
        this.getUserLogget();
    };
    BusinessControlComponent.prototype.calcularTotalComprobante = function () {
        var _this = this;
        console.log("calculando");
        this.newComprobante.total = 0;
        this.newComprobante.conceptos.forEach(function (t) { return _this.newComprobante.total += t.valor; });
    };
    BusinessControlComponent.prototype.initialiceComponent = function () {
        var _a, _b;
        this.config = this.businessService.getConfiguracion();
        if (!this.config || this.config.bienes.length == 0) {
            this.router.navigate(['/business-control-settings']);
            return;
        }
        if (this.config.bienes.length > 0) {
            var bienId = (_a = this.businessService.getSelectedId(), (_a !== null && _a !== void 0 ? _a : (_b = this.config.bienes[0]) === null || _b === void 0 ? void 0 : _b.id));
            this.onBienSelect(bienId);
        }
        this.firmaDigital = this.config.contratante.firmaDigital;
        this.InicializarComprobante();
        this.metodoPagoComprobante = this.config.mediosPago[0];
    };
    BusinessControlComponent.prototype.Login = function () {
        var _this = this;
        this.googleService.signIn().then(function (config) {
            _this.userLogger = config.user;
            if (config.data) {
                _this.ngOnInit();
            }
        });
    };
    BusinessControlComponent.prototype.Logout = function () {
        this.googleService.signOut();
        this.userLogger = null;
    };
    BusinessControlComponent.prototype.getUserLogget = function () {
        var _this = this;
        this.googleService.getUser().then(function (config) {
            var _a;
            _this.userLogger = (_a = config) === null || _a === void 0 ? void 0 : _a.user;
        });
    };
    BusinessControlComponent.prototype.onBienSelect = function (bienId) {
        var _this = this;
        this.selectedBienId = bienId;
        this.businessService.setSelectedId(bienId);
        this.selectedBien = this.config.bienes.find(function (v) { return v.id === bienId; }) || null;
        if (this.selectedBien) {
            this.conceptosByContrato = this.config.conceptos.filter(function (t) { return t.tipo == _this.selectedBien.contratoActivo.tipo; });
            this.onConceptoSelected(this.conceptosByContrato[0].descripcion);
        }
        this.comprobanteToPdf = null;
        setTimeout(function () {
            _this.comprobanteToPdf = _this.selectedBien.comprobantes[0];
            _this.renderizarGraficos();
        }, 100);
    };
    BusinessControlComponent.prototype.onConceptoSelected = function (descripcion) {
        var concepto = this.config.conceptos.find(function (v) { return v.descripcion === descripcion; });
        if (concepto) {
            this.comprobanteForm.patchValue({ valor: concepto.valor });
            this.comprobanteForm.patchValue({ descripcionTemp: concepto.descripcion });
            this.comprobanteForm.patchValue({ descripcion: concepto.descripcion });
        }
    };
    BusinessControlComponent.prototype.addConcepto = function () {
        this.comprobanteForm.patchValue({ submitted: true });
        if (this.comprobanteForm.valid) {
            var formValues = this.comprobanteForm.value;
            var newConcepto = {
                descripcion: formValues.descripcion,
                valor: formValues.valor
            };
            this.newComprobante.conceptos.push(newConcepto);
            this.comprobanteForm.reset();
        }
    };
    BusinessControlComponent.prototype.removeConcepto = function (index) {
        this.newComprobante.conceptos.splice(index, 1);
        this.calcularTotalComprobante();
    };
    BusinessControlComponent.prototype.generateComprobante = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.selectedBien) return [3 /*break*/, 2];
                        if (!this.fechaComprobante) {
                            this.toastr.warning("Debes seleccionar la fecha del comprobante", 'Business Control!');
                            return [2 /*return*/];
                        }
                        if (this.newComprobante.total <= 0) {
                            this.toastr.warning("El valor del comprobante debe ser mayor a cero", 'Business Control!');
                            return [2 /*return*/];
                        }
                        this.newComprobante.observacion = this.observacionComprobante;
                        this.newComprobante.medioPago = this.metodoPagoComprobante;
                        this.newComprobante.fechaGeneracion = this.businessService.instanceDateFromString(this.fechaComprobante);
                        return [4 /*yield*/, this.businessService.addComprobante(this.selectedBien.id, this.newComprobante)];
                    case 1:
                        _a.sent();
                        this.ngOnInit();
                        this.toastr.success('Comprobante generado correctamente', 'Business Control!');
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    BusinessControlComponent.prototype.registerServicio = function () {
        this.servicioForm.patchValue({ submitted: true });
        if (this.selectedBien && this.servicioForm.valid) {
            var newServicio = {
                tipo: this.servicioForm.value.tipo,
                valor: this.servicioForm.value.valor,
                fechaGeneracion: this.servicioForm.value.fechaGeneracion,
                fechaPago: this.servicioForm.value.fechaPago
            };
            this.businessService.addServicioPublico(this.selectedBien.id, newServicio);
            this.servicioForm.reset();
            this.ngOnInit();
            this.toastr.success('Servicio registrado correctamente', 'Business Control!');
        }
    };
    BusinessControlComponent.prototype.renderizarGraficos = function () {
        this.generarGraficaIngresosVsGastos();
    };
    BusinessControlComponent.prototype.generarGraficaIngresosVsGastos = function () {
        var selectedBien = this.selectedBien;
        // Crear un mapa para agrupar los datos por mes
        var labelsMap = new Map();
        // Procesar comprobantes para agrupar ingresos por mes
        selectedBien.comprobantes.forEach(function (comprobante) {
            var monthYear = new Date(comprobante.fechaGeneracion).toLocaleString('default', { month: 'short', year: 'numeric' });
            if (!labelsMap.has(monthYear)) {
                labelsMap.set(monthYear, { ingresos: 0, aguagastos: 0, luzgastos: 0, gasgastos: 0, internetgastos: 0, otrosgastos: 0 });
            }
            var data = labelsMap.get(monthYear);
            data.ingresos += comprobante.total;
        });
        // Procesar servicios públicos para agrupar gastos por tipo y mes
        selectedBien.serviciosPublicos.forEach(function (servicio) {
            var monthYear = new Date(servicio.fechaGeneracion).toLocaleString('default', { month: 'short', year: 'numeric' });
            if (!labelsMap.has(monthYear)) {
                labelsMap.set(monthYear, { ingresos: 0, aguagastos: 0, luzgastos: 0, gasgastos: 0, internetgastos: 0, otrosgastos: 0 });
            }
            var data = labelsMap.get(monthYear);
            switch (servicio.tipo) {
                case 'Agua':
                    data.aguagastos += servicio.valor;
                    break;
                case 'Luz':
                    data.luzgastos += servicio.valor;
                    break;
                case 'Gas':
                    data.gasgastos += servicio.valor;
                    break;
                case 'Internet':
                    data.internetgastos += servicio.valor;
                    break;
                case 'Otro':
                    data.otrosgastos += servicio.valor;
                    break;
            }
        });
        this.updateChart(labelsMap);
    };
    BusinessControlComponent.prototype.updateChart = function (labelsMap) {
        // Convertir el mapa a arrays para labels y datasets
        var labels = Array.from(labelsMap.keys());
        var ingresos = labels.map(function (label) { return labelsMap.get(label).ingresos; });
        var aguagastos = labels.map(function (label) { return labelsMap.get(label).aguagastos; });
        var luzgastos = labels.map(function (label) { return labelsMap.get(label).luzgastos; });
        var gasgastos = labels.map(function (label) { return labelsMap.get(label).gasgastos; });
        var internetgastos = labels.map(function (label) { return labelsMap.get(label).internetgastos; });
        var otrosgastos = labels.map(function (label) { return labelsMap.get(label).otrosgastos; });
        var data = {
            labels: labels,
            datasets: [
                { label: 'Arriendo', data: ingresos, backgroundColor: '#4caf50', fill: false }
            ]
        };
        if (this.selectedBien.tipo == 'Arrendamiento') {
            data.datasets.push({ label: 'Agua', data: aguagastos, backgroundColor: '#2196f3', fill: false }, { label: 'Luz', data: luzgastos, backgroundColor: '#ffeb3b', fill: false }, { label: 'Gas', data: gasgastos, backgroundColor: '#f44336', fill: false }, { label: 'Internet', data: internetgastos, backgroundColor: '#9c27b0', fill: false }, { label: 'Otros', data: otrosgastos, backgroundColor: '#ff9800', fill: false });
        }
        if (!this.chart) {
            // Generar el gráfico
            this.chart = new chart_js__WEBPACK_IMPORTED_MODULE_4__["Chart"]('canvas', {
                type: 'line',
                data: data,
                options: {
                    responsive: true,
                    scales: {
                        // xAxes: [{
                        //   display: false // Oculta los labels en el eje X
                        // }],
                        yAxes: [{
                                display: false,
                                ticks: {
                                    beginAtZero: true
                                }
                            }]
                    },
                    legend: {
                    // display: false // Opcional: Oculta la leyenda si solo quieres ver las líneas
                    }
                }
            });
        }
        this.chart.data = data;
        // Actualiza el gráfico
        this.chart.update();
    };
    BusinessControlComponent.prototype.generatePDF = function (comprobante) {
        var _this = this;
        this.comprobanteToPdf = null;
        comprobante.generandoPdf = true;
        setTimeout(function () {
            _this._generatePdf(comprobante);
        }, 100);
    };
    BusinessControlComponent.prototype.sharedPDF = function (comprobante) {
        var _this = this;
        this.comprobanteToPdf = null;
        comprobante.compartiendoPdf = true;
        setTimeout(function () {
            _this._shareByAppsFromSO(comprobante);
        }, 100);
    };
    BusinessControlComponent.prototype.sharedUrl = function (comprobante) {
        var _this = this;
        this.comprobanteToPdf = null;
        comprobante.compartiendoUrl = true;
        setTimeout(function () {
            _this._sharedUrlCorta(comprobante);
        }, 100);
    };
    BusinessControlComponent.prototype.showComprobante = function (comprobante) {
        var url = this.businessService.generateUrlFirmada(comprobante);
        window.open(url, '_blank');
    };
    BusinessControlComponent.prototype._generatePdf = function (comprobante) {
        var _this = this;
        this.comprobanteToPdf = comprobante;
        setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.pdfContent) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.pdfService.generatePDF("Comprobante Nro " + comprobante.id, this.pdfContent.nativeElement)];
                    case 1:
                        _a.sent();
                        comprobante.generandoPdf = false;
                        this.toastr.info('Pdf generado con exíto', 'Business Control!');
                        return [3 /*break*/, 3];
                    case 2:
                        this.toastr.error('El contenido del PDF no está disponible.', 'Business Control!');
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        }); }, 0);
    };
    BusinessControlComponent.prototype._shareByAppsFromSO = function (comprobante) {
        var _this = this;
        try {
            this.comprobanteToPdf = comprobante;
            setTimeout(function () {
                _this._compartirPdf(comprobante);
            }, 0);
        }
        catch (error) {
            this.toastr.error('Error al intentar compartir el archivo : ' + JSON.stringify(error), 'Business Control!');
        }
    };
    BusinessControlComponent.prototype._compartirPdf = function (comprobante) {
        var _this = this;
        try {
            if (this.pdfContent) {
                // this.pdfService.generatePDF(comprobante.id, this.pdfContent.nativeElement);
                this.pdfService.getPdfInBlob(comprobante.id, this.pdfContent.nativeElement).then(function (pdfBlob) {
                    _this._sharedPdf(pdfBlob, comprobante);
                    comprobante.compartiendoPdf = false;
                });
            }
            else {
                this.toastr.error('El contenido del PDF no está disponible.', 'Business Control!');
            }
        }
        catch (error) {
            this.toastr.error('Error al compartir el archivo : ' + JSON.stringify(error), 'Business Control!');
        }
    };
    BusinessControlComponent.prototype._sharedUrlCorta = function (comprobante) {
        var _this = this;
        if (navigator.share) {
            navigator.share({
                title: "Comprobante Nro " + comprobante.id + ".pdf",
                text: "Hola " + comprobante.bien.contratoActivo.nombre + ",\n\nEspero que te encuentres bien.\n\nTe comparto con gusto el comprobante de pago correspondiente al periodo del " + this.businessService.formatoInternacional(comprobante.periodo.inicio) + " al " + this.businessService.formatoInternacional(comprobante.periodo.fin) + ".\n" + comprobante.urlCorta + "\n\nEste comprobante verifica el cumplimiento de nuestras obligaciones y proporciona detalles completos sobre la transacci\u00F3n realizada.\n\nSi tienes alguna pregunta o necesitas informaci\u00F3n adicional, no dudes en contactarme.\n\nSaludos cordiales,\n" + comprobante.contratante.nombre,
            }).then(function () {
                comprobante.compartiendoUrl = false;
                _this.toastr.info('Se compartio correctamente la url!', 'Business Control!');
            }).catch(function (error) {
                _this.toastr.error('Error compartiendo la url: ' + JSON.stringify(error), 'Business Control!');
            });
        }
        else {
            this.toastr.error('La función de compartir no está disponible en este navegador (URL).', 'Business Control!');
        }
    };
    BusinessControlComponent.prototype._sharedPdf = function (pdfBlob, comprobante) {
        var _this = this;
        var file = new File([pdfBlob], "Comprobante Nro " + comprobante.id + ".pdf", { type: 'application/pdf' });
        if (navigator.share) {
            navigator.share({
                title: "Comprobante Nro " + comprobante.id + ".pdf",
                text: "Hola " + comprobante.bien.contratoActivo.nombre + ",\n\nEspero que te encuentres bien.\n\nTe comparto con gusto el comprobante de pago correspondiente al periodo del " + this.businessService.formatoInternacional(comprobante.periodo.inicio) + " al " + this.businessService.formatoInternacional(comprobante.periodo.fin) + ". Este comprobante verifica el cumplimiento de nuestras obligaciones y proporciona detalles completos sobre la transacci\u00F3n realizada.\n\nSi tienes alguna pregunta o necesitas informaci\u00F3n adicional, no dudes en contactarme.\n\nSaludos cordiales,\n" + comprobante.contratante.nombre,
                files: [file]
            }).then(function () {
                _this.toastr.info('Pdf generado con exíto, compartelo!', 'Business Control!');
            }).catch(function (error) {
                _this.toastr.error('Error compartiendo el archivo: ' + JSON.stringify(error), 'Business Control!');
            });
        }
        else {
            this.toastr.error('La función de compartir no está disponible en este navegador.', 'Business Control!');
        }
    };
    BusinessControlComponent.ctorParameters = function () { return [
        { type: src_app_services_google_services_google_service__WEBPACK_IMPORTED_MODULE_7__["GoogleService"] },
        { type: src_app_services_crypt_crypt_service__WEBPACK_IMPORTED_MODULE_8__["CryptService"] },
        { type: ngx_toastr__WEBPACK_IMPORTED_MODULE_6__["ToastrService"] },
        { type: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"] },
        { type: src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_3__["BusinessControlService"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] },
        { type: src_app_services_pdf_pdf_service__WEBPACK_IMPORTED_MODULE_5__["PdfService"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('pdfContent', { static: false }),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], BusinessControlComponent.prototype, "pdfContent", void 0);
    BusinessControlComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-business-control',
            template: __importDefault(__webpack_require__(/*! raw-loader!./business-control.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pages/business-control/business-control.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./business-control.component.css */ "./src/app/pages/business-control/business-control.component.css")).default]
        }),
        __metadata("design:paramtypes", [src_app_services_google_services_google_service__WEBPACK_IMPORTED_MODULE_7__["GoogleService"], src_app_services_crypt_crypt_service__WEBPACK_IMPORTED_MODULE_8__["CryptService"], ngx_toastr__WEBPACK_IMPORTED_MODULE_6__["ToastrService"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"], src_app_services_business_control_business_control_service__WEBPACK_IMPORTED_MODULE_3__["BusinessControlService"], _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"], src_app_services_pdf_pdf_service__WEBPACK_IMPORTED_MODULE_5__["PdfService"], _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"]])
    ], BusinessControlComponent);
    return BusinessControlComponent;
}());



/***/ }),

/***/ "./src/app/pages/common/base-component.ts":
/*!************************************************!*\
  !*** ./src/app/pages/common/base-component.ts ***!
  \************************************************/
/*! exports provided: BaseComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseComponent", function() { return BaseComponent; });
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
var BaseComponent = /** @class */ (function () {
    function BaseComponent(googleService) {
        this.googleService = googleService;
        this.isSync = false;
        this.messageOrLoading = "";
        this.contador = 0;
    }
    BaseComponent.prototype.init = function () {
        this._init();
    };
    ;
    BaseComponent.prototype._init = function () {
        this.initialiceComponent();
        this.getUserLogget();
    };
    BaseComponent.prototype.detroy = function () {
    };
    BaseComponent.prototype.hasDataInGoogle = function () {
        if (this.configFromGoogle && this.configFromGoogle.data) {
            return true;
        }
        return false;
    };
    ;
    BaseComponent.prototype.isLogged = function () {
        if (this.configFromGoogle && this.configFromGoogle.user) {
            return true;
        }
        return false;
    };
    ;
    BaseComponent.prototype.Login = function () {
        var _this = this;
        this.showLoading("Autenticando usuario");
        this.googleService.signInForAccountControl().then(function (config) { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.hideLoading();
                        this.configFromGoogle = config;
                        if (!config) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.syncGoogleDrive()];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        this.initialiceComponent();
                        return [2 /*return*/];
                }
            });
        }); });
    };
    BaseComponent.prototype.Logout = function () {
        this.googleService.signOut();
        this.configFromGoogle = null;
    };
    BaseComponent.prototype.getUserLogget = function () {
        var _this = this;
        this.contador++;
        this.showLoading("Validando autenticación");
        this.googleService.getUserForAccountControl().then(function (config) { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.hideLoading();
                        this.configFromGoogle = config;
                        if (!config) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.syncGoogleDrive()];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        this.initialiceComponent();
                        return [2 /*return*/];
                }
            });
        }); });
    };
    BaseComponent.prototype.showLoading = function (message) {
        this.isSync = true;
        this.messageOrLoading = message;
    };
    BaseComponent.prototype.hideLoading = function () {
        this.isSync = false;
    };
    BaseComponent.contador = 0;
    return BaseComponent;
}());



/***/ }),

/***/ "./src/app/services/account-control/account-control.service.ts":
/*!*********************************************************************!*\
  !*** ./src/app/services/account-control/account-control.service.ts ***!
  \*********************************************************************/
/*! exports provided: AccountControlService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountControlService", function() { return AccountControlService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var _crypt_crypt_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../crypt/crypt.service */ "./src/app/services/crypt/crypt.service.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/__ivy_ngcc__/fesm5/http.js");
/* harmony import */ var _google_services_google_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../google-services/google.service */ "./src/app/services/google-services/google.service.ts");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/__ivy_ngcc__/fesm5/ngx-toastr.js");
/* harmony import */ var src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/entities/account-control */ "./src/app/entities/account-control.ts");
/* harmony import */ var _utils_transaction_operation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/transaction-operation */ "./src/app/services/utils/transaction-operation.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};







var AccountControlService = /** @class */ (function () {
    function AccountControlService(toastr, googleService, cryptService, _httpService) {
        this.toastr = toastr;
        this.googleService = googleService;
        this.cryptService = cryptService;
        this._httpService = _httpService;
        this.storageSelectedBienKey = 'selectedAccountId';
    }
    AccountControlService_1 = AccountControlService;
    Object.defineProperty(AccountControlService.prototype, "storageKey", {
        get: function () {
            if (window.location.hostname == 'localhost')
                return 'accountDataLocal';
            return 'accountData';
        },
        enumerable: true,
        configurable: true
    });
    AccountControlService.prototype.getSettingsData = function () {
        var data = this._getConfigFromLocalStorage();
        if (data) {
            data.accounts = data.accounts;
        }
        this.syncWithGoogleDrive(data);
        return data;
    };
    AccountControlService.prototype.setSelectedId = function (bienId) {
        localStorage.setItem(this.storageSelectedBienKey, bienId);
    };
    AccountControlService.prototype.getSelectedId = function () {
        return localStorage.getItem(this.storageSelectedBienKey);
    };
    AccountControlService.prototype.saveAccount = function (account, userName, email) {
        var data = this._getConfigFromLocalStorage();
        if (!data) {
            data = this.instanceNewConfig(userName, email);
        }
        var oldAccount = data.accounts.find(function (t) { return t.id === account.id; });
        if (oldAccount) {
            oldAccount.name = account.name;
            oldAccount.description = account.description;
            oldAccount.balance = account.balance;
            oldAccount.isPrincipal = account.isPrincipal;
        }
        else {
            data.accounts.push(account);
        }
        this.saveSettingsData(data);
    };
    AccountControlService.prototype.saveTransaction = function (transaction) {
        var data = this._getConfigFromLocalStorage();
        if (!data) {
            this.toastr.error("Debe existir al menos una cuenta para poder crear una transacción", 'Account Control!');
            return;
        }
        if (transaction.type === src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_5__["AccountConstant"].TRANSACTION_TYPE_EXPENSE && transaction.amount > 0) {
            transaction.amount = -transaction.amount;
        }
        if (!transaction.id) {
            transaction.id = this._generateRandomString(20);
        }
        var oldTransaction = data.transactions.find(function (t) { return t.id === transaction.id; });
        if (oldTransaction) {
            var accountOfTransaction = data.accounts.find(function (a) { return a.id === oldTransaction.accountId; });
            if (!accountOfTransaction) {
                this.toastr.error('No se puede editar una transacción que no pertenece a una cuenta válida', 'Account Control!');
                return;
            }
            accountOfTransaction.balance += -oldTransaction.amount;
            oldTransaction.isProcessed = false; // se reinicia debido a que acabamos de descontar lo que la transaccion habia procesado, esto con el objetivo de que si el usuario cambia el monto pues se afecte el nuevo y no tenga en cuenta lo anterior
            oldTransaction.description = transaction.description;
            oldTransaction.amount = transaction.amount;
            oldTransaction.originalAccount = transaction.originalAccount;
            oldTransaction.categoryId = transaction.categoryId;
            oldTransaction.date = transaction.date;
            oldTransaction.targetAccountId = transaction.targetAccountId;
            oldTransaction.transactionId = transaction.transactionId;
        }
        else {
            data.transactions.push(transaction);
        }
        this.saveSettingsData(data);
    };
    AccountControlService.prototype.deleteTransaction = function (transaction) {
        var data = this._getConfigFromLocalStorage();
        if (!data) {
            this.toastr.error("Debe existir al menos una cuenta para poder crear una transacción", 'Account Control!');
            return;
        }
        var accountOfTransaction = data.accounts.find(function (a) { return a.id === transaction.accountId; });
        if (accountOfTransaction) {
            accountOfTransaction.balance += -transaction.amount;
        }
        data.transactions = data.transactions.filter(function (a) { return a.id !== transaction.id; });
        this.saveSettingsData(data);
    };
    AccountControlService.prototype.instanceNewConfig = function (name, email) {
        var data;
        data = {
            name: (name !== null && name !== void 0 ? name : this._generateRandomString(25)),
            accounts: [
                {
                    id: src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_5__["AccountConstant"].ACCOUNT_BILLETERA,
                    name: src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_5__["AccountConstant"].ACCOUNT_BILLETERA,
                    description: 'Esta cuenta es por default, no la elimine',
                    balance: 0,
                    balanceLastMonth: 0,
                    lastBalance: 0,
                    isPrincipal: true,
                }
            ],
            budgetSettings: null,
            transactions: [],
            email: email,
        };
        return data;
    };
    AccountControlService.prototype.saveBudgetSettings = function (budgetSettings) {
        var data = this._getConfigFromLocalStorage();
        if (!data) {
            this.toastr.error('Debe existir al menos una cuenta registrada, no se deberia poder configurar presupuesto sin al menos una cuenta creada!!!', 'Account Control!');
            return;
        }
        data.budgetSettings = budgetSettings;
        this.saveSettingsData(data);
    };
    AccountControlService.prototype._generateRandomString = function (length) {
        return Math.random().toString(36).substring(2, 2 + length);
    };
    AccountControlService.prototype.syncWithGoogleDrive = function (configLocalStorage, bypass) {
        if (bypass === void 0) { bypass = false; }
        return __awaiter(this, void 0, void 0, function () {
            var userLogged, uploadConfigInGoogle;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(!AccountControlService_1.isSync || AccountControlService_1.isSync && !configLocalStorage || bypass)) return [3 /*break*/, 5];
                        AccountControlService_1.isSync = true;
                        return [4 /*yield*/, this.googleService.getUserForAccountControl()];
                    case 1:
                        userLogged = _a.sent();
                        if (!(userLogged && userLogged.data)) return [3 /*break*/, 3];
                        uploadConfigInGoogle = false;
                        if (userLogged.data && !userLogged.data.lastSync) {
                            userLogged.data.lastSync = new Date();
                            //se manda a subir la data nuevamente a google drive ya que en google drive no hay fecha de modificacion en el json
                            uploadConfigInGoogle = true;
                        }
                        if (!(userLogged.data && (!configLocalStorage || !configLocalStorage.lastSync || configLocalStorage.lastSync < userLogged.data.lastSync))) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.saveSettingsData(userLogged.data, uploadConfigInGoogle)];
                    case 2:
                        _a.sent();
                        this.toastr.success('Información syncronizada correctamente desde google drive', 'Account Control!');
                        setTimeout(function () {
                            window.location.reload();
                        }, 1500);
                        _a.label = 3;
                    case 3:
                        if (!(userLogged && !userLogged.data)) return [3 /*break*/, 5];
                        return [4 /*yield*/, this.uploadConfigWithGoogleDrive()];
                    case 4:
                        _a.sent();
                        _a.label = 5;
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    AccountControlService.prototype._getConfigFromLocalStorage = function () {
        var _this = this;
        var _a;
        var data = this._readConfig();
        var response = data ? JSON.parse(data) : null;
        if (response) {
            if (response.lastSync) {
                response.lastSync = new Date(response.lastSync);
            }
            if (response.lastSyncTransactions) {
                response.lastSyncTransactions = new Date(response.lastSyncTransactions);
            }
            response.transactions.forEach(function (t) {
                t.date = new Date(t.date);
            });
            var contExpende_1 = 0;
            var contIncome_1 = 0;
            (_a = response.budgetSettings) === null || _a === void 0 ? void 0 : _a.categories.forEach(function (category) {
                if (category.type === src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_5__["AccountConstant"].TRANSACTION_TYPE_EXPENSE) {
                    category.order = contExpende_1++;
                }
                else {
                    category.order = contIncome_1++;
                }
                category.order = _this._getGroupOfOrder(category.type) + category.order;
            });
            response.accounts.forEach(function (account) {
                if (account.lastTransaction) {
                    account.lastTransaction.date = new Date(account.lastTransaction.date);
                }
            });
        }
        return response;
    };
    AccountControlService.prototype._getGroupOfOrder = function (type) {
        var groupOfOrder = 1000;
        if (type === src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_5__["AccountConstant"].TRANSACTION_TYPE_INCOME) {
            groupOfOrder = 2000;
        }
        return groupOfOrder;
    };
    AccountControlService.prototype._readConfig = function () {
        return localStorage.getItem(this.storageKey);
    };
    AccountControlService.prototype.saveSettingsData = function (config, syncWithGoogle, lastSync) {
        if (syncWithGoogle === void 0) { syncWithGoogle = true; }
        if (lastSync === void 0) { lastSync = new Date(); }
        var _a;
        return __awaiter(this, void 0, void 0, function () {
            var isLogged;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        if (config.lastSync < lastSync) {
                            config.lastSync = lastSync;
                        }
                        ;
                        (_a = config.budgetSettings) === null || _a === void 0 ? void 0 : _a.categories.forEach(function (category) {
                            category.transactionCurrentMonth = [];
                        });
                        localStorage.setItem(this.storageKey, JSON.stringify(config));
                        return [4 /*yield*/, this.googleService.isUserLogged()];
                    case 1:
                        isLogged = _b.sent();
                        if (!(isLogged && syncWithGoogle)) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.uploadConfigWithGoogleDrive()];
                    case 2:
                        _b.sent();
                        _b.label = 3;
                    case 3: return [2 /*return*/, config];
                }
            });
        });
    };
    /**
     * Este metodo se utiliza debido a que desde el front los input date arrojan un string como valor y en tiempo de ejecucion este string en formato "2024-07-18" toca convertirlo a date
     * @param dateString fecha en formato string ("2024-07-18")
     * @returns fecha
     */
    AccountControlService.prototype.instanceDateFromString = function (dateString) {
        // Extraer año, mes y día del string
        var _a = dateString.split('-').map(Number), year = _a[0], month = _a[1], day = _a[2];
        // Crear la fecha manualmente usando el constructor de Date con los componentes individuales
        // El mes en el constructor Date es 0-indexed, por eso restamos 1
        return new Date(year, month - 1, day);
    };
    AccountControlService.prototype.downloadConfig = function () {
        var config = this._getConfigFromLocalStorage();
        if (config) {
            // Crea un blob con el contenido JSON
            var blob = new Blob([JSON.stringify(config, null, 2)], { type: 'application/json' });
            // Crea un enlace para la descarga
            var link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = "Account-Control" + config.name + ".json";
            // Simula un clic en el enlace para iniciar la descarga
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    };
    AccountControlService.prototype.uploadConfigWithGoogleDrive = function () {
        return __awaiter(this, void 0, void 0, function () {
            var config, blob, fileName;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        config = this._getConfigFromLocalStorage();
                        if (!config) return [3 /*break*/, 2];
                        blob = new Blob([JSON.stringify(config, null, 2)], { type: 'application/json' });
                        fileName = "AC-Main-" + config.name + ".json";
                        // Llama al método para subir el archivo a Google Drive
                        return [4 /*yield*/, this.googleService.uploadFileWithFolderDetection(blob, fileName, true)];
                    case 1:
                        // Llama al método para subir el archivo a Google Drive
                        _a.sent();
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    AccountControlService.prototype.deleteData = function () {
        localStorage.removeItem(this.storageKey);
    };
    // Define el formato internacional deseado
    AccountControlService.prototype.formatoInternacional = function (date) {
        // Si date es una cadena, conviértelo a un objeto Date
        date = typeof date === 'string' ? new Date(date) : date;
        // Define el formato internacional deseado
        var _formatoInternacional = new Intl.DateTimeFormat('es-CO', {
            year: 'numeric',
            month: 'long',
            day: 'numeric'
        });
        return _formatoInternacional.format(date);
    };
    AccountControlService.prototype.syncTransactions = function (userLogged) {
        var _a, _b;
        return __awaiter(this, void 0, void 0, function () {
            var config, defaultStartDate, newTransactions;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        console.log('Sincronizando transacciones...', userLogged.user.username);
                        config = this._getConfigFromLocalStorage();
                        defaultStartDate = new Date();
                        // Resta 3 meses a la fecha de inicio para buscar transacciones de hace tres meses
                        defaultStartDate.setMonth(defaultStartDate.getMonth() - 3);
                        return [4 /*yield*/, this.googleService.getTransactionsSince((_b = (_a = config) === null || _a === void 0 ? void 0 : _a.lastSyncTransactions, (_b !== null && _b !== void 0 ? _b : defaultStartDate)))];
                    case 1:
                        newTransactions = _c.sent();
                        if (!(newTransactions.length > 0)) return [3 /*break*/, 3];
                        return [4 /*yield*/, this._syncTransactions(config, userLogged, newTransactions)];
                    case 2:
                        config = _c.sent();
                        _c.label = 3;
                    case 3: return [2 /*return*/, this.getTransactions(config)];
                }
            });
        });
    };
    AccountControlService.prototype._syncTransactions = function (config, userLogged, newTransactions) {
        return __awaiter(this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        if (!config) {
                            config = this.instanceNewConfig(userLogged.user.username, userLogged.user.email);
                        }
                        if (!config.transactions) {
                            config.transactions = [];
                        }
                        (_a = config.transactions).push.apply(_a, newTransactions);
                        config.lastSyncTransactions = new Date();
                        config.transactions = config.transactions.sort(function (a, b) { return b.date.getTime() - a.date.getTime(); });
                        return [4 /*yield*/, this.saveSettingsData(config)];
                    case 1:
                        _b.sent();
                        this.toastr.success('[' + (newTransactions.length) + '] Transacciones sincronizadas correctamente', 'Account Control!');
                        return [2 /*return*/, config];
                }
            });
        });
    };
    AccountControlService.prototype.getCategory = function (config, t, showToastr) {
        if (showToastr === void 0) { showToastr = false; }
        var _a, _b, _c;
        var category = (_c = (_b = (_a = config) === null || _a === void 0 ? void 0 : _a.budgetSettings) === null || _b === void 0 ? void 0 : _b.categories) === null || _c === void 0 ? void 0 : _c.find(function (cat) { return cat.type == t.type && cat.keyWords.some(function (key) { return t.description.toLowerCase().includes(key.toLowerCase()); }); });
        if ((!category || (category && !category.accountId)) && !t.originalAccount) {
            if (showToastr && config.budgetSettings) {
                this.toastr.warning("No se encontro categor\u00EDa para la transacci\u00F3n \"" + t.description + "\" por un monto de " + t.amount, 'Account Control!');
            }
            return;
        }
        return category;
    };
    AccountControlService.prototype.getTransactions = function (config) {
        var _this = this;
        var _a, _b, _c, _d, _e;
        if (!config) {
            config = this.getSettingsData();
            if (!config) {
                config = this.instanceNewConfig();
            }
        }
        var helper = new _utils_transaction_operation__WEBPACK_IMPORTED_MODULE_6__["TransactionOperation"]();
        var transactionsProcessed = 0;
        (_c = (_b = (_a = config) === null || _a === void 0 ? void 0 : _a.budgetSettings) === null || _b === void 0 ? void 0 : _b.categories) === null || _c === void 0 ? void 0 : _c.forEach(function (cat) {
            cat.currentAmmount = 0;
        });
        (_e = (_d = config) === null || _d === void 0 ? void 0 : _d.transactions) === null || _e === void 0 ? void 0 : _e.forEach(function (t) {
            var canContinue = _this.processTransaction(config, t);
            if (!canContinue) {
                return;
            }
            transactionsProcessed++;
            if (t.targetAccountId) {
                //si tiene una cuenta configurada para el targetAccountId, crea una nueva transacción de lo contrario no porque si no crearia muchas transferencias de cuentas que no son mias
                //esto lo hice solo para mi tarjeta de crédito o cuando cree alguna cuenta cuando le preste a amigos etc.
                var auxaccount = _this.getAccount(config, t.targetAccountId);
                if (!auxaccount) {
                    return;
                }
                var newTransaction = helper.createTransactionIfIsTranfer(t);
                if (newTransaction) {
                    _this.processTransaction(config, newTransaction);
                    config.transactions.push(newTransaction);
                    transactionsProcessed++;
                }
            }
        });
        if (transactionsProcessed > 0) {
            config.transactions = config.transactions.sort(function (a, b) { return b.date.getTime() - a.date.getTime(); });
            this.saveSettingsData(config, false, config.transactions[0].date);
            this.toastr.info('[' + (transactionsProcessed) + '] Transacciones procesadas correctamente', 'Account Control!');
        }
        return config;
    };
    AccountControlService.prototype.processTransaction = function (config, t) {
        var _a, _b;
        t.categoryId = 'no_category';
        if (!t.canProcessed) {
            // Transacción no puede ser procesada
            var anotherTransaction = new _utils_transaction_operation__WEBPACK_IMPORTED_MODULE_6__["TransactionOperation"]().getTransaction(t.originalBody, t.id);
            if (!anotherTransaction.canProcessed)
                return;
            // Asignar campos de anotherTransaction a t
            Object.assign(t, anotherTransaction);
        }
        var category = this.assignCategory(config, t, new Date());
        if (!t.originalAccount && category) {
            t.originalAccount = category.accountId;
        }
        if (t.isProcessed) {
            // Transacción ya procesada
            return;
        }
        var accountId = (_b = (_a = category) === null || _a === void 0 ? void 0 : _a.accountId, (_b !== null && _b !== void 0 ? _b : '')) ? category.accountId : t.originalAccount;
        if (!accountId) {
            return;
        }
        var account = this.getAccount(config, accountId);
        if (!account) {
            if (config.budgetSettings) {
                // this.toastr.warning(`No se encontro cuenta para la transacción "${t.description}" por un monto de ${t.amount}`, 'Account Control!');
            }
            return;
        }
        if (account.lastTransaction) {
            var dateAccount = account.lastTransaction.date.getFullYear() + account.lastTransaction.date.getMonth();
            var dateTransaction = t.date.getFullYear() + t.date.getMonth();
            if (dateTransaction > dateAccount) {
                account.balanceLastMonth = account.balance;
            }
        }
        t.accountId = account.id;
        account.lastBalance = account.balance;
        account.balance += t.amount;
        account.lastTransaction = t;
        t.isProcessed = true;
        return true;
    };
    AccountControlService.prototype.assignCategory = function (config, t, date) {
        var category = this.getCategory(config, t, false);
        if (category) {
            t.categoryId = category.id;
            var currentDate = date.getFullYear() + '-' + (date.getMonth() + 1);
            var dateOfTransaction = t.date.getFullYear() + '-' + (t.date.getMonth() + 1);
            if (currentDate == dateOfTransaction) {
                if (!category.transactionCurrentMonth) {
                    category.transactionCurrentMonth = [t];
                }
                if (!t.transactionId || (t.targetAccountId && t.type != src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_5__["AccountConstant"].TRANSACTION_TYPE_INCOME)) {
                    category.currentAmmount += Math.abs(t.amount);
                    category.transactionCurrentMonth.push(t);
                }
            }
        }
        return category;
    };
    AccountControlService.prototype.getAccount = function (config, accountId) {
        return config.accounts.find(function (acc) { return acc.id.toLowerCase().includes(accountId.toLowerCase()) || accountId.toLowerCase().includes(acc.id.toLowerCase()); });
    };
    var AccountControlService_1;
    AccountControlService.isSync = false;
    AccountControlService.ctorParameters = function () { return [
        { type: ngx_toastr__WEBPACK_IMPORTED_MODULE_4__["ToastrService"] },
        { type: _google_services_google_service__WEBPACK_IMPORTED_MODULE_3__["GoogleService"] },
        { type: _crypt_crypt_service__WEBPACK_IMPORTED_MODULE_1__["CryptService"] },
        { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"] }
    ]; };
    AccountControlService = AccountControlService_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [ngx_toastr__WEBPACK_IMPORTED_MODULE_4__["ToastrService"], _google_services_google_service__WEBPACK_IMPORTED_MODULE_3__["GoogleService"], _crypt_crypt_service__WEBPACK_IMPORTED_MODULE_1__["CryptService"], _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"]])
    ], AccountControlService);
    return AccountControlService;
}());



/***/ }),

/***/ "./src/app/services/business-control/business-control.service.ts":
/*!***********************************************************************!*\
  !*** ./src/app/services/business-control/business-control.service.ts ***!
  \***********************************************************************/
/*! exports provided: BusinessControlService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BusinessControlService", function() { return BusinessControlService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var _crypt_crypt_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../crypt/crypt.service */ "./src/app/services/crypt/crypt.service.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/__ivy_ngcc__/fesm5/http.js");
/* harmony import */ var _google_services_google_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../google-services/google.service */ "./src/app/services/google-services/google.service.ts");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/__ivy_ngcc__/fesm5/ngx-toastr.js");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};





var BusinessControlService = /** @class */ (function () {
    function BusinessControlService(toastr, googleService, cryptService, _httpService) {
        this.toastr = toastr;
        this.googleService = googleService;
        this.cryptService = cryptService;
        this._httpService = _httpService;
        this.storageSelectedBienKey = 'selectedBienId';
    }
    BusinessControlService_1 = BusinessControlService;
    Object.defineProperty(BusinessControlService.prototype, "storageKey", {
        get: function () {
            if (window.location.hostname == 'localhost')
                return 'configuracionLocal';
            return 'configuracion';
        },
        enumerable: true,
        configurable: true
    });
    BusinessControlService.prototype.getConfiguracion = function () {
        var data = this._getConfigFromLocalStorage();
        if (data) {
            data.bienes = data.bienes;
            data.bienes.forEach(function (bien) {
                var _a, _b, _c, _d, _e, _f;
                var totalIngresos = 0;
                var totalIngrByArrendaMap = new Map();
                var countComprByArrendaMap = new Map();
                if (!bien.comprobantes)
                    bien.comprobantes = [];
                if (!bien.serviciosPublicos)
                    bien.serviciosPublicos = [];
                if (!bien.contratos)
                    bien.contratos = [];
                (_b = (_a = bien) === null || _a === void 0 ? void 0 : _a.comprobantes) === null || _b === void 0 ? void 0 : _b.forEach(function (comprobante) {
                    var _a, _b;
                    var tempTotalIdContrato = (_a = totalIngrByArrendaMap.get(comprobante.contratoId), (_a !== null && _a !== void 0 ? _a : 0));
                    var tempCountIdContrato = (_b = countComprByArrendaMap.get(comprobante.contratoId), (_b !== null && _b !== void 0 ? _b : 0));
                    totalIngrByArrendaMap.set(comprobante.contratoId, tempTotalIdContrato + comprobante.total);
                    countComprByArrendaMap.set(comprobante.contratoId, tempCountIdContrato + 1);
                    comprobante.fechaGeneracion = new Date(comprobante.fechaGeneracion);
                    comprobante.periodo.inicio = new Date(comprobante.periodo.inicio);
                    comprobante.periodo.fin = new Date(comprobante.periodo.fin);
                    totalIngresos += comprobante.total;
                    comprobante.contratante = data.contratante;
                    comprobante.bien = bien;
                });
                (_d = (_c = bien) === null || _c === void 0 ? void 0 : _c.serviciosPublicos) === null || _d === void 0 ? void 0 : _d.forEach(function (servicio) {
                    servicio.fechaGeneracion = new Date(servicio.fechaGeneracion);
                    servicio.fechaPago = servicio.fechaPago ? new Date(servicio.fechaPago) : null;
                });
                bien.totalIngresos = totalIngresos;
                (_f = (_e = bien) === null || _e === void 0 ? void 0 : _e.contratos) === null || _f === void 0 ? void 0 : _f.forEach(function (contrato) {
                    var _a, _b;
                    contrato.inicio = new Date(contrato.inicio);
                    contrato.totalIngresos = (_a = totalIngrByArrendaMap.get(contrato.id), (_a !== null && _a !== void 0 ? _a : 0));
                    contrato.porcentajeIngresos = bien.totalIngresos > 0 ? Math.round(contrato.totalIngresos * 100 / bien.totalIngresos) : 0;
                    contrato.comprobantesGenerados = (_b = countComprByArrendaMap.get(contrato.id), (_b !== null && _b !== void 0 ? _b : 0));
                    if (contrato.activo) {
                        bien.contratoActivo = contrato;
                    }
                });
                bien.contratos.sort(function (a, b) { return a.activo > b.activo ? -1 : 1; });
                bien.comprobantes.sort(function (a, b) { return a.fechaGeneracion > b.fechaGeneracion ? -1 : 1; });
                if (data.ultimaModificacion) {
                    data.ultimaModificacion = new Date(data.ultimaModificacion);
                }
                else {
                    data.ultimaModificacion = new Date();
                }
            });
        }
        this.syncWithGoogleDrive(data);
        return data;
    };
    BusinessControlService.prototype.setSelectedId = function (bienId) {
        localStorage.setItem(this.storageSelectedBienKey, bienId);
    };
    BusinessControlService.prototype.getSelectedId = function () {
        return localStorage.getItem(this.storageSelectedBienKey);
    };
    BusinessControlService.prototype.syncWithGoogleDrive = function (configLocalStorage) {
        return __awaiter(this, void 0, void 0, function () {
            var userLogged, uploadConfigInGoogle;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(!BusinessControlService_1.isSync || BusinessControlService_1.isSync && !configLocalStorage)) return [3 /*break*/, 2];
                        BusinessControlService_1.isSync = true;
                        return [4 /*yield*/, this.googleService.getUser()];
                    case 1:
                        userLogged = _a.sent();
                        if (userLogged && userLogged.data) {
                            uploadConfigInGoogle = false;
                            if (userLogged.data && !userLogged.data.ultimaModificacion) {
                                userLogged.data.ultimaModificacion = new Date();
                                //se manda a subir la data nuevamente a google drive ya que en google drive no hay fecha de modificacion en el json
                                uploadConfigInGoogle = true;
                            }
                            //existe data en google y no hay fecha de modificacion o la fecha de modificacion de localstorage es menor a la de google entonces bajo y almaceno los datos en local
                            if (userLogged.data && (!configLocalStorage || !configLocalStorage.ultimaModificacion || configLocalStorage.ultimaModificacion < userLogged.data.ultimaModificacion)) {
                                this.saveConfiguracion(userLogged.data, uploadConfigInGoogle);
                                this.toastr.success('Información syncronizada correctamente desde google drive', 'Business Control!');
                                setTimeout(function () {
                                    window.location.reload();
                                }, 1500);
                            }
                        }
                        //si no hay data en google entonces subimos la que esta en localstorage
                        if (userLogged && !userLogged.data) {
                            this.uploadConfigWithGoogleDrive();
                        }
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    BusinessControlService.prototype._getConfigFromLocalStorage = function () {
        var data = this._readConfig();
        return data ? JSON.parse(data) : null;
    };
    BusinessControlService.prototype._readConfig = function () {
        return localStorage.getItem(this.storageKey);
    };
    BusinessControlService.prototype.saveConfiguracion = function (config, syncWithGoogle) {
        if (syncWithGoogle === void 0) { syncWithGoogle = true; }
        return __awaiter(this, void 0, void 0, function () {
            var isLogged;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        config.bienes.forEach(function (bien) {
                            bien.contratoActivo = null;
                            bien.comprobantes.forEach(function (comprobante) {
                                comprobante.contratante = null;
                                comprobante.bien = null;
                            });
                        });
                        config.ultimaModificacion = new Date();
                        localStorage.setItem(this.storageKey, JSON.stringify(config));
                        return [4 /*yield*/, this.googleService.isUserLogged()];
                    case 1:
                        isLogged = _a.sent();
                        if (isLogged && syncWithGoogle) {
                            this.uploadConfigWithGoogleDrive();
                        }
                        return [2 /*return*/, config];
                }
            });
        });
    };
    BusinessControlService.prototype.setContratante = function (contratante) {
        contratante.firmaDigital = this._generateRandomString(25);
        var config = {
            bienes: [],
            contratante: contratante,
            conceptos: [],
            mediosPago: ['Efectivo', 'Transferencia', 'Cheque', 'Otro']
        };
        this.saveConfiguracion(config);
    };
    BusinessControlService.prototype._generateRandomString = function (length) {
        return Math.random().toString(36).substring(2, 2 + length);
    };
    /**
     * Este metodo se utiliza debido a que desde el front los input date arrojan un string como valor y en tiempo de ejecucion este string en formato "2024-07-18" toca convertirlo a date
     * @param dateString fecha en formato string ("2024-07-18")
     * @returns fecha
     */
    BusinessControlService.prototype.instanceDateFromString = function (dateString) {
        // Extraer año, mes y día del string
        var _a = dateString.split('-').map(Number), year = _a[0], month = _a[1], day = _a[2];
        // Crear la fecha manualmente usando el constructor de Date con los componentes individuales
        // El mes en el constructor Date es 0-indexed, por eso restamos 1
        return new Date(year, month - 1, day);
    };
    BusinessControlService.prototype.addComprobante = function (bienId, comprobante) {
        return __awaiter(this, void 0, void 0, function () {
            var config, bien, startDate, endDate;
            return __generator(this, function (_a) {
                config = this.getConfiguracion();
                if (config) {
                    bien = config.bienes.find(function (v) { return v.id === bienId; });
                    if (bien) {
                        if (!comprobante.id) {
                            comprobante.id = new Date().getTime().toString();
                        }
                        comprobante.contratoId = bien.contratoActivo.id;
                        comprobante.bien = bien;
                        //Aquí la seteamos manualmente para que en el encriptado quede la url corta y el QR se vea igual
                        comprobante.urlCorta = "https://" + this._getDomainForShortUrl() + "/" + this._getAliasForShortUrl(comprobante);
                        startDate = new Date(comprobante.fechaGeneracion.getFullYear(), comprobante.fechaGeneracion.getMonth(), bien.contratoActivo.inicio.getDate());
                        endDate = new Date(comprobante.fechaGeneracion.getFullYear(), comprobante.fechaGeneracion.getMonth(), bien.contratoActivo.inicio.getDate());
                        endDate.setMonth(endDate.getMonth() + 1);
                        comprobante.periodo = {
                            inicio: startDate,
                            fin: endDate
                        };
                        bien.comprobantes.push(comprobante);
                        this.saveConfiguracion(config);
                        this._updateShortUrl(bienId, comprobante.id);
                    }
                }
                return [2 /*return*/];
            });
        });
    };
    BusinessControlService.prototype._updateShortUrl = function (bienId, comprobanteId) {
        return __awaiter(this, void 0, void 0, function () {
            var tempConfig, bienTemp, comprobanteTemp, urlCorta, Config, bien, comprobante;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        tempConfig = this.getConfiguracion();
                        if (!tempConfig) return [3 /*break*/, 2];
                        bienTemp = tempConfig.bienes.find(function (v) { return v.id === bienId; });
                        comprobanteTemp = bienTemp.comprobantes.find(function (t) { return t.id = comprobanteId; });
                        return [4 /*yield*/, this.shortUrl(this.generateUrlFirmada(comprobanteTemp), comprobanteTemp)];
                    case 1:
                        urlCorta = _a.sent();
                        Config = this.getConfiguracion();
                        if (Config) {
                            bien = tempConfig.bienes.find(function (v) { return v.id === bienId; });
                            comprobante = bienTemp.comprobantes.find(function (t) { return t.id = comprobanteId; });
                            comprobante.urlCorta = urlCorta;
                            this.saveConfiguracion(Config);
                        }
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    BusinessControlService.prototype.addServicioPublico = function (bienId, servicio) {
        var config = this.getConfiguracion();
        if (config) {
            var bien = config.bienes.find(function (v) { return v.id === bienId; });
            if (bien) {
                servicio.fechaGeneracion = this.instanceDateFromString(servicio.fechaGeneracion.toString());
                servicio.fechaPago = this.instanceDateFromString(servicio.fechaPago.toString());
                bien.serviciosPublicos.push(servicio);
                this.saveConfiguracion(config);
            }
        }
    };
    BusinessControlService.prototype.addBien = function (bien) {
        var config = this.getConfiguracion();
        if (config) {
            bien.id = bien.tipo + this.generateBienId(bien.direccion);
            config.bienes.push(bien);
            this.saveConfiguracion(config);
        }
    };
    BusinessControlService.prototype.addContrato = function (bienId, contrato) {
        var config = this.getConfiguracion();
        if (config) {
            var bien = config.bienes.find(function (v) { return v.id === bienId; });
            if (bien) {
                this._setContratoActivo(bien, contrato);
                contrato.inicio = this.instanceDateFromString(contrato.inicio.toString());
                contrato.id = contrato.tipo.substring(0, 3) + contrato.identificacion.toString() + new Date().getFullYear() + new Date().getMonth() + new Date().getDay() + new Date().getMinutes();
                var contratoId = {
                    id: contrato.id,
                    fecha: contrato.inicio.toLocaleDateString(),
                    tipo: contrato.tipo,
                    firmaDigital: config.contratante.firmaDigital
                };
                contrato.id = this.cryptService.encrypt(JSON.stringify(contratoId));
                bien.contratos.push(contrato);
                this.saveConfiguracion(config);
            }
        }
    };
    BusinessControlService.prototype.setContratoActivo = function (bienId, contratoId) {
        return __awaiter(this, void 0, void 0, function () {
            var config, bien, contrato;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        config = this.getConfiguracion();
                        if (!config) return [3 /*break*/, 2];
                        bien = config.bienes.find(function (v) { return v.id === bienId; });
                        if (!bien) return [3 /*break*/, 2];
                        contrato = bien.contratos.find(function (c) { return c.id == contratoId; });
                        if (!contrato) return [3 /*break*/, 2];
                        this._setContratoActivo(bien, contrato);
                        return [4 /*yield*/, this.saveConfiguracion(config)];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    BusinessControlService.prototype._setContratoActivo = function (bien, contrato) {
        bien.contratos.forEach(function (t) {
            t.activo = false;
        });
        contrato.activo = true;
    };
    BusinessControlService.prototype.getBienById = function (bienId) {
        var config = this.getConfiguracion();
        if (config) {
            return config.bienes.find(function (v) { return v.id === bienId; });
        }
        return null;
    };
    BusinessControlService.prototype.generateBienId = function (direccion) {
        return direccion.replace(/\s+/g, '').toLowerCase();
    };
    BusinessControlService.prototype.getTotalIngresosPorBien = function (bienId) {
        var total = 0;
        var config = this.getConfiguracion();
        if (config) {
            var bien = config.bienes.find(function (v) { return v.id === bienId; });
            if (bien) {
                bien.comprobantes.forEach(function (t) {
                    total += t.total;
                });
            }
        }
        return total;
    };
    BusinessControlService.prototype.cryptComprobante = function (comprobante) {
        // Clonar el objeto usando el operador de propagación
        var comprobanteClon = __assign({}, comprobante);
        if (comprobanteClon.contratante)
            comprobanteClon.contratante = __assign(__assign({}, comprobante.contratante), { firmaDigital: null });
        if (comprobanteClon.bien)
            comprobanteClon.bien = __assign(__assign({}, comprobante.bien), { comprobantes: [] });
        return this._cryptObject(comprobanteClon);
    };
    BusinessControlService.prototype._cryptObject = function (object) {
        var cache = new Set();
        var jsonString = JSON.stringify(object, function (key, value) {
            if (typeof value === 'object' && value !== null) {
                if (cache.has(value)) {
                    // Si ya hemos visitado este objeto, devolver undefined para omitirlo
                    return;
                }
                // Añadir el objeto al conjunto
                cache.add(value);
            }
            return value;
        });
        return this.cryptService.encrypt(jsonString);
    };
    BusinessControlService.prototype.generateUrlFirmada = function (comprobante, path) {
        if (path === void 0) { path = 'business-control-verify'; }
        return window.location.origin + "/#/" + path + "?comprobante=" + encodeURIComponent(this.cryptComprobante(comprobante));
    };
    BusinessControlService.prototype.decryptComprobante = function (comprobanteString) {
        var temp = this.cryptService.decrypt(comprobanteString);
        return JSON.parse(temp);
    };
    BusinessControlService.prototype.downloadConfig = function () {
        var config = this._getConfigFromLocalStorage();
        if (config) {
            // Crea un blob con el contenido JSON
            var blob = new Blob([JSON.stringify(config, null, 2)], { type: 'application/json' });
            // Crea un enlace para la descarga
            var link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = config.contratante.identificacion + '-' + config.contratante.firmaDigital + '.json';
            // Simula un clic en el enlace para iniciar la descarga
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    };
    BusinessControlService.prototype.uploadConfigWithGoogleDrive = function () {
        var config = this._getConfigFromLocalStorage();
        if (config) {
            // Crea un blob con el contenido JSON
            var blob = new Blob([JSON.stringify(config, null, 2)], { type: 'application/json' });
            var fileName = config.contratante.identificacion + "-" + config.contratante.firmaDigital + ".json";
            // Llama al método para subir el archivo a Google Drive
            this.googleService.uploadFileWithFolderDetection(blob, fileName);
        }
    };
    BusinessControlService.prototype.deleteData = function () {
        localStorage.removeItem(this.storageKey);
    };
    // Define el formato internacional deseado
    BusinessControlService.prototype.formatoInternacional = function (date) {
        // Si date es una cadena, conviértelo a un objeto Date
        date = typeof date === 'string' ? new Date(date) : date;
        // Define el formato internacional deseado
        var _formatoInternacional = new Intl.DateTimeFormat('es-CO', {
            year: 'numeric',
            month: 'long',
            day: 'numeric'
        });
        return _formatoInternacional.format(date);
    };
    /**
     * Documentacion: https://tinyurl.com/app/dev
     * @param url url larga
     * @returns url corta
     */
    BusinessControlService.prototype.shortUrl = function (url, comprobante) {
        return __awaiter(this, void 0, void 0, function () {
            var body, response, error_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        body = {
                            alias: this._getAliasForShortUrl(comprobante),
                            description: "CP del periodo " + this.formatoInternacional(comprobante.periodo.inicio) + " al " + this.formatoInternacional(comprobante.periodo.fin),
                            domain: this._getDomainForShortUrl(),
                            url: url
                        };
                        return [4 /*yield*/, this._httpService.post('https://api.tinyurl.com/create', body, {
                                headers: {
                                    'Authorization': 'Bearer Vj3AWgQXdbqfUWmkCiGAYSlfvyHygfDpk7lYbxeu0ptFlMvETd0kgMzmsO8z'
                                }
                            }).toPromise()];
                    case 1:
                        response = _a.sent();
                        if (response.code == 0) {
                            return [2 /*return*/, response.data.tiny_url];
                        }
                        return [2 /*return*/, null];
                    case 2:
                        error_1 = _a.sent();
                        this.toastr.error("Error generando url corta: " + JSON.stringify(error_1), 'Business Control!');
                        return [2 /*return*/, null];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    BusinessControlService.prototype._getDomainForShortUrl = function () {
        return 'tinyurl.com';
    };
    BusinessControlService.prototype._getAliasForShortUrl = function (comprobante) {
        return "C" + comprobante.bien.contratoActivo.identificacion + "CP" + comprobante.id;
    };
    var BusinessControlService_1;
    BusinessControlService.isSync = false;
    BusinessControlService.TIPO_BIEN_CREDITO = 'Credito';
    BusinessControlService.TIPO_BIEN_ARRIENDO = 'Arrendamiento';
    BusinessControlService.CONCEPTO_ABONO_CAPITAL = 'Abono capital';
    BusinessControlService.CONCEPTO_INTERESES = 'Interéses';
    BusinessControlService.CONCEPTO_CAPITAL = 'Capital';
    BusinessControlService.CONCEPTO_TARIFA_FIJA = 'Tarifa fija';
    BusinessControlService.CONCEPTO_OTRO = 'Otro';
    BusinessControlService.CONCEPTO_MENSUALIDAD = 'Mensualidad';
    BusinessControlService.CONCEPTO_DEPOSITO = 'Depósito';
    BusinessControlService.CONCEPTO_DEPOSITO_50 = 'Depósito (50%)';
    BusinessControlService.ctorParameters = function () { return [
        { type: ngx_toastr__WEBPACK_IMPORTED_MODULE_4__["ToastrService"] },
        { type: _google_services_google_service__WEBPACK_IMPORTED_MODULE_3__["GoogleService"] },
        { type: _crypt_crypt_service__WEBPACK_IMPORTED_MODULE_1__["CryptService"] },
        { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"] }
    ]; };
    BusinessControlService = BusinessControlService_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [ngx_toastr__WEBPACK_IMPORTED_MODULE_4__["ToastrService"], _google_services_google_service__WEBPACK_IMPORTED_MODULE_3__["GoogleService"], _crypt_crypt_service__WEBPACK_IMPORTED_MODULE_1__["CryptService"], _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"]])
    ], BusinessControlService);
    return BusinessControlService;
}());



/***/ }),

/***/ "./src/app/services/credit/credit.service.ts":
/*!***************************************************!*\
  !*** ./src/app/services/credit/credit.service.ts ***!
  \***************************************************/
/*! exports provided: Amortizacion, CreditService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Amortizacion", function() { return Amortizacion; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CreditService", function() { return CreditService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var _business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../business-control/business-control.service */ "./src/app/services/business-control/business-control.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};


var Amortizacion = /** @class */ (function () {
    function Amortizacion() {
    }
    Object.defineProperty(Amortizacion.prototype, "total", {
        // Getter para obtener el total
        get: function () {
            return this.interes + this.tarifaFija + this.abonoCapital + this.abonoAdicionalCapital;
        },
        enumerable: true,
        configurable: true
    });
    return Amortizacion;
}());

var CreditService = /** @class */ (function () {
    function CreditService() {
    }
    CreditService.prototype.redondear = function (valor) {
        return Math.round(valor);
    };
    CreditService.prototype.sumarMeses = function (fecha, meses) {
        var nuevaFecha = new Date(fecha);
        nuevaFecha.setMonth(nuevaFecha.getMonth() + meses);
        return nuevaFecha;
    };
    CreditService.prototype.recalcularTablaAmortizacion = function (saldoInicial, tasaMensual, numCuotas, fechaInicio, // Nuevo parámetro para la fecha de inicio
    tarifaFija, soloInteres, abonosCapital) {
        if (tarifaFija === void 0) { tarifaFija = 0; }
        if (soloInteres === void 0) { soloInteres = {}; }
        if (abonosCapital === void 0) { abonosCapital = {}; }
        var _a, _b, _c, _d, _e, _f, _g, _h;
        var tablaAmortizacion = [];
        var cuotaFija;
        cuotaFija = this.calcularCuotaFija(tasaMensual, saldoInicial, numCuotas, tarifaFija);
        // Crear la tabla de amortización
        var saldo = saldoInicial;
        // Generar la tabla de amortización
        for (var index = 1; index <= numCuotas; index++) {
            var interes = 0;
            var abonoCapital = 0;
            var cuotaFijaTemp = cuotaFija;
            // Verificar si hay un abono adicional para este mes
            var comprobanteCapital = abonosCapital[index] || null;
            var comprobanteIntereses = soloInteres[index] || null;
            var abonoAdicionalCapital = (_b = (_a = comprobanteCapital) === null || _a === void 0 ? void 0 : _a.valorAbono, (_b !== null && _b !== void 0 ? _b : 0));
            var interesesComprobante = (_d = (_c = comprobanteIntereses) === null || _c === void 0 ? void 0 : _c.valorInteres, (_d !== null && _d !== void 0 ? _d : 0));
            var comprobante = (_h = (_f = (_e = comprobanteCapital) === null || _e === void 0 ? void 0 : _e.comprobante, (_f !== null && _f !== void 0 ? _f : (_g = comprobanteIntereses) === null || _g === void 0 ? void 0 : _g.comprobante)), (_h !== null && _h !== void 0 ? _h : null));
            if (tasaMensual === 0) {
                // Crédito sin interés
                abonoCapital = this.redondear(cuotaFija);
            }
            else {
                // Crédito con interés
                interes = this.redondear(saldo * tasaMensual); // Calcular interés redondeado
                abonoCapital = this.redondear(cuotaFija - interes); // Cuota menos interés y seguro
            }
            var cuotaSoloInteres = interesesComprobante > 0 && interes > 0;
            if (cuotaSoloInteres) {
                interes = interesesComprobante;
                abonoCapital = 0;
                cuotaFijaTemp = 0;
                cuotaFija = this.calcularCuotaFija(tasaMensual, saldo, numCuotas - index, tarifaFija);
            }
            // Verificar si estamos en la última cuota o Si el saldo es menor que la cuota fija antes de la última cuota, ajusta la cuota a igualar al saldo
            if (abonoCapital > saldo || index === numCuotas) {
                abonoCapital = saldo; // Ajusta abono capital al saldo restante
            }
            saldo = this.redondear(saldo - abonoCapital - abonoAdicionalCapital); // Actualizar el saldo restante
            var amortizacion = new Amortizacion();
            amortizacion.index = index;
            amortizacion.cuota = cuotaFijaTemp;
            amortizacion.interes = interes;
            amortizacion.tarifaFija = tarifaFija;
            amortizacion.abonoCapital = abonoCapital;
            amortizacion.saldoRestante = saldo;
            amortizacion.comprobante = comprobante;
            amortizacion.abonoAdicionalCapital = abonoAdicionalCapital;
            amortizacion.soloInteres = cuotaSoloInteres;
            // Asignar la fecha correspondiente sumando meses a la fecha de inicio
            amortizacion.fechaCuota = this.sumarMeses(fechaInicio, index - 1);
            // Agregar los valores a la tabla
            tablaAmortizacion.push(amortizacion);
            // Si el saldo se vuelve 0 antes del final, no es necesario continuar
            if (saldo <= 0) {
                break;
            }
        }
        return tablaAmortizacion;
    };
    CreditService.prototype.calcularAmortizacion = function (bien) {
        var _a, _b;
        var amortizaciones = this.recalcularTablaAmortizacion(bien.contratoActivo.valorCredito, bien.contratoActivo.tasaEM / 100, bien.contratoActivo.plazoMeses, bien.contratoActivo.inicio, bien.contratoActivo.tarifaFija);
        var totalIntereses = this.totalIntereses(amortizaciones);
        var abonosCapital = {};
        var soloIntereses = {};
        amortizaciones.forEach(function (am, i) {
            bien.comprobantes.forEach(function (com, j) {
                if (am.fechaCuota.toLocaleDateString('en-CA').replace(/-/g, '') == com.periodo.inicio.toLocaleDateString('en-CA').replace(/-/g, '')) {
                    var conceptoAbono = com.conceptos.find(function (t) { return t.descripcion == _business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"].CONCEPTO_ABONO_CAPITAL; });
                    if (conceptoAbono) {
                        abonosCapital[i + 1] = {
                            comprobante: com,
                            valorAbono: conceptoAbono.valor
                        };
                    }
                    var conceptoIntereses = com.conceptos.find(function (t) { return t.descripcion == _business_control_business_control_service__WEBPACK_IMPORTED_MODULE_1__["BusinessControlService"].CONCEPTO_INTERESES; });
                    if (conceptoIntereses && com.conceptos.length == 1) {
                        soloIntereses[i + 1] = {
                            comprobante: com,
                            valorInteres: conceptoIntereses.valor
                        };
                    }
                }
            });
        });
        amortizaciones = this.recalcularTablaAmortizacion(bien.contratoActivo.valorCredito, bien.contratoActivo.tasaEM / 100, bien.contratoActivo.plazoMeses, bien.contratoActivo.inicio, bien.contratoActivo.tarifaFija, soloIntereses, abonosCapital);
        var ahorroIntereses = 0;
        if (amortizaciones.length < bien.contratoActivo.plazoMeses) {
            ahorroIntereses = this.totalIntereses(amortizaciones);
            ahorroIntereses = totalIntereses - ahorroIntereses;
        }
        return {
            amortizaciones: amortizaciones,
            ahorroIntereses: ahorroIntereses,
            plazoReducido: ((_b = (_a = bien) === null || _a === void 0 ? void 0 : _a.contratoActivo) === null || _b === void 0 ? void 0 : _b.plazoMeses) - amortizaciones.length
        };
    };
    CreditService.prototype.totalIntereses = function (amortizaciones) {
        var ahorroIntereses = 0;
        amortizaciones.forEach(function (t) {
            ahorroIntereses += t.interes;
        });
        return ahorroIntereses;
    };
    CreditService.prototype.calcularCuotaFija = function (tasaMensual, saldoInicial, numCuotas, tarifaFija) {
        var cuotaFija;
        if (tasaMensual === 0) {
            // Crédito sin interés
            cuotaFija = this.redondear(saldoInicial / numCuotas) + tarifaFija;
        }
        else {
            // Crédito con interés
            var cuotaMensualSinSeguro = this.redondear((saldoInicial * tasaMensual) / (1 - Math.pow(1 + tasaMensual, -numCuotas)));
            cuotaFija = this.redondear(cuotaMensualSinSeguro);
        }
        return cuotaFija;
    };
    CreditService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [])
    ], CreditService);
    return CreditService;
}());



/***/ }),

/***/ "./src/app/services/crypt/crypt.service.ts":
/*!*************************************************!*\
  !*** ./src/app/services/crypt/crypt.service.ts ***!
  \*************************************************/
/*! exports provided: CryptService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CryptService", function() { return CryptService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var crypto_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! crypto-js */ "./node_modules/crypto-js/index.js");
/* harmony import */ var crypto_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(crypto_js__WEBPACK_IMPORTED_MODULE_1__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};


var CryptService = /** @class */ (function () {
    function CryptService() {
        this.secretKey = "PedroPerez#JuanaLaLoca#Malparido#SiEncuentrasEsto";
    }
    // Método para cifrar un texto
    CryptService.prototype.encrypt = function (text) {
        return crypto_js__WEBPACK_IMPORTED_MODULE_1__["AES"].encrypt(text, this.secretKey).toString();
    };
    // Método para descifrar un texto
    CryptService.prototype.decrypt = function (cipherText) {
        var bytes = crypto_js__WEBPACK_IMPORTED_MODULE_1__["AES"].decrypt(cipherText, this.secretKey);
        return bytes.toString(crypto_js__WEBPACK_IMPORTED_MODULE_1__["enc"].Utf8);
    };
    CryptService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [])
    ], CryptService);
    return CryptService;
}());



/***/ }),

/***/ "./src/app/services/google-services/google.service.ts":
/*!************************************************************!*\
  !*** ./src/app/services/google-services/google.service.ts ***!
  \************************************************************/
/*! exports provided: GoogleService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GoogleService", function() { return GoogleService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var gapi_script__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! gapi-script */ "./node_modules/gapi-script/index.js");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/__ivy_ngcc__/fesm5/ngx-toastr.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _utils_transaction_operation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/transaction-operation */ "./src/app/services/utils/transaction-operation.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};





var GoogleService = /** @class */ (function () {
    function GoogleService(toastr) {
        this.toastr = toastr;
        this.CLIENT_ID = '746365364970-d423bo7481d242h1hrbs31p2q3tbsusd.apps.googleusercontent.com';
        this.API_KEY = 'TU_API_KEY'; // Opcional si solo usas OAuth
        this.SCOPES = "https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/gmail.readonly";
        this.DISCOVERY_DOCS = [
            "https://www.googleapis.com/discovery/v1/apis/drive/v3/rest",
            "https://www.googleapis.com/discovery/v1/apis/gmail/v1/rest"
        ];
        this.countGetConfig = 0;
        this.countGetSettingData = 0;
        this.gapiLoaded$ = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"](false);
        this.loadGapiClient();
    }
    GoogleService_1 = GoogleService;
    Object.defineProperty(GoogleService.prototype, "FOLDER_NAME", {
        get: function () {
            if (window.location.hostname == 'localhost')
                return 'business-control-test';
            return 'business-control';
        },
        enumerable: true,
        configurable: true
    });
    ;
    Object.defineProperty(GoogleService.prototype, "FOLDER_NAME_ACCOUNT_CONTROL", {
        get: function () {
            if (window.location.hostname == 'localhost')
                return 'account-control-test';
            return 'account-control';
        },
        enumerable: true,
        configurable: true
    });
    ;
    GoogleService.prototype.signOut = function () {
        gapi_script__WEBPACK_IMPORTED_MODULE_1__["gapi"].auth2.getAuthInstance().signOut();
    };
    GoogleService.prototype.loadGapiClient = function () {
        var _this = this;
        try {
            return new Promise(function (resolve, reject) {
                gapi_script__WEBPACK_IMPORTED_MODULE_1__["gapi"].load('client:auth2', function () { return __awaiter(_this, void 0, void 0, function () {
                    var _this = this;
                    return __generator(this, function (_a) {
                        switch (_a.label) {
                            case 0: return [4 /*yield*/, gapi_script__WEBPACK_IMPORTED_MODULE_1__["gapi"].client.load('gmail', 'v1')];
                            case 1:
                                _a.sent();
                                gapi_script__WEBPACK_IMPORTED_MODULE_1__["gapi"].client.init({
                                    // apiKey: this.API_KEY,
                                    clientId: this.CLIENT_ID,
                                    discoveryDocs: this.DISCOVERY_DOCS,
                                    scope: this.SCOPES
                                }).then(function () {
                                    _this.gapiLoaded$.next(true);
                                    resolve();
                                }).catch(function (error) {
                                    _this.toastr.error("Error al inicializar Google Drive" + JSON.stringify(error), 'Business Control!');
                                    _this.gapiLoaded$.next(false);
                                    reject(error);
                                });
                                return [2 /*return*/];
                        }
                    });
                }); });
            });
        }
        catch (error) {
            this.toastr.error("Control de error al inicializar Google Drive: " + JSON.stringify(error), 'Business Control!');
        }
    };
    GoogleService.prototype.signIn = function () {
        return __awaiter(this, void 0, void 0, function () {
            var user, error_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 5, , 6]);
                        if (!!this.gapiLoaded$.getValue()) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.loadGapiClient()];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        if (!this.gapiLoaded$.getValue()) {
                            return [2 /*return*/, undefined];
                        }
                        return [4 /*yield*/, gapi_script__WEBPACK_IMPORTED_MODULE_1__["gapi"].auth2.getAuthInstance().signIn()];
                    case 3:
                        user = _a.sent();
                        return [4 /*yield*/, this.getConfigFromUser()];
                    case 4:
                        _a.sent();
                        return [2 /*return*/, {
                                data: this.config,
                                user: {
                                    email: user.getBasicProfile().getEmail(),
                                    username: user.getBasicProfile().getName(),
                                }
                            }];
                    case 5:
                        error_1 = _a.sent();
                        this.toastr.error("Control de error en login: " + JSON.stringify(error_1), 'Business Control!');
                        return [3 /*break*/, 6];
                    case 6: return [2 /*return*/];
                }
            });
        });
    };
    GoogleService.prototype.signInForAccountControl = function () {
        return __awaiter(this, void 0, void 0, function () {
            var user, error_2;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 5, , 6]);
                        if (!!this.gapiLoaded$.getValue()) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.loadGapiClient()];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        if (!this.gapiLoaded$.getValue()) {
                            return [2 /*return*/, undefined];
                        }
                        return [4 /*yield*/, gapi_script__WEBPACK_IMPORTED_MODULE_1__["gapi"].auth2.getAuthInstance().signIn()];
                    case 3:
                        user = _a.sent();
                        return [4 /*yield*/, this.getSettingDataFromUser()];
                    case 4:
                        _a.sent();
                        return [2 /*return*/, {
                                data: this.configData,
                                user: {
                                    email: user.getBasicProfile().getEmail(),
                                    username: user.getBasicProfile().getName(),
                                }
                            }];
                    case 5:
                        error_2 = _a.sent();
                        this.toastr.error("Control de error en login: " + JSON.stringify(error_2), 'Business Control!');
                        return [3 /*break*/, 6];
                    case 6: return [2 /*return*/];
                }
            });
        });
    };
    GoogleService.prototype.getConfigFromUser = function () {
        return __awaiter(this, void 0, void 0, function () {
            var data;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(!this.config && this.countGetConfig == 0)) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.downloadFirstJsonFileFromBusinessControlFolder(this.FOLDER_NAME)];
                    case 1:
                        data = _a.sent();
                        this.config = data ? JSON.parse(data) : undefined;
                        if (this.config) {
                            if (this.config.ultimaModificacion) {
                                this.config.ultimaModificacion = new Date(this.config.ultimaModificacion);
                            }
                        }
                        _a.label = 2;
                    case 2:
                        this.countGetConfig++;
                        return [2 /*return*/];
                }
            });
        });
    };
    GoogleService.prototype.getSettingDataFromUser = function () {
        return __awaiter(this, void 0, void 0, function () {
            var data;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        console.log('getSettingDataFromUser', this.countGetSettingData);
                        if (!(!this.configData && this.countGetSettingData == 0)) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.downloadFirstJsonFileFromBusinessControlFolder(this.FOLDER_NAME_ACCOUNT_CONTROL)];
                    case 1:
                        data = _a.sent();
                        this.configData = data ? JSON.parse(data) : undefined;
                        if (this.configData) {
                            if (this.configData.lastSync) {
                                this.configData.lastSync = new Date(this.configData.lastSync);
                            }
                        }
                        _a.label = 2;
                    case 2:
                        this.countGetSettingData++;
                        return [2 /*return*/];
                }
            });
        });
    };
    GoogleService.prototype.getUser = function () {
        return __awaiter(this, void 0, void 0, function () {
            var userGoogle;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!!this.gapiLoaded$.getValue()) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.loadGapiClient()];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        if (!this.gapiLoaded$.getValue()) return [3 /*break*/, 4];
                        userGoogle = gapi_script__WEBPACK_IMPORTED_MODULE_1__["gapi"].auth2.getAuthInstance().currentUser.get();
                        if (!userGoogle.isSignedIn()) return [3 /*break*/, 4];
                        return [4 /*yield*/, this.getConfigFromUser()];
                    case 3:
                        _a.sent();
                        return [2 /*return*/, {
                                data: this.config,
                                user: {
                                    email: userGoogle.getBasicProfile().getEmail(),
                                    username: userGoogle.getBasicProfile().getName(),
                                }
                            }];
                    case 4: return [2 /*return*/, undefined];
                }
            });
        });
    };
    GoogleService.prototype.getUserForAccountControl = function () {
        return __awaiter(this, void 0, void 0, function () {
            var userGoogle;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!!this.gapiLoaded$.getValue()) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.loadGapiClient()];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        if (!this.gapiLoaded$.getValue()) return [3 /*break*/, 4];
                        userGoogle = gapi_script__WEBPACK_IMPORTED_MODULE_1__["gapi"].auth2.getAuthInstance().currentUser.get();
                        if (!userGoogle.isSignedIn()) return [3 /*break*/, 4];
                        return [4 /*yield*/, this.getSettingDataFromUser()];
                    case 3:
                        _a.sent();
                        return [2 /*return*/, {
                                data: this.configData,
                                user: {
                                    email: userGoogle.getBasicProfile().getEmail(),
                                    username: userGoogle.getBasicProfile().getName(),
                                }
                            }];
                    case 4: return [2 /*return*/, undefined];
                }
            });
        });
    };
    GoogleService.prototype.isUserLogged = function () {
        return __awaiter(this, void 0, void 0, function () {
            var userGoogle;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!!this.gapiLoaded$.getValue()) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.loadGapiClient()];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        if (!this.gapiLoaded$.getValue()) {
                            return [2 /*return*/, false];
                        }
                        userGoogle = gapi_script__WEBPACK_IMPORTED_MODULE_1__["gapi"].auth2.getAuthInstance().currentUser.get();
                        return [2 /*return*/, userGoogle.isSignedIn()];
                }
            });
        });
    };
    GoogleService.prototype.uploadBlobToFolder = function (blob, fileName, folderId, accessToken) {
        var _this = this;
        var metadata = {
            'name': fileName,
            'mimeType': blob.type,
            'parents': [folderId] // Subir el archivo a la carpeta especificada
        };
        var formData = new FormData();
        formData.append('metadata', new Blob([JSON.stringify(metadata)], { type: 'application/json' }));
        formData.append('file', blob);
        return fetch('https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart', {
            method: 'POST',
            headers: {
                'Authorization': "Bearer " + accessToken
            },
            body: formData
        })
            .then(function (response) { return response.json(); })
            .then(function (data) {
            _this.toastr.success('Información creada exitosamente:' + JSON.stringify(data), 'Business Control!');
        })
            .catch(function (error) {
            _this.toastr.error('Error al subir el archivo:' + JSON.stringify(error), 'Business Control!');
        });
    };
    GoogleService.prototype.findFileInFolder = function (fileName, folderId, accessToken) {
        return fetch("https://www.googleapis.com/drive/v3/files?q='" + folderId + "' in parents and name='" + fileName + "' and trashed=false", {
            method: 'GET',
            headers: {
                'Authorization': "Bearer " + accessToken,
                'Accept': 'application/json'
            }
        })
            .then(function (response) { return response.json(); })
            .then(function (data) {
            var files = data.files;
            if (files && files.length > 0) {
                return files[0].id; // Retorna el ID del archivo si existe
            }
            return null; // Retorna null si no encuentra el archivo
        });
    };
    GoogleService.prototype.updateFile = function (fileId, blob, accessToken) {
        var _this = this;
        var metadata = {
            'mimeType': blob.type
        };
        var formData = new FormData();
        formData.append('metadata', new Blob([JSON.stringify(metadata)], { type: 'application/json' }));
        formData.append('file', blob);
        return fetch("https://www.googleapis.com/upload/drive/v3/files/" + fileId + "?uploadType=multipart", {
            method: 'PATCH',
            headers: {
                'Authorization': "Bearer " + accessToken
            },
            body: formData
        })
            .then(function (response) { return response.json(); })
            .then(function (data) {
            _this.toastr.success('Información actualizada exitosamente: ' + data.name, 'Business Control!');
        })
            .catch(function (error) {
            _this.toastr.error('Error al actualizar el archivo:' + JSON.stringify(error), 'Business Control!');
        });
    };
    GoogleService.prototype.uploadFileWithFolderDetection = function (blob, filename, isAccountControl) {
        if (isAccountControl === void 0) { isAccountControl = false; }
        return __awaiter(this, void 0, void 0, function () {
            var folderName, accessToken;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        folderName = !isAccountControl ? this.FOLDER_NAME : this.FOLDER_NAME_ACCOUNT_CONTROL;
                        accessToken = gapi_script__WEBPACK_IMPORTED_MODULE_1__["gapi"].auth2.getAuthInstance().currentUser.get().getAuthResponse().access_token;
                        return [4 /*yield*/, this.findFolderByName(folderName, accessToken)
                                .then(function (folderId) {
                                if (folderId) {
                                    // Verificamos si el archivo ya existe en la carpeta
                                    return _this.findFileInFolder(filename, folderId, accessToken)
                                        .then(function (fileId) {
                                        if (fileId) {
                                            // El archivo ya existe, lo actualizamos
                                            _this.toastr.info('Actualizando información...', 'Business Control!');
                                            return _this.updateFile(fileId, blob, accessToken);
                                        }
                                        else {
                                            // El archivo no existe, lo subimos
                                            _this.toastr.warning('Archivo no encontrado, subiendo nuevo archivo...', 'Business Control!');
                                            return _this.uploadBlobToFolder(blob, filename, folderId, accessToken);
                                        }
                                    });
                                }
                                else {
                                    // La carpeta no existe, la creamos
                                    _this.toastr.warning('Carpeta no encontrada, creando nueva carpeta...', 'Business Control!');
                                    return _this.createFolder(folderName, accessToken)
                                        .then(function (newFolderId) {
                                        _this.toastr.info('Nueva carpeta creada, ID:' + newFolderId, 'Business Control!');
                                        return _this.uploadBlobToFolder(blob, filename, newFolderId, accessToken);
                                    });
                                }
                            })
                                .catch(function (error) {
                                _this.toastr.error('Error al manejar el archivo:' + JSON.stringify(error), 'Business Control!');
                            })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    GoogleService.prototype.findFolderByName = function (folderName, accessToken) {
        return fetch("https://www.googleapis.com/drive/v3/files?q=mimeType='application/vnd.google-apps.folder' and name='" + folderName + "' and trashed=false", {
            method: 'GET',
            headers: {
                'Authorization': "Bearer " + accessToken,
                'Accept': 'application/json'
            }
        })
            .then(function (response) { return response.json(); })
            .then(function (data) {
            var files = data.files;
            if (files && files.length > 0) {
                return files[0].id; // Retorna el ID de la carpeta si existe
            }
            return null; // Retorna null si no encuentra la carpeta
        });
    };
    GoogleService.prototype.createFolder = function (folderName, accessToken) {
        var metadata = {
            'name': folderName,
            'mimeType': 'application/vnd.google-apps.folder'
        };
        return fetch('https://www.googleapis.com/drive/v3/files', {
            method: 'POST',
            headers: {
                'Authorization': "Bearer " + accessToken,
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(metadata)
        })
            .then(function (response) { return response.json(); })
            .then(function (data) { return data.id; }); // Retorna el ID de la carpeta creada
    };
    GoogleService.prototype.downloadFirstJsonFileFromBusinessControlFolder = function (folderName) {
        return __awaiter(this, void 0, void 0, function () {
            var accessToken, folderId, fileId, error_3;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        accessToken = gapi_script__WEBPACK_IMPORTED_MODULE_1__["gapi"].auth2.getAuthInstance().currentUser.get().getAuthResponse().access_token;
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 4, , 5]);
                        return [4 /*yield*/, this.findFolderByName(folderName, accessToken)];
                    case 2:
                        folderId = _a.sent();
                        if (!folderId) {
                            this.toastr.warning('Carpeta no encontrada', 'Business Control!');
                            return [2 /*return*/, null];
                        }
                        return [4 /*yield*/, this.findFirstJsonFileInFolder(folderId, accessToken)];
                    case 3:
                        fileId = _a.sent();
                        if (!fileId) {
                            this.toastr.warning('Archivo .json no encontrado en la carpeta', 'Business Control!');
                            return [2 /*return*/, null];
                        }
                        // Descargar el contenido del archivo
                        return [2 /*return*/, this.downloadFileContent(fileId, accessToken)];
                    case 4:
                        error_3 = _a.sent();
                        this.toastr.info('Error al descargar el archivo:' + JSON.stringify(error_3), 'Business Control!');
                        return [2 /*return*/, null];
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    GoogleService.prototype.findFirstJsonFileInFolder = function (folderId, accessToken) {
        return fetch("https://www.googleapis.com/drive/v3/files?q='" + folderId + "' in parents and trashed=false", {
            method: 'GET',
            headers: {
                'Authorization': "Bearer " + accessToken,
                'Accept': 'application/json'
            }
        })
            .then(function (response) { return response.json(); })
            .then(function (data) {
            var files = data.files;
            if (files && files.length > 0) {
                // Filtrar archivos con extensión .json
                var jsonFiles = files.filter(function (file) { return file.name.endsWith('.json'); });
                if (jsonFiles.length > 0) {
                    return jsonFiles[0].id; // Retorna el ID del primer archivo .json
                }
            }
            return null; // Retorna null si no encuentra ningún archivo .json
        });
    };
    GoogleService.prototype.downloadFileContent = function (fileId, accessToken) {
        return fetch("https://www.googleapis.com/drive/v3/files/" + fileId + "?alt=media", {
            method: 'GET',
            headers: {
                'Authorization': "Bearer " + accessToken
            }
        })
            .then(function (response) { return response.text(); }); // Retorna el contenido del archivo como string
    };
    // Obtener correos electrónicos nuevos a partir de una fecha dada y de varios remitentes
    GoogleService.prototype.getNewEmailsSince = function (date, senders) {
        if (senders === void 0) { senders = ['alertasynotificaciones@notificacionesbancolombia.com', 'alertasynotificaciones@bancolombia.com.co']; }
        return __awaiter(this, void 0, void 0, function () {
            var accessToken, rfc3339Date, gmail, promises, responses, emailIds, error_4;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        console.log("Consultando emails", date, senders);
                        accessToken = gapi_script__WEBPACK_IMPORTED_MODULE_1__["gapi"].auth2.getAuthInstance().currentUser.get().getAuthResponse().access_token;
                        rfc3339Date = date.toISOString();
                        gmail = gapi_script__WEBPACK_IMPORTED_MODULE_1__["gapi"].client['gmail'];
                        promises = senders.map(function (sender) {
                            var query = "from:" + sender + " after:" + Math.floor(new Date(rfc3339Date).getTime() / 1000);
                            return gmail.users.messages.list({
                                'userId': 'me',
                                'q': query,
                            });
                        });
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 6, , 7]);
                        return [4 /*yield*/, Promise.all(promises)];
                    case 2:
                        responses = _a.sent();
                        emailIds = responses.reduce(function (acc, response) {
                            var messages = response.result.messages || [];
                            return acc.concat(messages.map(function (message) { return message.id; }));
                        }, []);
                        if (!(emailIds.length > 0)) return [3 /*break*/, 4];
                        return [4 /*yield*/, this.fetchEmailDetails(emailIds)];
                    case 3: return [2 /*return*/, _a.sent()];
                    case 4:
                        this.toastr.info('No se encontraron correos electrónicos nuevos desde la fecha especificada.', 'Business Control!');
                        return [2 /*return*/, []];
                    case 5: return [3 /*break*/, 7];
                    case 6:
                        error_4 = _a.sent();
                        this.toastr.info('Error al consultar los correos electrónicos:' + JSON.stringify(error_4), 'Business Control!');
                        return [2 /*return*/, []];
                    case 7: return [2 /*return*/];
                }
            });
        });
    };
    // Obtener detalles de cada correo a partir de sus IDs
    GoogleService.prototype.fetchEmailDetails = function (emailIds) {
        return __awaiter(this, void 0, void 0, function () {
            var emails, gmail, _i, emailIds_1, emailId, email;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        emails = [];
                        gmail = gapi_script__WEBPACK_IMPORTED_MODULE_1__["gapi"].client['gmail'];
                        _i = 0, emailIds_1 = emailIds;
                        _a.label = 1;
                    case 1:
                        if (!(_i < emailIds_1.length)) return [3 /*break*/, 4];
                        emailId = emailIds_1[_i];
                        return [4 /*yield*/, gmail.users.messages.get({
                                'userId': 'me',
                                'id': emailId
                            })];
                    case 2:
                        email = _a.sent();
                        emails.push(email.result);
                        _a.label = 3;
                    case 3:
                        _i++;
                        return [3 /*break*/, 1];
                    case 4: return [2 /*return*/, emails];
                }
            });
        });
    };
    // Procesar correos electrónicos para extraer transacciones
    GoogleService.prototype.processEmailsForTransactions = function (emails) {
        var _this = this;
        var transactions = [];
        var helper = new _utils_transaction_operation__WEBPACK_IMPORTED_MODULE_4__["TransactionOperation"]();
        emails.forEach(function (email) {
            var body = _this.getEmailBody(email);
            var idEmail = _this.getIdEmail(email);
            // Buscar patrones para detectar compras, transferencias e ingresos
            var transaction = helper.getTransaction(body, idEmail);
            transactions.push(transaction);
        });
        return transactions;
    };
    GoogleService.prototype.getIdEmail = function (email) {
        return email.id;
    };
    // Obtener el cuerpo del correo electrónico
    GoogleService.prototype.getEmailBody = function (email) {
        return email.snippet;
        // const bodyData = email.payload.parts.filter((part: any) => part.mimeType === 'text/html' || part.mimeType === 'text/plain')[0].body.data;
        // return atob(bodyData.replace(/-/g, '+').replace(/_/g, '/'));
    };
    GoogleService.prototype.getTransactionsSince = function (date) {
        return __awaiter(this, void 0, void 0, function () {
            var emails, transactions, error_5;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        console.log("getTransactionsSince", date);
                        if (!GoogleService_1.isGettingEmail)
                            GoogleService_1.gettingEmailPromise = this.getNewEmailsSince(date);
                        ;
                        GoogleService_1.isGettingEmail = true;
                        return [4 /*yield*/, GoogleService_1.gettingEmailPromise];
                    case 1:
                        emails = _a.sent();
                        GoogleService_1.isGettingEmail = false;
                        if (emails.length === 0) {
                            return [2 /*return*/, []];
                        }
                        transactions = this.processEmailsForTransactions(emails);
                        return [2 /*return*/, transactions];
                    case 2:
                        error_5 = _a.sent();
                        console.error(error_5);
                        this.toastr.error('Error al obtener transacciones: ' + JSON.stringify(error_5), 'Business Control!');
                        return [2 /*return*/, []];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    var GoogleService_1;
    GoogleService.isGettingEmail = false;
    GoogleService.gettingEmailPromise = null;
    GoogleService.ctorParameters = function () { return [
        { type: ngx_toastr__WEBPACK_IMPORTED_MODULE_2__["ToastrService"] }
    ]; };
    GoogleService = GoogleService_1 = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [ngx_toastr__WEBPACK_IMPORTED_MODULE_2__["ToastrService"]])
    ], GoogleService);
    return GoogleService;
}());



/***/ }),

/***/ "./src/app/services/load-data/load-data.service.ts":
/*!*********************************************************!*\
  !*** ./src/app/services/load-data/load-data.service.ts ***!
  \*********************************************************/
/*! exports provided: LoadDataService, HelperSummaryService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoadDataService", function() { return LoadDataService; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HelperSummaryService", function() { return HelperSummaryService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/__ivy_ngcc__/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};



var LoadDataService = /** @class */ (function () {
    function LoadDataService(_httpService) {
        this._httpService = _httpService;
    }
    LoadDataService.prototype.GetData = function () {
        var _this = this;
        var observableResponse = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"](function (observer) {
            if (!HelperSummaryService.Summary) {
                _this._httpService.get('./config/data.json').subscribe(function (datos) {
                    HelperSummaryService.Summary = datos;
                    observer.next(HelperSummaryService.Summary);
                });
            }
            else {
                observer.next(HelperSummaryService.Summary);
            }
        });
        return observableResponse;
    };
    LoadDataService.ctorParameters = function () { return [
        { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"] }
    ]; };
    LoadDataService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], LoadDataService);
    return LoadDataService;
}());

var HelperSummaryService = /** @class */ (function () {
    function HelperSummaryService() {
    }
    return HelperSummaryService;
}());



/***/ }),

/***/ "./src/app/services/pdf/pdf.service.ts":
/*!*********************************************!*\
  !*** ./src/app/services/pdf/pdf.service.ts ***!
  \*********************************************/
/*! exports provided: PdfService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PdfService", function() { return PdfService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var html2pdf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! html2pdf.js */ "./node_modules/html2pdf.js/dist/html2pdf.js");
/* harmony import */ var html2pdf_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(html2pdf_js__WEBPACK_IMPORTED_MODULE_1__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};


var PdfService = /** @class */ (function () {
    function PdfService() {
        this.options = {
            filename: '',
            image: { type: 'png', quality: 0.98 },
            html2canvas: { scale: 4 },
            jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait', compress: true },
            margin: 10 // margen de 10mm alrededor
        };
    }
    PdfService.prototype.generatePDF = function (namefile, content) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.options.filename = namefile + '.pdf';
                        return [4 /*yield*/, html2pdf_js__WEBPACK_IMPORTED_MODULE_1___default()().from(content).set(this.options).save()];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    PdfService.prototype.getPdfInBlob = function (namefile, content) {
        this.options.filename = namefile + '.pdf';
        return html2pdf_js__WEBPACK_IMPORTED_MODULE_1___default()().from(content).set(this.options).outputPdf('blob');
    };
    PdfService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [])
    ], PdfService);
    return PdfService;
}());



/***/ }),

/***/ "./src/app/services/qr-code/qr-code.service.ts":
/*!*****************************************************!*\
  !*** ./src/app/services/qr-code/qr-code.service.ts ***!
  \*****************************************************/
/*! exports provided: QrCodeService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QrCodeService", function() { return QrCodeService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var qrcode__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! qrcode */ "./node_modules/qrcode/lib/browser.js");
/* harmony import */ var qrcode__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(qrcode__WEBPACK_IMPORTED_MODULE_1__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};


var QrCodeService = /** @class */ (function () {
    function QrCodeService() {
    }
    // Método para generar un código QR en formato de Data URL
    QrCodeService.prototype.generateQRCode = function (text) {
        return qrcode__WEBPACK_IMPORTED_MODULE_1__["toDataURL"](text, {
            errorCorrectionLevel: 'H',
            type: 'image/png',
            width: 400,
            margin: 2 // Margen alrededor del código QR
        });
    };
    // Método para generar un código QR en formato de imagen SVG
    QrCodeService.prototype.generateQRCodeSVG = function (text) {
        return qrcode__WEBPACK_IMPORTED_MODULE_1__["toString"](text, {
            type: 'svg',
            errorCorrectionLevel: 'H'
        });
    };
    QrCodeService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [])
    ], QrCodeService);
    return QrCodeService;
}());



/***/ }),

/***/ "./src/app/services/summary-resume/summary-resume.service.ts":
/*!*******************************************************************!*\
  !*** ./src/app/services/summary-resume/summary-resume.service.ts ***!
  \*******************************************************************/
/*! exports provided: SummaryResumeService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SummaryResumeService", function() { return SummaryResumeService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var _load_data_load_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../load-data/load-data.service */ "./src/app/services/load-data/load-data.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};


var SummaryResumeService = /** @class */ (function () {
    function SummaryResumeService(_dataService) {
        this._dataService = _dataService;
    }
    SummaryResumeService.prototype.GetProfile = function () {
        return this._dataService.GetData();
    };
    SummaryResumeService.ctorParameters = function () { return [
        { type: _load_data_load_data_service__WEBPACK_IMPORTED_MODULE_1__["LoadDataService"] }
    ]; };
    SummaryResumeService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_load_data_load_data_service__WEBPACK_IMPORTED_MODULE_1__["LoadDataService"]])
    ], SummaryResumeService);
    return SummaryResumeService;
}());



/***/ }),

/***/ "./src/app/services/utils/common.ts":
/*!******************************************!*\
  !*** ./src/app/services/utils/common.ts ***!
  \******************************************/
/*! exports provided: isMobileResolution, formatCurrencyAnibal, formatDateSimpleAnibal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isMobileResolution", function() { return isMobileResolution; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formatCurrencyAnibal", function() { return formatCurrencyAnibal; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formatDateSimpleAnibal", function() { return formatDateSimpleAnibal; });
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
function isMobileResolution() {
    var anchoVentana = window.innerWidth;
    var anchoMaximoMobile = 768; // Puedes ajustar este valor según lo necesites
    return anchoVentana <= anchoMaximoMobile;
}
// Formatear números como moneda
function formatCurrencyAnibal(value) {
    return new Intl.NumberFormat('en-US', {
        style: 'currency',
        currency: 'USD',
        minimumFractionDigits: 2,
        maximumFractionDigits: 2
    }).format(value);
}
function formatDateSimpleAnibal(transactionDate) {
    var date = new Date(transactionDate);
    var year = date.getFullYear();
    var month = String(date.getMonth() + 1).padStart(2, '0'); // getMonth() devuelve el mes (0-11), por eso sumamos 1
    var day = String(date.getDate()).padStart(2, '0');
    return year + "-" + month + "-" + day;
}


/***/ }),

/***/ "./src/app/services/utils/transaction-operation.ts":
/*!*********************************************************!*\
  !*** ./src/app/services/utils/transaction-operation.ts ***!
  \*********************************************************/
/*! exports provided: TransactionOperation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TransactionOperation", function() { return TransactionOperation; });
/* harmony import */ var src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/entities/account-control */ "./src/app/entities/account-control.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};

var TransactionOperation = /** @class */ (function () {
    function TransactionOperation() {
    }
    TransactionOperation.prototype.getTransaction = function (body, id) {
        if (!id) {
            id = this.generateUniqueId();
        }
        var purchasePattern = /[Cc]ompraste\s+COP([\d,.]+)\s+en\s+([\w\s*]+)\s+con\s+tu\s+T\.Cred\s+\*{1,2}([\d]{4}),\s+el\s+(([\d/]+)\s+a\s+las\s+([\d:]+)|([\d:]+)\s+a\s+las\s+([\d/]+))/i;
        var purchasePatternSimple = /[Cc]ompra\s+por\s+COP([\d,.]+)\s+en\s+([\w\s*]+)\s+(\d{2}:\d{2})\.\s+([\d/]+)\s+T\.Cred\s+\*([\d]{4})/i;
        var purchasePatternSimpl2 = /[Cc]ompra\s+por\s+\$([\d,.]+)\s+en\s+([\w\s*]+)\s+(\d{2}:\d{2})\.\s+([\d/]+)\s+T\.Cred\s+\*([\d]{4})/i;
        var transferPattern = /[Tt]ransferiste\s+\$([\d,.]+)\s+desde\s+tu\s+cuenta\s+\*(\d+)\s+a\s+la\s+cuenta\s+(\*\d+)\s+el\s+([\d/]+)\s+a\s+las\s+([\d:]+)/i;
        var transferPatter2 = /[Tt]ransferiste\s+\$([\d,.]+)\s+de\s+tu\s+cuenta\s+\*\*(\d+)\s+la\s+cuenta\s+\*(\d+),\s+el\s+([\d\/]+)\s+([\d:]+)/i;
        var transferPatter3 = /[Tt]ransferencia\s+por\s+\$([\d,.]+)\s+desde\s+cta\s+\*(\d+)\s+a\s+cta\s+(\d+)\.\s+([\d\/]+)\s+(\d{2}:\d{2})/i;
        var updatedPurchasePattern = /[Cc]ompraste\s+COP([\d.,]+)\s+en\s+([\w\s\/\.]+)\s+con\s+tu\s+T\.Cred\s+\*{1,2}([\d]{4}),\s+el\s+([\d\/]+)\s+a\s+las\s+([\d:]+)/i;
        var updatedPurchasePatter2 = /[Cc]ompraste\s+COP([\d.,]+)\s+en\s+([^\s,]+(?:\s[^\s,]+)*),\s+el\s+([\d:]+)\s+a\s+las\s+([\d\/]+)\.\s+Esta\s+compra\s+esta\s+asociada\s+a\s+T\.Cred\s+\*([\d]{4})\./i;
        var purchaseNotificationPattern = /[Cc]ompraste\s+\$([\d.,]+)\s+en\s+([^\s,]+(?:\s[^\s,]+)*)\s+con\s+tu\s+T\.Deb\s+\*([\d]{4}),\s+el\s+([\d\/]+)\s+a\s+las\s+([\d:]+)/i;
        var transferNotificationPattern = /[Tt]ransferiste\s+\$([\d.,]+)\s+por\s+([\w\s]+)\s+a\s+([\w\s]+)\s+desde\s+producto\s+\*([\d]{4})\.\s+([\d\/]+)\s+([\d:]+)/i;
        var providerPaymentPattern = /[Pp]ago\s+[Pp]ROVEEDOR\s+de\s+([\w\s]+)\s+por\s+\$([\d,.]+)\s+en\s+su\s+[Cc]uenta\s+[Aa]horros.\s+(\d{2}:\d{2})\s+([\d\/]+)/i;
        var bancolombiaCreditCardPaymentPattern = /[Bb]ancolombia le informa que\s+([\w\s]+)\s+realizo\s+abono\s+a\s+su\s+T\.Cred\*(\d{4})\s+por\s+\$([\d,.]+)\.\s+([\d/]+)\s+(\d{2}:\d{2})/i;
        var paymentReceivedPattern = /[Rr]ecepcion de pago de ([\w\s]+) por \$([\d,.]+) en su cuenta AHORROS (\d{2}:\d{2}) ([\d\/]+)/i;
        var receivedPaymentPattern = /[Rr]ecibiste\s+un\s+pago\s+por\s+\$([\d.,]+)\s+de\s+([\w\s]+)\s+a\s+tu\s+cuenta\s+([A-Z]+),\s+el\s+([\d:]+)\s+a\s+las\s+([\d\/]+)/i;
        var qrTransferPattern = /[Rr]ealizaste\s+una\s+transferencia\s+con\s+QR\s+por\s+\$([\d,.]+),\s+desde\s+cta\s+(\d+)\s+a\s+cta\s+([\w\s]+)\.\s+([\d\/]+)\s+(\d{2}:\d{2})/i;
        var qrTransferPatter2 = /[Tt]ransferiste\s+\$([\d.,]+)\s+por\s+QR\s+desde\s+tu\s+cuenta\s+(\d+)\s+a\s+la\s+cuenta\s+(\d+),\s+el\s+([\d\/]+)\s+([\d:]+)\./i;
        var receivedTransferPattern = /[Rr]ecepcion\s+transferencia\s+de\s+([\w\sÑñÁÉÍÓÚáéíóú]+)\s+por\s+\$([\d,.]+)\s+en\s+la\s+cuenta\s+(\*\d+)\.\s*(\d{2}\/\d{2}\/\d{4})\s+(\d{2}:\d{2})/i;
        var receivedTransferPatter2 = /[Rr]ecibiste\s+una\s+transferencia\s+por\s+\$([\d.,]+)\s+de\s+([\w\s]+)\s+en\s+tu\s+cuenta\s+\*\*([\d]{4}),\s+el\s+([\d\/]+)\s+a\s+las\s+([\d:]+)/i;
        var receivedProviderPaymentPattern = /[Rr]ecibiste\s+un\s+pago\s+([A-Z]+)\s+de\s+([\w\s]+)\s+por\s+\$([\d.,]+)\s+en\s+tu\s+cuenta\s+de\s+([A-Z]+)\s+el\s+([\d\/]+)\s+a\s+las\s+([\d:]+)/i;
        var incomePattern = /[Pp]ago\s+de\s+Nomina\s+de\s+([\w\s]+)\s+por\s+\$([\d,.]+)\s+en\s+su\s+Cuenta\s+Ahorros.\s+([\d:]+)\s+([\d/]+)/i;
        var receivedPayrollPattern = /[Pp]ago de [Nn]omina de ([\w\s]+) por \$([\d,.]+) en tu cuenta \*([\w]+) el (\d{2}:\d{2}) a las ([\d\/]+)/i;
        var receivedPayrollPatter2 = /[Pp]ago de [Nn]omina de ([\w\s]+) por \$([\d,.]+) en tu cuenta(?: de)? Ahorros el ([\d/]+) a las (\d{2}:?)/i;
        var withdrawalPattern = /[Rr]etiraste\s+\$([\d,.]+)\s+en\s+([\w\s*]+)\s+de\s+tu\s+T\.Deb\s+\*\*([\d]{4})\s+el\s+([\d/]+)\s+a\s+las\s+([\d:]+)/i;
        var retiroPattern = /[Rr]etiro\s+por\s+\$([\d,.]+)\s+en\s+([\w_]+)\.\s+Hora\s+(\d{2}:\d{2})\s+([\d\/]+)\s+T\.Deb\s+\*(\d{4})/i;
        var paymentPattern = /[Pp]agaste\s+\$([\d,.]+)\s+a\s+([\w\s]+)\s+desde\s+tu\s+producto\s+(\*\d+)\s+el\s+([\d\/]+)\s+(\d{2}:\d{2})/i;
        var paymentPatter2 = /[Pp]agaste \$([\d,.]+) a ([\w\s]+) desde tu producto (\d+) el ([\d/]+) (\d{2}:\d{2}:\d{2})/i;
        var affiliatePurchasePattern = /[Cc]ompra por COP([\d,.]+)\s+en\s+([\w\/.]+)\s+(\d{2}:\d{2})\.\s+([\d\/]+)\s+compra\s+afiliada\s+a\s+T\.Cred\s+\*([\d]{4})/i;
        var affiliatePurchasePatter2 = /[Cc]ompra\s+por\s+\$([\d,.]+)\s+en\s+([\w\/.]+)\s+(\d{2}:\d{2})\.\s+([\d\/]+)\s+compra\s+afiliada\s+a\s+T\.Cred\s+\*(\d{4})/i;
        var affiliatePurchasePatter3 = /[Cc]ompra\s+por\s+COP([\d,.]+)\s+en\s+([\w\s*]+)\s+(\d{2}:\d{2})\.\s+([\d/]+)\s+compra\s+afiliada\s+a\s+T\.Cred\s+\*([\d]{4})/i;
        var notificationPattern = /[Rr]ecibiras \$(\d{1,3}(?:\.\d{3})*,\d{2}) en (\d+) dias habiles en tu Tarjeta Credito \*\*(\d{4}) por parte de ([\w\s]+?)\. (\d{2}):(\d{2}) (\d{2})\/(\d{2})\/(\d{4})/;
        var paymentCreditCardPattern = /[Nn]otificación [Tt]ransaccional.*Pago\s+de\s+Tarjeta\s+de\s+Credito\s+por\s+\$([\d,.]+)\s+desde\s+cta\s+\*(\d+)\s+a\s+la\s+tarjeta\s+\*(\d+).\s+([\d/]+)\s+(\d{2}:\d{2})/i;
        var creditCardPaymentPattern = /[Pp]agaste\s+\$([\d.,]+)\s+en\s+la\s+tarjeta\s+de\s+credito\s+\*([\d]{4})\s+desde\s+la\s+cuenta\s+\*(\d+),\s+el\s+([\d\/]+)\s+([\d:]+)\./i;
        var withdrawalNotificationPattern = /[Rr]etiro\s+en\s+[Cc]orresponsal\s+([\w\s]+)\s+en\s+([\w\s]+)\s+por\s+\$([\d.,]+)\s+el\s+([\d\/]+)\s+a\s+las\s+([\d:]+)/i;
        var cardDepositPattern = /([A-Z\s]+)\s+hizo\s+un\s+abono\s+por\s+\$([\d.,]+)\s+a\s+tu\s+tarjeta\s+de\s+credito\s+terminada\s+en\s+\*\*(\d{4}),\s+el\s+([\d\/]+)\s+([\d:]+)/i;
        // Patrón para las notificaciones de compras de Bancolombia
        var type = 'expense';
        var accountId = '';
        var amount = 0;
        var date = new Date();
        var description = '';
        var categoryId = '';
        var targetAccountId = '';
        if (purchasePattern.test(body)) {
            type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_EXPENSE;
            var matches = body.match(purchasePattern);
            if (matches) {
                amount = this.parseAmount(matches[1]);
                description = "Compra en " + matches[2];
                accountId = "*" + matches[3];
                if (!matches[5]) {
                    date = this.parseDateTime(matches[8], matches[7]);
                }
                else {
                    date = this.parseDateTime(matches[5], matches[6]);
                }
            }
        }
        else if (purchaseNotificationPattern.test(body)) {
            type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_EXPENSE;
            var matches = body.match(purchaseNotificationPattern);
            if (matches) {
                amount = this.parseAmount(matches[1]);
                description = "Compra en " + matches[2];
                accountId = "*" + matches[3];
                date = this.parseDateTime(matches[4], matches[5]);
            }
        }
        else if (purchasePatternSimple.test(body)) {
            var matches = body.match(purchasePatternSimple);
            if (matches) {
                type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_EXPENSE;
                amount = this.parseAmount(matches[1]);
                description = "Compra en " + matches[2];
                date = this.parseDateTime(matches[4], matches[3]);
                accountId = "*" + matches[5];
            }
        }
        else if (purchasePatternSimpl2.test(body)) {
            var matches = body.match(purchasePatternSimpl2);
            if (matches) {
                type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_EXPENSE;
                amount = this.parseAmount(matches[1]);
                description = "Compra en " + matches[2];
                date = this.parseDateTime(matches[4], matches[3]);
                accountId = "*" + matches[5];
            }
        }
        else if (transferPattern.test(body)) {
            type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_EXPENSE;
            var matches = body.match(transferPattern);
            if (matches) {
                amount = this.parseAmount(matches[1], 1);
                accountId = "*" + matches[2];
                targetAccountId = matches[3];
                description = "Transferencia a la cuenta " + targetAccountId;
                date = this.parseDateTime(matches[4], matches[5]);
            }
        }
        else if (transferPatter2.test(body)) {
            type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_EXPENSE;
            var matches = body.match(transferPatter2);
            if (matches) {
                amount = this.parseAmount(matches[1], 1);
                accountId = "*" + matches[2];
                targetAccountId = matches[3];
                description = "Transferencia a la cuenta " + targetAccountId;
                date = this.parseDateTime(matches[4], matches[5]);
            }
        }
        else if (qrTransferPattern.test(body)) {
            type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_EXPENSE;
            var matches = body.match(qrTransferPattern);
            if (matches) {
                amount = this.parseAmount(matches[1]);
                accountId = "*" + matches[2];
                targetAccountId = matches[3];
                description = "Transferencia con QR a la cuenta " + targetAccountId;
                date = this.parseDateTime(matches[4], matches[5]);
            }
        }
        else if (qrTransferPatter2.test(body)) {
            type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_EXPENSE;
            var matches = body.match(qrTransferPatter2);
            if (matches) {
                amount = this.parseAmount(matches[1]);
                accountId = "*" + matches[2];
                targetAccountId = matches[3];
                description = "Transferencia con QR a la cuenta " + targetAccountId;
                date = this.parseDateTime(matches[4], matches[5]);
            }
        }
        else if (receivedTransferPattern.test(body)) {
            type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_INCOME;
            var matches = body.match(receivedTransferPattern);
            if (matches) {
                description = "Transferencia de " + matches[1].trim();
                amount = this.parseAmount(matches[2], 1);
                accountId = matches[3];
                date = this.parseDateTime(matches[4], matches[5]);
            }
        }
        else if (receivedTransferPatter2.test(body)) {
            var matches = body.match(receivedTransferPatter2);
            type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_INCOME;
            if (matches) {
                var amountValue = matches[1]; // Monto recibido
                var sender = matches[2]; // Nombre del remitente
                var account = matches[3]; // Últimos 4 dígitos de la cuenta
                var dateValue = matches[4]; // Fecha de la transferencia
                var time = matches[5]; // Hora de la transferencia
                accountId = account;
                description = "Transferencia recibida de " + sender + " a tu cuenta *" + account;
                amount = this.parseAmount(amountValue);
                date = this.parseDateTime(dateValue, time);
            }
        }
        else if (incomePattern.test(body)) {
            type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_INCOME;
            var matches = body.match(incomePattern);
            if (matches) {
                description = "Pago de n\u00F3mina de " + matches[1];
                amount = this.parseAmount(matches[2]);
                date = this.parseDateTime(matches[4], matches[3]);
            }
        }
        else if (receivedPayrollPattern.test(body)) {
            type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_INCOME;
            var matches = body.match(receivedPayrollPattern);
            if (matches) {
                description = "Pago de n\u00F3mina de " + matches[1];
                amount = this.parseAmount(matches[2]);
                date = this.parseDateTime(matches[5], matches[4]);
            }
        }
        else if (receivedPayrollPatter2.test(body)) {
            type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_INCOME;
            var matches = body.match(receivedPayrollPatter2);
            if (matches) {
                var name_1 = matches[1]; // Nombre del remitente
                var amountValue = matches[2]; // Monto de la transacción
                var dateValue = matches[3]; // Fecha de la transacción
                var time = matches[4]; // Hora de la transacción
                description = "Pago de n\u00F3mina de " + name_1;
                amount = this.parseAmount(amountValue);
                date = this.parseDateTime(dateValue, time);
            }
        }
        else if (withdrawalPattern.test(body)) {
            type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_EXPENSE;
            var matches = body.match(withdrawalPattern);
            if (matches) {
                amount = this.parseAmount(matches[1]);
                description = "Retiraste en " + matches[2];
                accountId = "*" + matches[3];
                date = this.parseDateTime(matches[4], matches[5]);
                targetAccountId = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].ACCOUNT_BILLETERA;
            }
        }
        else if (paymentPattern.test(body)) {
            type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_EXPENSE;
            var matches = body.match(paymentPattern);
            if (matches) {
                amount = this.parseAmount(matches[1]);
                description = "Pago a " + matches[2];
                accountId = matches[3];
                date = this.parseDateTime(matches[4], matches[5]);
            }
        }
        else if (paymentPatter2.test(body)) {
            type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_EXPENSE;
            var matches = body.match(paymentPatter2);
            if (matches) {
                amount = this.parseAmount(matches[1]);
                description = "Pago a " + matches[2];
                accountId = matches[3];
                date = this.parseDateTime(matches[4], matches[5]);
            }
        }
        else if (affiliatePurchasePattern.test(body)) {
            type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_EXPENSE;
            var matches = body.match(affiliatePurchasePattern);
            if (matches) {
                amount = this.parseAmount(matches[1]);
                description = "Compra en " + matches[2];
                accountId = "*" + matches[5];
                date = this.parseDateTime(matches[4], matches[3]);
            }
        }
        else if (affiliatePurchasePatter2.test(body)) {
            type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_EXPENSE;
            var matches = body.match(affiliatePurchasePatter2);
            if (matches) {
                amount = this.parseAmount(matches[1]);
                description = "Compra en " + matches[2];
                accountId = "*" + matches[5];
                date = this.parseDateTime(matches[4], matches[3]);
            }
        }
        else if (affiliatePurchasePatter3.test(body)) {
            var matches = body.match(affiliatePurchasePatter3);
            if (matches) {
                type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_EXPENSE;
                amount = this.parseAmount(matches[1]);
                description = "Compra en " + matches[2];
                date = this.parseDateTime(matches[4], matches[3]);
                accountId = "*" + matches[5];
            }
        }
        else if (notificationPattern.test(body)) {
            type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_INCOME;
            var matches = body.match(notificationPattern);
            if (matches) {
                amount = this.parseAmount(matches[1]);
                accountId = "*" + matches[3];
                description = "Recibir\u00E1s en tu Tarjeta de Cr\u00E9dito por parte de " + matches[4].trim();
                date = this.parseDateTime(matches[7] + "/" + matches[8] + "/" + matches[9], matches[5] + ":" + matches[6]);
            }
        }
        else if (paymentCreditCardPattern.test(body)) {
            type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_EXPENSE;
            var matches = body.match(paymentCreditCardPattern);
            if (matches) {
                amount = this.parseAmount(matches[1]);
                accountId = "*" + matches[2];
                targetAccountId = "*" + matches[3];
                description = "Pago de T.Cred Nro " + targetAccountId;
                date = this.parseDateTime(matches[4], matches[5]);
            }
        }
        else if (creditCardPaymentPattern.test(body)) {
            type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_EXPENSE;
            var matches = body.match(creditCardPaymentPattern);
            if (matches) {
                var amountValue = matches[1]; // Monto del pago
                var creditCardDigits = matches[2]; // Últimos 4 dígitos de la tarjeta
                accountId = matches[3]; // Últimos dígitos de la cuenta de origen
                var dateValue = matches[4]; // Fecha de la transacción
                var time = matches[5]; // Hora de la transacción
                targetAccountId = creditCardDigits;
                description = "Pago de T.Cred Nro " + creditCardDigits;
                amount = this.parseAmount(amountValue);
                date = this.parseDateTime(dateValue, time);
            }
        }
        else if (retiroPattern.test(body)) {
            type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_EXPENSE;
            var matches = body.match(retiroPattern);
            if (matches) {
                amount = this.parseAmount(matches[1]);
                description = "Retiro en " + matches[2];
                date = this.parseDateTime(matches[4], matches[3]);
                accountId = "*" + matches[5];
                targetAccountId = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].ACCOUNT_BILLETERA;
            }
        }
        else if (transferPatter3.test(body)) {
            type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_EXPENSE;
            var matches = body.match(transferPatter3);
            if (matches) {
                amount = this.parseAmount(matches[1], 1);
                accountId = "*" + matches[2];
                targetAccountId = "*" + matches[3];
                description = "Transferencia a la cuenta " + targetAccountId;
                date = this.parseDateTime(matches[4], matches[5]);
            }
        }
        else if (providerPaymentPattern.test(body)) {
            type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_INCOME;
            var matches = body.match(providerPaymentPattern);
            if (matches) {
                description = "Pago PROVEEDOR de " + matches[1];
                amount = this.parseAmount(matches[2]);
                accountId = ''; // Si hay un accountId específico, añádelo aquí
                date = this.parseDateTime(matches[4], matches[3]);
            }
        }
        else if (bancolombiaCreditCardPaymentPattern.test(body)) {
            var matches = body.match(bancolombiaCreditCardPaymentPattern);
            if (matches) {
                type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_INCOME;
                amount = this.parseAmount(matches[3]);
                description = "Abono realizado por " + matches[1].trim();
                accountId = "*" + matches[2];
                date = this.parseDateTime(matches[4], matches[5]);
            }
        }
        else if (updatedPurchasePattern.test(body)) {
            var matches = body.match(updatedPurchasePattern);
            if (matches) {
                type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_EXPENSE;
                amount = this.parseAmount(matches[1]);
                description = "Compra en " + matches[2];
                accountId = "*" + matches[3];
                date = this.parseDateTime(matches[4], matches[5]);
            }
        }
        else if (updatedPurchasePatter2.test(body)) {
            var matches = body.match(updatedPurchasePatter2);
            if (matches) {
                type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_EXPENSE;
                var amountValue = matches[1]; // Monto de la compra
                var store = matches[2]; // Nombre del comercio
                var dateValue = matches[4]; // Fecha de la compra
                var time = matches[3]; // Hora de la compra
                accountId = matches[5]; // Últimos 4 dígitos de la tarjeta
                description = "Compra en " + store;
                amount = this.parseAmount(amountValue);
                date = this.parseDateTime(dateValue, time);
            }
        }
        else if (paymentReceivedPattern.test(body)) {
            type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_INCOME;
            var matches = body.match(paymentReceivedPattern);
            if (matches) {
                var sender = matches[1]; // Nombre del remitente
                var amountValue = matches[2]; // Monto de la transacción
                var time = matches[3]; // Hora de la transacción
                var dateValue = matches[4]; // Fecha de la transacción
                description = "Recepci\u00F3n de pago de " + sender;
                amount = this.parseAmount(amountValue);
                date = this.parseDateTime(dateValue, time);
            }
        }
        else if (transferNotificationPattern.test(body)) {
            var matches = body.match(transferNotificationPattern);
            if (matches) {
                var amountValue = matches[1]; // Monto transferido
                var method = matches[2]; // Método de transferencia (Botón Bancolombia)
                var recipient = matches[3]; // Destinatario (nombre de la empresa o persona)
                var product = matches[4]; // Producto (últimos 4 dígitos)
                var dateValue = matches[5]; // Fecha de transferencia
                var time = matches[6]; // Hora de transferencia
                accountId = product;
                description = "Transferencia por " + method + " a " + recipient + " desde *" + product;
                amount = this.parseAmount(amountValue);
                date = this.parseDateTime(dateValue, time);
            }
        }
        else if (withdrawalNotificationPattern.test(body)) {
            var matches = body.match(withdrawalNotificationPattern);
            if (matches) {
                var correspondent = matches[1]; // Nombre del corresponsal
                var location_1 = matches[2]; // Ubicación del retiro
                var amountValue = matches[3]; // Monto retirado
                var dateValue = matches[4]; // Fecha del retiro
                var time = matches[5]; // Hora del retiro
                description = "Retiro en corresponsal " + correspondent + " ubicado en " + location_1;
                amount = this.parseAmount(amountValue);
                date = this.parseDateTime(dateValue, time);
                targetAccountId = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].ACCOUNT_BILLETERA;
            }
        }
        else if (receivedPaymentPattern.test(body)) {
            type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_INCOME;
            var matches = body.match(receivedPaymentPattern);
            if (matches) {
                var amountValue = matches[1]; // Monto del pago
                var sender = matches[2]; // Nombre del remitente
                var accountType = matches[3]; // Tipo de cuenta (AHORROS)
                var time = matches[4]; // Hora de la transacción
                var dateValue = matches[5]; // Fecha de la transacción
                description = "Pago de " + sender + " en cuenta " + accountType;
                amount = this.parseAmount(amountValue);
                date = this.parseDateTime(dateValue, time);
            }
        }
        else if (receivedProviderPaymentPattern.test(body)) {
            var matches = body.match(receivedProviderPaymentPattern);
            type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_INCOME;
            if (matches) {
                var paymentType = matches[1]; // Tipo de pago (PROVEEDOR)
                var sender = matches[2]; // Nombre del remitente (FONDO NACIONAL)
                var amountValue = matches[3]; // Monto del pago
                var accountType = matches[4]; // Tipo de cuenta (Ahorros)
                var dateValue = matches[5]; // Fecha de la transacción
                var time = matches[6]; // Hora de la transacción
                description = "Pago de " + sender + " en cuenta " + accountType;
                amount = this.parseAmount(amountValue);
                date = this.parseDateTime(dateValue, time);
            }
        }
        else if (cardDepositPattern.test(body)) {
            var matches = body.match(cardDepositPattern);
            type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_INCOME;
            if (matches) {
                var sender = matches[1]; // Nombre del remitente (KEVIN MENDOZA)
                var amountValue = matches[2]; // Monto del abono (46000)
                accountId = matches[3]; // Últimos 4 dígitos de la tarjeta (3944)
                var dateValue = matches[4]; // Fecha de la transacción (15/02/2025)
                var time = matches[5]; // Hora de la transacción (22:08)
                description = "Abono realizado por " + sender;
                amount = this.parseAmount(amountValue);
                date = this.parseDateTime(dateValue, time);
            }
        }
        if (type === src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_EXPENSE && amount > 0) {
            amount = -amount;
        }
        accountId = accountId.replace(/\*/g, '');
        targetAccountId = targetAccountId.replace(/\*/g, '');
        return { id: id, accountId: '', originalAccount: accountId, amount: amount, date: date, categoryId: categoryId, description: description, type: type, originalBody: body, targetAccountId: targetAccountId, canProcessed: (description ? true : false), isProcessed: false };
    };
    TransactionOperation.prototype.createTransactionIfIsTranfer = function (transaction) {
        if (transaction.targetAccountId) {
            transaction.transactionId = transaction.id;
            var cloneTransaction = __assign({}, transaction);
            transaction.id = this.generateUniqueId();
            cloneTransaction.id = this.generateUniqueId();
            cloneTransaction.accountId = (transaction.accountId ? transaction.targetAccountId : null);
            cloneTransaction.originalAccount = transaction.targetAccountId;
            cloneTransaction.targetAccountId = transaction.originalAccount;
            cloneTransaction.isProcessed = false;
            cloneTransaction.description = "Transf. Automatica: " + cloneTransaction.description;
            cloneTransaction.type = src_app_entities_account_control__WEBPACK_IMPORTED_MODULE_0__["AccountConstant"].TRANSACTION_TYPE_INCOME;
            cloneTransaction.amount = cloneTransaction.amount * -1;
            return cloneTransaction;
        }
        return null;
    };
    TransactionOperation.prototype.parseAmount = function (amountStr, rounded) {
        if (rounded === void 0) { rounded = 100; }
        if (amountStr.includes(".") && amountStr.includes(","))
            return parseFloat(amountStr.replace(/[,.]/g, '')) / rounded;
        return parseFloat(amountStr.split(".")[0]);
    };
    TransactionOperation.prototype.parseDateTime = function (dateStr, timeStr) {
        var _a, _b;
        if (timeStr === void 0) { timeStr = '00:00'; }
        var day, month, year;
        var _c = timeStr.split(':').map(Number), hour = _c[0], minute = _c[1];
        // Detect format and parse accordingly
        if (dateStr.includes('/')) {
            var parts = dateStr.split('/');
            if (parts[0].length === 4) {
                // yyyy/mm/dd format
                _a = parts.map(Number), year = _a[0], month = _a[1], day = _a[2];
            }
            else {
                // dd/mm/yyyy format
                _b = parts.map(Number), day = _b[0], month = _b[1], year = _b[2];
            }
            if (year < 100) {
                year += 2000;
            }
        }
        else {
            // throw new Error("Unrecognized date format");
            return new Date();
        }
        // Create date in UTC, then adjust to Colombia time
        var date = new Date(Date.UTC(year, month - 1, day, hour + 5, minute)); // UTC + 5 for Colombia
        date.setUTCHours(date.getUTCHours()); // Final adjustment for Colombia Time
        return date;
    };
    TransactionOperation.prototype.generateUniqueId = function () {
        return '_' + Math.random().toString(36).substr(2, 9);
    };
    return TransactionOperation;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
var environment = {
    production: false
};
/*
 * For easier debugging in development mode, you can import the following file
 * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
 *
 * This import should be commented out in production mode because it will have a negative impact
 * on performance if an error is thrown.
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! hammerjs */ "./node_modules/hammerjs/hammer.js");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(hammerjs__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/__ivy_ngcc__/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/__ivy_ngcc__/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
/*!

=========================================================
* Argon Dashboard Angular - v1.1.0
=========================================================

* Product Page: https://www.creative-tim.com/product/argon-dashboard-angular
* Copyright 2019 Creative Tim (https://www.creative-tim.com)
* Licensed under MIT (https://github.com/creativetimofficial/argon-dashboard-angular/blob/master/LICENSE.md)

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

*/





if (_environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_2__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_3__["AppModule"])
    .catch(function (err) { return console.error(err); });
document.addEventListener('DOMContentLoaded', function () {
    Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_2__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_3__["AppModule"])
        .catch(function (err) { return console.log(err); });
});


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /home/runner/work/SummaryResume/SummaryResume/src/main.ts */"./src/main.ts");


/***/ }),

/***/ 1:
/*!************************!*\
  !*** crypto (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map