import{$ as rn,$a as a2,$b as _c,A as cy,Aa as o2,Ab as hn,Ac as JM,B as Th,Ba as MM,Bb as my,Bc as wy,C as uM,Ca as rs,Cb as on,D as Qw,Da as TM,Db as nn,Dc as Cy,E as Yw,Ea as n2,Eb as $M,Ec as ky,F as Eh,Fa as EM,Fb as Dr,Fc as My,G as ts,Ga as SM,Gb as wi,H as Sh,Ha as ev,Hb as ol,I as Ou,Ia as PM,Ib as gy,J as Jw,Ja as AM,Jb as _y,K as fs,Ka as BM,Kb as by,L as pM,La as pr,Lb as an,M as Ph,Ma as tv,Mb as Ni,N as $u,Na as IM,Nb as Bh,O as Zw,Oa as uy,Ob as LM,P as fM,Pa as rl,Pb as Lu,Q as hM,Qa as Ho,Qb as Ih,R as mM,Ra as py,Rb as s2,S as gM,Sa as DM,Sb as Dh,T as Si,Ta as FM,Tb as vy,U as _M,Ua as i2,Ub as NM,V as vi,Va as Mo,Vb as zM,W as In,Wa as vn,Wb as yf,X as Bl,Xa as Zn,Xb as jM,Y as jr,Ya as No,Yb as Oo,Z as bn,Za as fi,Zb as Fh,_ as bM,_a as Zr,_b as hi,a as Vt,aa as e2,ab as fy,ac as Nu,b as Gr,ba as Ao,bb as rv,bc as VM,c as Xl,ca as wr,cb as RM,cc as Rh,d as Ta,da as el,db as hy,dc as UM,e as Zo,ea as vM,eb as vf,ec as WM,f as OD,fa as bf,fb as Fo,fc as oi,g as lr,ga as Bs,gb as Ir,gc as GM,h as ot,ha as Is,hb as Ah,hc as ov,i as aM,ia as en,ib as Dl,ic as HM,j as sM,ja as tn,jb as Yl,jc as KM,k as lM,ka as Ds,kb as Sn,kc as nv,l as Hw,la as yM,lb as Dn,lc as yy,m as Kw,ma as ho,mb as OM,mc as is,n as qw,na as xM,nb as Jl,nc as Fl,o as si,oa as Fs,ob as Zl,oc as zu,p as es,pa as wM,pb as Kt,pc as Rs,q as Ql,qa as CM,qb as Qt,qc as qM,r as bi,ra as dy,rb as no,rc as XM,s as bo,sa as Ln,sb as os,sc as Fn,t as _f,ta as $i,tb as ns,tc as QM,u as cM,ua as t2,ub as Li,uc as Oh,v as dM,va as Il,vb as xn,vc as iv,w as jo,wa as tl,wb as _o,wc as YM,x as ly,xa as r2,xb as Sr,xc as xy,y as ps,ya as yi,yb as Yi,z as Xw,za as kM,zb as xi}from"./chunk-XESAQMX5.js";var lS=Zo(()=>{"use strict"});var sn=Zo((ux,cS)=>{"use strict";(function(r,o){typeof ux=="object"?cS.exports=ux=o():typeof define=="function"&&define.amd?define([],o):r.CryptoJS=o()})(ux,function(){var r=r||function(o,e){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof Xl=="function")try{n=lS()}catch{}var s=function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},c=Object.create||function(){function Ie(){}return function(Pe){var Xe;return Ie.prototype=Pe,Xe=new Ie,Ie.prototype=null,Xe}}(),u={},h=u.lib={},p=h.Base=function(){return{extend:function(Ie){var Pe=c(this);return Ie&&Pe.mixIn(Ie),(!Pe.hasOwnProperty("init")||this.init===Pe.init)&&(Pe.init=function(){Pe.$super.init.apply(this,arguments)}),Pe.init.prototype=Pe,Pe.$super=this,Pe},create:function(){var Ie=this.extend();return Ie.init.apply(Ie,arguments),Ie},init:function(){},mixIn:function(Ie){for(var Pe in Ie)Ie.hasOwnProperty(Pe)&&(this[Pe]=Ie[Pe]);Ie.hasOwnProperty("toString")&&(this.toString=Ie.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),y=h.WordArray=p.extend({init:function(Ie,Pe){Ie=this.words=Ie||[],Pe!=e?this.sigBytes=Pe:this.sigBytes=Ie.length*4},toString:function(Ie){return(Ie||G).stringify(this)},concat:function(Ie){var Pe=this.words,Xe=Ie.words,Ne=this.sigBytes,Ge=Ie.sigBytes;if(this.clamp(),Ne%4)for(var Ve=0;Ve<Ge;Ve++){var Oe=Xe[Ve>>>2]>>>24-Ve%4*8&255;Pe[Ne+Ve>>>2]|=Oe<<24-(Ne+Ve)%4*8}else for(var Ue=0;Ue<Ge;Ue+=4)Pe[Ne+Ue>>>2]=Xe[Ue>>>2];return this.sigBytes+=Ge,this},clamp:function(){var Ie=this.words,Pe=this.sigBytes;Ie[Pe>>>2]&=4294967295<<32-Pe%4*8,Ie.length=o.ceil(Pe/4)},clone:function(){var Ie=p.clone.call(this);return Ie.words=this.words.slice(0),Ie},random:function(Ie){for(var Pe=[],Xe=0;Xe<Ie;Xe+=4)Pe.push(s());return new y.init(Pe,Ie)}}),k=u.enc={},G=k.Hex={stringify:function(Ie){for(var Pe=Ie.words,Xe=Ie.sigBytes,Ne=[],Ge=0;Ge<Xe;Ge++){var Ve=Pe[Ge>>>2]>>>24-Ge%4*8&255;Ne.push((Ve>>>4).toString(16)),Ne.push((Ve&15).toString(16))}return Ne.join("")},parse:function(Ie){for(var Pe=Ie.length,Xe=[],Ne=0;Ne<Pe;Ne+=2)Xe[Ne>>>3]|=parseInt(Ie.substr(Ne,2),16)<<24-Ne%8*4;return new y.init(Xe,Pe/2)}},$=k.Latin1={stringify:function(Ie){for(var Pe=Ie.words,Xe=Ie.sigBytes,Ne=[],Ge=0;Ge<Xe;Ge++){var Ve=Pe[Ge>>>2]>>>24-Ge%4*8&255;Ne.push(String.fromCharCode(Ve))}return Ne.join("")},parse:function(Ie){for(var Pe=Ie.length,Xe=[],Ne=0;Ne<Pe;Ne++)Xe[Ne>>>2]|=(Ie.charCodeAt(Ne)&255)<<24-Ne%4*8;return new y.init(Xe,Pe)}},Me=k.Utf8={stringify:function(Ie){try{return decodeURIComponent(escape($.stringify(Ie)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(Ie){return $.parse(unescape(encodeURIComponent(Ie)))}},Re=h.BufferedBlockAlgorithm=p.extend({reset:function(){this._data=new y.init,this._nDataBytes=0},_append:function(Ie){typeof Ie=="string"&&(Ie=Me.parse(Ie)),this._data.concat(Ie),this._nDataBytes+=Ie.sigBytes},_process:function(Ie){var Pe,Xe=this._data,Ne=Xe.words,Ge=Xe.sigBytes,Ve=this.blockSize,Oe=Ve*4,Ue=Ge/Oe;Ie?Ue=o.ceil(Ue):Ue=o.max((Ue|0)-this._minBufferSize,0);var tt=Ue*Ve,bt=o.min(tt*4,Ge);if(tt){for(var lt=0;lt<tt;lt+=Ve)this._doProcessBlock(Ne,lt);Pe=Ne.splice(0,tt),Xe.sigBytes-=bt}return new y.init(Pe,bt)},clone:function(){var Ie=p.clone.call(this);return Ie._data=this._data.clone(),Ie},_minBufferSize:0}),Ke=h.Hasher=Re.extend({cfg:p.extend(),init:function(Ie){this.cfg=this.cfg.extend(Ie),this.reset()},reset:function(){Re.reset.call(this),this._doReset()},update:function(Ie){return this._append(Ie),this._process(),this},finalize:function(Ie){Ie&&this._append(Ie);var Pe=this._doFinalize();return Pe},blockSize:512/32,_createHelper:function(Ie){return function(Pe,Xe){return new Ie.init(Xe).finalize(Pe)}},_createHmacHelper:function(Ie){return function(Pe,Xe){return new He.HMAC.init(Ie,Xe).finalize(Pe)}}}),He=u.algo={};return u}(Math);return r})});var Ov=Zo((px,dS)=>{"use strict";(function(r,o){typeof px=="object"?dS.exports=px=o(sn()):typeof define=="function"&&define.amd?define(["./core"],o):o(r.CryptoJS)})(px,function(r){return function(o){var e=r,n=e.lib,s=n.Base,c=n.WordArray,u=e.x64={},h=u.Word=s.extend({init:function(y,k){this.high=y,this.low=k}}),p=u.WordArray=s.extend({init:function(y,k){y=this.words=y||[],k!=o?this.sigBytes=k:this.sigBytes=y.length*8},toX32:function(){for(var y=this.words,k=y.length,G=[],$=0;$<k;$++){var Me=y[$];G.push(Me.high),G.push(Me.low)}return c.create(G,this.sigBytes)},clone:function(){for(var y=s.clone.call(this),k=y.words=this.words.slice(0),G=k.length,$=0;$<G;$++)k[$]=k[$].clone();return y}})}(),r})});var pS=Zo((fx,uS)=>{"use strict";(function(r,o){typeof fx=="object"?uS.exports=fx=o(sn()):typeof define=="function"&&define.amd?define(["./core"],o):o(r.CryptoJS)})(fx,function(r){return function(){if(typeof ArrayBuffer=="function"){var o=r,e=o.lib,n=e.WordArray,s=n.init,c=n.init=function(u){if(u instanceof ArrayBuffer&&(u=new Uint8Array(u)),(u instanceof Int8Array||typeof Uint8ClampedArray<"u"&&u instanceof Uint8ClampedArray||u instanceof Int16Array||u instanceof Uint16Array||u instanceof Int32Array||u instanceof Uint32Array||u instanceof Float32Array||u instanceof Float64Array)&&(u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength)),u instanceof Uint8Array){for(var h=u.byteLength,p=[],y=0;y<h;y++)p[y>>>2]|=u[y]<<24-y%4*8;s.call(this,p,h)}else s.apply(this,arguments)};c.prototype=n}}(),r.lib.WordArray})});var hS=Zo((hx,fS)=>{"use strict";(function(r,o){typeof hx=="object"?fS.exports=hx=o(sn()):typeof define=="function"&&define.amd?define(["./core"],o):o(r.CryptoJS)})(hx,function(r){return function(){var o=r,e=o.lib,n=e.WordArray,s=o.enc,c=s.Utf16=s.Utf16BE={stringify:function(h){for(var p=h.words,y=h.sigBytes,k=[],G=0;G<y;G+=2){var $=p[G>>>2]>>>16-G%4*8&65535;k.push(String.fromCharCode($))}return k.join("")},parse:function(h){for(var p=h.length,y=[],k=0;k<p;k++)y[k>>>1]|=h.charCodeAt(k)<<16-k%2*16;return n.create(y,p*2)}};s.Utf16LE={stringify:function(h){for(var p=h.words,y=h.sigBytes,k=[],G=0;G<y;G+=2){var $=u(p[G>>>2]>>>16-G%4*8&65535);k.push(String.fromCharCode($))}return k.join("")},parse:function(h){for(var p=h.length,y=[],k=0;k<p;k++)y[k>>>1]|=u(h.charCodeAt(k)<<16-k%2*16);return n.create(y,p*2)}};function u(h){return h<<8&4278255360|h>>>8&16711935}}(),r.enc.Utf16})});var tp=Zo((mx,mS)=>{"use strict";(function(r,o){typeof mx=="object"?mS.exports=mx=o(sn()):typeof define=="function"&&define.amd?define(["./core"],o):o(r.CryptoJS)})(mx,function(r){return function(){var o=r,e=o.lib,n=e.WordArray,s=o.enc,c=s.Base64={stringify:function(h){var p=h.words,y=h.sigBytes,k=this._map;h.clamp();for(var G=[],$=0;$<y;$+=3)for(var Me=p[$>>>2]>>>24-$%4*8&255,Re=p[$+1>>>2]>>>24-($+1)%4*8&255,Ke=p[$+2>>>2]>>>24-($+2)%4*8&255,He=Me<<16|Re<<8|Ke,Ie=0;Ie<4&&$+Ie*.75<y;Ie++)G.push(k.charAt(He>>>6*(3-Ie)&63));var Pe=k.charAt(64);if(Pe)for(;G.length%4;)G.push(Pe);return G.join("")},parse:function(h){var p=h.length,y=this._map,k=this._reverseMap;if(!k){k=this._reverseMap=[];for(var G=0;G<y.length;G++)k[y.charCodeAt(G)]=G}var $=y.charAt(64);if($){var Me=h.indexOf($);Me!==-1&&(p=Me)}return u(h,p,k)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function u(h,p,y){for(var k=[],G=0,$=0;$<p;$++)if($%4){var Me=y[h.charCodeAt($-1)]<<$%4*2,Re=y[h.charCodeAt($)]>>>6-$%4*2,Ke=Me|Re;k[G>>>2]|=Ke<<24-G%4*8,G++}return n.create(k,G)}}(),r.enc.Base64})});var _S=Zo((gx,gS)=>{"use strict";(function(r,o){typeof gx=="object"?gS.exports=gx=o(sn()):typeof define=="function"&&define.amd?define(["./core"],o):o(r.CryptoJS)})(gx,function(r){return function(){var o=r,e=o.lib,n=e.WordArray,s=o.enc,c=s.Base64url={stringify:function(h,p){p===void 0&&(p=!0);var y=h.words,k=h.sigBytes,G=p?this._safe_map:this._map;h.clamp();for(var $=[],Me=0;Me<k;Me+=3)for(var Re=y[Me>>>2]>>>24-Me%4*8&255,Ke=y[Me+1>>>2]>>>24-(Me+1)%4*8&255,He=y[Me+2>>>2]>>>24-(Me+2)%4*8&255,Ie=Re<<16|Ke<<8|He,Pe=0;Pe<4&&Me+Pe*.75<k;Pe++)$.push(G.charAt(Ie>>>6*(3-Pe)&63));var Xe=G.charAt(64);if(Xe)for(;$.length%4;)$.push(Xe);return $.join("")},parse:function(h,p){p===void 0&&(p=!0);var y=h.length,k=p?this._safe_map:this._map,G=this._reverseMap;if(!G){G=this._reverseMap=[];for(var $=0;$<k.length;$++)G[k.charCodeAt($)]=$}var Me=k.charAt(64);if(Me){var Re=h.indexOf(Me);Re!==-1&&(y=Re)}return u(h,y,G)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function u(h,p,y){for(var k=[],G=0,$=0;$<p;$++)if($%4){var Me=y[h.charCodeAt($-1)]<<$%4*2,Re=y[h.charCodeAt($)]>>>6-$%4*2,Ke=Me|Re;k[G>>>2]|=Ke<<24-G%4*8,G++}return n.create(k,G)}}(),r.enc.Base64url})});var rp=Zo((_x,bS)=>{"use strict";(function(r,o){typeof _x=="object"?bS.exports=_x=o(sn()):typeof define=="function"&&define.amd?define(["./core"],o):o(r.CryptoJS)})(_x,function(r){return function(o){var e=r,n=e.lib,s=n.WordArray,c=n.Hasher,u=e.algo,h=[];(function(){for(var Me=0;Me<64;Me++)h[Me]=o.abs(o.sin(Me+1))*4294967296|0})();var p=u.MD5=c.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(Me,Re){for(var Ke=0;Ke<16;Ke++){var He=Re+Ke,Ie=Me[He];Me[He]=(Ie<<8|Ie>>>24)&16711935|(Ie<<24|Ie>>>8)&4278255360}var Pe=this._hash.words,Xe=Me[Re+0],Ne=Me[Re+1],Ge=Me[Re+2],Ve=Me[Re+3],Oe=Me[Re+4],Ue=Me[Re+5],tt=Me[Re+6],bt=Me[Re+7],lt=Me[Re+8],mt=Me[Re+9],ut=Me[Re+10],ht=Me[Re+11],Ct=Me[Re+12],It=Me[Re+13],Ft=Me[Re+14],At=Me[Re+15],Dt=Pe[0],Rt=Pe[1],at=Pe[2],Ze=Pe[3];Dt=y(Dt,Rt,at,Ze,Xe,7,h[0]),Ze=y(Ze,Dt,Rt,at,Ne,12,h[1]),at=y(at,Ze,Dt,Rt,Ge,17,h[2]),Rt=y(Rt,at,Ze,Dt,Ve,22,h[3]),Dt=y(Dt,Rt,at,Ze,Oe,7,h[4]),Ze=y(Ze,Dt,Rt,at,Ue,12,h[5]),at=y(at,Ze,Dt,Rt,tt,17,h[6]),Rt=y(Rt,at,Ze,Dt,bt,22,h[7]),Dt=y(Dt,Rt,at,Ze,lt,7,h[8]),Ze=y(Ze,Dt,Rt,at,mt,12,h[9]),at=y(at,Ze,Dt,Rt,ut,17,h[10]),Rt=y(Rt,at,Ze,Dt,ht,22,h[11]),Dt=y(Dt,Rt,at,Ze,Ct,7,h[12]),Ze=y(Ze,Dt,Rt,at,It,12,h[13]),at=y(at,Ze,Dt,Rt,Ft,17,h[14]),Rt=y(Rt,at,Ze,Dt,At,22,h[15]),Dt=k(Dt,Rt,at,Ze,Ne,5,h[16]),Ze=k(Ze,Dt,Rt,at,tt,9,h[17]),at=k(at,Ze,Dt,Rt,ht,14,h[18]),Rt=k(Rt,at,Ze,Dt,Xe,20,h[19]),Dt=k(Dt,Rt,at,Ze,Ue,5,h[20]),Ze=k(Ze,Dt,Rt,at,ut,9,h[21]),at=k(at,Ze,Dt,Rt,At,14,h[22]),Rt=k(Rt,at,Ze,Dt,Oe,20,h[23]),Dt=k(Dt,Rt,at,Ze,mt,5,h[24]),Ze=k(Ze,Dt,Rt,at,Ft,9,h[25]),at=k(at,Ze,Dt,Rt,Ve,14,h[26]),Rt=k(Rt,at,Ze,Dt,lt,20,h[27]),Dt=k(Dt,Rt,at,Ze,It,5,h[28]),Ze=k(Ze,Dt,Rt,at,Ge,9,h[29]),at=k(at,Ze,Dt,Rt,bt,14,h[30]),Rt=k(Rt,at,Ze,Dt,Ct,20,h[31]),Dt=G(Dt,Rt,at,Ze,Ue,4,h[32]),Ze=G(Ze,Dt,Rt,at,lt,11,h[33]),at=G(at,Ze,Dt,Rt,ht,16,h[34]),Rt=G(Rt,at,Ze,Dt,Ft,23,h[35]),Dt=G(Dt,Rt,at,Ze,Ne,4,h[36]),Ze=G(Ze,Dt,Rt,at,Oe,11,h[37]),at=G(at,Ze,Dt,Rt,bt,16,h[38]),Rt=G(Rt,at,Ze,Dt,ut,23,h[39]),Dt=G(Dt,Rt,at,Ze,It,4,h[40]),Ze=G(Ze,Dt,Rt,at,Xe,11,h[41]),at=G(at,Ze,Dt,Rt,Ve,16,h[42]),Rt=G(Rt,at,Ze,Dt,tt,23,h[43]),Dt=G(Dt,Rt,at,Ze,mt,4,h[44]),Ze=G(Ze,Dt,Rt,at,Ct,11,h[45]),at=G(at,Ze,Dt,Rt,At,16,h[46]),Rt=G(Rt,at,Ze,Dt,Ge,23,h[47]),Dt=$(Dt,Rt,at,Ze,Xe,6,h[48]),Ze=$(Ze,Dt,Rt,at,bt,10,h[49]),at=$(at,Ze,Dt,Rt,Ft,15,h[50]),Rt=$(Rt,at,Ze,Dt,Ue,21,h[51]),Dt=$(Dt,Rt,at,Ze,Ct,6,h[52]),Ze=$(Ze,Dt,Rt,at,Ve,10,h[53]),at=$(at,Ze,Dt,Rt,ut,15,h[54]),Rt=$(Rt,at,Ze,Dt,Ne,21,h[55]),Dt=$(Dt,Rt,at,Ze,lt,6,h[56]),Ze=$(Ze,Dt,Rt,at,At,10,h[57]),at=$(at,Ze,Dt,Rt,tt,15,h[58]),Rt=$(Rt,at,Ze,Dt,It,21,h[59]),Dt=$(Dt,Rt,at,Ze,Oe,6,h[60]),Ze=$(Ze,Dt,Rt,at,ht,10,h[61]),at=$(at,Ze,Dt,Rt,Ge,15,h[62]),Rt=$(Rt,at,Ze,Dt,mt,21,h[63]),Pe[0]=Pe[0]+Dt|0,Pe[1]=Pe[1]+Rt|0,Pe[2]=Pe[2]+at|0,Pe[3]=Pe[3]+Ze|0},_doFinalize:function(){var Me=this._data,Re=Me.words,Ke=this._nDataBytes*8,He=Me.sigBytes*8;Re[He>>>5]|=128<<24-He%32;var Ie=o.floor(Ke/4294967296),Pe=Ke;Re[(He+64>>>9<<4)+15]=(Ie<<8|Ie>>>24)&16711935|(Ie<<24|Ie>>>8)&4278255360,Re[(He+64>>>9<<4)+14]=(Pe<<8|Pe>>>24)&16711935|(Pe<<24|Pe>>>8)&4278255360,Me.sigBytes=(Re.length+1)*4,this._process();for(var Xe=this._hash,Ne=Xe.words,Ge=0;Ge<4;Ge++){var Ve=Ne[Ge];Ne[Ge]=(Ve<<8|Ve>>>24)&16711935|(Ve<<24|Ve>>>8)&4278255360}return Xe},clone:function(){var Me=c.clone.call(this);return Me._hash=this._hash.clone(),Me}});function y(Me,Re,Ke,He,Ie,Pe,Xe){var Ne=Me+(Re&Ke|~Re&He)+Ie+Xe;return(Ne<<Pe|Ne>>>32-Pe)+Re}function k(Me,Re,Ke,He,Ie,Pe,Xe){var Ne=Me+(Re&He|Ke&~He)+Ie+Xe;return(Ne<<Pe|Ne>>>32-Pe)+Re}function G(Me,Re,Ke,He,Ie,Pe,Xe){var Ne=Me+(Re^Ke^He)+Ie+Xe;return(Ne<<Pe|Ne>>>32-Pe)+Re}function $(Me,Re,Ke,He,Ie,Pe,Xe){var Ne=Me+(Ke^(Re|~He))+Ie+Xe;return(Ne<<Pe|Ne>>>32-Pe)+Re}e.MD5=c._createHelper(p),e.HmacMD5=c._createHmacHelper(p)}(Math),r.MD5})});var mC=Zo((bx,vS)=>{"use strict";(function(r,o){typeof bx=="object"?vS.exports=bx=o(sn()):typeof define=="function"&&define.amd?define(["./core"],o):o(r.CryptoJS)})(bx,function(r){return function(){var o=r,e=o.lib,n=e.WordArray,s=e.Hasher,c=o.algo,u=[],h=c.SHA1=s.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(p,y){for(var k=this._hash.words,G=k[0],$=k[1],Me=k[2],Re=k[3],Ke=k[4],He=0;He<80;He++){if(He<16)u[He]=p[y+He]|0;else{var Ie=u[He-3]^u[He-8]^u[He-14]^u[He-16];u[He]=Ie<<1|Ie>>>31}var Pe=(G<<5|G>>>27)+Ke+u[He];He<20?Pe+=($&Me|~$&Re)+1518500249:He<40?Pe+=($^Me^Re)+1859775393:He<60?Pe+=($&Me|$&Re|Me&Re)-1894007588:Pe+=($^Me^Re)-899497514,Ke=Re,Re=Me,Me=$<<30|$>>>2,$=G,G=Pe}k[0]=k[0]+G|0,k[1]=k[1]+$|0,k[2]=k[2]+Me|0,k[3]=k[3]+Re|0,k[4]=k[4]+Ke|0},_doFinalize:function(){var p=this._data,y=p.words,k=this._nDataBytes*8,G=p.sigBytes*8;return y[G>>>5]|=128<<24-G%32,y[(G+64>>>9<<4)+14]=Math.floor(k/4294967296),y[(G+64>>>9<<4)+15]=k,p.sigBytes=y.length*4,this._process(),this._hash},clone:function(){var p=s.clone.call(this);return p._hash=this._hash.clone(),p}});o.SHA1=s._createHelper(h),o.HmacSHA1=s._createHmacHelper(h)}(),r.SHA1})});var yx=Zo((vx,yS)=>{"use strict";(function(r,o){typeof vx=="object"?yS.exports=vx=o(sn()):typeof define=="function"&&define.amd?define(["./core"],o):o(r.CryptoJS)})(vx,function(r){return function(o){var e=r,n=e.lib,s=n.WordArray,c=n.Hasher,u=e.algo,h=[],p=[];(function(){function G(Ke){for(var He=o.sqrt(Ke),Ie=2;Ie<=He;Ie++)if(!(Ke%Ie))return!1;return!0}function $(Ke){return(Ke-(Ke|0))*4294967296|0}for(var Me=2,Re=0;Re<64;)G(Me)&&(Re<8&&(h[Re]=$(o.pow(Me,1/2))),p[Re]=$(o.pow(Me,1/3)),Re++),Me++})();var y=[],k=u.SHA256=c.extend({_doReset:function(){this._hash=new s.init(h.slice(0))},_doProcessBlock:function(G,$){for(var Me=this._hash.words,Re=Me[0],Ke=Me[1],He=Me[2],Ie=Me[3],Pe=Me[4],Xe=Me[5],Ne=Me[6],Ge=Me[7],Ve=0;Ve<64;Ve++){if(Ve<16)y[Ve]=G[$+Ve]|0;else{var Oe=y[Ve-15],Ue=(Oe<<25|Oe>>>7)^(Oe<<14|Oe>>>18)^Oe>>>3,tt=y[Ve-2],bt=(tt<<15|tt>>>17)^(tt<<13|tt>>>19)^tt>>>10;y[Ve]=Ue+y[Ve-7]+bt+y[Ve-16]}var lt=Pe&Xe^~Pe&Ne,mt=Re&Ke^Re&He^Ke&He,ut=(Re<<30|Re>>>2)^(Re<<19|Re>>>13)^(Re<<10|Re>>>22),ht=(Pe<<26|Pe>>>6)^(Pe<<21|Pe>>>11)^(Pe<<7|Pe>>>25),Ct=Ge+ht+lt+p[Ve]+y[Ve],It=ut+mt;Ge=Ne,Ne=Xe,Xe=Pe,Pe=Ie+Ct|0,Ie=He,He=Ke,Ke=Re,Re=Ct+It|0}Me[0]=Me[0]+Re|0,Me[1]=Me[1]+Ke|0,Me[2]=Me[2]+He|0,Me[3]=Me[3]+Ie|0,Me[4]=Me[4]+Pe|0,Me[5]=Me[5]+Xe|0,Me[6]=Me[6]+Ne|0,Me[7]=Me[7]+Ge|0},_doFinalize:function(){var G=this._data,$=G.words,Me=this._nDataBytes*8,Re=G.sigBytes*8;return $[Re>>>5]|=128<<24-Re%32,$[(Re+64>>>9<<4)+14]=o.floor(Me/4294967296),$[(Re+64>>>9<<4)+15]=Me,G.sigBytes=$.length*4,this._process(),this._hash},clone:function(){var G=c.clone.call(this);return G._hash=this._hash.clone(),G}});e.SHA256=c._createHelper(k),e.HmacSHA256=c._createHmacHelper(k)}(Math),r.SHA256})});var wS=Zo((xx,xS)=>{"use strict";(function(r,o,e){typeof xx=="object"?xS.exports=xx=o(sn(),yx()):typeof define=="function"&&define.amd?define(["./core","./sha256"],o):o(r.CryptoJS)})(xx,function(r){return function(){var o=r,e=o.lib,n=e.WordArray,s=o.algo,c=s.SHA256,u=s.SHA224=c.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var h=c._doFinalize.call(this);return h.sigBytes-=4,h}});o.SHA224=c._createHelper(u),o.HmacSHA224=c._createHmacHelper(u)}(),r.SHA224})});var gC=Zo((wx,CS)=>{"use strict";(function(r,o,e){typeof wx=="object"?CS.exports=wx=o(sn(),Ov()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],o):o(r.CryptoJS)})(wx,function(r){return function(){var o=r,e=o.lib,n=e.Hasher,s=o.x64,c=s.Word,u=s.WordArray,h=o.algo;function p(){return c.create.apply(c,arguments)}var y=[p(1116352408,3609767458),p(1899447441,602891725),p(3049323471,3964484399),p(3921009573,2173295548),p(961987163,4081628472),p(1508970993,3053834265),p(2453635748,2937671579),p(2870763221,3664609560),p(3624381080,2734883394),p(310598401,1164996542),p(607225278,1323610764),p(1426881987,3590304994),p(1925078388,4068182383),p(2162078206,991336113),p(2614888103,633803317),p(3248222580,3479774868),p(3835390401,2666613458),p(4022224774,944711139),p(264347078,2341262773),p(604807628,2007800933),p(770255983,1495990901),p(1249150122,1856431235),p(1555081692,3175218132),p(1996064986,2198950837),p(2554220882,3999719339),p(2821834349,766784016),p(2952996808,2566594879),p(3210313671,3203337956),p(3336571891,1034457026),p(3584528711,2466948901),p(113926993,3758326383),p(338241895,168717936),p(666307205,1188179964),p(773529912,1546045734),p(1294757372,1522805485),p(1396182291,2643833823),p(1695183700,2343527390),p(1986661051,1014477480),p(2177026350,1206759142),p(2456956037,344077627),p(2730485921,1290863460),p(2820302411,3158454273),p(3259730800,3505952657),p(3345764771,106217008),p(3516065817,3606008344),p(3600352804,1432725776),p(4094571909,1467031594),p(275423344,851169720),p(430227734,3100823752),p(506948616,1363258195),p(659060556,3750685593),p(883997877,3785050280),p(958139571,3318307427),p(1322822218,3812723403),p(1537002063,2003034995),p(1747873779,3602036899),p(1955562222,1575990012),p(2024104815,1125592928),p(2227730452,2716904306),p(2361852424,442776044),p(2428436474,593698344),p(2756734187,3733110249),p(3204031479,2999351573),p(3329325298,3815920427),p(3391569614,3928383900),p(3515267271,566280711),p(3940187606,3454069534),p(4118630271,4000239992),p(116418474,1914138554),p(174292421,2731055270),p(289380356,3203993006),p(460393269,320620315),p(685471733,587496836),p(852142971,1086792851),p(1017036298,365543100),p(1126000580,2618297676),p(1288033470,3409855158),p(1501505948,4234509866),p(1607167915,987167468),p(1816402316,1246189591)],k=[];(function(){for(var $=0;$<80;$++)k[$]=p()})();var G=h.SHA512=n.extend({_doReset:function(){this._hash=new u.init([new c.init(1779033703,4089235720),new c.init(3144134277,2227873595),new c.init(1013904242,4271175723),new c.init(2773480762,1595750129),new c.init(1359893119,2917565137),new c.init(2600822924,725511199),new c.init(528734635,4215389547),new c.init(1541459225,327033209)])},_doProcessBlock:function($,Me){for(var Re=this._hash.words,Ke=Re[0],He=Re[1],Ie=Re[2],Pe=Re[3],Xe=Re[4],Ne=Re[5],Ge=Re[6],Ve=Re[7],Oe=Ke.high,Ue=Ke.low,tt=He.high,bt=He.low,lt=Ie.high,mt=Ie.low,ut=Pe.high,ht=Pe.low,Ct=Xe.high,It=Xe.low,Ft=Ne.high,At=Ne.low,Dt=Ge.high,Rt=Ge.low,at=Ve.high,Ze=Ve.low,vt=Oe,St=Ue,$t=tt,qt=bt,gt=lt,st=mt,hr=ut,Ht=ht,xt=Ct,Ut=It,rr=Ft,nr=At,cr=Dt,mr=Rt,Cr=at,Tr=Ze,dr=0;dr<80;dr++){var Ar,rt,Et=k[dr];if(dr<16)rt=Et.high=$[Me+dr*2]|0,Ar=Et.low=$[Me+dr*2+1]|0;else{var _t=k[dr-15],Tt=_t.high,zt=_t.low,tr=(Tt>>>1|zt<<31)^(Tt>>>8|zt<<24)^Tt>>>7,ur=(zt>>>1|Tt<<31)^(zt>>>8|Tt<<24)^(zt>>>7|Tt<<25),kr=k[dr-2],gr=kr.high,_r=kr.low,qr=(gr>>>19|_r<<13)^(gr<<3|_r>>>29)^gr>>>6,$r=(_r>>>19|gr<<13)^(_r<<3|gr>>>29)^(_r>>>6|gr<<26),Ur=k[dr-7],Io=Ur.high,Qo=Ur.low,pn=k[dr-16],Kn=pn.high,Bi=pn.low;Ar=ur+Qo,rt=tr+Io+(Ar>>>0<ur>>>0?1:0),Ar=Ar+$r,rt=rt+qr+(Ar>>>0<$r>>>0?1:0),Ar=Ar+Bi,rt=rt+Kn+(Ar>>>0<Bi>>>0?1:0),Et.high=rt,Et.low=Ar}var Zi=xt&rr^~xt&cr,Rn=Ut&nr^~Ut&mr,Hi=vt&$t^vt&gt^$t&gt,ao=St&qt^St&st^qt&st,ca=(vt>>>28|St<<4)^(vt<<30|St>>>2)^(vt<<25|St>>>7),Ii=(St>>>28|vt<<4)^(St<<30|vt>>>2)^(St<<25|vt>>>7),zi=(xt>>>14|Ut<<18)^(xt>>>18|Ut<<14)^(xt<<23|Ut>>>9),ga=(Ut>>>14|xt<<18)^(Ut>>>18|xt<<14)^(Ut<<23|xt>>>9),ki=y[dr],ss=ki.high,Di=ki.low,On=Tr+ga,ni=Cr+zi+(On>>>0<Tr>>>0?1:0),On=On+Rn,ni=ni+Zi+(On>>>0<Rn>>>0?1:0),On=On+Di,ni=ni+ss+(On>>>0<Di>>>0?1:0),On=On+Ar,ni=ni+rt+(On>>>0<Ar>>>0?1:0),li=Ii+ao,xr=ca+Hi+(li>>>0<Ii>>>0?1:0);Cr=cr,Tr=mr,cr=rr,mr=nr,rr=xt,nr=Ut,Ut=Ht+On|0,xt=hr+ni+(Ut>>>0<Ht>>>0?1:0)|0,hr=gt,Ht=st,gt=$t,st=qt,$t=vt,qt=St,St=On+li|0,vt=ni+xr+(St>>>0<On>>>0?1:0)|0}Ue=Ke.low=Ue+St,Ke.high=Oe+vt+(Ue>>>0<St>>>0?1:0),bt=He.low=bt+qt,He.high=tt+$t+(bt>>>0<qt>>>0?1:0),mt=Ie.low=mt+st,Ie.high=lt+gt+(mt>>>0<st>>>0?1:0),ht=Pe.low=ht+Ht,Pe.high=ut+hr+(ht>>>0<Ht>>>0?1:0),It=Xe.low=It+Ut,Xe.high=Ct+xt+(It>>>0<Ut>>>0?1:0),At=Ne.low=At+nr,Ne.high=Ft+rr+(At>>>0<nr>>>0?1:0),Rt=Ge.low=Rt+mr,Ge.high=Dt+cr+(Rt>>>0<mr>>>0?1:0),Ze=Ve.low=Ze+Tr,Ve.high=at+Cr+(Ze>>>0<Tr>>>0?1:0)},_doFinalize:function(){var $=this._data,Me=$.words,Re=this._nDataBytes*8,Ke=$.sigBytes*8;Me[Ke>>>5]|=128<<24-Ke%32,Me[(Ke+128>>>10<<5)+30]=Math.floor(Re/4294967296),Me[(Ke+128>>>10<<5)+31]=Re,$.sigBytes=Me.length*4,this._process();var He=this._hash.toX32();return He},clone:function(){var $=n.clone.call(this);return $._hash=this._hash.clone(),$},blockSize:1024/32});o.SHA512=n._createHelper(G),o.HmacSHA512=n._createHmacHelper(G)}(),r.SHA512})});var MS=Zo((Cx,kS)=>{"use strict";(function(r,o,e){typeof Cx=="object"?kS.exports=Cx=o(sn(),Ov(),gC()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],o):o(r.CryptoJS)})(Cx,function(r){return function(){var o=r,e=o.x64,n=e.Word,s=e.WordArray,c=o.algo,u=c.SHA512,h=c.SHA384=u.extend({_doReset:function(){this._hash=new s.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var p=u._doFinalize.call(this);return p.sigBytes-=16,p}});o.SHA384=u._createHelper(h),o.HmacSHA384=u._createHmacHelper(h)}(),r.SHA384})});var ES=Zo((kx,TS)=>{"use strict";(function(r,o,e){typeof kx=="object"?TS.exports=kx=o(sn(),Ov()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],o):o(r.CryptoJS)})(kx,function(r){return function(o){var e=r,n=e.lib,s=n.WordArray,c=n.Hasher,u=e.x64,h=u.Word,p=e.algo,y=[],k=[],G=[];(function(){for(var Re=1,Ke=0,He=0;He<24;He++){y[Re+5*Ke]=(He+1)*(He+2)/2%64;var Ie=Ke%5,Pe=(2*Re+3*Ke)%5;Re=Ie,Ke=Pe}for(var Re=0;Re<5;Re++)for(var Ke=0;Ke<5;Ke++)k[Re+5*Ke]=Ke+(2*Re+3*Ke)%5*5;for(var Xe=1,Ne=0;Ne<24;Ne++){for(var Ge=0,Ve=0,Oe=0;Oe<7;Oe++){if(Xe&1){var Ue=(1<<Oe)-1;Ue<32?Ve^=1<<Ue:Ge^=1<<Ue-32}Xe&128?Xe=Xe<<1^113:Xe<<=1}G[Ne]=h.create(Ge,Ve)}})();var $=[];(function(){for(var Re=0;Re<25;Re++)$[Re]=h.create()})();var Me=p.SHA3=c.extend({cfg:c.cfg.extend({outputLength:512}),_doReset:function(){for(var Re=this._state=[],Ke=0;Ke<25;Ke++)Re[Ke]=new h.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(Re,Ke){for(var He=this._state,Ie=this.blockSize/2,Pe=0;Pe<Ie;Pe++){var Xe=Re[Ke+2*Pe],Ne=Re[Ke+2*Pe+1];Xe=(Xe<<8|Xe>>>24)&16711935|(Xe<<24|Xe>>>8)&4278255360,Ne=(Ne<<8|Ne>>>24)&16711935|(Ne<<24|Ne>>>8)&4278255360;var Ge=He[Pe];Ge.high^=Ne,Ge.low^=Xe}for(var Ve=0;Ve<24;Ve++){for(var Oe=0;Oe<5;Oe++){for(var Ue=0,tt=0,bt=0;bt<5;bt++){var Ge=He[Oe+5*bt];Ue^=Ge.high,tt^=Ge.low}var lt=$[Oe];lt.high=Ue,lt.low=tt}for(var Oe=0;Oe<5;Oe++)for(var mt=$[(Oe+4)%5],ut=$[(Oe+1)%5],ht=ut.high,Ct=ut.low,Ue=mt.high^(ht<<1|Ct>>>31),tt=mt.low^(Ct<<1|ht>>>31),bt=0;bt<5;bt++){var Ge=He[Oe+5*bt];Ge.high^=Ue,Ge.low^=tt}for(var It=1;It<25;It++){var Ue,tt,Ge=He[It],Ft=Ge.high,At=Ge.low,Dt=y[It];Dt<32?(Ue=Ft<<Dt|At>>>32-Dt,tt=At<<Dt|Ft>>>32-Dt):(Ue=At<<Dt-32|Ft>>>64-Dt,tt=Ft<<Dt-32|At>>>64-Dt);var Rt=$[k[It]];Rt.high=Ue,Rt.low=tt}var at=$[0],Ze=He[0];at.high=Ze.high,at.low=Ze.low;for(var Oe=0;Oe<5;Oe++)for(var bt=0;bt<5;bt++){var It=Oe+5*bt,Ge=He[It],vt=$[It],St=$[(Oe+1)%5+5*bt],$t=$[(Oe+2)%5+5*bt];Ge.high=vt.high^~St.high&$t.high,Ge.low=vt.low^~St.low&$t.low}var Ge=He[0],qt=G[Ve];Ge.high^=qt.high,Ge.low^=qt.low}},_doFinalize:function(){var Re=this._data,Ke=Re.words,He=this._nDataBytes*8,Ie=Re.sigBytes*8,Pe=this.blockSize*32;Ke[Ie>>>5]|=1<<24-Ie%32,Ke[(o.ceil((Ie+1)/Pe)*Pe>>>5)-1]|=128,Re.sigBytes=Ke.length*4,this._process();for(var Xe=this._state,Ne=this.cfg.outputLength/8,Ge=Ne/8,Ve=[],Oe=0;Oe<Ge;Oe++){var Ue=Xe[Oe],tt=Ue.high,bt=Ue.low;tt=(tt<<8|tt>>>24)&16711935|(tt<<24|tt>>>8)&4278255360,bt=(bt<<8|bt>>>24)&16711935|(bt<<24|bt>>>8)&4278255360,Ve.push(bt),Ve.push(tt)}return new s.init(Ve,Ne)},clone:function(){for(var Re=c.clone.call(this),Ke=Re._state=this._state.slice(0),He=0;He<25;He++)Ke[He]=Ke[He].clone();return Re}});e.SHA3=c._createHelper(Me),e.HmacSHA3=c._createHmacHelper(Me)}(Math),r.SHA3})});var PS=Zo((Mx,SS)=>{"use strict";(function(r,o){typeof Mx=="object"?SS.exports=Mx=o(sn()):typeof define=="function"&&define.amd?define(["./core"],o):o(r.CryptoJS)})(Mx,function(r){return function(o){var e=r,n=e.lib,s=n.WordArray,c=n.Hasher,u=e.algo,h=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),p=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),y=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),k=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),G=s.create([0,1518500249,1859775393,2400959708,2840853838]),$=s.create([1352829926,1548603684,1836072691,2053994217,0]),Me=u.RIPEMD160=c.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Ne,Ge){for(var Ve=0;Ve<16;Ve++){var Oe=Ge+Ve,Ue=Ne[Oe];Ne[Oe]=(Ue<<8|Ue>>>24)&16711935|(Ue<<24|Ue>>>8)&4278255360}var tt=this._hash.words,bt=G.words,lt=$.words,mt=h.words,ut=p.words,ht=y.words,Ct=k.words,It,Ft,At,Dt,Rt,at,Ze,vt,St,$t;at=It=tt[0],Ze=Ft=tt[1],vt=At=tt[2],St=Dt=tt[3],$t=Rt=tt[4];for(var qt,Ve=0;Ve<80;Ve+=1)qt=It+Ne[Ge+mt[Ve]]|0,Ve<16?qt+=Re(Ft,At,Dt)+bt[0]:Ve<32?qt+=Ke(Ft,At,Dt)+bt[1]:Ve<48?qt+=He(Ft,At,Dt)+bt[2]:Ve<64?qt+=Ie(Ft,At,Dt)+bt[3]:qt+=Pe(Ft,At,Dt)+bt[4],qt=qt|0,qt=Xe(qt,ht[Ve]),qt=qt+Rt|0,It=Rt,Rt=Dt,Dt=Xe(At,10),At=Ft,Ft=qt,qt=at+Ne[Ge+ut[Ve]]|0,Ve<16?qt+=Pe(Ze,vt,St)+lt[0]:Ve<32?qt+=Ie(Ze,vt,St)+lt[1]:Ve<48?qt+=He(Ze,vt,St)+lt[2]:Ve<64?qt+=Ke(Ze,vt,St)+lt[3]:qt+=Re(Ze,vt,St)+lt[4],qt=qt|0,qt=Xe(qt,Ct[Ve]),qt=qt+$t|0,at=$t,$t=St,St=Xe(vt,10),vt=Ze,Ze=qt;qt=tt[1]+At+St|0,tt[1]=tt[2]+Dt+$t|0,tt[2]=tt[3]+Rt+at|0,tt[3]=tt[4]+It+Ze|0,tt[4]=tt[0]+Ft+vt|0,tt[0]=qt},_doFinalize:function(){var Ne=this._data,Ge=Ne.words,Ve=this._nDataBytes*8,Oe=Ne.sigBytes*8;Ge[Oe>>>5]|=128<<24-Oe%32,Ge[(Oe+64>>>9<<4)+14]=(Ve<<8|Ve>>>24)&16711935|(Ve<<24|Ve>>>8)&4278255360,Ne.sigBytes=(Ge.length+1)*4,this._process();for(var Ue=this._hash,tt=Ue.words,bt=0;bt<5;bt++){var lt=tt[bt];tt[bt]=(lt<<8|lt>>>24)&16711935|(lt<<24|lt>>>8)&4278255360}return Ue},clone:function(){var Ne=c.clone.call(this);return Ne._hash=this._hash.clone(),Ne}});function Re(Ne,Ge,Ve){return Ne^Ge^Ve}function Ke(Ne,Ge,Ve){return Ne&Ge|~Ne&Ve}function He(Ne,Ge,Ve){return(Ne|~Ge)^Ve}function Ie(Ne,Ge,Ve){return Ne&Ve|Ge&~Ve}function Pe(Ne,Ge,Ve){return Ne^(Ge|~Ve)}function Xe(Ne,Ge){return Ne<<Ge|Ne>>>32-Ge}e.RIPEMD160=c._createHelper(Me),e.HmacRIPEMD160=c._createHmacHelper(Me)}(Math),r.RIPEMD160})});var Ex=Zo((Tx,AS)=>{"use strict";(function(r,o){typeof Tx=="object"?AS.exports=Tx=o(sn()):typeof define=="function"&&define.amd?define(["./core"],o):o(r.CryptoJS)})(Tx,function(r){(function(){var o=r,e=o.lib,n=e.Base,s=o.enc,c=s.Utf8,u=o.algo,h=u.HMAC=n.extend({init:function(p,y){p=this._hasher=new p.init,typeof y=="string"&&(y=c.parse(y));var k=p.blockSize,G=k*4;y.sigBytes>G&&(y=p.finalize(y)),y.clamp();for(var $=this._oKey=y.clone(),Me=this._iKey=y.clone(),Re=$.words,Ke=Me.words,He=0;He<k;He++)Re[He]^=1549556828,Ke[He]^=909522486;$.sigBytes=Me.sigBytes=G,this.reset()},reset:function(){var p=this._hasher;p.reset(),p.update(this._iKey)},update:function(p){return this._hasher.update(p),this},finalize:function(p){var y=this._hasher,k=y.finalize(p);y.reset();var G=y.finalize(this._oKey.clone().concat(k));return G}})})()})});var IS=Zo((Sx,BS)=>{"use strict";(function(r,o,e){typeof Sx=="object"?BS.exports=Sx=o(sn(),yx(),Ex()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],o):o(r.CryptoJS)})(Sx,function(r){return function(){var o=r,e=o.lib,n=e.Base,s=e.WordArray,c=o.algo,u=c.SHA256,h=c.HMAC,p=c.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:u,iterations:25e4}),init:function(y){this.cfg=this.cfg.extend(y)},compute:function(y,k){for(var G=this.cfg,$=h.create(G.hasher,y),Me=s.create(),Re=s.create([1]),Ke=Me.words,He=Re.words,Ie=G.keySize,Pe=G.iterations;Ke.length<Ie;){var Xe=$.update(k).finalize(Re);$.reset();for(var Ne=Xe.words,Ge=Ne.length,Ve=Xe,Oe=1;Oe<Pe;Oe++){Ve=$.finalize(Ve),$.reset();for(var Ue=Ve.words,tt=0;tt<Ge;tt++)Ne[tt]^=Ue[tt]}Me.concat(Xe),He[0]++}return Me.sigBytes=Ie*4,Me}});o.PBKDF2=function(y,k,G){return p.create(G).compute(y,k)}}(),r.PBKDF2})});var au=Zo((Px,DS)=>{"use strict";(function(r,o,e){typeof Px=="object"?DS.exports=Px=o(sn(),mC(),Ex()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],o):o(r.CryptoJS)})(Px,function(r){return function(){var o=r,e=o.lib,n=e.Base,s=e.WordArray,c=o.algo,u=c.MD5,h=c.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:u,iterations:1}),init:function(p){this.cfg=this.cfg.extend(p)},compute:function(p,y){for(var k,G=this.cfg,$=G.hasher.create(),Me=s.create(),Re=Me.words,Ke=G.keySize,He=G.iterations;Re.length<Ke;){k&&$.update(k),k=$.update(p).finalize(y),$.reset();for(var Ie=1;Ie<He;Ie++)k=$.finalize(k),$.reset();Me.concat(k)}return Me.sigBytes=Ke*4,Me}});o.EvpKDF=function(p,y,k){return h.create(k).compute(p,y)}}(),r.EvpKDF})});var Ci=Zo((Ax,FS)=>{"use strict";(function(r,o,e){typeof Ax=="object"?FS.exports=Ax=o(sn(),au()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],o):o(r.CryptoJS)})(Ax,function(r){r.lib.Cipher||function(o){var e=r,n=e.lib,s=n.Base,c=n.WordArray,u=n.BufferedBlockAlgorithm,h=e.enc,p=h.Utf8,y=h.Base64,k=e.algo,G=k.EvpKDF,$=n.Cipher=u.extend({cfg:s.extend(),createEncryptor:function(lt,mt){return this.create(this._ENC_XFORM_MODE,lt,mt)},createDecryptor:function(lt,mt){return this.create(this._DEC_XFORM_MODE,lt,mt)},init:function(lt,mt,ut){this.cfg=this.cfg.extend(ut),this._xformMode=lt,this._key=mt,this.reset()},reset:function(){u.reset.call(this),this._doReset()},process:function(lt){return this._append(lt),this._process()},finalize:function(lt){lt&&this._append(lt);var mt=this._doFinalize();return mt},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function lt(mt){return typeof mt=="string"?bt:Oe}return function(mt){return{encrypt:function(ut,ht,Ct){return lt(ht).encrypt(mt,ut,ht,Ct)},decrypt:function(ut,ht,Ct){return lt(ht).decrypt(mt,ut,ht,Ct)}}}}()}),Me=n.StreamCipher=$.extend({_doFinalize:function(){var lt=this._process(!0);return lt},blockSize:1}),Re=e.mode={},Ke=n.BlockCipherMode=s.extend({createEncryptor:function(lt,mt){return this.Encryptor.create(lt,mt)},createDecryptor:function(lt,mt){return this.Decryptor.create(lt,mt)},init:function(lt,mt){this._cipher=lt,this._iv=mt}}),He=Re.CBC=function(){var lt=Ke.extend();lt.Encryptor=lt.extend({processBlock:function(ut,ht){var Ct=this._cipher,It=Ct.blockSize;mt.call(this,ut,ht,It),Ct.encryptBlock(ut,ht),this._prevBlock=ut.slice(ht,ht+It)}}),lt.Decryptor=lt.extend({processBlock:function(ut,ht){var Ct=this._cipher,It=Ct.blockSize,Ft=ut.slice(ht,ht+It);Ct.decryptBlock(ut,ht),mt.call(this,ut,ht,It),this._prevBlock=Ft}});function mt(ut,ht,Ct){var It,Ft=this._iv;Ft?(It=Ft,this._iv=o):It=this._prevBlock;for(var At=0;At<Ct;At++)ut[ht+At]^=It[At]}return lt}(),Ie=e.pad={},Pe=Ie.Pkcs7={pad:function(lt,mt){for(var ut=mt*4,ht=ut-lt.sigBytes%ut,Ct=ht<<24|ht<<16|ht<<8|ht,It=[],Ft=0;Ft<ht;Ft+=4)It.push(Ct);var At=c.create(It,ht);lt.concat(At)},unpad:function(lt){var mt=lt.words[lt.sigBytes-1>>>2]&255;lt.sigBytes-=mt}},Xe=n.BlockCipher=$.extend({cfg:$.cfg.extend({mode:He,padding:Pe}),reset:function(){var lt;$.reset.call(this);var mt=this.cfg,ut=mt.iv,ht=mt.mode;this._xformMode==this._ENC_XFORM_MODE?lt=ht.createEncryptor:(lt=ht.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==lt?this._mode.init(this,ut&&ut.words):(this._mode=lt.call(ht,this,ut&&ut.words),this._mode.__creator=lt)},_doProcessBlock:function(lt,mt){this._mode.processBlock(lt,mt)},_doFinalize:function(){var lt,mt=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(mt.pad(this._data,this.blockSize),lt=this._process(!0)):(lt=this._process(!0),mt.unpad(lt)),lt},blockSize:128/32}),Ne=n.CipherParams=s.extend({init:function(lt){this.mixIn(lt)},toString:function(lt){return(lt||this.formatter).stringify(this)}}),Ge=e.format={},Ve=Ge.OpenSSL={stringify:function(lt){var mt,ut=lt.ciphertext,ht=lt.salt;return ht?mt=c.create([1398893684,1701076831]).concat(ht).concat(ut):mt=ut,mt.toString(y)},parse:function(lt){var mt,ut=y.parse(lt),ht=ut.words;return ht[0]==1398893684&&ht[1]==1701076831&&(mt=c.create(ht.slice(2,4)),ht.splice(0,4),ut.sigBytes-=16),Ne.create({ciphertext:ut,salt:mt})}},Oe=n.SerializableCipher=s.extend({cfg:s.extend({format:Ve}),encrypt:function(lt,mt,ut,ht){ht=this.cfg.extend(ht);var Ct=lt.createEncryptor(ut,ht),It=Ct.finalize(mt),Ft=Ct.cfg;return Ne.create({ciphertext:It,key:ut,iv:Ft.iv,algorithm:lt,mode:Ft.mode,padding:Ft.padding,blockSize:lt.blockSize,formatter:ht.format})},decrypt:function(lt,mt,ut,ht){ht=this.cfg.extend(ht),mt=this._parse(mt,ht.format);var Ct=lt.createDecryptor(ut,ht).finalize(mt.ciphertext);return Ct},_parse:function(lt,mt){return typeof lt=="string"?mt.parse(lt,this):lt}}),Ue=e.kdf={},tt=Ue.OpenSSL={execute:function(lt,mt,ut,ht,Ct){if(ht||(ht=c.random(64/8)),Ct)var It=G.create({keySize:mt+ut,hasher:Ct}).compute(lt,ht);else var It=G.create({keySize:mt+ut}).compute(lt,ht);var Ft=c.create(It.words.slice(mt),ut*4);return It.sigBytes=mt*4,Ne.create({key:It,iv:Ft,salt:ht})}},bt=n.PasswordBasedCipher=Oe.extend({cfg:Oe.cfg.extend({kdf:tt}),encrypt:function(lt,mt,ut,ht){ht=this.cfg.extend(ht);var Ct=ht.kdf.execute(ut,lt.keySize,lt.ivSize,ht.salt,ht.hasher);ht.iv=Ct.iv;var It=Oe.encrypt.call(this,lt,mt,Ct.key,ht);return It.mixIn(Ct),It},decrypt:function(lt,mt,ut,ht){ht=this.cfg.extend(ht),mt=this._parse(mt,ht.format);var Ct=ht.kdf.execute(ut,lt.keySize,lt.ivSize,mt.salt,ht.hasher);ht.iv=Ct.iv;var It=Oe.decrypt.call(this,lt,mt,Ct.key,ht);return It}})}()})});var OS=Zo((Bx,RS)=>{"use strict";(function(r,o,e){typeof Bx=="object"?RS.exports=Bx=o(sn(),Ci()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],o):o(r.CryptoJS)})(Bx,function(r){return r.mode.CFB=function(){var o=r.lib.BlockCipherMode.extend();o.Encryptor=o.extend({processBlock:function(n,s){var c=this._cipher,u=c.blockSize;e.call(this,n,s,u,c),this._prevBlock=n.slice(s,s+u)}}),o.Decryptor=o.extend({processBlock:function(n,s){var c=this._cipher,u=c.blockSize,h=n.slice(s,s+u);e.call(this,n,s,u,c),this._prevBlock=h}});function e(n,s,c,u){var h,p=this._iv;p?(h=p.slice(0),this._iv=void 0):h=this._prevBlock,u.encryptBlock(h,0);for(var y=0;y<c;y++)n[s+y]^=h[y]}return o}(),r.mode.CFB})});var LS=Zo((Ix,$S)=>{"use strict";(function(r,o,e){typeof Ix=="object"?$S.exports=Ix=o(sn(),Ci()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],o):o(r.CryptoJS)})(Ix,function(r){return r.mode.CTR=function(){var o=r.lib.BlockCipherMode.extend(),e=o.Encryptor=o.extend({processBlock:function(n,s){var c=this._cipher,u=c.blockSize,h=this._iv,p=this._counter;h&&(p=this._counter=h.slice(0),this._iv=void 0);var y=p.slice(0);c.encryptBlock(y,0),p[u-1]=p[u-1]+1|0;for(var k=0;k<u;k++)n[s+k]^=y[k]}});return o.Decryptor=e,o}(),r.mode.CTR})});var zS=Zo((Dx,NS)=>{"use strict";(function(r,o,e){typeof Dx=="object"?NS.exports=Dx=o(sn(),Ci()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],o):o(r.CryptoJS)})(Dx,function(r){return r.mode.CTRGladman=function(){var o=r.lib.BlockCipherMode.extend();function e(c){if((c>>24&255)===255){var u=c>>16&255,h=c>>8&255,p=c&255;u===255?(u=0,h===255?(h=0,p===255?p=0:++p):++h):++u,c=0,c+=u<<16,c+=h<<8,c+=p}else c+=1<<24;return c}function n(c){return(c[0]=e(c[0]))===0&&(c[1]=e(c[1])),c}var s=o.Encryptor=o.extend({processBlock:function(c,u){var h=this._cipher,p=h.blockSize,y=this._iv,k=this._counter;y&&(k=this._counter=y.slice(0),this._iv=void 0),n(k);var G=k.slice(0);h.encryptBlock(G,0);for(var $=0;$<p;$++)c[u+$]^=G[$]}});return o.Decryptor=s,o}(),r.mode.CTRGladman})});var VS=Zo((Fx,jS)=>{"use strict";(function(r,o,e){typeof Fx=="object"?jS.exports=Fx=o(sn(),Ci()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],o):o(r.CryptoJS)})(Fx,function(r){return r.mode.OFB=function(){var o=r.lib.BlockCipherMode.extend(),e=o.Encryptor=o.extend({processBlock:function(n,s){var c=this._cipher,u=c.blockSize,h=this._iv,p=this._keystream;h&&(p=this._keystream=h.slice(0),this._iv=void 0),c.encryptBlock(p,0);for(var y=0;y<u;y++)n[s+y]^=p[y]}});return o.Decryptor=e,o}(),r.mode.OFB})});var WS=Zo((Rx,US)=>{"use strict";(function(r,o,e){typeof Rx=="object"?US.exports=Rx=o(sn(),Ci()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],o):o(r.CryptoJS)})(Rx,function(r){return r.mode.ECB=function(){var o=r.lib.BlockCipherMode.extend();return o.Encryptor=o.extend({processBlock:function(e,n){this._cipher.encryptBlock(e,n)}}),o.Decryptor=o.extend({processBlock:function(e,n){this._cipher.decryptBlock(e,n)}}),o}(),r.mode.ECB})});var HS=Zo((Ox,GS)=>{"use strict";(function(r,o,e){typeof Ox=="object"?GS.exports=Ox=o(sn(),Ci()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],o):o(r.CryptoJS)})(Ox,function(r){return r.pad.AnsiX923={pad:function(o,e){var n=o.sigBytes,s=e*4,c=s-n%s,u=n+c-1;o.clamp(),o.words[u>>>2]|=c<<24-u%4*8,o.sigBytes+=c},unpad:function(o){var e=o.words[o.sigBytes-1>>>2]&255;o.sigBytes-=e}},r.pad.Ansix923})});var qS=Zo(($x,KS)=>{"use strict";(function(r,o,e){typeof $x=="object"?KS.exports=$x=o(sn(),Ci()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],o):o(r.CryptoJS)})($x,function(r){return r.pad.Iso10126={pad:function(o,e){var n=e*4,s=n-o.sigBytes%n;o.concat(r.lib.WordArray.random(s-1)).concat(r.lib.WordArray.create([s<<24],1))},unpad:function(o){var e=o.words[o.sigBytes-1>>>2]&255;o.sigBytes-=e}},r.pad.Iso10126})});var QS=Zo((Lx,XS)=>{"use strict";(function(r,o,e){typeof Lx=="object"?XS.exports=Lx=o(sn(),Ci()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],o):o(r.CryptoJS)})(Lx,function(r){return r.pad.Iso97971={pad:function(o,e){o.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(o,e)},unpad:function(o){r.pad.ZeroPadding.unpad(o),o.sigBytes--}},r.pad.Iso97971})});var JS=Zo((Nx,YS)=>{"use strict";(function(r,o,e){typeof Nx=="object"?YS.exports=Nx=o(sn(),Ci()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],o):o(r.CryptoJS)})(Nx,function(r){return r.pad.ZeroPadding={pad:function(o,e){var n=e*4;o.clamp(),o.sigBytes+=n-(o.sigBytes%n||n)},unpad:function(o){for(var e=o.words,n=o.sigBytes-1,n=o.sigBytes-1;n>=0;n--)if(e[n>>>2]>>>24-n%4*8&255){o.sigBytes=n+1;break}}},r.pad.ZeroPadding})});var e5=Zo((zx,ZS)=>{"use strict";(function(r,o,e){typeof zx=="object"?ZS.exports=zx=o(sn(),Ci()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],o):o(r.CryptoJS)})(zx,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})});var r5=Zo((jx,t5)=>{"use strict";(function(r,o,e){typeof jx=="object"?t5.exports=jx=o(sn(),Ci()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],o):o(r.CryptoJS)})(jx,function(r){return function(o){var e=r,n=e.lib,s=n.CipherParams,c=e.enc,u=c.Hex,h=e.format,p=h.Hex={stringify:function(y){return y.ciphertext.toString(u)},parse:function(y){var k=u.parse(y);return s.create({ciphertext:k})}}}(),r.format.Hex})});var n5=Zo((Vx,o5)=>{"use strict";(function(r,o,e){typeof Vx=="object"?o5.exports=Vx=o(sn(),tp(),rp(),au(),Ci()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],o):o(r.CryptoJS)})(Vx,function(r){return function(){var o=r,e=o.lib,n=e.BlockCipher,s=o.algo,c=[],u=[],h=[],p=[],y=[],k=[],G=[],$=[],Me=[],Re=[];(function(){for(var Ie=[],Pe=0;Pe<256;Pe++)Pe<128?Ie[Pe]=Pe<<1:Ie[Pe]=Pe<<1^283;for(var Xe=0,Ne=0,Pe=0;Pe<256;Pe++){var Ge=Ne^Ne<<1^Ne<<2^Ne<<3^Ne<<4;Ge=Ge>>>8^Ge&255^99,c[Xe]=Ge,u[Ge]=Xe;var Ve=Ie[Xe],Oe=Ie[Ve],Ue=Ie[Oe],tt=Ie[Ge]*257^Ge*16843008;h[Xe]=tt<<24|tt>>>8,p[Xe]=tt<<16|tt>>>16,y[Xe]=tt<<8|tt>>>24,k[Xe]=tt;var tt=Ue*16843009^Oe*65537^Ve*257^Xe*16843008;G[Ge]=tt<<24|tt>>>8,$[Ge]=tt<<16|tt>>>16,Me[Ge]=tt<<8|tt>>>24,Re[Ge]=tt,Xe?(Xe=Ve^Ie[Ie[Ie[Ue^Ve]]],Ne^=Ie[Ie[Ne]]):Xe=Ne=1}})();var Ke=[0,1,2,4,8,16,32,64,128,27,54],He=s.AES=n.extend({_doReset:function(){var Ie;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var Pe=this._keyPriorReset=this._key,Xe=Pe.words,Ne=Pe.sigBytes/4,Ge=this._nRounds=Ne+6,Ve=(Ge+1)*4,Oe=this._keySchedule=[],Ue=0;Ue<Ve;Ue++)Ue<Ne?Oe[Ue]=Xe[Ue]:(Ie=Oe[Ue-1],Ue%Ne?Ne>6&&Ue%Ne==4&&(Ie=c[Ie>>>24]<<24|c[Ie>>>16&255]<<16|c[Ie>>>8&255]<<8|c[Ie&255]):(Ie=Ie<<8|Ie>>>24,Ie=c[Ie>>>24]<<24|c[Ie>>>16&255]<<16|c[Ie>>>8&255]<<8|c[Ie&255],Ie^=Ke[Ue/Ne|0]<<24),Oe[Ue]=Oe[Ue-Ne]^Ie);for(var tt=this._invKeySchedule=[],bt=0;bt<Ve;bt++){var Ue=Ve-bt;if(bt%4)var Ie=Oe[Ue];else var Ie=Oe[Ue-4];bt<4||Ue<=4?tt[bt]=Ie:tt[bt]=G[c[Ie>>>24]]^$[c[Ie>>>16&255]]^Me[c[Ie>>>8&255]]^Re[c[Ie&255]]}}},encryptBlock:function(Ie,Pe){this._doCryptBlock(Ie,Pe,this._keySchedule,h,p,y,k,c)},decryptBlock:function(Ie,Pe){var Xe=Ie[Pe+1];Ie[Pe+1]=Ie[Pe+3],Ie[Pe+3]=Xe,this._doCryptBlock(Ie,Pe,this._invKeySchedule,G,$,Me,Re,u);var Xe=Ie[Pe+1];Ie[Pe+1]=Ie[Pe+3],Ie[Pe+3]=Xe},_doCryptBlock:function(Ie,Pe,Xe,Ne,Ge,Ve,Oe,Ue){for(var tt=this._nRounds,bt=Ie[Pe]^Xe[0],lt=Ie[Pe+1]^Xe[1],mt=Ie[Pe+2]^Xe[2],ut=Ie[Pe+3]^Xe[3],ht=4,Ct=1;Ct<tt;Ct++){var It=Ne[bt>>>24]^Ge[lt>>>16&255]^Ve[mt>>>8&255]^Oe[ut&255]^Xe[ht++],Ft=Ne[lt>>>24]^Ge[mt>>>16&255]^Ve[ut>>>8&255]^Oe[bt&255]^Xe[ht++],At=Ne[mt>>>24]^Ge[ut>>>16&255]^Ve[bt>>>8&255]^Oe[lt&255]^Xe[ht++],Dt=Ne[ut>>>24]^Ge[bt>>>16&255]^Ve[lt>>>8&255]^Oe[mt&255]^Xe[ht++];bt=It,lt=Ft,mt=At,ut=Dt}var It=(Ue[bt>>>24]<<24|Ue[lt>>>16&255]<<16|Ue[mt>>>8&255]<<8|Ue[ut&255])^Xe[ht++],Ft=(Ue[lt>>>24]<<24|Ue[mt>>>16&255]<<16|Ue[ut>>>8&255]<<8|Ue[bt&255])^Xe[ht++],At=(Ue[mt>>>24]<<24|Ue[ut>>>16&255]<<16|Ue[bt>>>8&255]<<8|Ue[lt&255])^Xe[ht++],Dt=(Ue[ut>>>24]<<24|Ue[bt>>>16&255]<<16|Ue[lt>>>8&255]<<8|Ue[mt&255])^Xe[ht++];Ie[Pe]=It,Ie[Pe+1]=Ft,Ie[Pe+2]=At,Ie[Pe+3]=Dt},keySize:256/32});o.AES=n._createHelper(He)}(),r.AES})});var a5=Zo((Ux,i5)=>{"use strict";(function(r,o,e){typeof Ux=="object"?i5.exports=Ux=o(sn(),tp(),rp(),au(),Ci()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],o):o(r.CryptoJS)})(Ux,function(r){return function(){var o=r,e=o.lib,n=e.WordArray,s=e.BlockCipher,c=o.algo,u=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],h=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],p=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],y=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],k=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],G=c.DES=s.extend({_doReset:function(){for(var Ke=this._key,He=Ke.words,Ie=[],Pe=0;Pe<56;Pe++){var Xe=u[Pe]-1;Ie[Pe]=He[Xe>>>5]>>>31-Xe%32&1}for(var Ne=this._subKeys=[],Ge=0;Ge<16;Ge++){for(var Ve=Ne[Ge]=[],Oe=p[Ge],Pe=0;Pe<24;Pe++)Ve[Pe/6|0]|=Ie[(h[Pe]-1+Oe)%28]<<31-Pe%6,Ve[4+(Pe/6|0)]|=Ie[28+(h[Pe+24]-1+Oe)%28]<<31-Pe%6;Ve[0]=Ve[0]<<1|Ve[0]>>>31;for(var Pe=1;Pe<7;Pe++)Ve[Pe]=Ve[Pe]>>>(Pe-1)*4+3;Ve[7]=Ve[7]<<5|Ve[7]>>>27}for(var Ue=this._invSubKeys=[],Pe=0;Pe<16;Pe++)Ue[Pe]=Ne[15-Pe]},encryptBlock:function(Ke,He){this._doCryptBlock(Ke,He,this._subKeys)},decryptBlock:function(Ke,He){this._doCryptBlock(Ke,He,this._invSubKeys)},_doCryptBlock:function(Ke,He,Ie){this._lBlock=Ke[He],this._rBlock=Ke[He+1],$.call(this,4,252645135),$.call(this,16,65535),Me.call(this,2,858993459),Me.call(this,8,16711935),$.call(this,1,1431655765);for(var Pe=0;Pe<16;Pe++){for(var Xe=Ie[Pe],Ne=this._lBlock,Ge=this._rBlock,Ve=0,Oe=0;Oe<8;Oe++)Ve|=y[Oe][((Ge^Xe[Oe])&k[Oe])>>>0];this._lBlock=Ge,this._rBlock=Ne^Ve}var Ue=this._lBlock;this._lBlock=this._rBlock,this._rBlock=Ue,$.call(this,1,1431655765),Me.call(this,8,16711935),Me.call(this,2,858993459),$.call(this,16,65535),$.call(this,4,252645135),Ke[He]=this._lBlock,Ke[He+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function $(Ke,He){var Ie=(this._lBlock>>>Ke^this._rBlock)&He;this._rBlock^=Ie,this._lBlock^=Ie<<Ke}function Me(Ke,He){var Ie=(this._rBlock>>>Ke^this._lBlock)&He;this._lBlock^=Ie,this._rBlock^=Ie<<Ke}o.DES=s._createHelper(G);var Re=c.TripleDES=s.extend({_doReset:function(){var Ke=this._key,He=Ke.words;if(He.length!==2&&He.length!==4&&He.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var Ie=He.slice(0,2),Pe=He.length<4?He.slice(0,2):He.slice(2,4),Xe=He.length<6?He.slice(0,2):He.slice(4,6);this._des1=G.createEncryptor(n.create(Ie)),this._des2=G.createEncryptor(n.create(Pe)),this._des3=G.createEncryptor(n.create(Xe))},encryptBlock:function(Ke,He){this._des1.encryptBlock(Ke,He),this._des2.decryptBlock(Ke,He),this._des3.encryptBlock(Ke,He)},decryptBlock:function(Ke,He){this._des3.decryptBlock(Ke,He),this._des2.encryptBlock(Ke,He),this._des1.decryptBlock(Ke,He)},keySize:192/32,ivSize:64/32,blockSize:64/32});o.TripleDES=s._createHelper(Re)}(),r.TripleDES})});var l5=Zo((Wx,s5)=>{"use strict";(function(r,o,e){typeof Wx=="object"?s5.exports=Wx=o(sn(),tp(),rp(),au(),Ci()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],o):o(r.CryptoJS)})(Wx,function(r){return function(){var o=r,e=o.lib,n=e.StreamCipher,s=o.algo,c=s.RC4=n.extend({_doReset:function(){for(var p=this._key,y=p.words,k=p.sigBytes,G=this._S=[],$=0;$<256;$++)G[$]=$;for(var $=0,Me=0;$<256;$++){var Re=$%k,Ke=y[Re>>>2]>>>24-Re%4*8&255;Me=(Me+G[$]+Ke)%256;var He=G[$];G[$]=G[Me],G[Me]=He}this._i=this._j=0},_doProcessBlock:function(p,y){p[y]^=u.call(this)},keySize:256/32,ivSize:0});function u(){for(var p=this._S,y=this._i,k=this._j,G=0,$=0;$<4;$++){y=(y+1)%256,k=(k+p[y])%256;var Me=p[y];p[y]=p[k],p[k]=Me,G|=p[(p[y]+p[k])%256]<<24-$*8}return this._i=y,this._j=k,G}o.RC4=n._createHelper(c);var h=s.RC4Drop=c.extend({cfg:c.cfg.extend({drop:192}),_doReset:function(){c._doReset.call(this);for(var p=this.cfg.drop;p>0;p--)u.call(this)}});o.RC4Drop=n._createHelper(h)}(),r.RC4})});var d5=Zo((Gx,c5)=>{"use strict";(function(r,o,e){typeof Gx=="object"?c5.exports=Gx=o(sn(),tp(),rp(),au(),Ci()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],o):o(r.CryptoJS)})(Gx,function(r){return function(){var o=r,e=o.lib,n=e.StreamCipher,s=o.algo,c=[],u=[],h=[],p=s.Rabbit=n.extend({_doReset:function(){for(var k=this._key.words,G=this.cfg.iv,$=0;$<4;$++)k[$]=(k[$]<<8|k[$]>>>24)&16711935|(k[$]<<24|k[$]>>>8)&4278255360;var Me=this._X=[k[0],k[3]<<16|k[2]>>>16,k[1],k[0]<<16|k[3]>>>16,k[2],k[1]<<16|k[0]>>>16,k[3],k[2]<<16|k[1]>>>16],Re=this._C=[k[2]<<16|k[2]>>>16,k[0]&4294901760|k[1]&65535,k[3]<<16|k[3]>>>16,k[1]&4294901760|k[2]&65535,k[0]<<16|k[0]>>>16,k[2]&4294901760|k[3]&65535,k[1]<<16|k[1]>>>16,k[3]&4294901760|k[0]&65535];this._b=0;for(var $=0;$<4;$++)y.call(this);for(var $=0;$<8;$++)Re[$]^=Me[$+4&7];if(G){var Ke=G.words,He=Ke[0],Ie=Ke[1],Pe=(He<<8|He>>>24)&16711935|(He<<24|He>>>8)&4278255360,Xe=(Ie<<8|Ie>>>24)&16711935|(Ie<<24|Ie>>>8)&4278255360,Ne=Pe>>>16|Xe&4294901760,Ge=Xe<<16|Pe&65535;Re[0]^=Pe,Re[1]^=Ne,Re[2]^=Xe,Re[3]^=Ge,Re[4]^=Pe,Re[5]^=Ne,Re[6]^=Xe,Re[7]^=Ge;for(var $=0;$<4;$++)y.call(this)}},_doProcessBlock:function(k,G){var $=this._X;y.call(this),c[0]=$[0]^$[5]>>>16^$[3]<<16,c[1]=$[2]^$[7]>>>16^$[5]<<16,c[2]=$[4]^$[1]>>>16^$[7]<<16,c[3]=$[6]^$[3]>>>16^$[1]<<16;for(var Me=0;Me<4;Me++)c[Me]=(c[Me]<<8|c[Me]>>>24)&16711935|(c[Me]<<24|c[Me]>>>8)&4278255360,k[G+Me]^=c[Me]},blockSize:128/32,ivSize:64/32});function y(){for(var k=this._X,G=this._C,$=0;$<8;$++)u[$]=G[$];G[0]=G[0]+1295307597+this._b|0,G[1]=G[1]+3545052371+(G[0]>>>0<u[0]>>>0?1:0)|0,G[2]=G[2]+886263092+(G[1]>>>0<u[1]>>>0?1:0)|0,G[3]=G[3]+1295307597+(G[2]>>>0<u[2]>>>0?1:0)|0,G[4]=G[4]+3545052371+(G[3]>>>0<u[3]>>>0?1:0)|0,G[5]=G[5]+886263092+(G[4]>>>0<u[4]>>>0?1:0)|0,G[6]=G[6]+1295307597+(G[5]>>>0<u[5]>>>0?1:0)|0,G[7]=G[7]+3545052371+(G[6]>>>0<u[6]>>>0?1:0)|0,this._b=G[7]>>>0<u[7]>>>0?1:0;for(var $=0;$<8;$++){var Me=k[$]+G[$],Re=Me&65535,Ke=Me>>>16,He=((Re*Re>>>17)+Re*Ke>>>15)+Ke*Ke,Ie=((Me&4294901760)*Me|0)+((Me&65535)*Me|0);h[$]=He^Ie}k[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,k[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,k[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,k[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,k[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,k[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,k[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,k[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}o.Rabbit=n._createHelper(p)}(),r.Rabbit})});var p5=Zo((Hx,u5)=>{"use strict";(function(r,o,e){typeof Hx=="object"?u5.exports=Hx=o(sn(),tp(),rp(),au(),Ci()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],o):o(r.CryptoJS)})(Hx,function(r){return function(){var o=r,e=o.lib,n=e.StreamCipher,s=o.algo,c=[],u=[],h=[],p=s.RabbitLegacy=n.extend({_doReset:function(){var k=this._key.words,G=this.cfg.iv,$=this._X=[k[0],k[3]<<16|k[2]>>>16,k[1],k[0]<<16|k[3]>>>16,k[2],k[1]<<16|k[0]>>>16,k[3],k[2]<<16|k[1]>>>16],Me=this._C=[k[2]<<16|k[2]>>>16,k[0]&4294901760|k[1]&65535,k[3]<<16|k[3]>>>16,k[1]&4294901760|k[2]&65535,k[0]<<16|k[0]>>>16,k[2]&4294901760|k[3]&65535,k[1]<<16|k[1]>>>16,k[3]&4294901760|k[0]&65535];this._b=0;for(var Re=0;Re<4;Re++)y.call(this);for(var Re=0;Re<8;Re++)Me[Re]^=$[Re+4&7];if(G){var Ke=G.words,He=Ke[0],Ie=Ke[1],Pe=(He<<8|He>>>24)&16711935|(He<<24|He>>>8)&4278255360,Xe=(Ie<<8|Ie>>>24)&16711935|(Ie<<24|Ie>>>8)&4278255360,Ne=Pe>>>16|Xe&4294901760,Ge=Xe<<16|Pe&65535;Me[0]^=Pe,Me[1]^=Ne,Me[2]^=Xe,Me[3]^=Ge,Me[4]^=Pe,Me[5]^=Ne,Me[6]^=Xe,Me[7]^=Ge;for(var Re=0;Re<4;Re++)y.call(this)}},_doProcessBlock:function(k,G){var $=this._X;y.call(this),c[0]=$[0]^$[5]>>>16^$[3]<<16,c[1]=$[2]^$[7]>>>16^$[5]<<16,c[2]=$[4]^$[1]>>>16^$[7]<<16,c[3]=$[6]^$[3]>>>16^$[1]<<16;for(var Me=0;Me<4;Me++)c[Me]=(c[Me]<<8|c[Me]>>>24)&16711935|(c[Me]<<24|c[Me]>>>8)&4278255360,k[G+Me]^=c[Me]},blockSize:128/32,ivSize:64/32});function y(){for(var k=this._X,G=this._C,$=0;$<8;$++)u[$]=G[$];G[0]=G[0]+1295307597+this._b|0,G[1]=G[1]+3545052371+(G[0]>>>0<u[0]>>>0?1:0)|0,G[2]=G[2]+886263092+(G[1]>>>0<u[1]>>>0?1:0)|0,G[3]=G[3]+1295307597+(G[2]>>>0<u[2]>>>0?1:0)|0,G[4]=G[4]+3545052371+(G[3]>>>0<u[3]>>>0?1:0)|0,G[5]=G[5]+886263092+(G[4]>>>0<u[4]>>>0?1:0)|0,G[6]=G[6]+1295307597+(G[5]>>>0<u[5]>>>0?1:0)|0,G[7]=G[7]+3545052371+(G[6]>>>0<u[6]>>>0?1:0)|0,this._b=G[7]>>>0<u[7]>>>0?1:0;for(var $=0;$<8;$++){var Me=k[$]+G[$],Re=Me&65535,Ke=Me>>>16,He=((Re*Re>>>17)+Re*Ke>>>15)+Ke*Ke,Ie=((Me&4294901760)*Me|0)+((Me&65535)*Me|0);h[$]=He^Ie}k[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,k[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,k[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,k[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,k[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,k[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,k[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,k[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}o.RabbitLegacy=n._createHelper(p)}(),r.RabbitLegacy})});var h5=Zo((Kx,f5)=>{"use strict";(function(r,o,e){typeof Kx=="object"?f5.exports=Kx=o(sn(),tp(),rp(),au(),Ci()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],o):o(r.CryptoJS)})(Kx,function(r){return function(){var o=r,e=o.lib,n=e.BlockCipher,s=o.algo;let c=16,u=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],h=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var p={pbox:[],sbox:[]};function y(Re,Ke){let He=Ke>>24&255,Ie=Ke>>16&255,Pe=Ke>>8&255,Xe=Ke&255,Ne=Re.sbox[0][He]+Re.sbox[1][Ie];return Ne=Ne^Re.sbox[2][Pe],Ne=Ne+Re.sbox[3][Xe],Ne}function k(Re,Ke,He){let Ie=Ke,Pe=He,Xe;for(let Ne=0;Ne<c;++Ne)Ie=Ie^Re.pbox[Ne],Pe=y(Re,Ie)^Pe,Xe=Ie,Ie=Pe,Pe=Xe;return Xe=Ie,Ie=Pe,Pe=Xe,Pe=Pe^Re.pbox[c],Ie=Ie^Re.pbox[c+1],{left:Ie,right:Pe}}function G(Re,Ke,He){let Ie=Ke,Pe=He,Xe;for(let Ne=c+1;Ne>1;--Ne)Ie=Ie^Re.pbox[Ne],Pe=y(Re,Ie)^Pe,Xe=Ie,Ie=Pe,Pe=Xe;return Xe=Ie,Ie=Pe,Pe=Xe,Pe=Pe^Re.pbox[1],Ie=Ie^Re.pbox[0],{left:Ie,right:Pe}}function $(Re,Ke,He){for(let Ge=0;Ge<4;Ge++){Re.sbox[Ge]=[];for(let Ve=0;Ve<256;Ve++)Re.sbox[Ge][Ve]=h[Ge][Ve]}let Ie=0;for(let Ge=0;Ge<c+2;Ge++)Re.pbox[Ge]=u[Ge]^Ke[Ie],Ie++,Ie>=He&&(Ie=0);let Pe=0,Xe=0,Ne=0;for(let Ge=0;Ge<c+2;Ge+=2)Ne=k(Re,Pe,Xe),Pe=Ne.left,Xe=Ne.right,Re.pbox[Ge]=Pe,Re.pbox[Ge+1]=Xe;for(let Ge=0;Ge<4;Ge++)for(let Ve=0;Ve<256;Ve+=2)Ne=k(Re,Pe,Xe),Pe=Ne.left,Xe=Ne.right,Re.sbox[Ge][Ve]=Pe,Re.sbox[Ge][Ve+1]=Xe;return!0}var Me=s.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var Re=this._keyPriorReset=this._key,Ke=Re.words,He=Re.sigBytes/4;$(p,Ke,He)}},encryptBlock:function(Re,Ke){var He=k(p,Re[Ke],Re[Ke+1]);Re[Ke]=He.left,Re[Ke+1]=He.right},decryptBlock:function(Re,Ke){var He=G(p,Re[Ke],Re[Ke+1]);Re[Ke]=He.left,Re[Ke+1]=He.right},blockSize:64/32,keySize:128/32,ivSize:64/32});o.Blowfish=n._createHelper(Me)}(),r.Blowfish})});var g5=Zo((qx,m5)=>{"use strict";(function(r,o,e){typeof qx=="object"?m5.exports=qx=o(sn(),Ov(),pS(),hS(),tp(),_S(),rp(),mC(),yx(),wS(),gC(),MS(),ES(),PS(),Ex(),IS(),au(),Ci(),OS(),LS(),zS(),VS(),WS(),HS(),qS(),QS(),JS(),e5(),r5(),n5(),a5(),l5(),d5(),p5(),h5()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],o):r.CryptoJS=o(r.CryptoJS)})(qx,function(r){return r})});var lv=class{},cv=class{},_d=class r{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(o){o?typeof o=="string"?this.lazyInit=()=>{this.headers=new Map,o.split(`
`).forEach(e=>{let n=e.indexOf(":");if(n>0){let s=e.slice(0,n),c=e.slice(n+1).trim();this.addHeaderEntry(s,c)}})}:typeof Headers<"u"&&o instanceof Headers?(this.headers=new Map,o.forEach((e,n)=>{this.addHeaderEntry(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(o).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(o){return this.init(),this.headers.has(o.toLowerCase())}get(o){this.init();let e=this.headers.get(o.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(o){return this.init(),this.headers.get(o.toLowerCase())||null}append(o,e){return this.clone({name:o,value:e,op:"a"})}set(o,e){return this.clone({name:o,value:e,op:"s"})}delete(o,e){return this.clone({name:o,value:e,op:"d"})}maybeSetNormalizedName(o,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,o)}init(){this.lazyInit&&(this.lazyInit instanceof r?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(o=>this.applyUpdate(o)),this.lazyUpdate=null))}copyFrom(o){o.init(),Array.from(o.headers.keys()).forEach(e=>{this.headers.set(e,o.headers.get(e)),this.normalizedNames.set(e,o.normalizedNames.get(e))})}clone(o){let e=new r;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof r?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([o]),e}applyUpdate(o){let e=o.name.toLowerCase();switch(o.op){case"a":case"s":let n=o.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(o.name,e);let s=(o.op==="a"?this.headers.get(e):void 0)||[];s.push(...n),this.headers.set(e,s);break;case"d":let c=o.value;if(!c)this.headers.delete(e),this.normalizedNames.delete(e);else{let u=this.headers.get(e);if(!u)return;u=u.filter(h=>c.indexOf(h)===-1),u.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}break}}addHeaderEntry(o,e){let n=o.toLowerCase();this.maybeSetNormalizedName(o,n),this.headers.has(n)?this.headers.get(n).push(e):this.headers.set(n,[e])}setHeaderEntries(o,e){let n=(Array.isArray(e)?e:[e]).map(c=>c.toString()),s=o.toLowerCase();this.headers.set(s,n),this.maybeSetNormalizedName(o,s)}forEach(o){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>o(this.normalizedNames.get(e),this.headers.get(e)))}};var d2=class{encodeKey(o){return ZM(o)}encodeValue(o){return ZM(o)}decodeKey(o){return decodeURIComponent(o)}decodeValue(o){return decodeURIComponent(o)}};function LD(r,o){let e=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(s=>{let c=s.indexOf("="),[u,h]=c==-1?[o.decodeKey(s),""]:[o.decodeKey(s.slice(0,c)),o.decodeValue(s.slice(c+1))],p=e.get(u)||[];p.push(h),e.set(u,p)}),e}var ND=/%(\d[a-f0-9])/gi,zD={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ZM(r){return encodeURIComponent(r).replace(ND,(o,e)=>zD[e]??o)}function Ty(r){return`${r}`}var Vu=class r{map;encoder;updates=null;cloneFrom=null;constructor(o={}){if(this.encoder=o.encoder||new d2,o.fromString){if(o.fromObject)throw new In(2805,!1);this.map=LD(o.fromString,this.encoder)}else o.fromObject?(this.map=new Map,Object.keys(o.fromObject).forEach(e=>{let n=o.fromObject[e],s=Array.isArray(n)?n.map(Ty):[Ty(n)];this.map.set(e,s)})):this.map=null}has(o){return this.init(),this.map.has(o)}get(o){this.init();let e=this.map.get(o);return e?e[0]:null}getAll(o){return this.init(),this.map.get(o)||null}keys(){return this.init(),Array.from(this.map.keys())}append(o,e){return this.clone({param:o,value:e,op:"a"})}appendAll(o){let e=[];return Object.keys(o).forEach(n=>{let s=o[n];Array.isArray(s)?s.forEach(c=>{e.push({param:n,value:c,op:"a"})}):e.push({param:n,value:s,op:"a"})}),this.clone(e)}set(o,e){return this.clone({param:o,value:e,op:"s"})}delete(o,e){return this.clone({param:o,value:e,op:"d"})}toString(){return this.init(),this.keys().map(o=>{let e=this.encoder.encodeKey(o);return this.map.get(o).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(o=>o!=="").join("&")}clone(o){let e=new r({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(o),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(o=>this.map.set(o,this.cloneFrom.map.get(o))),this.updates.forEach(o=>{switch(o.op){case"a":case"s":let e=(o.op==="a"?this.map.get(o.param):void 0)||[];e.push(Ty(o.value)),this.map.set(o.param,e);break;case"d":if(o.value!==void 0){let n=this.map.get(o.param)||[],s=n.indexOf(Ty(o.value));s!==-1&&n.splice(s,1),n.length>0?this.map.set(o.param,n):this.map.delete(o.param)}else{this.map.delete(o.param);break}}}),this.cloneFrom=this.updates=null)}};var u2=class{map=new Map;set(o,e){return this.map.set(o,e),this}get(o){return this.map.has(o)||this.map.set(o,o.defaultValue()),this.map.get(o)}delete(o){return this.map.delete(o),this}has(o){return this.map.has(o)}keys(){return this.map.keys()}};function jD(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function eT(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function tT(r){return typeof Blob<"u"&&r instanceof Blob}function rT(r){return typeof FormData<"u"&&r instanceof FormData}function VD(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}var av="Content-Type",Ey="Accept",h2="X-Request-URL",aT="text/plain",sT="application/json",lT=`${sT}, ${aT}, */*`,sv=class r{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(o,e,n,s){this.url=e,this.method=o.toUpperCase();let c;if(jD(this.method)||s?(this.body=n!==void 0?n:null,c=s):c=n,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params),this.transferCache=c.transferCache),this.headers??=new _d,this.context??=new u2,!this.params)this.params=new Vu,this.urlWithParams=e;else{let u=this.params.toString();if(u.length===0)this.urlWithParams=e;else{let h=e.indexOf("?"),p=h===-1?"?":h<e.length-1?"&":"";this.urlWithParams=e+p+u}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||eT(this.body)||tT(this.body)||rT(this.body)||VD(this.body)?this.body:this.body instanceof Vu?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||rT(this.body)?null:tT(this.body)?this.body.type||null:eT(this.body)?null:typeof this.body=="string"?aT:this.body instanceof Vu?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?sT:null}clone(o={}){let e=o.method||this.method,n=o.url||this.url,s=o.responseType||this.responseType,c=o.transferCache??this.transferCache,u=o.body!==void 0?o.body:this.body,h=o.withCredentials??this.withCredentials,p=o.reportProgress??this.reportProgress,y=o.headers||this.headers,k=o.params||this.params,G=o.context??this.context;return o.setHeaders!==void 0&&(y=Object.keys(o.setHeaders).reduce(($,Me)=>$.set(Me,o.setHeaders[Me]),y)),o.setParams&&(k=Object.keys(o.setParams).reduce(($,Me)=>$.set(Me,o.setParams[Me]),k)),new r(e,n,u,{params:k,headers:y,context:G,reportProgress:p,responseType:s,withCredentials:h,transferCache:c})}},Uu=function(r){return r[r.Sent=0]="Sent",r[r.UploadProgress=1]="UploadProgress",r[r.ResponseHeader=2]="ResponseHeader",r[r.DownloadProgress=3]="DownloadProgress",r[r.Response=4]="Response",r[r.User=5]="User",r}(Uu||{}),dv=class{headers;status;statusText;url;ok;type;constructor(o,e=200,n="OK"){this.headers=o.headers||new _d,this.status=o.status!==void 0?o.status:e,this.statusText=o.statusText||n,this.url=o.url||null,this.ok=this.status>=200&&this.status<300}},Sy=class r extends dv{constructor(o={}){super(o)}type=Uu.ResponseHeader;clone(o={}){return new r({headers:o.headers||this.headers,status:o.status!==void 0?o.status:this.status,statusText:o.statusText||this.statusText,url:o.url||this.url||void 0})}},uv=class r extends dv{body;constructor(o={}){super(o),this.body=o.body!==void 0?o.body:null}type=Uu.Response;clone(o={}){return new r({body:o.body!==void 0?o.body:this.body,headers:o.headers||this.headers,status:o.status!==void 0?o.status:this.status,statusText:o.statusText||this.statusText,url:o.url||this.url||void 0})}},ju=class extends dv{name="HttpErrorResponse";message;error;ok=!1;constructor(o){super(o,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${o.url||"(unknown url)"}`:this.message=`Http failure response for ${o.url||"(unknown url)"}: ${o.status} ${o.statusText}`,this.error=o.error||null}},cT=200,UD=204;function l2(r,o){return{body:o,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials,transferCache:r.transferCache}}var m2=(()=>{class r{handler;constructor(e){this.handler=e}request(e,n,s={}){let c;if(e instanceof sv)c=e;else{let p;s.headers instanceof _d?p=s.headers:p=new _d(s.headers);let y;s.params&&(s.params instanceof Vu?y=s.params:y=new Vu({fromObject:s.params})),c=new sv(e,n,s.body!==void 0?s.body:null,{headers:p,context:s.context,params:y,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let u=bo(c).pipe(Ou(p=>this.handler.handle(p)));if(e instanceof sv||s.observe==="events")return u;let h=u.pipe(ts(p=>p instanceof uv));switch(s.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return h.pipe(jo(p=>{if(p.body!==null&&!(p.body instanceof ArrayBuffer))throw new In(2806,!1);return p.body}));case"blob":return h.pipe(jo(p=>{if(p.body!==null&&!(p.body instanceof Blob))throw new In(2807,!1);return p.body}));case"text":return h.pipe(jo(p=>{if(p.body!==null&&typeof p.body!="string")throw new In(2808,!1);return p.body}));case"json":default:return h.pipe(jo(p=>p.body))}case"response":return h;default:throw new In(2809,!1)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:new Vu().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,s={}){return this.request("PATCH",e,l2(s,n))}post(e,n,s={}){return this.request("POST",e,l2(s,n))}put(e,n,s={}){return this.request("PUT",e,l2(s,n))}static \u0275fac=function(n){return new(n||r)(Ao(lv))};static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})(),WD=/^\)\]\}',?\n/;function oT(r){if(r.url)return r.url;let o=h2.toLocaleLowerCase();return r.headers.get(o)}var dT=new rn(""),c2=(()=>{class r{fetchImpl=wr(p2,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e));ngZone=wr($i);handle(e){return new Hw(n=>{let s=new AbortController;return this.doRequest(e,s.signal,n).then(f2,c=>n.error(new ju({error:c}))),()=>s.abort()})}doRequest(e,n,s){return ot(this,null,function*(){let c=this.createRequestInit(e),u;try{let Me=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,Vt({signal:n},c)));GD(Me),s.next({type:Uu.Sent}),u=yield Me}catch(Me){s.error(new ju({error:Me,status:Me.status??0,statusText:Me.statusText,url:e.urlWithParams,headers:Me.headers}));return}let h=new _d(u.headers),p=u.statusText,y=oT(u)??e.urlWithParams,k=u.status,G=null;if(e.reportProgress&&s.next(new Sy({headers:h,status:k,statusText:p,url:y})),u.body){let Me=u.headers.get("content-length"),Re=[],Ke=u.body.getReader(),He=0,Ie,Pe,Xe=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>ot(this,null,function*(){for(;;){let{done:Ge,value:Ve}=yield Ke.read();if(Ge)break;if(Re.push(Ve),He+=Ve.length,e.reportProgress){Pe=e.responseType==="text"?(Pe??"")+(Ie??=new TextDecoder).decode(Ve,{stream:!0}):void 0;let Oe=()=>s.next({type:Uu.DownloadProgress,total:Me?+Me:void 0,loaded:He,partialText:Pe});Xe?Xe.run(Oe):Oe()}}}));let Ne=this.concatChunks(Re,He);try{let Ge=u.headers.get(av)??"";G=this.parseBody(e,Ne,Ge)}catch(Ge){s.error(new ju({error:Ge,headers:new _d(u.headers),status:u.status,statusText:u.statusText,url:oT(u)??e.urlWithParams}));return}}k===0&&(k=G?cT:0),k>=200&&k<300?(s.next(new uv({body:G,headers:h,status:k,statusText:p,url:y})),s.complete()):s.error(new ju({error:G,headers:h,status:k,statusText:p,url:y}))})}parseBody(e,n,s){switch(e.responseType){case"json":let c=new TextDecoder().decode(n).replace(WD,"");return c===""?null:JSON.parse(c);case"text":return new TextDecoder().decode(n);case"blob":return new Blob([n],{type:s});case"arraybuffer":return n.buffer}}createRequestInit(e){let n={},s=e.withCredentials?"include":void 0;if(e.headers.forEach((c,u)=>n[c]=u.join(",")),e.headers.has(Ey)||(n[Ey]=lT),!e.headers.has(av)){let c=e.detectContentTypeHeader();c!==null&&(n[av]=c)}return{body:e.serializeBody(),method:e.method,headers:n,credentials:s}}concatChunks(e,n){let s=new Uint8Array(n),c=0;for(let u of e)s.set(u,c),c+=u.length;return s}static \u0275fac=function(n){return new(n||r)};static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})(),p2=class{};function f2(){}function GD(r){r.then(f2,f2)}function HD(r,o){return o(r)}function KD(r,o,e){return(n,s)=>Bs(e,()=>o(n,c=>r(c,s)))}var uT=new rn(""),qD=new rn(""),XD=new rn("",{providedIn:"root",factory:()=>!0});var nT=(()=>{class r extends lv{backend;injector;chain=null;pendingTasks=wr(dy);contributeToStability=wr(XD);constructor(e,n){super(),this.backend=e,this.injector=n}handle(e){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(uT),...this.injector.get(qD,[])]));this.chain=n.reduceRight((s,c)=>KD(s,c,this.injector),HD)}if(this.contributeToStability){let n=this.pendingTasks.add();return this.chain(e,s=>this.backend.handle(s)).pipe(Ph(()=>this.pendingTasks.remove(n)))}else return this.chain(e,n=>this.backend.handle(n))}static \u0275fac=function(n){return new(n||r)(Ao(cv),Ao(bf))};static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})();var QD=/^\)\]\}',?\n/,YD=RegExp(`^${h2}:`,"m");function JD(r){return"responseURL"in r&&r.responseURL?r.responseURL:YD.test(r.getAllResponseHeaders())?r.getResponseHeader(h2):null}var iT=(()=>{class r{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new In(-2800,!1);let n=this.xhrFactory;return(n.\u0275loadImpl?bi(n.\u0275loadImpl()):bo(null)).pipe(Si(()=>new Hw(c=>{let u=n.build();if(u.open(e.method,e.urlWithParams),e.withCredentials&&(u.withCredentials=!0),e.headers.forEach((Ke,He)=>u.setRequestHeader(Ke,He.join(","))),e.headers.has(Ey)||u.setRequestHeader(Ey,lT),!e.headers.has(av)){let Ke=e.detectContentTypeHeader();Ke!==null&&u.setRequestHeader(av,Ke)}if(e.responseType){let Ke=e.responseType.toLowerCase();u.responseType=Ke!=="json"?Ke:"text"}let h=e.serializeBody(),p=null,y=()=>{if(p!==null)return p;let Ke=u.statusText||"OK",He=new _d(u.getAllResponseHeaders()),Ie=JD(u)||e.url;return p=new Sy({headers:He,status:u.status,statusText:Ke,url:Ie}),p},k=()=>{let{headers:Ke,status:He,statusText:Ie,url:Pe}=y(),Xe=null;He!==UD&&(Xe=typeof u.response>"u"?u.responseText:u.response),He===0&&(He=Xe?cT:0);let Ne=He>=200&&He<300;if(e.responseType==="json"&&typeof Xe=="string"){let Ge=Xe;Xe=Xe.replace(QD,"");try{Xe=Xe!==""?JSON.parse(Xe):null}catch(Ve){Xe=Ge,Ne&&(Ne=!1,Xe={error:Ve,text:Xe})}}Ne?(c.next(new uv({body:Xe,headers:Ke,status:He,statusText:Ie,url:Pe||void 0})),c.complete()):c.error(new ju({error:Xe,headers:Ke,status:He,statusText:Ie,url:Pe||void 0}))},G=Ke=>{let{url:He}=y(),Ie=new ju({error:Ke,status:u.status||0,statusText:u.statusText||"Unknown Error",url:He||void 0});c.error(Ie)},$=!1,Me=Ke=>{$||(c.next(y()),$=!0);let He={type:Uu.DownloadProgress,loaded:Ke.loaded};Ke.lengthComputable&&(He.total=Ke.total),e.responseType==="text"&&u.responseText&&(He.partialText=u.responseText),c.next(He)},Re=Ke=>{let He={type:Uu.UploadProgress,loaded:Ke.loaded};Ke.lengthComputable&&(He.total=Ke.total),c.next(He)};return u.addEventListener("load",k),u.addEventListener("error",G),u.addEventListener("timeout",G),u.addEventListener("abort",G),e.reportProgress&&(u.addEventListener("progress",Me),h!==null&&u.upload&&u.upload.addEventListener("progress",Re)),u.send(h),c.next({type:Uu.Sent}),()=>{u.removeEventListener("error",G),u.removeEventListener("abort",G),u.removeEventListener("load",k),u.removeEventListener("timeout",G),e.reportProgress&&(u.removeEventListener("progress",Me),h!==null&&u.upload&&u.upload.removeEventListener("progress",Re)),u.readyState!==u.DONE&&u.abort()}})))}static \u0275fac=function(n){return new(n||r)(Ao(xy))};static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})(),pT=new rn(""),ZD="XSRF-TOKEN",eF=new rn("",{providedIn:"root",factory:()=>ZD}),tF="X-XSRF-TOKEN",rF=new rn("",{providedIn:"root",factory:()=>tF}),Py=class{},oF=(()=>{class r{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,n,s){this.doc=e,this.platform=n,this.cookieName=s}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=yy(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(n){return new(n||r)(Ao(oi),Ao(rs),Ao(eF))};static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})();function nF(r,o){let e=r.url.toLowerCase();if(!wr(pT)||r.method==="GET"||r.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return o(r);let n=wr(Py).getToken(),s=wr(rF);return n!=null&&!r.headers.has(s)&&(r=r.clone({headers:r.headers.set(s,n)})),o(r)}var fT=function(r){return r[r.Interceptors=0]="Interceptors",r[r.LegacyInterceptors=1]="LegacyInterceptors",r[r.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",r[r.NoXsrfProtection=3]="NoXsrfProtection",r[r.JsonpSupport=4]="JsonpSupport",r[r.RequestsMadeViaParent=5]="RequestsMadeViaParent",r[r.Fetch=6]="Fetch",r}(fT||{});function iF(r,o){return{\u0275kind:r,\u0275providers:o}}function hT(...r){let o=[m2,iT,nT,{provide:lv,useExisting:nT},{provide:cv,useFactory:()=>wr(dT,{optional:!0})??wr(iT)},{provide:uT,useValue:nF,multi:!0},{provide:pT,useValue:!0},{provide:Py,useClass:oF}];for(let e of r)o.push(...e.\u0275providers);return el(o)}function mT(){return iF(fT.Fetch,[c2,{provide:dT,useExisting:c2},{provide:cv,useExisting:c2}])}var _2=class extends WM{supportsDOMEvents=!0},b2=class r extends _2{static makeCurrent(){UM(new r)}onAndCancel(o,e,n,s){return o.addEventListener(e,n,s),()=>{o.removeEventListener(e,n,s)}}dispatchEvent(o,e){o.dispatchEvent(e)}remove(o){o.remove()}createElement(o,e){return e=e||this.getDefaultDocument(),e.createElement(o)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(o){return o.nodeType===Node.ELEMENT_NODE}isShadowRoot(o){return o instanceof DocumentFragment}getGlobalEventTarget(o,e){return e==="window"?window:e==="document"?o:e==="body"?o.body:null}getBaseHref(o){let e=lF();return e==null?null:cF(e)}resetBaseElement(){pv=null}getUserAgent(){return window.navigator.userAgent}getCookie(o){return yy(document.cookie,o)}},pv=null;function lF(){return pv=pv||document.querySelector("base"),pv?pv.getAttribute("href"):null}function cF(r){return new URL(r,document.baseURI).pathname}var dF=(()=>{class r{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||r)};static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})(),v2=new rn(""),xT=(()=>{class r{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,n){this._zone=n,e.forEach(s=>{s.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,s,c){return this._findPluginFor(n).addEventListener(e,n,s,c)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(c=>c.supports(e)),!n)throw new In(5101,!1);return this._eventNameToPlugin.set(e,n),n}static \u0275fac=function(n){return new(n||r)(Ao(v2),Ao($i))};static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})(),By=class{_doc;constructor(o){this._doc=o}manager},Ay="ng-app-id";function gT(r){for(let o of r)o.remove()}function _T(r,o){let e=o.createElement("style");return e.textContent=r,e}function uF(r,o,e,n){let s=r.head?.querySelectorAll(`style[${Ay}="${o}"],link[${Ay}="${o}"]`);if(s)for(let c of s)c.removeAttribute(Ay),c instanceof HTMLLinkElement?n.set(c.href.slice(c.href.lastIndexOf("/")+1),{usage:0,elements:[c]}):c.textContent&&e.set(c.textContent,{usage:0,elements:[c]})}function y2(r,o){let e=o.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",r),e}var wT=(()=>{class r{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,n,s,c={}){this.doc=e,this.appId=n,this.nonce=s,this.isServer=iv(c),uF(e,n,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,n){for(let s of e)this.addUsage(s,this.inline,_T);n?.forEach(s=>this.addUsage(s,this.external,y2))}removeStyles(e,n){for(let s of e)this.removeUsage(s,this.inline);n?.forEach(s=>this.removeUsage(s,this.external))}addUsage(e,n,s){let c=n.get(e);c?c.usage++:n.set(e,{usage:1,elements:[...this.hosts].map(u=>this.addElement(u,s(e,this.doc)))})}removeUsage(e,n){let s=n.get(e);s&&(s.usage--,s.usage<=0&&(gT(s.elements),n.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])gT(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[n,{elements:s}]of this.inline)s.push(this.addElement(e,_T(n,this.doc)));for(let[n,{elements:s}]of this.external)s.push(this.addElement(e,y2(n,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,n){return this.nonce&&n.setAttribute("nonce",this.nonce),this.isServer&&n.setAttribute(Ay,this.appId),e.appendChild(n)}static \u0275fac=function(n){return new(n||r)(Ao(oi),Ao(o2),Ao(n2,8),Ao(rs))};static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})(),g2={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},w2=/%COMP%/g;var CT="%COMP%",pF=`_nghost-${CT}`,fF=`_ngcontent-${CT}`,hF=!0,mF=new rn("",{providedIn:"root",factory:()=>hF});function gF(r){return fF.replace(w2,r)}function _F(r){return pF.replace(w2,r)}function kT(r,o){return o.map(e=>e.replace(w2,r))}var Iy=(()=>{class r{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,n,s,c,u,h,p,y=null,k=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=s,this.removeStylesOnCompDestroy=c,this.doc=u,this.platformId=h,this.ngZone=p,this.nonce=y,this.tracingService=k,this.platformIsServer=iv(h),this.defaultRenderer=new fv(e,u,p,this.platformIsServer,this.tracingService)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===ev.ShadowDom&&(n=Gr(Vt({},n),{encapsulation:ev.Emulated}));let s=this.getOrCreateRenderer(e,n);return s instanceof Dy?s.applyToHost(e):s instanceof hv&&s.applyStyles(),s}getOrCreateRenderer(e,n){let s=this.rendererByCompId,c=s.get(n.id);if(!c){let u=this.doc,h=this.ngZone,p=this.eventManager,y=this.sharedStylesHost,k=this.removeStylesOnCompDestroy,G=this.platformIsServer,$=this.tracingService;switch(n.encapsulation){case ev.Emulated:c=new Dy(p,y,n,this.appId,k,u,h,G,$);break;case ev.ShadowDom:return new x2(p,y,e,n,u,h,this.nonce,G,$);default:c=new hv(p,y,n,k,u,h,G,$);break}s.set(n.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(n){return new(n||r)(Ao(xT),Ao(wT),Ao(o2),Ao(mF),Ao(oi),Ao(rs),Ao($i),Ao(n2),Ao(EM,8))};static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})(),fv=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(o,e,n,s,c){this.eventManager=o,this.doc=e,this.ngZone=n,this.platformIsServer=s,this.tracingService=c}destroy(){}destroyNode=null;createElement(o,e){return e?this.doc.createElementNS(g2[e]||e,o):this.doc.createElement(o)}createComment(o){return this.doc.createComment(o)}createText(o){return this.doc.createTextNode(o)}appendChild(o,e){(bT(o)?o.content:o).appendChild(e)}insertBefore(o,e,n){o&&(bT(o)?o.content:o).insertBefore(e,n)}removeChild(o,e){e.remove()}selectRootElement(o,e){let n=typeof o=="string"?this.doc.querySelector(o):o;if(!n)throw new In(-5104,!1);return e||(n.textContent=""),n}parentNode(o){return o.parentNode}nextSibling(o){return o.nextSibling}setAttribute(o,e,n,s){if(s){e=s+":"+e;let c=g2[s];c?o.setAttributeNS(c,e,n):o.setAttribute(e,n)}else o.setAttribute(e,n)}removeAttribute(o,e,n){if(n){let s=g2[n];s?o.removeAttributeNS(s,e):o.removeAttribute(`${n}:${e}`)}else o.removeAttribute(e)}addClass(o,e){o.classList.add(e)}removeClass(o,e){o.classList.remove(e)}setStyle(o,e,n,s){s&(tv.DashCase|tv.Important)?o.style.setProperty(e,n,s&tv.Important?"important":""):o.style[e]=n}removeStyle(o,e,n){n&tv.DashCase?o.style.removeProperty(e):o.style[e]=""}setProperty(o,e,n){o!=null&&(o[e]=n)}setValue(o,e){o.nodeValue=e}listen(o,e,n,s){if(typeof o=="string"&&(o=Rh().getGlobalEventTarget(this.doc,o),!o))throw new Error(`Unsupported event target ${o} for event ${e}`);let c=this.decoratePreventDefault(n);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(c=this.tracingService.wrapEventListener(o,e,c)),this.eventManager.addEventListener(o,e,c,s)}decoratePreventDefault(o){return e=>{if(e==="__ngUnwrap__")return o;(this.platformIsServer?this.ngZone.runGuarded(()=>o(e)):o(e))===!1&&e.preventDefault()}}};function bT(r){return r.tagName==="TEMPLATE"&&r.content!==void 0}var x2=class extends fv{sharedStylesHost;hostEl;shadowRoot;constructor(o,e,n,s,c,u,h,p,y){super(o,c,u,p,y),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let k=s.styles;k=kT(s.id,k);for(let $ of k){let Me=document.createElement("style");h&&Me.setAttribute("nonce",h),Me.textContent=$,this.shadowRoot.appendChild(Me)}let G=s.getExternalStyles?.();if(G)for(let $ of G){let Me=y2($,c);h&&Me.setAttribute("nonce",h),this.shadowRoot.appendChild(Me)}}nodeOrShadowRoot(o){return o===this.hostEl?this.shadowRoot:o}appendChild(o,e){return super.appendChild(this.nodeOrShadowRoot(o),e)}insertBefore(o,e,n){return super.insertBefore(this.nodeOrShadowRoot(o),e,n)}removeChild(o,e){return super.removeChild(null,e)}parentNode(o){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(o)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},hv=class extends fv{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(o,e,n,s,c,u,h,p,y){super(o,c,u,h,p),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=s;let k=n.styles;this.styles=y?kT(y,k):k,this.styleUrls=n.getExternalStyles?.(y)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Dy=class extends hv{contentAttr;hostAttr;constructor(o,e,n,s,c,u,h,p,y){let k=s+"-"+n.id;super(o,e,n,c,u,h,p,y,k),this.contentAttr=gF(k),this.hostAttr=_F(k)}applyToHost(o){this.applyStyles(),this.setAttribute(o,this.hostAttr,"")}createElement(o,e){let n=super.createElement(o,e);return super.setAttribute(n,this.contentAttr,""),n}},bF=(()=>{class r extends By{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,s,c){return e.addEventListener(n,s,c),()=>this.removeEventListener(e,n,s,c)}removeEventListener(e,n,s,c){return e.removeEventListener(n,s,c)}static \u0275fac=function(n){return new(n||r)(Ao(oi))};static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})(),vT=["alt","control","meta","shift"],vF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yF={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey},xF=(()=>{class r extends By{constructor(e){super(e)}supports(e){return r.parseEventName(e)!=null}addEventListener(e,n,s,c){let u=r.parseEventName(n),h=r.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Rh().onAndCancel(e,u.domEventName,h,c))}static parseEventName(e){let n=e.toLowerCase().split("."),s=n.shift();if(n.length===0||!(s==="keydown"||s==="keyup"))return null;let c=r._normalizeKey(n.pop()),u="",h=n.indexOf("code");if(h>-1&&(n.splice(h,1),u="code."),vT.forEach(y=>{let k=n.indexOf(y);k>-1&&(n.splice(k,1),u+=y+".")}),u+=c,n.length!=0||c.length===0)return null;let p={};return p.domEventName=s,p.fullKey=u,p}static matchEventFullKeyCode(e,n){let s=vF[e.key]||e.key,c="";return n.indexOf("code.")>-1&&(s=e.code,c="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),vT.forEach(u=>{if(u!==s){let h=yF[u];h(e)&&(c+=u+".")}}),c+=s,c===n)}static eventCallback(e,n,s){return c=>{r.matchEventFullKeyCode(c,e)&&s.runGuarded(()=>n(c))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(n){return new(n||r)(Ao(oi))};static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})();function MT(r,o){return jM(Vt({rootComponent:r},wF(o)))}function wF(r){return{appProviders:[...EF,...r?.providers??[]],platformProviders:TF}}function CF(){b2.makeCurrent()}function kF(){return new t2}function MF(){return kM(document),document}var TF=[{provide:rs,useValue:QM},{provide:MM,useValue:CF,multi:!0},{provide:oi,useFactory:MF,deps:[]}];var EF=[{provide:vM,useValue:"root"},{provide:t2,useFactory:kF,deps:[]},{provide:v2,useClass:bF,multi:!0,deps:[oi]},{provide:v2,useClass:xF,multi:!0,deps:[oi]},Iy,wT,xT,{provide:uy,useExisting:Iy},{provide:xy,useClass:dF,deps:[]},[]];var TT=(()=>{class r{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(n){return new(n||r)(Ao(oi))};static \u0275prov=jr({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var PF="@",AF=(()=>{class r{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=wr(Fs);loadingSchedulerFn=wr(BF,{optional:!0});_engine;constructor(e,n,s,c,u){this.doc=e,this.delegate=n,this.zone=s,this.animationType=c,this.moduleImpl=u}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-3B5OXKHQ.js").then(s=>s),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(e):n=e(),n.catch(s=>{throw new In(5300,!1)}).then(({\u0275createEngine:s,\u0275AnimationRendererFactory:c})=>{this._engine=s(this.animationType,this.doc);let u=new c(this.delegate,this._engine,this.zone);return this.delegate=u,u})}createRenderer(e,n){let s=this.delegate.createRenderer(e,n);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let c=new C2(s);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(u=>{let h=u.createRenderer(e,n);c.use(h),this.scheduler??=this.injector.get(CM,null,{optional:!0}),this.scheduler?.notify(11)}).catch(u=>{c.use(s)}),c}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(n){py()};static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})(),C2=class{delegate;replay=[];\u0275type=1;constructor(o){this.delegate=o}use(o){if(this.delegate=o,this.replay!==null){for(let e of this.replay)e(o);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(o,e){return this.delegate.createElement(o,e)}createComment(o){return this.delegate.createComment(o)}createText(o){return this.delegate.createText(o)}get destroyNode(){return this.delegate.destroyNode}appendChild(o,e){this.delegate.appendChild(o,e)}insertBefore(o,e,n,s){this.delegate.insertBefore(o,e,n,s)}removeChild(o,e,n){this.delegate.removeChild(o,e,n)}selectRootElement(o,e){return this.delegate.selectRootElement(o,e)}parentNode(o){return this.delegate.parentNode(o)}nextSibling(o){return this.delegate.nextSibling(o)}setAttribute(o,e,n,s){this.delegate.setAttribute(o,e,n,s)}removeAttribute(o,e,n){this.delegate.removeAttribute(o,e,n)}addClass(o,e){this.delegate.addClass(o,e)}removeClass(o,e){this.delegate.removeClass(o,e)}setStyle(o,e,n,s){this.delegate.setStyle(o,e,n,s)}removeStyle(o,e,n){this.delegate.removeStyle(o,e,n)}setProperty(o,e,n){this.shouldReplay(e)&&this.replay.push(s=>s.setProperty(o,e,n)),this.delegate.setProperty(o,e,n)}setValue(o,e){this.delegate.setValue(o,e)}listen(o,e,n,s){return this.shouldReplay(e)&&this.replay.push(c=>c.listen(o,e,n,s)),this.delegate.listen(o,e,n,s)}shouldReplay(o){return this.replay!==null&&o.startsWith(PF)}},BF=new rn("");function ET(r="animations"){return r2("NgAsyncAnimations"),el([{provide:uy,useFactory:(o,e,n)=>new AF(o,e,n,r),deps:[oi,Iy,$i]},{provide:TM,useValue:r==="noop"?"NoopAnimations":"BrowserAnimations"}])}function Fy(r,o){return r?r.classList?r.classList.contains(o):new RegExp("(^| )"+o+"( |$)","gi").test(r.className):!1}function hs(r,o){if(r&&o){let e=n=>{Fy(r,n)||(r.classList?r.classList.add(n):r.className+=" "+n)};[o].flat().filter(Boolean).forEach(n=>n.split(" ").forEach(e))}}function Ji(r,o){if(r&&o){let e=n=>{r.classList?r.classList.remove(n):r.className=r.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," ")};[o].flat().filter(Boolean).forEach(n=>n.split(" ").forEach(e))}}function ST(r,o){if(r instanceof HTMLElement){let e=r.offsetWidth;if(o){let n=getComputedStyle(r);e+=parseFloat(n.marginLeft)+parseFloat(n.marginRight)}return e}return 0}function PT(r){return typeof HTMLElement=="object"?r instanceof HTMLElement:r&&typeof r=="object"&&r!==null&&r.nodeType===1&&typeof r.nodeName=="string"}function k2(r,o={}){if(PT(r)){let e=(n,s)=>{var c,u;let h=(c=r?.$attrs)!=null&&c[n]?[(u=r?.$attrs)==null?void 0:u[n]]:[];return[s].flat().reduce((p,y)=>{if(y!=null){let k=typeof y;if(k==="string"||k==="number")p.push(y);else if(k==="object"){let G=Array.isArray(y)?e(n,y):Object.entries(y).map(([$,Me])=>n==="style"&&(Me||Me===0)?`${$.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${Me}`:Me?$:void 0);p=G.length?p.concat(G.filter($=>!!$)):p}}return p},h)};Object.entries(o).forEach(([n,s])=>{if(s!=null){let c=n.match(/^on(.+)/);c?r.addEventListener(c[1].toLowerCase(),s):n==="p-bind"||n==="pBind"?k2(r,s):(s=n==="class"?[...new Set(e("class",s))].join(" ").trim():n==="style"?e("style",s).join(";").trim():s,(r.$attrs=r.$attrs||{})&&(r.$attrs[n]=s),r.setAttribute(n,s))}})}}function M2(r){if(r){let o=r.offsetHeight,e=getComputedStyle(r);return o-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)+parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),o}return 0}function AT(r){if(r){let o=r.getBoundingClientRect();return{top:o.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:o.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}function BT(r,o){if(r){let e=r.offsetHeight;if(o){let n=getComputedStyle(r);e+=parseFloat(n.marginTop)+parseFloat(n.marginBottom)}return e}return 0}function T2(r){if(r){let o=r.offsetWidth,e=getComputedStyle(r);return o-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth),o}return 0}function IT(r){var o;r&&("remove"in Element.prototype?r.remove():(o=r.parentNode)==null||o.removeChild(r))}function DT(r,o="",e){PT(r)&&e!==null&&e!==void 0&&r.setAttribute(o,e)}function FT(){let r=new Map;return{on(o,e){let n=r.get(o);return n?n.push(e):n=[e],r.set(o,n),this},off(o,e){let n=r.get(o);return n&&n.splice(n.indexOf(e)>>>0,1),this},emit(o,e){let n=r.get(o);n&&n.slice().map(s=>{s(e)})},clear(){r.clear()}}}var IF=Object.defineProperty,RT=Object.getOwnPropertySymbols,DF=Object.prototype.hasOwnProperty,FF=Object.prototype.propertyIsEnumerable,OT=(r,o,e)=>o in r?IF(r,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[o]=e,RF=(r,o)=>{for(var e in o||(o={}))DF.call(o,e)&&OT(r,e,o[e]);if(RT)for(var e of RT(o))FF.call(o,e)&&OT(r,e,o[e]);return r};function $s(r){return r==null||r===""||Array.isArray(r)&&r.length===0||!(r instanceof Date)&&typeof r=="object"&&Object.keys(r).length===0}function E2(r,o,e=new WeakSet){if(r===o)return!0;if(!r||!o||typeof r!="object"||typeof o!="object"||e.has(r)||e.has(o))return!1;e.add(r).add(o);let n=Array.isArray(r),s=Array.isArray(o),c,u,h;if(n&&s){if(u=r.length,u!=o.length)return!1;for(c=u;c--!==0;)if(!E2(r[c],o[c],e))return!1;return!0}if(n!=s)return!1;let p=r instanceof Date,y=o instanceof Date;if(p!=y)return!1;if(p&&y)return r.getTime()==o.getTime();let k=r instanceof RegExp,G=o instanceof RegExp;if(k!=G)return!1;if(k&&G)return r.toString()==o.toString();let $=Object.keys(r);if(u=$.length,u!==Object.keys(o).length)return!1;for(c=u;c--!==0;)if(!Object.prototype.hasOwnProperty.call(o,$[c]))return!1;for(c=u;c--!==0;)if(h=$[c],!E2(r[h],o[h],e))return!1;return!0}function OF(r,o){return E2(r,o)}function LT(r){return!!(r&&r.constructor&&r.call&&r.apply)}function Hn(r){return!$s(r)}function xf(r,o){if(!r||!o)return null;try{let e=r[o];if(Hn(e))return e}catch{}if(Object.keys(r).length){if(LT(o))return o(r);if(o.indexOf(".")===-1)return r[o];{let e=o.split("."),n=r;for(let s=0,c=e.length;s<c;++s){if(n==null)return null;n=n[e[s]]}return n}}return null}function Wu(r,o,e){return e?xf(r,e)===xf(o,e):OF(r,o)}function nl(r,o=!0){return r instanceof Object&&r.constructor===Object&&(o||Object.keys(r).length!==0)}function Os(r,...o){return LT(r)?r(...o):r}function Gu(r,o=!0){return typeof r=="string"&&(o||r!=="")}function $T(r){return Gu(r)?r.replace(/(-|_)/g,"").toLowerCase():r}function Ry(r,o="",e={}){let n=$T(o).split("."),s=n.shift();return s?nl(r)?Ry(Os(r[Object.keys(r).find(c=>$T(c)===s)||""],e),n.join("."),e):void 0:Os(r,e)}function Oy(r,o=!0){return Array.isArray(r)&&(o||r.length!==0)}function NT(r){return Hn(r)&&!isNaN(r)}function ms(r,o){if(o){let e=o.test(r);return o.lastIndex=0,e}return!1}function wf(...r){let o=(e={},n={})=>{let s=RF({},e);return Object.keys(n).forEach(c=>{nl(n[c])&&c in e&&nl(e[c])?s[c]=o(e[c],n[c]):s[c]=n[c]}),s};return r.reduce((e,n,s)=>s===0?n:o(e,n),{})}function Cf(r){return r&&r.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":")}function $y(r){return Gu(r)?r.replace(/(_)/g,"-").replace(/[A-Z]/g,(o,e)=>e===0?o:"-"+o.toLowerCase()).toLowerCase():r}function S2(r){return Gu(r)?r.replace(/[A-Z]/g,(o,e)=>e===0?o:"."+o.toLowerCase()).toLowerCase():r}var Ly={};function il(r="pui_id_"){return Ly.hasOwnProperty(r)||(Ly[r]=0),Ly[r]++,`${r}${Ly[r]}`}function $F(){let r=[],o=(u,h,p=999)=>{let y=s(u,h,p),k=y.value+(y.key===u?0:p)+1;return r.push({key:u,value:k}),k},e=u=>{r=r.filter(h=>h.value!==u)},n=(u,h)=>s(u,h).value,s=(u,h,p=0)=>[...r].reverse().find(y=>h?!0:y.key===u)||{key:u,value:p},c=u=>u&&parseInt(u.style.zIndex,10)||0;return{get:c,set:(u,h,p)=>{h&&(h.style.zIndex=String(o(u,!0,p)))},clear:u=>{u&&(e(c(u)),u.style.zIndex="")},getCurrent:u=>n(u,!0)}}var U7=$F();var un=(()=>{class r{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return r})();var Hu=(()=>{class r{messageSource=new si;clearSource=new si;messageObserver=this.messageSource.asObservable();clearObserver=this.clearSource.asObservable();add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})();var zT=["*"],jT=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Mo({type:r,selectors:[["p-header"]],standalone:!1,ngContentSelectors:zT,decls:1,vars:0,template:function(n,s){n&1&&(Yi(),xi(0))},encapsulation:2})}return r})(),Ny=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Mo({type:r,selectors:[["p-footer"]],standalone:!1,ngContentSelectors:zT,decls:1,vars:0,template:function(n,s){n&1&&(Yi(),xi(0))},encapsulation:2})}return r})(),Gi=(()=>{class r{template;type;name;constructor(e){this.template=e}getType(){return this.name}static \u0275fac=function(n){return new(n||r)(Ho(IM))};static \u0275dir=Zn({type:r,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]}})}return r})(),wn=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=vn({type:r});static \u0275inj=bn({imports:[Fn]})}return r})(),VT=(()=>{class r{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return r})();var LF=Object.defineProperty,NF=Object.defineProperties,zF=Object.getOwnPropertyDescriptors,jy=Object.getOwnPropertySymbols,GT=Object.prototype.hasOwnProperty,HT=Object.prototype.propertyIsEnumerable,UT=(r,o,e)=>o in r?LF(r,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[o]=e,ei=(r,o)=>{for(var e in o||(o={}))GT.call(o,e)&&UT(r,e,o[e]);if(jy)for(var e of jy(o))HT.call(o,e)&&UT(r,e,o[e]);return r},Lh=(r,o)=>NF(r,zF(o)),tu=(r,o)=>{var e={};for(var n in r)GT.call(r,n)&&o.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&jy)for(var n of jy(r))o.indexOf(n)<0&&HT.call(r,n)&&(e[n]=r[n]);return e};var jF=FT(),Ls=jF;function WT(r,o){Oy(r)?r.push(...o||[]):nl(r)&&Object.assign(r,o)}function VF(r){return nl(r)&&r.hasOwnProperty("value")&&r.hasOwnProperty("type")?r.value:r}function UF(r){return r.replaceAll(/ /g,"").replace(/[^\w]/g,"-")}function P2(r="",o=""){return UF(`${Gu(r,!1)&&Gu(o,!1)?`${r}-`:r}${o}`)}function KT(r="",o=""){return`--${P2(r,o)}`}function WF(r=""){let o=(r.match(/{/g)||[]).length,e=(r.match(/}/g)||[]).length;return(o+e)%2!==0}function qT(r,o="",e="",n=[],s){if(Gu(r)){let c=/{([^}]*)}/g,u=r.trim();if(WF(u))return;if(ms(u,c)){let h=u.replaceAll(c,k=>{let $=k.replace(/{|}/g,"").split(".").filter(Me=>!n.some(Re=>ms(Me,Re)));return`var(${KT(e,$y($.join("-")))}${Hn(s)?`, ${s}`:""})`}),p=/(\d+\s+[\+\-\*\/]\s+\d+)/g,y=/var\([^)]+\)/g;return ms(h.replace(y,"0"),p)?`calc(${h})`:h}return u}else if(NT(r))return r}function GF(r,o,e){Gu(o,!1)&&r.push(`${o}:${e};`)}function $h(r,o){return r?`${r}{${o}}`:""}var Nh=(...r)=>HF(ln.getTheme(),...r),HF=(r={},o,e,n)=>{if(o){let{variable:s,options:c}=ln.defaults||{},{prefix:u,transform:h}=r?.options||c||{},y=ms(o,/{([^}]*)}/g)?o:`{${o}}`;return n==="value"||$s(n)&&h==="strict"?ln.getTokenValue(o):qT(y,void 0,u,[s.excludedKeyRegex],e)}return""};var A2=(r={})=>{let{preset:o,options:e}=r;return{preset(n){return o=o?wf(o,n):n,this},options(n){return e=e?ei(ei({},e),n):n,this},primaryPalette(n){let{semantic:s}=o||{};return o=Lh(ei({},o),{semantic:Lh(ei({},s),{primary:n})}),this},surfacePalette(n){var s,c;let{semantic:u}=o||{},h=n?.hasOwnProperty("light")?n?.light:n,p=n?.hasOwnProperty("dark")?n?.dark:n,y={colorScheme:{light:ei(ei({},(s=u?.colorScheme)==null?void 0:s.light),!!h&&{surface:h}),dark:ei(ei({},(c=u?.colorScheme)==null?void 0:c.dark),!!p&&{surface:p})}};return o=Lh(ei({},o),{semantic:ei(ei({},u),y)}),this},define({useDefaultPreset:n=!1,useDefaultOptions:s=!1}={}){return{preset:n?ln.getPreset():o,options:s?ln.getOptions():e}},update({mergePresets:n=!0,mergeOptions:s=!0}={}){let c={preset:n?wf(ln.getPreset(),o):o,options:s?ei(ei({},ln.getOptions()),e):e};return ln.setTheme(c),c},use(n){let s=this.define(n);return ln.setTheme(s),s}}};function KF(r,o={}){let e=ln.defaults.variable,{prefix:n=e.prefix,selector:s=e.selector,excludedKeyRegex:c=e.excludedKeyRegex}=o,u=(y,k="")=>Object.entries(y).reduce((G,[$,Me])=>{let Re=ms($,c)?P2(k):P2(k,$y($)),Ke=VF(Me);if(nl(Ke)){let{variables:He,tokens:Ie}=u(Ke,Re);WT(G.tokens,Ie),WT(G.variables,He)}else G.tokens.push((n?Re.replace(`${n}-`,""):Re).replaceAll("-",".")),GF(G.variables,KT(Re),qT(Ke,Re,n,[c]));return G},{variables:[],tokens:[]}),{variables:h,tokens:p}=u(r,n);return{value:h,tokens:p,declarations:h.join(""),css:$h(s,h.join(""))}}var al={regex:{rules:{class:{pattern:/^\.([a-zA-Z][\w-]*)$/,resolve(r){return{type:"class",selector:r,matched:this.pattern.test(r.trim())}}},attr:{pattern:/^\[(.*)\]$/,resolve(r){return{type:"attr",selector:`:root${r}`,matched:this.pattern.test(r.trim())}}},media:{pattern:/^@media (.*)$/,resolve(r){return{type:"media",selector:`${r}{:root{[CSS]}}`,matched:this.pattern.test(r.trim())}}},system:{pattern:/^system$/,resolve(r){return{type:"system",selector:"@media (prefers-color-scheme: dark){:root{[CSS]}}",matched:this.pattern.test(r.trim())}}},custom:{resolve(r){return{type:"custom",selector:r,matched:!0}}}},resolve(r){let o=Object.keys(this.rules).filter(e=>e!=="custom").map(e=>this.rules[e]);return[r].flat().map(e=>{var n;return(n=o.map(s=>s.resolve(e)).find(s=>s.matched))!=null?n:this.rules.custom.resolve(e)})}},_toVariables(r,o){return KF(r,{prefix:o?.prefix})},getCommon({name:r="",theme:o={},params:e,set:n,defaults:s}){var c,u,h,p,y,k,G;let{preset:$,options:Me}=o,Re,Ke,He,Ie,Pe,Xe,Ne;if(Hn($)&&Me.transform!=="strict"){let{primitive:Ge,semantic:Ve,extend:Oe}=$,Ue=Ve||{},{colorScheme:tt}=Ue,bt=tu(Ue,["colorScheme"]),lt=Oe||{},{colorScheme:mt}=lt,ut=tu(lt,["colorScheme"]),ht=tt||{},{dark:Ct}=ht,It=tu(ht,["dark"]),Ft=mt||{},{dark:At}=Ft,Dt=tu(Ft,["dark"]),Rt=Hn(Ge)?this._toVariables({primitive:Ge},Me):{},at=Hn(bt)?this._toVariables({semantic:bt},Me):{},Ze=Hn(It)?this._toVariables({light:It},Me):{},vt=Hn(Ct)?this._toVariables({dark:Ct},Me):{},St=Hn(ut)?this._toVariables({semantic:ut},Me):{},$t=Hn(Dt)?this._toVariables({light:Dt},Me):{},qt=Hn(At)?this._toVariables({dark:At},Me):{},[gt,st]=[(c=Rt.declarations)!=null?c:"",Rt.tokens],[hr,Ht]=[(u=at.declarations)!=null?u:"",at.tokens||[]],[xt,Ut]=[(h=Ze.declarations)!=null?h:"",Ze.tokens||[]],[rr,nr]=[(p=vt.declarations)!=null?p:"",vt.tokens||[]],[cr,mr]=[(y=St.declarations)!=null?y:"",St.tokens||[]],[Cr,Tr]=[(k=$t.declarations)!=null?k:"",$t.tokens||[]],[dr,Ar]=[(G=qt.declarations)!=null?G:"",qt.tokens||[]];Re=this.transformCSS(r,gt,"light","variable",Me,n,s),Ke=st;let rt=this.transformCSS(r,`${hr}${xt}`,"light","variable",Me,n,s),Et=this.transformCSS(r,`${rr}`,"dark","variable",Me,n,s);He=`${rt}${Et}`,Ie=[...new Set([...Ht,...Ut,...nr])];let _t=this.transformCSS(r,`${cr}${Cr}color-scheme:light`,"light","variable",Me,n,s),Tt=this.transformCSS(r,`${dr}color-scheme:dark`,"dark","variable",Me,n,s);Pe=`${_t}${Tt}`,Xe=[...new Set([...mr,...Tr,...Ar])],Ne=Os($.css,{dt:Nh})}return{primitive:{css:Re,tokens:Ke},semantic:{css:He,tokens:Ie},global:{css:Pe,tokens:Xe},style:Ne}},getPreset({name:r="",preset:o={},options:e,params:n,set:s,defaults:c,selector:u}){var h,p,y;let k,G,$;if(Hn(o)&&e.transform!=="strict"){let Me=r.replace("-directive",""),Re=o,{colorScheme:Ke,extend:He,css:Ie}=Re,Pe=tu(Re,["colorScheme","extend","css"]),Xe=He||{},{colorScheme:Ne}=Xe,Ge=tu(Xe,["colorScheme"]),Ve=Ke||{},{dark:Oe}=Ve,Ue=tu(Ve,["dark"]),tt=Ne||{},{dark:bt}=tt,lt=tu(tt,["dark"]),mt=Hn(Pe)?this._toVariables({[Me]:ei(ei({},Pe),Ge)},e):{},ut=Hn(Ue)?this._toVariables({[Me]:ei(ei({},Ue),lt)},e):{},ht=Hn(Oe)?this._toVariables({[Me]:ei(ei({},Oe),bt)},e):{},[Ct,It]=[(h=mt.declarations)!=null?h:"",mt.tokens||[]],[Ft,At]=[(p=ut.declarations)!=null?p:"",ut.tokens||[]],[Dt,Rt]=[(y=ht.declarations)!=null?y:"",ht.tokens||[]],at=this.transformCSS(Me,`${Ct}${Ft}`,"light","variable",e,s,c,u),Ze=this.transformCSS(Me,Dt,"dark","variable",e,s,c,u);k=`${at}${Ze}`,G=[...new Set([...It,...At,...Rt])],$=Os(Ie,{dt:Nh})}return{css:k,tokens:G,style:$}},getPresetC({name:r="",theme:o={},params:e,set:n,defaults:s}){var c;let{preset:u,options:h}=o,p=(c=u?.components)==null?void 0:c[r];return this.getPreset({name:r,preset:p,options:h,params:e,set:n,defaults:s})},getPresetD({name:r="",theme:o={},params:e,set:n,defaults:s}){var c;let u=r.replace("-directive",""),{preset:h,options:p}=o,y=(c=h?.directives)==null?void 0:c[u];return this.getPreset({name:u,preset:y,options:p,params:e,set:n,defaults:s})},applyDarkColorScheme(r){return!(r.darkModeSelector==="none"||r.darkModeSelector===!1)},getColorSchemeOption(r,o){var e;return this.applyDarkColorScheme(r)?this.regex.resolve(r.darkModeSelector===!0?o.options.darkModeSelector:(e=r.darkModeSelector)!=null?e:o.options.darkModeSelector):[]},getLayerOrder(r,o={},e,n){let{cssLayer:s}=o;return s?`@layer ${Os(s.order||"primeui",e)}`:""},getCommonStyleSheet({name:r="",theme:o={},params:e,props:n={},set:s,defaults:c}){let u=this.getCommon({name:r,theme:o,params:e,set:s,defaults:c}),h=Object.entries(n).reduce((p,[y,k])=>p.push(`${y}="${k}"`)&&p,[]).join(" ");return Object.entries(u||{}).reduce((p,[y,k])=>{if(k?.css){let G=Cf(k?.css),$=`${y}-variables`;p.push(`<style type="text/css" data-primevue-style-id="${$}" ${h}>${G}</style>`)}return p},[]).join("")},getStyleSheet({name:r="",theme:o={},params:e,props:n={},set:s,defaults:c}){var u;let h={name:r,theme:o,params:e,set:s,defaults:c},p=(u=r.includes("-directive")?this.getPresetD(h):this.getPresetC(h))==null?void 0:u.css,y=Object.entries(n).reduce((k,[G,$])=>k.push(`${G}="${$}"`)&&k,[]).join(" ");return p?`<style type="text/css" data-primevue-style-id="${r}-variables" ${y}>${Cf(p)}</style>`:""},createTokens(r={},o,e="",n="",s={}){return Object.entries(r).forEach(([c,u])=>{let h=ms(c,o.variable.excludedKeyRegex)?e:e?`${e}.${S2(c)}`:S2(c),p=n?`${n}.${c}`:c;nl(u)?this.createTokens(u,o,h,p,s):(s[h]||(s[h]={paths:[],computed(y,k={}){var G,$;return this.paths.length===1?(G=this.paths[0])==null?void 0:G.computed(this.paths[0].scheme,k.binding):y&&y!=="none"?($=this.paths.find(Me=>Me.scheme===y))==null?void 0:$.computed(y,k.binding):this.paths.map(Me=>Me.computed(Me.scheme,k[Me.scheme]))}}),s[h].paths.push({path:p,value:u,scheme:p.includes("colorScheme.light")?"light":p.includes("colorScheme.dark")?"dark":"none",computed(y,k={}){let G=/{([^}]*)}/g,$=u;if(k.name=this.path,k.binding||(k.binding={}),ms(u,G)){let Re=u.trim().replaceAll(G,Ie=>{var Pe;let Xe=Ie.replace(/{|}/g,""),Ne=(Pe=s[Xe])==null?void 0:Pe.computed(y,k);return Oy(Ne)&&Ne.length===2?`light-dark(${Ne[0].value},${Ne[1].value})`:Ne?.value}),Ke=/(\d+\w*\s+[\+\-\*\/]\s+\d+\w*)/g,He=/var\([^)]+\)/g;$=ms(Re.replace(He,"0"),Ke)?`calc(${Re})`:Re}return $s(k.binding)&&delete k.binding,{colorScheme:y,path:this.path,paths:k,value:$.includes("undefined")?void 0:$}}}))}),s},getTokenValue(r,o,e){var n;let c=(p=>p.split(".").filter(k=>!ms(k.toLowerCase(),e.variable.excludedKeyRegex)).join("."))(o),u=o.includes("colorScheme.light")?"light":o.includes("colorScheme.dark")?"dark":void 0,h=[(n=r[c])==null?void 0:n.computed(u)].flat().filter(p=>p);return h.length===1?h[0].value:h.reduce((p={},y)=>{let k=y,{colorScheme:G}=k,$=tu(k,["colorScheme"]);return p[G]=$,p},void 0)},getSelectorRule(r,o,e,n){return e==="class"||e==="attr"?$h(Hn(o)?`${r}${o},${r} ${o}`:r,n):$h(r,Hn(o)?$h(o,n):n)},transformCSS(r,o,e,n,s={},c,u,h){if(Hn(o)){let{cssLayer:p}=s;if(n!=="style"){let y=this.getColorSchemeOption(s,u);o=e==="dark"?y.reduce((k,{type:G,selector:$})=>(Hn($)&&(k+=$.includes("[CSS]")?$.replace("[CSS]",o):this.getSelectorRule($,h,G,o)),k),""):$h(h??":root",o)}if(p){let y={name:"primeui",order:"primeui"};nl(p)&&(y.name=Os(p.name,{name:r,type:n})),Hn(y.name)&&(o=$h(`@layer ${y.name}`,o),c?.layerNames(y.name))}return o}return""}},ln={defaults:{variable:{prefix:"p",selector:":root",excludedKeyRegex:/^(primitive|semantic|components|directives|variables|colorscheme|light|dark|common|root|states|extend|css)$/gi},options:{prefix:"p",darkModeSelector:"system",cssLayer:!1}},_theme:void 0,_layerNames:new Set,_loadedStyleNames:new Set,_loadingStyles:new Set,_tokens:{},update(r={}){let{theme:o}=r;o&&(this._theme=Lh(ei({},o),{options:ei(ei({},this.defaults.options),o.options)}),this._tokens=al.createTokens(this.preset,this.defaults),this.clearLoadedStyleNames())},get theme(){return this._theme},get preset(){var r;return((r=this.theme)==null?void 0:r.preset)||{}},get options(){var r;return((r=this.theme)==null?void 0:r.options)||{}},get tokens(){return this._tokens},getTheme(){return this.theme},setTheme(r){this.update({theme:r}),Ls.emit("theme:change",r)},getPreset(){return this.preset},setPreset(r){this._theme=Lh(ei({},this.theme),{preset:r}),this._tokens=al.createTokens(r,this.defaults),this.clearLoadedStyleNames(),Ls.emit("preset:change",r),Ls.emit("theme:change",this.theme)},getOptions(){return this.options},setOptions(r){this._theme=Lh(ei({},this.theme),{options:r}),this.clearLoadedStyleNames(),Ls.emit("options:change",r),Ls.emit("theme:change",this.theme)},getLayerNames(){return[...this._layerNames]},setLayerNames(r){this._layerNames.add(r)},getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(r){return this._loadedStyleNames.has(r)},setLoadedStyleName(r){this._loadedStyleNames.add(r)},deleteLoadedStyleName(r){this._loadedStyleNames.delete(r)},clearLoadedStyleNames(){this._loadedStyleNames.clear()},getTokenValue(r){return al.getTokenValue(this.tokens,r,this.defaults)},getCommon(r="",o){return al.getCommon({name:r,theme:this.theme,params:o,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getComponent(r="",o){let e={name:r,theme:this.theme,params:o,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return al.getPresetC(e)},getDirective(r="",o){let e={name:r,theme:this.theme,params:o,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return al.getPresetD(e)},getCustomPreset(r="",o,e,n){let s={name:r,preset:o,options:this.options,selector:e,params:n,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return al.getPreset(s)},getLayerOrderCSS(r=""){return al.getLayerOrder(r,this.options,{names:this.getLayerNames()},this.defaults)},transformCSS(r="",o,e="style",n){return al.transformCSS(r,o,n,e,this.options,{layerNames:this.setLayerNames.bind(this)},this.defaults)},getCommonStyleSheet(r="",o,e={}){return al.getCommonStyleSheet({name:r,theme:this.theme,params:o,props:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getStyleSheet(r,o,e={}){return al.getStyleSheet({name:r,theme:this.theme,params:o,props:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},onStyleMounted(r){this._loadingStyles.add(r)},onStyleUpdated(r){this._loadingStyles.add(r)},onStyleLoaded(r,{name:o}){this._loadingStyles.size&&(this._loadingStyles.delete(o),Ls.emit(`theme:${o}:load`,r),!this._loadingStyles.size&&Ls.emit("theme:load"))}};function XT(...r){let o=wf(ln.getPreset(),...r);return ln.setPreset(o),o}function QT(r){return A2().surfacePalette(r).update().preset}var qF=0,YT=(()=>{class r{document=wr(oi);use(e,n={}){let s=!1,c=e,u=null,{immediate:h=!0,manual:p=!1,name:y=`style_${++qF}`,id:k=void 0,media:G=void 0,nonce:$=void 0,first:Me=!1,props:Re={}}=n;if(this.document){if(u=this.document.querySelector(`style[data-primeng-style-id="${y}"]`)||k&&this.document.getElementById(k)||this.document.createElement("style"),!u.isConnected){c=e,k2(u,{type:"text/css",media:G,nonce:$});let Ke=this.document.head;Me&&Ke.firstChild?Ke.insertBefore(u,Ke.firstChild):Ke.appendChild(u),DT(u,"data-primeng-style-id",y)}return u.textContent!==c&&(u.textContent=c),{id:k,name:y,el:u,css:c}}}static \u0275fac=function(n){return new(n||r)};static \u0275prov=jr({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var zh={_loadedStyleNames:new Set,getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(r){return this._loadedStyleNames.has(r)},setLoadedStyleName(r){this._loadedStyleNames.add(r)},deleteLoadedStyleName(r){this._loadedStyleNames.delete(r)},clearLoadedStyleNames(){this._loadedStyleNames.clear()}},XF=({dt:r})=>`
*,
::before,
::after {
    box-sizing: border-box;
}

/* Non ng overlay animations */
.p-connected-overlay {
    opacity: 0;
    transform: scaleY(0.8);
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1),
        opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-visible {
    opacity: 1;
    transform: scaleY(1);
}

.p-connected-overlay-hidden {
    opacity: 0;
    transform: scaleY(1);
    transition: opacity 0.1s linear;
}

/* NG based overlay animations */
.p-connected-overlay-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}

.p-connected-overlay-leave-to {
    opacity: 0;
}

.p-connected-overlay-enter-active {
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1),
        opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-leave-active {
    transition: opacity 0.1s linear;
}

/* Toggleable Content */
.p-toggleable-content-enter-from,
.p-toggleable-content-leave-to {
    max-height: 0;
}

.p-toggleable-content-enter-to,
.p-toggleable-content-leave-from {
    max-height: 1000px;
}

.p-toggleable-content-leave-active {
    overflow: hidden;
    transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
}

.p-toggleable-content-enter-active {
    overflow: hidden;
    transition: max-height 1s ease-in-out;
}

.p-disabled,
.p-disabled * {
    cursor: default;
    pointer-events: none;
    user-select: none;
}

.p-disabled,
.p-component:disabled {
    opacity: ${r("disabled.opacity")};
}

.pi {
    font-size: ${r("icon.size")};
}

.p-icon {
    width: ${r("icon.size")};
    height: ${r("icon.size")};
}

.p-overlay-mask {
    background: ${r("mask.background")};
    color: ${r("mask.color")};
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-overlay-mask-enter {
    animation: p-overlay-mask-enter-animation ${r("mask.transition.duration")} forwards;
}

.p-overlay-mask-leave {
    animation: p-overlay-mask-leave-animation ${r("mask.transition.duration")} forwards;
}
/* Temporarily disabled, distrupts PrimeNG overlay animations */
/* @keyframes p-overlay-mask-enter-animation {
    from {
        background: transparent;
    }
    to {
        background: ${r("mask.background")};
    }
}
@keyframes p-overlay-mask-leave-animation {
    from {
        background: ${r("mask.background")};
    }
    to {
        background: transparent;
    }
}*/

.p-iconwrapper {
    display: inline-flex;
    justify-content: center;
    align-items: center;
}
`,QF=({dt:r})=>`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: ${r("scrollbar.width")};
}

/* @todo move to baseiconstyle.ts */

.p-icon {
    display: inline-block;
    vertical-align: baseline;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,kn=(()=>{class r{name="base";useStyle=wr(YT);theme=void 0;css=void 0;classes={};inlineStyles={};load=(e,n={},s=c=>c)=>{let c=s(Os(e,{dt:Nh}));return c?this.useStyle.use(Cf(c),Vt({name:this.name},n)):{}};loadCSS=(e={})=>this.load(this.css,e);loadTheme=(e={},n="")=>this.load(this.theme,e,(s="")=>ln.transformCSS(e.name||this.name,`${s}${n}`));loadGlobalCSS=(e={})=>this.load(QF,e);loadGlobalTheme=(e={},n="")=>this.load(XF,e,(s="")=>ln.transformCSS(e.name||this.name,`${s}${n}`));getCommonTheme=e=>ln.getCommon(this.name,e);getComponentTheme=e=>ln.getComponent(this.name,e);getDirectiveTheme=e=>ln.getDirective(this.name,e);getPresetTheme=(e,n,s)=>ln.getCustomPreset(this.name,e,n,s);getLayerOrderThemeCSS=()=>ln.getLayerOrderCSS(this.name);getStyleSheet=(e="",n={})=>{if(this.css){let s=Os(this.css,{dt:Nh}),c=Cf(`${s}${e}`),u=Object.entries(n).reduce((h,[p,y])=>h.push(`${p}="${y}"`)&&h,[]).join(" ");return`<style type="text/css" data-primeng-style-id="${this.name}" ${u}>${c}</style>`}return""};getCommonThemeStyleSheet=(e,n={})=>ln.getCommonStyleSheet(this.name,e,n);getThemeStyleSheet=(e,n={})=>{let s=[ln.getStyleSheet(this.name,e,n)];if(this.theme){let c=this.name==="base"?"global-style":`${this.name}-style`,u=Os(this.theme,{dt:Nh}),h=Cf(ln.transformCSS(c,u)),p=Object.entries(n).reduce((y,[k,G])=>y.push(`${k}="${G}"`)&&y,[]).join(" ");s.push(`<style type="text/css" data-primeng-style-id="${c}" ${p}>${h}</style>`)}return s.join("")};static \u0275fac=function(n){return new(n||r)};static \u0275prov=jr({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var YF=(()=>{class r{theme=yi(void 0);csp=yi({nonce:void 0});isThemeChanged=!1;document=wr(oi);baseStyle=wr(kn);constructor(){Nu(()=>{Ls.on("theme:change",e=>{_c(()=>{this.isThemeChanged=!0,this.theme.set(e)})})}),Nu(()=>{let e=this.theme();this.document&&e&&(this.isThemeChanged||this.onThemeChange(e),this.isThemeChanged=!1)})}ngOnDestroy(){ln.clearLoadedStyleNames(),Ls.clear()}onThemeChange(e){ln.setTheme(e),this.document&&this.loadCommonTheme()}loadCommonTheme(){if(this.theme()!=="none"&&!ln.isStyleNameLoaded("common")){let{primitive:e,semantic:n,global:s,style:c}=this.baseStyle.getCommonTheme?.()||{},u={nonce:this.csp?.()?.nonce};this.baseStyle.load(e?.css,Vt({name:"primitive-variables"},u)),this.baseStyle.load(n?.css,Vt({name:"semantic-variables"},u)),this.baseStyle.load(s?.css,Vt({name:"global-variables"},u)),this.baseStyle.loadGlobalTheme(Vt({name:"global-style"},u),c),ln.setLoadedStyleName("common")}}setThemeConfig(e){let{theme:n,csp:s}=e||{};n&&this.theme.set(n),s&&this.csp.set(s)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=jr({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),jh=(()=>{class r extends YF{ripple=yi(!1);platformId=wr(rs);inputStyle=yi(null);inputVariant=yi(null);overlayOptions={};csp=yi({nonce:void 0});filterMatchModeOptions={text:[un.STARTS_WITH,un.CONTAINS,un.NOT_CONTAINS,un.ENDS_WITH,un.EQUALS,un.NOT_EQUALS],numeric:[un.EQUALS,un.NOT_EQUALS,un.LESS_THAN,un.LESS_THAN_OR_EQUAL_TO,un.GREATER_THAN,un.GREATER_THAN_OR_EQUAL_TO],date:[un.DATE_IS,un.DATE_IS_NOT,un.DATE_BEFORE,un.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"Search results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",fileChosenMessage:"Files",noFileChosenMessage:"No file chosen",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new si;translationObserver=this.translationSource.asObservable();getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=Vt(Vt({},this.translation),e),this.translationSource.next(this.translation)}setConfig(e){let{csp:n,ripple:s,inputStyle:c,inputVariant:u,theme:h,overlayOptions:p,translation:y}=e||{};n&&this.csp.set(n),s&&this.ripple.set(s),c&&this.inputStyle.set(c),u&&this.inputVariant.set(u),p&&(this.overlayOptions=p),y&&this.setTranslation(y),h&&this.setThemeConfig({theme:h,csp:n})}static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275prov=jr({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),JF=new rn("PRIME_NG_CONFIG");function JT(...r){let o=r?.map(n=>({provide:JF,useValue:n,multi:!1})),e=RM(()=>{let n=wr(jh);r?.forEach(s=>n.setConfig(s))});return el([...o,e])}var Uo="primary",Sv=Symbol("RouteTitle"),R2=class{params;constructor(o){this.params=o||{}}has(o){return Object.prototype.hasOwnProperty.call(this.params,o)}get(o){if(this.has(o)){let e=this.params[o];return Array.isArray(e)?e[0]:e}return null}getAll(o){if(this.has(o)){let e=this.params[o];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Kh(r){return new R2(r)}function ZF(r,o,e){let n=e.path.split("/");if(n.length>r.length||e.pathMatch==="full"&&(o.hasChildren()||n.length<r.length))return null;let s={};for(let c=0;c<n.length;c++){let u=n[c],h=r[c];if(u[0]===":")s[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:r.slice(0,n.length),posParams:s}}function eR(r,o){if(r.length!==o.length)return!1;for(let e=0;e<r.length;++e)if(!Rl(r[e],o[e]))return!1;return!0}function Rl(r,o){let e=r?O2(r):void 0,n=o?O2(o):void 0;if(!e||!n||e.length!=n.length)return!1;let s;for(let c=0;c<e.length;c++)if(s=e[c],!lE(r[s],o[s]))return!1;return!0}function O2(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}function lE(r,o){if(Array.isArray(r)&&Array.isArray(o)){if(r.length!==o.length)return!1;let e=[...r].sort(),n=[...o].sort();return e.every((s,c)=>n[c]===s)}else return r===o}function cE(r){return r.length>0?r[r.length-1]:null}function Xu(r){return cM(r)?r:fy(r)?bi(Promise.resolve(r)):bo(r)}var tR={exact:uE,subset:pE},dE={exact:rR,subset:oR,ignored:()=>!0};function ZT(r,o,e){return tR[e.paths](r.root,o.root,e.matrixParams)&&dE[e.queryParams](r.queryParams,o.queryParams)&&!(e.fragment==="exact"&&r.fragment!==o.fragment)}function rR(r,o){return Rl(r,o)}function uE(r,o,e){if(!Mf(r.segments,o.segments)||!Wy(r.segments,o.segments,e)||r.numberOfChildren!==o.numberOfChildren)return!1;for(let n in o.children)if(!r.children[n]||!uE(r.children[n],o.children[n],e))return!1;return!0}function oR(r,o){return Object.keys(o).length<=Object.keys(r).length&&Object.keys(o).every(e=>lE(r[e],o[e]))}function pE(r,o,e){return fE(r,o,o.segments,e)}function fE(r,o,e,n){if(r.segments.length>e.length){let s=r.segments.slice(0,e.length);return!(!Mf(s,e)||o.hasChildren()||!Wy(s,e,n))}else if(r.segments.length===e.length){if(!Mf(r.segments,e)||!Wy(r.segments,e,n))return!1;for(let s in o.children)if(!r.children[s]||!pE(r.children[s],o.children[s],n))return!1;return!0}else{let s=e.slice(0,r.segments.length),c=e.slice(r.segments.length);return!Mf(r.segments,s)||!Wy(r.segments,s,n)||!r.children[Uo]?!1:fE(r.children[Uo],o,c,n)}}function Wy(r,o,e){return o.every((n,s)=>dE[e](r[s].parameters,n.parameters))}var ou=class{root;queryParams;fragment;_queryParamMap;constructor(o=new Mn([],{}),e={},n=null){this.root=o,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Kh(this.queryParams),this._queryParamMap}toString(){return aR.serialize(this)}},Mn=class{segments;children;parent=null;constructor(o,e){this.segments=o,this.children=e,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gy(this)}},kf=class{path;parameters;_parameterMap;constructor(o,e){this.path=o,this.parameters=e}get parameterMap(){return this._parameterMap??=Kh(this.parameters),this._parameterMap}toString(){return mE(this)}};function nR(r,o){return Mf(r,o)&&r.every((e,n)=>Rl(e.parameters,o[n].parameters))}function Mf(r,o){return r.length!==o.length?!1:r.every((e,n)=>e.path===o[n].path)}function iR(r,o){let e=[];return Object.entries(r.children).forEach(([n,s])=>{n===Uo&&(e=e.concat(o(s,n)))}),Object.entries(r.children).forEach(([n,s])=>{n!==Uo&&(e=e.concat(o(s,n)))}),e}var Pv=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275prov=jr({token:r,factory:()=>new qh,providedIn:"root"})}return r})(),qh=class{parse(o){let e=new L2(o);return new ou(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(o){let e=`/${mv(o.root,!0)}`,n=cR(o.queryParams),s=typeof o.fragment=="string"?`#${sR(o.fragment)}`:"";return`${e}${n}${s}`}},aR=new qh;function Gy(r){return r.segments.map(o=>mE(o)).join("/")}function mv(r,o){if(!r.hasChildren())return Gy(r);if(o){let e=r.children[Uo]?mv(r.children[Uo],!1):"",n=[];return Object.entries(r.children).forEach(([s,c])=>{s!==Uo&&n.push(`${s}:${mv(c,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=iR(r,(n,s)=>s===Uo?[mv(r.children[Uo],!1)]:[`${s}:${mv(n,!1)}`]);return Object.keys(r.children).length===1&&r.children[Uo]!=null?`${Gy(r)}/${e[0]}`:`${Gy(r)}/(${e.join("//")})`}}function hE(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vy(r){return hE(r).replace(/%3B/gi,";")}function sR(r){return encodeURI(r)}function $2(r){return hE(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hy(r){return decodeURIComponent(r)}function eE(r){return Hy(r.replace(/\+/g,"%20"))}function mE(r){return`${$2(r.path)}${lR(r.parameters)}`}function lR(r){return Object.entries(r).map(([o,e])=>`;${$2(o)}=${$2(e)}`).join("")}function cR(r){let o=Object.entries(r).map(([e,n])=>Array.isArray(n)?n.map(s=>`${Vy(e)}=${Vy(s)}`).join("&"):`${Vy(e)}=${Vy(n)}`).filter(e=>e);return o.length?`?${o.join("&")}`:""}var dR=/^[^\/()?;#]+/;function B2(r){let o=r.match(dR);return o?o[0]:""}var uR=/^[^\/()?;=#]+/;function pR(r){let o=r.match(uR);return o?o[0]:""}var fR=/^[^=?&#]+/;function hR(r){let o=r.match(fR);return o?o[0]:""}var mR=/^[^&#]+/;function gR(r){let o=r.match(mR);return o?o[0]:""}var L2=class{url;remaining;constructor(o){this.url=o,this.remaining=o}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mn([],{}):new Mn([],this.parseChildren())}parseQueryParams(){let o={};if(this.consumeOptional("?"))do this.parseQueryParam(o);while(this.consumeOptional("&"));return o}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let o=[];for(this.peekStartsWith("(")||o.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),o.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(o.length>0||Object.keys(e).length>0)&&(n[Uo]=new Mn(o,e)),n}parseSegment(){let o=B2(this.remaining);if(o===""&&this.peekStartsWith(";"))throw new In(4009,!1);return this.capture(o),new kf(Hy(o),this.parseMatrixParams())}parseMatrixParams(){let o={};for(;this.consumeOptional(";");)this.parseParam(o);return o}parseParam(o){let e=pR(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let s=B2(this.remaining);s&&(n=s,this.capture(n))}o[Hy(e)]=Hy(n)}parseQueryParam(o){let e=hR(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let u=gR(this.remaining);u&&(n=u,this.capture(n))}let s=eE(e),c=eE(n);if(o.hasOwnProperty(s)){let u=o[s];Array.isArray(u)||(u=[u],o[s]=u),u.push(c)}else o[s]=c}parseParens(o){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=B2(this.remaining),s=this.remaining[n.length];if(s!=="/"&&s!==")"&&s!==";")throw new In(4010,!1);let c;n.indexOf(":")>-1?(c=n.slice(0,n.indexOf(":")),this.capture(c),this.capture(":")):o&&(c=Uo);let u=this.parseChildren();e[c]=Object.keys(u).length===1?u[Uo]:new Mn([],u),this.consumeOptional("//")}return e}peekStartsWith(o){return this.remaining.startsWith(o)}consumeOptional(o){return this.peekStartsWith(o)?(this.remaining=this.remaining.substring(o.length),!0):!1}capture(o){if(!this.consumeOptional(o))throw new In(4011,!1)}};function gE(r){return r.segments.length>0?new Mn([],{[Uo]:r}):r}function _E(r){let o={};for(let[n,s]of Object.entries(r.children)){let c=_E(s);if(n===Uo&&c.segments.length===0&&c.hasChildren())for(let[u,h]of Object.entries(c.children))o[u]=h;else(c.segments.length>0||c.hasChildren())&&(o[n]=c)}let e=new Mn(r.segments,o);return _R(e)}function _R(r){if(r.numberOfChildren===1&&r.children[Uo]){let o=r.children[Uo];return new Mn(r.segments.concat(o.segments),o.children)}return r}function Tf(r){return r instanceof ou}function bR(r,o,e=null,n=null){let s=bE(r);return vE(s,o,e,n)}function bE(r){let o;function e(c){let u={};for(let p of c.children){let y=e(p);u[p.outlet]=y}let h=new Mn(c.url,u);return c===r&&(o=h),h}let n=e(r.root),s=gE(n);return o??s}function vE(r,o,e,n){let s=r;for(;s.parent;)s=s.parent;if(o.length===0)return I2(s,s,s,e,n);let c=vR(o);if(c.toRoot())return I2(s,s,new Mn([],{}),e,n);let u=yR(c,s,r),h=u.processChildren?_v(u.segmentGroup,u.index,c.commands):xE(u.segmentGroup,u.index,c.commands);return I2(s,u.segmentGroup,h,e,n)}function Ky(r){return typeof r=="object"&&r!=null&&!r.outlets&&!r.segmentPath}function yv(r){return typeof r=="object"&&r!=null&&r.outlets}function I2(r,o,e,n,s){let c={};n&&Object.entries(n).forEach(([p,y])=>{c[p]=Array.isArray(y)?y.map(k=>`${k}`):`${y}`});let u;r===o?u=e:u=yE(r,o,e);let h=gE(_E(u));return new ou(h,c,s)}function yE(r,o,e){let n={};return Object.entries(r.children).forEach(([s,c])=>{c===o?n[s]=e:n[s]=yE(c,o,e)}),new Mn(r.segments,n)}var qy=class{isAbsolute;numberOfDoubleDots;commands;constructor(o,e,n){if(this.isAbsolute=o,this.numberOfDoubleDots=e,this.commands=n,o&&n.length>0&&Ky(n[0]))throw new In(4003,!1);let s=n.find(yv);if(s&&s!==cE(n))throw new In(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function vR(r){if(typeof r[0]=="string"&&r.length===1&&r[0]==="/")return new qy(!0,0,r);let o=0,e=!1,n=r.reduce((s,c,u)=>{if(typeof c=="object"&&c!=null){if(c.outlets){let h={};return Object.entries(c.outlets).forEach(([p,y])=>{h[p]=typeof y=="string"?y.split("/"):y}),[...s,{outlets:h}]}if(c.segmentPath)return[...s,c.segmentPath]}return typeof c!="string"?[...s,c]:u===0?(c.split("/").forEach((h,p)=>{p==0&&h==="."||(p==0&&h===""?e=!0:h===".."?o++:h!=""&&s.push(h))}),s):[...s,c]},[]);return new qy(e,o,n)}var Wh=class{segmentGroup;processChildren;index;constructor(o,e,n){this.segmentGroup=o,this.processChildren=e,this.index=n}};function yR(r,o,e){if(r.isAbsolute)return new Wh(o,!0,0);if(!e)return new Wh(o,!1,NaN);if(e.parent===null)return new Wh(e,!0,0);let n=Ky(r.commands[0])?0:1,s=e.segments.length-1+n;return xR(e,s,r.numberOfDoubleDots)}function xR(r,o,e){let n=r,s=o,c=e;for(;c>s;){if(c-=s,n=n.parent,!n)throw new In(4005,!1);s=n.segments.length}return new Wh(n,!1,s-c)}function wR(r){return yv(r[0])?r[0].outlets:{[Uo]:r}}function xE(r,o,e){if(r??=new Mn([],{}),r.segments.length===0&&r.hasChildren())return _v(r,o,e);let n=CR(r,o,e),s=e.slice(n.commandIndex);if(n.match&&n.pathIndex<r.segments.length){let c=new Mn(r.segments.slice(0,n.pathIndex),{});return c.children[Uo]=new Mn(r.segments.slice(n.pathIndex),r.children),_v(c,0,s)}else return n.match&&s.length===0?new Mn(r.segments,{}):n.match&&!r.hasChildren()?N2(r,o,e):n.match?_v(r,0,s):N2(r,o,e)}function _v(r,o,e){if(e.length===0)return new Mn(r.segments,{});{let n=wR(e),s={};if(Object.keys(n).some(c=>c!==Uo)&&r.children[Uo]&&r.numberOfChildren===1&&r.children[Uo].segments.length===0){let c=_v(r.children[Uo],o,e);return new Mn(r.segments,c.children)}return Object.entries(n).forEach(([c,u])=>{typeof u=="string"&&(u=[u]),u!==null&&(s[c]=xE(r.children[c],o,u))}),Object.entries(r.children).forEach(([c,u])=>{n[c]===void 0&&(s[c]=u)}),new Mn(r.segments,s)}}function CR(r,o,e){let n=0,s=o,c={match:!1,pathIndex:0,commandIndex:0};for(;s<r.segments.length;){if(n>=e.length)return c;let u=r.segments[s],h=e[n];if(yv(h))break;let p=`${h}`,y=n<e.length-1?e[n+1]:null;if(s>0&&p===void 0)break;if(p&&y&&typeof y=="object"&&y.outlets===void 0){if(!rE(p,y,u))return c;n+=2}else{if(!rE(p,{},u))return c;n++}s++}return{match:!0,pathIndex:s,commandIndex:n}}function N2(r,o,e){let n=r.segments.slice(0,o),s=0;for(;s<e.length;){let c=e[s];if(yv(c)){let p=kR(c.outlets);return new Mn(n,p)}if(s===0&&Ky(e[0])){let p=r.segments[o];n.push(new kf(p.path,tE(e[0]))),s++;continue}let u=yv(c)?c.outlets[Uo]:`${c}`,h=s<e.length-1?e[s+1]:null;u&&h&&Ky(h)?(n.push(new kf(u,tE(h))),s+=2):(n.push(new kf(u,{})),s++)}return new Mn(n,{})}function kR(r){let o={};return Object.entries(r).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(o[e]=N2(new Mn([],{}),0,n))}),o}function tE(r){let o={};return Object.entries(r).forEach(([e,n])=>o[e]=`${n}`),o}function rE(r,o,e){return r==e.path&&Rl(o,e.parameters)}var bv="imperative",Pi=function(r){return r[r.NavigationStart=0]="NavigationStart",r[r.NavigationEnd=1]="NavigationEnd",r[r.NavigationCancel=2]="NavigationCancel",r[r.NavigationError=3]="NavigationError",r[r.RoutesRecognized=4]="RoutesRecognized",r[r.ResolveStart=5]="ResolveStart",r[r.ResolveEnd=6]="ResolveEnd",r[r.GuardsCheckStart=7]="GuardsCheckStart",r[r.GuardsCheckEnd=8]="GuardsCheckEnd",r[r.RouteConfigLoadStart=9]="RouteConfigLoadStart",r[r.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",r[r.ChildActivationStart=11]="ChildActivationStart",r[r.ChildActivationEnd=12]="ChildActivationEnd",r[r.ActivationStart=13]="ActivationStart",r[r.ActivationEnd=14]="ActivationEnd",r[r.Scroll=15]="Scroll",r[r.NavigationSkipped=16]="NavigationSkipped",r}(Pi||{}),Ns=class{id;url;constructor(o,e){this.id=o,this.url=e}},Xh=class extends Ns{type=Pi.NavigationStart;navigationTrigger;restoredState;constructor(o,e,n="imperative",s=null){super(o,e),this.navigationTrigger=n,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ol=class extends Ns{urlAfterRedirects;type=Pi.NavigationEnd;constructor(o,e,n){super(o,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},bs=function(r){return r[r.Redirect=0]="Redirect",r[r.SupersededByNewNavigation=1]="SupersededByNewNavigation",r[r.NoDataFromResolver=2]="NoDataFromResolver",r[r.GuardRejected=3]="GuardRejected",r}(bs||{}),Xy=function(r){return r[r.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",r[r.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",r}(Xy||{}),ru=class extends Ns{reason;code;type=Pi.NavigationCancel;constructor(o,e,n,s){super(o,e),this.reason=n,this.code=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ku=class extends Ns{reason;code;type=Pi.NavigationSkipped;constructor(o,e,n,s){super(o,e),this.reason=n,this.code=s}},xv=class extends Ns{error;target;type=Pi.NavigationError;constructor(o,e,n,s){super(o,e),this.error=n,this.target=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Qy=class extends Ns{urlAfterRedirects;state;type=Pi.RoutesRecognized;constructor(o,e,n,s){super(o,e),this.urlAfterRedirects=n,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},z2=class extends Ns{urlAfterRedirects;state;type=Pi.GuardsCheckStart;constructor(o,e,n,s){super(o,e),this.urlAfterRedirects=n,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},j2=class extends Ns{urlAfterRedirects;state;shouldActivate;type=Pi.GuardsCheckEnd;constructor(o,e,n,s,c){super(o,e),this.urlAfterRedirects=n,this.state=s,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},V2=class extends Ns{urlAfterRedirects;state;type=Pi.ResolveStart;constructor(o,e,n,s){super(o,e),this.urlAfterRedirects=n,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},U2=class extends Ns{urlAfterRedirects;state;type=Pi.ResolveEnd;constructor(o,e,n,s){super(o,e),this.urlAfterRedirects=n,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},W2=class{route;type=Pi.RouteConfigLoadStart;constructor(o){this.route=o}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},G2=class{route;type=Pi.RouteConfigLoadEnd;constructor(o){this.route=o}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},H2=class{snapshot;type=Pi.ChildActivationStart;constructor(o){this.snapshot=o}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},K2=class{snapshot;type=Pi.ChildActivationEnd;constructor(o){this.snapshot=o}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},q2=class{snapshot;type=Pi.ActivationStart;constructor(o){this.snapshot=o}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},X2=class{snapshot;type=Pi.ActivationEnd;constructor(o){this.snapshot=o}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yy=class{routerEvent;position;anchor;type=Pi.Scroll;constructor(o,e,n){this.routerEvent=o,this.position=e,this.anchor=n}toString(){let o=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${o}')`}},wv=class{},Qh=class{url;navigationBehaviorOptions;constructor(o,e){this.url=o,this.navigationBehaviorOptions=e}};function MR(r,o){return r.providers&&!r._injector&&(r._injector=i2(r.providers,o,`Route: ${r.path}`)),r._injector??o}function sl(r){return r.outlet||Uo}function TR(r,o){let e=r.filter(n=>sl(n)===o);return e.push(...r.filter(n=>sl(n)!==o)),e}function Av(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let o=r.parent;o;o=o.parent){let e=o.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Q2=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Av(this.route?.snapshot)??this.rootInjector}constructor(o){this.rootInjector=o,this.children=new Bv(this.rootInjector)}},Bv=(()=>{class r{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,n){let s=this.getOrCreateContext(e);s.outlet=n,this.contexts.set(e,s)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new Q2(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(n){return new(n||r)(Ao(bf))};static \u0275prov=jr({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Jy=class{_root;constructor(o){this._root=o}get root(){return this._root.value}parent(o){let e=this.pathFromRoot(o);return e.length>1?e[e.length-2]:null}children(o){let e=Y2(o,this._root);return e?e.children.map(n=>n.value):[]}firstChild(o){let e=Y2(o,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(o){let e=J2(o,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==o)}pathFromRoot(o){return J2(o,this._root).map(e=>e.value)}};function Y2(r,o){if(r===o.value)return o;for(let e of o.children){let n=Y2(r,e);if(n)return n}return null}function J2(r,o){if(r===o.value)return[o];for(let e of o.children){let n=J2(r,e);if(n.length)return n.unshift(o),n}return[]}var _s=class{value;children;constructor(o,e){this.value=o,this.children=e}toString(){return`TreeNode(${this.value})`}};function Uh(r){let o={};return r&&r.children.forEach(e=>o[e.value.outlet]=e),o}var Zy=class extends Jy{snapshot;constructor(o,e){super(o),this.snapshot=e,sC(this,o)}toString(){return this.snapshot.toString()}};function wE(r){let o=ER(r),e=new es([new kf("",{})]),n=new es({}),s=new es({}),c=new es({}),u=new es(""),h=new qu(e,n,c,u,s,Uo,r,o.root);return h.snapshot=o.root,new Zy(new _s(h,[]),o)}function ER(r){let o={},e={},n={},s="",c=new Gh([],o,n,s,e,Uo,r,null,{});return new tx("",new _s(c,[]))}var qu=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(o,e,n,s,c,u,h,p){this.urlSubject=o,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=s,this.dataSubject=c,this.outlet=u,this.component=h,this._futureSnapshot=p,this.title=this.dataSubject?.pipe(jo(y=>y[Sv]))??bo(void 0),this.url=o,this.params=e,this.queryParams=n,this.fragment=s,this.data=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(jo(o=>Kh(o))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(jo(o=>Kh(o))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ex(r,o,e="emptyOnly"){let n,{routeConfig:s}=r;return o!==null&&(e==="always"||s?.path===""||!o.component&&!o.routeConfig?.loadComponent)?n={params:Vt(Vt({},o.params),r.params),data:Vt(Vt({},o.data),r.data),resolve:Vt(Vt(Vt(Vt({},r.data),o.data),s?.data),r._resolvedData)}:n={params:Vt({},r.params),data:Vt({},r.data),resolve:Vt(Vt({},r.data),r._resolvedData??{})},s&&kE(s)&&(n.resolve[Sv]=s.title),n}var Gh=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Sv]}constructor(o,e,n,s,c,u,h,p,y){this.url=o,this.params=e,this.queryParams=n,this.fragment=s,this.data=c,this.outlet=u,this.component=h,this.routeConfig=p,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Kh(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Kh(this.queryParams),this._queryParamMap}toString(){let o=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${o}', path:'${e}')`}},tx=class extends Jy{url;constructor(o,e){super(e),this.url=o,sC(this,e)}toString(){return CE(this._root)}};function sC(r,o){o.value._routerState=r,o.children.forEach(e=>sC(r,e))}function CE(r){let o=r.children.length>0?` { ${r.children.map(CE).join(", ")} } `:"";return`${r.value}${o}`}function D2(r){if(r.snapshot){let o=r.snapshot,e=r._futureSnapshot;r.snapshot=e,Rl(o.queryParams,e.queryParams)||r.queryParamsSubject.next(e.queryParams),o.fragment!==e.fragment&&r.fragmentSubject.next(e.fragment),Rl(o.params,e.params)||r.paramsSubject.next(e.params),eR(o.url,e.url)||r.urlSubject.next(e.url),Rl(o.data,e.data)||r.dataSubject.next(e.data)}else r.snapshot=r._futureSnapshot,r.dataSubject.next(r._futureSnapshot.data)}function Z2(r,o){let e=Rl(r.params,o.params)&&nR(r.url,o.url),n=!r.parent!=!o.parent;return e&&!n&&(!r.parent||Z2(r.parent,o.parent))}function kE(r){return typeof r.title=="string"||r.title===null}var SR=new rn(""),Iv=(()=>{class r{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Uo;activateEvents=new Ln;deactivateEvents=new Ln;attachEvents=new Ln;detachEvents=new Ln;routerOutletData=Il(void 0);parentContexts=wr(Bv);location=wr(DM);changeDetector=wr(yf);inputBinder=wr(ix,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:s}=e.name;if(n)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new In(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new In(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new In(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new In(4013,!1);this._activatedRoute=e;let s=this.location,u=e.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,p=new eC(e,h,s.injector,this.routerOutletData);this.activated=s.createComponent(u,{index:s.length,injector:p,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||r)};static \u0275dir=Zn({type:r,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Is]})}return r})(),eC=class r{route;childContexts;parent;outletData;__ngOutletInjector(o){return new r(this.route,this.childContexts,o,this.outletData)}constructor(o,e,n,s){this.route=o,this.childContexts=e,this.parent=n,this.outletData=s}get(o,e){return o===qu?this.route:o===Bv?this.childContexts:o===SR?this.outletData:this.parent.get(o,e)}},ix=new rn(""),oE=(()=>{class r{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,s=ly([n.queryParams,n.params,n.data]).pipe(Si(([c,u,h],p)=>(h=Vt(Vt(Vt({},c),u),h),p===0?bo(h):Promise.resolve(h)))).subscribe(c=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let u=VM(n.component);if(!u){this.unsubscribeFromRouteData(e);return}for(let{templateName:h}of u.inputs)e.activatedComponentRef.setInput(h,c[h])});this.outletDataSubscriptions.set(e,s)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})();function PR(r,o,e){let n=Cv(r,o._root,e?e._root:void 0);return new Zy(n,o)}function Cv(r,o,e){if(e&&r.shouldReuseRoute(o.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=o.value;let s=AR(r,o,e);return new _s(n,s)}else{if(r.shouldAttach(o.value)){let c=r.retrieve(o.value);if(c!==null){let u=c.route;return u.value._futureSnapshot=o.value,u.children=o.children.map(h=>Cv(r,h)),u}}let n=BR(o.value),s=o.children.map(c=>Cv(r,c));return new _s(n,s)}}function AR(r,o,e){return o.children.map(n=>{for(let s of e.children)if(r.shouldReuseRoute(n.value,s.value.snapshot))return Cv(r,n,s);return Cv(r,n)})}function BR(r){return new qu(new es(r.url),new es(r.params),new es(r.queryParams),new es(r.fragment),new es(r.data),r.outlet,r.component,r)}var kv=class{redirectTo;navigationBehaviorOptions;constructor(o,e){this.redirectTo=o,this.navigationBehaviorOptions=e}},ME="ngNavigationCancelingError";function rx(r,o){let{redirectTo:e,navigationBehaviorOptions:n}=Tf(o)?{redirectTo:o,navigationBehaviorOptions:void 0}:o,s=TE(!1,bs.Redirect);return s.url=e,s.navigationBehaviorOptions=n,s}function TE(r,o){let e=new Error(`NavigationCancelingError: ${r||""}`);return e[ME]=!0,e.cancellationCode=o,e}function IR(r){return EE(r)&&Tf(r.url)}function EE(r){return!!r&&r[ME]}var DR=(r,o,e,n)=>jo(s=>(new tC(o,s.targetRouterState,s.currentRouterState,e,n).activate(r),s)),tC=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(o,e,n,s,c){this.routeReuseStrategy=o,this.futureState=e,this.currState=n,this.forwardEvent=s,this.inputBindingEnabled=c}activate(o){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,o),D2(this.futureState.root),this.activateChildRoutes(e,n,o)}deactivateChildRoutes(o,e,n){let s=Uh(e);o.children.forEach(c=>{let u=c.value.outlet;this.deactivateRoutes(c,s[u],n),delete s[u]}),Object.values(s).forEach(c=>{this.deactivateRouteAndItsChildren(c,n)})}deactivateRoutes(o,e,n){let s=o.value,c=e?e.value:null;if(s===c)if(s.component){let u=n.getContext(s.outlet);u&&this.deactivateChildRoutes(o,e,u.children)}else this.deactivateChildRoutes(o,e,n);else c&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(o,e){o.value.component&&this.routeReuseStrategy.shouldDetach(o.value.snapshot)?this.detachAndStoreRouteSubtree(o,e):this.deactivateRouteAndOutlet(o,e)}detachAndStoreRouteSubtree(o,e){let n=e.getContext(o.value.outlet),s=n&&o.value.component?n.children:e,c=Uh(o);for(let u of Object.values(c))this.deactivateRouteAndItsChildren(u,s);if(n&&n.outlet){let u=n.outlet.detach(),h=n.children.onOutletDeactivated();this.routeReuseStrategy.store(o.value.snapshot,{componentRef:u,route:o,contexts:h})}}deactivateRouteAndOutlet(o,e){let n=e.getContext(o.value.outlet),s=n&&o.value.component?n.children:e,c=Uh(o);for(let u of Object.values(c))this.deactivateRouteAndItsChildren(u,s);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(o,e,n){let s=Uh(e);o.children.forEach(c=>{this.activateRoutes(c,s[c.value.outlet],n),this.forwardEvent(new X2(c.value.snapshot))}),o.children.length&&this.forwardEvent(new K2(o.value.snapshot))}activateRoutes(o,e,n){let s=o.value,c=e?e.value:null;if(D2(s),s===c)if(s.component){let u=n.getOrCreateContext(s.outlet);this.activateChildRoutes(o,e,u.children)}else this.activateChildRoutes(o,e,n);else if(s.component){let u=n.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){let h=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),D2(h.route.value),this.activateChildRoutes(o,null,u.children)}else u.attachRef=null,u.route=s,u.outlet&&u.outlet.activateWith(s,u.injector),this.activateChildRoutes(o,null,u.children)}else this.activateChildRoutes(o,null,n)}},ox=class{path;route;constructor(o){this.path=o,this.route=this.path[this.path.length-1]}},Hh=class{component;route;constructor(o,e){this.component=o,this.route=e}};function FR(r,o,e){let n=r._root,s=o?o._root:null;return gv(n,s,e,[n.value])}function RR(r){let o=r.routeConfig?r.routeConfig.canActivateChild:null;return!o||o.length===0?null:{node:r,guards:o}}function Jh(r,o){let e=Symbol(),n=o.get(r,e);return n===e?typeof r=="function"&&!bM(r)?r:o.get(r):n}function gv(r,o,e,n,s={canDeactivateChecks:[],canActivateChecks:[]}){let c=Uh(o);return r.children.forEach(u=>{OR(u,c[u.value.outlet],e,n.concat([u.value]),s),delete c[u.value.outlet]}),Object.entries(c).forEach(([u,h])=>vv(h,e.getContext(u),s)),s}function OR(r,o,e,n,s={canDeactivateChecks:[],canActivateChecks:[]}){let c=r.value,u=o?o.value:null,h=e?e.getContext(r.value.outlet):null;if(u&&c.routeConfig===u.routeConfig){let p=$R(u,c,c.routeConfig.runGuardsAndResolvers);p?s.canActivateChecks.push(new ox(n)):(c.data=u.data,c._resolvedData=u._resolvedData),c.component?gv(r,o,h?h.children:null,n,s):gv(r,o,e,n,s),p&&h&&h.outlet&&h.outlet.isActivated&&s.canDeactivateChecks.push(new Hh(h.outlet.component,u))}else u&&vv(o,h,s),s.canActivateChecks.push(new ox(n)),c.component?gv(r,null,h?h.children:null,n,s):gv(r,null,e,n,s);return s}function $R(r,o,e){if(typeof e=="function")return e(r,o);switch(e){case"pathParamsChange":return!Mf(r.url,o.url);case"pathParamsOrQueryParamsChange":return!Mf(r.url,o.url)||!Rl(r.queryParams,o.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Z2(r,o)||!Rl(r.queryParams,o.queryParams);case"paramsChange":default:return!Z2(r,o)}}function vv(r,o,e){let n=Uh(r),s=r.value;Object.entries(n).forEach(([c,u])=>{s.component?o?vv(u,o.children.getContext(c),e):vv(u,null,e):vv(u,o,e)}),s.component?o&&o.outlet&&o.outlet.isActivated?e.canDeactivateChecks.push(new Hh(o.outlet.component,s)):e.canDeactivateChecks.push(new Hh(null,s)):e.canDeactivateChecks.push(new Hh(null,s))}function Dv(r){return typeof r=="function"}function LR(r){return typeof r=="boolean"}function NR(r){return r&&Dv(r.canLoad)}function zR(r){return r&&Dv(r.canActivate)}function jR(r){return r&&Dv(r.canActivateChild)}function VR(r){return r&&Dv(r.canDeactivate)}function UR(r){return r&&Dv(r.canMatch)}function SE(r){return r instanceof dM||r?.name==="EmptyError"}var Uy=Symbol("INITIAL_VALUE");function Yh(){return Si(r=>ly(r.map(o=>o.pipe(fs(1),gM(Uy)))).pipe(jo(o=>{for(let e of o)if(e!==!0){if(e===Uy)return Uy;if(e===!1||WR(e))return e}return!0}),ts(o=>o!==Uy),fs(1)))}function WR(r){return Tf(r)||r instanceof kv}function GR(r,o){return ps(e=>{let{targetSnapshot:n,currentSnapshot:s,guards:{canActivateChecks:c,canDeactivateChecks:u}}=e;return u.length===0&&c.length===0?bo(Gr(Vt({},e),{guardsResult:!0})):HR(u,n,s,r).pipe(ps(h=>h&&LR(h)?KR(n,c,r,o):bo(h)),jo(h=>Gr(Vt({},e),{guardsResult:h})))})}function HR(r,o,e,n){return bi(r).pipe(ps(s=>JR(s.component,s.route,e,o,n)),$u(s=>s!==!0,!0))}function KR(r,o,e,n){return bi(o).pipe(Ou(s=>cy(XR(s.route.parent,n),qR(s.route,n),YR(r,s.path,e),QR(r,s.route,e))),$u(s=>s!==!0,!0))}function qR(r,o){return r!==null&&o&&o(new q2(r)),bo(!0)}function XR(r,o){return r!==null&&o&&o(new H2(r)),bo(!0)}function QR(r,o,e){let n=o.routeConfig?o.routeConfig.canActivate:null;if(!n||n.length===0)return bo(!0);let s=n.map(c=>Th(()=>{let u=Av(o)??e,h=Jh(c,u),p=zR(h)?h.canActivate(o,r):Bs(u,()=>h(o,r));return Xu(p).pipe($u())}));return bo(s).pipe(Yh())}function YR(r,o,e){let n=o[o.length-1],c=o.slice(0,o.length-1).reverse().map(u=>RR(u)).filter(u=>u!==null).map(u=>Th(()=>{let h=u.guards.map(p=>{let y=Av(u.node)??e,k=Jh(p,y),G=jR(k)?k.canActivateChild(n,r):Bs(y,()=>k(n,r));return Xu(G).pipe($u())});return bo(h).pipe(Yh())}));return bo(c).pipe(Yh())}function JR(r,o,e,n,s){let c=o&&o.routeConfig?o.routeConfig.canDeactivate:null;if(!c||c.length===0)return bo(!0);let u=c.map(h=>{let p=Av(o)??s,y=Jh(h,p),k=VR(y)?y.canDeactivate(r,o,e,n):Bs(p,()=>y(r,o,e,n));return Xu(k).pipe($u())});return bo(u).pipe(Yh())}function ZR(r,o,e,n){let s=o.canLoad;if(s===void 0||s.length===0)return bo(!0);let c=s.map(u=>{let h=Jh(u,r),p=NR(h)?h.canLoad(o,e):Bs(r,()=>h(o,e));return Xu(p)});return bo(c).pipe(Yh(),PE(n))}function PE(r){return lM(vi(o=>{if(typeof o!="boolean")throw rx(r,o)}),jo(o=>o===!0))}function eO(r,o,e,n){let s=o.canMatch;if(!s||s.length===0)return bo(!0);let c=s.map(u=>{let h=Jh(u,r),p=UR(h)?h.canMatch(o,e):Bs(r,()=>h(o,e));return Xu(p)});return bo(c).pipe(Yh(),PE(n))}var Mv=class{segmentGroup;constructor(o){this.segmentGroup=o||null}},Tv=class extends Error{urlTree;constructor(o){super(),this.urlTree=o}};function Vh(r){return _f(new Mv(r))}function tO(r){return _f(new In(4e3,!1))}function rO(r){return _f(TE(!1,bs.GuardRejected))}var rC=class{urlSerializer;urlTree;constructor(o,e){this.urlSerializer=o,this.urlTree=e}lineralizeSegments(o,e){let n=[],s=e.root;for(;;){if(n=n.concat(s.segments),s.numberOfChildren===0)return bo(n);if(s.numberOfChildren>1||!s.children[Uo])return tO(`${o.redirectTo}`);s=s.children[Uo]}}applyRedirectCommands(o,e,n,s,c){if(typeof e!="string"){let h=e,{queryParams:p,fragment:y,routeConfig:k,url:G,outlet:$,params:Me,data:Re,title:Ke}=s,He=Bs(c,()=>h({params:Me,data:Re,queryParams:p,fragment:y,routeConfig:k,url:G,outlet:$,title:Ke}));if(He instanceof ou)throw new Tv(He);e=He}let u=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),o,n);if(e[0]==="/")throw new Tv(u);return u}applyRedirectCreateUrlTree(o,e,n,s){let c=this.createSegmentGroup(o,e.root,n,s);return new ou(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(o,e){let n={};return Object.entries(o).forEach(([s,c])=>{if(typeof c=="string"&&c[0]===":"){let h=c.substring(1);n[s]=e[h]}else n[s]=c}),n}createSegmentGroup(o,e,n,s){let c=this.createSegments(o,e.segments,n,s),u={};return Object.entries(e.children).forEach(([h,p])=>{u[h]=this.createSegmentGroup(o,p,n,s)}),new Mn(c,u)}createSegments(o,e,n,s){return e.map(c=>c.path[0]===":"?this.findPosParam(o,c,s):this.findOrReturn(c,n))}findPosParam(o,e,n){let s=n[e.path.substring(1)];if(!s)throw new In(4001,!1);return s}findOrReturn(o,e){let n=0;for(let s of e){if(s.path===o.path)return e.splice(n),s;n++}return o}},oC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oO(r,o,e,n,s){let c=AE(r,o,e);return c.matched?(n=MR(o,n),eO(n,o,e,s).pipe(jo(u=>u===!0?c:Vt({},oC)))):bo(c)}function AE(r,o,e){if(o.path==="**")return nO(e);if(o.path==="")return o.pathMatch==="full"&&(r.hasChildren()||e.length>0)?Vt({},oC):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let s=(o.matcher||ZF)(e,r,o);if(!s)return Vt({},oC);let c={};Object.entries(s.posParams??{}).forEach(([h,p])=>{c[h]=p.path});let u=s.consumed.length>0?Vt(Vt({},c),s.consumed[s.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:s.consumed,remainingSegments:e.slice(s.consumed.length),parameters:u,positionalParamSegments:s.posParams??{}}}function nO(r){return{matched:!0,parameters:r.length>0?cE(r).parameters:{},consumedSegments:r,remainingSegments:[],positionalParamSegments:{}}}function nE(r,o,e,n){return e.length>0&&sO(r,e,n)?{segmentGroup:new Mn(o,aO(n,new Mn(e,r.children))),slicedSegments:[]}:e.length===0&&lO(r,e,n)?{segmentGroup:new Mn(r.segments,iO(r,e,n,r.children)),slicedSegments:e}:{segmentGroup:new Mn(r.segments,r.children),slicedSegments:e}}function iO(r,o,e,n){let s={};for(let c of e)if(ax(r,o,c)&&!n[sl(c)]){let u=new Mn([],{});s[sl(c)]=u}return Vt(Vt({},n),s)}function aO(r,o){let e={};e[Uo]=o;for(let n of r)if(n.path===""&&sl(n)!==Uo){let s=new Mn([],{});e[sl(n)]=s}return e}function sO(r,o,e){return e.some(n=>ax(r,o,n)&&sl(n)!==Uo)}function lO(r,o,e){return e.some(n=>ax(r,o,n))}function ax(r,o,e){return(r.hasChildren()||o.length>0)&&e.pathMatch==="full"?!1:e.path===""}function cO(r,o,e){return o.length===0&&!r.children[e]}var nC=class{};function dO(r,o,e,n,s,c,u="emptyOnly"){return new iC(r,o,e,n,s,u,c).recognize()}var uO=31,iC=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(o,e,n,s,c,u,h){this.injector=o,this.configLoader=e,this.rootComponentType=n,this.config=s,this.urlTree=c,this.paramsInheritanceStrategy=u,this.urlSerializer=h,this.applyRedirects=new rC(this.urlSerializer,this.urlTree)}noMatchError(o){return new In(4002,`'${o.segmentGroup}'`)}recognize(){let o=nE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(o).pipe(jo(({children:e,rootSnapshot:n})=>{let s=new _s(n,e),c=new tx("",s),u=bR(n,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,c.url=this.urlSerializer.serialize(u),{state:c,tree:u}}))}match(o){let e=new Gh([],Object.freeze({}),Object.freeze(Vt({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Uo,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,o,Uo,e).pipe(jo(n=>({children:n,rootSnapshot:e})),Sh(n=>{if(n instanceof Tv)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Mv?this.noMatchError(n):n}))}processSegmentGroup(o,e,n,s,c){return n.segments.length===0&&n.hasChildren()?this.processChildren(o,e,n,c):this.processSegment(o,e,n,n.segments,s,!0,c).pipe(jo(u=>u instanceof _s?[u]:[]))}processChildren(o,e,n,s){let c=[];for(let u of Object.keys(n.children))u==="primary"?c.unshift(u):c.push(u);return bi(c).pipe(Ou(u=>{let h=n.children[u],p=TR(e,u);return this.processSegmentGroup(o,p,h,u,s)}),mM((u,h)=>(u.push(...h),u)),Jw(null),fM(),ps(u=>{if(u===null)return Vh(n);let h=BE(u);return pO(h),bo(h)}))}processSegment(o,e,n,s,c,u,h){return bi(e).pipe(Ou(p=>this.processSegmentAgainstRoute(p._injector??o,e,p,n,s,c,u,h).pipe(Sh(y=>{if(y instanceof Mv)return bo(null);throw y}))),$u(p=>!!p),Sh(p=>{if(SE(p))return cO(n,s,c)?bo(new nC):Vh(n);throw p}))}processSegmentAgainstRoute(o,e,n,s,c,u,h,p){return sl(n)!==u&&(u===Uo||!ax(s,c,n))?Vh(s):n.redirectTo===void 0?this.matchSegmentAgainstRoute(o,s,n,c,u,p):this.allowRedirects&&h?this.expandSegmentAgainstRouteUsingRedirect(o,s,e,n,c,u,p):Vh(s)}expandSegmentAgainstRouteUsingRedirect(o,e,n,s,c,u,h){let{matched:p,parameters:y,consumedSegments:k,positionalParamSegments:G,remainingSegments:$}=AE(e,s,c);if(!p)return Vh(e);typeof s.redirectTo=="string"&&s.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>uO&&(this.allowRedirects=!1));let Me=new Gh(c,y,Object.freeze(Vt({},this.urlTree.queryParams)),this.urlTree.fragment,iE(s),sl(s),s.component??s._loadedComponent??null,s,aE(s)),Re=ex(Me,h,this.paramsInheritanceStrategy);Me.params=Object.freeze(Re.params),Me.data=Object.freeze(Re.data);let Ke=this.applyRedirects.applyRedirectCommands(k,s.redirectTo,G,Me,o);return this.applyRedirects.lineralizeSegments(s,Ke).pipe(ps(He=>this.processSegment(o,n,e,He.concat($),u,!1,h)))}matchSegmentAgainstRoute(o,e,n,s,c,u){let h=oO(e,n,s,o,this.urlSerializer);return n.path==="**"&&(e.children={}),h.pipe(Si(p=>p.matched?(o=n._injector??o,this.getChildConfig(o,n,s).pipe(Si(({routes:y})=>{let k=n._loadedInjector??o,{parameters:G,consumedSegments:$,remainingSegments:Me}=p,Re=new Gh($,G,Object.freeze(Vt({},this.urlTree.queryParams)),this.urlTree.fragment,iE(n),sl(n),n.component??n._loadedComponent??null,n,aE(n)),Ke=ex(Re,u,this.paramsInheritanceStrategy);Re.params=Object.freeze(Ke.params),Re.data=Object.freeze(Ke.data);let{segmentGroup:He,slicedSegments:Ie}=nE(e,$,Me,y);if(Ie.length===0&&He.hasChildren())return this.processChildren(k,y,He,Re).pipe(jo(Xe=>new _s(Re,Xe)));if(y.length===0&&Ie.length===0)return bo(new _s(Re,[]));let Pe=sl(n)===c;return this.processSegment(k,y,He,Ie,Pe?Uo:c,!0,Re).pipe(jo(Xe=>new _s(Re,Xe instanceof _s?[Xe]:[])))}))):Vh(e)))}getChildConfig(o,e,n){return e.children?bo({routes:e.children,injector:o}):e.loadChildren?e._loadedRoutes!==void 0?bo({routes:e._loadedRoutes,injector:e._loadedInjector}):ZR(o,e,n,this.urlSerializer).pipe(ps(s=>s?this.configLoader.loadChildren(o,e).pipe(vi(c=>{e._loadedRoutes=c.routes,e._loadedInjector=c.injector})):rO(e))):bo({routes:[],injector:o})}};function pO(r){r.sort((o,e)=>o.value.outlet===Uo?-1:e.value.outlet===Uo?1:o.value.outlet.localeCompare(e.value.outlet))}function fO(r){let o=r.value.routeConfig;return o&&o.path===""}function BE(r){let o=[],e=new Set;for(let n of r){if(!fO(n)){o.push(n);continue}let s=o.find(c=>n.value.routeConfig===c.value.routeConfig);s!==void 0?(s.children.push(...n.children),e.add(s)):o.push(n)}for(let n of e){let s=BE(n.children);o.push(new _s(n.value,s))}return o.filter(n=>!e.has(n))}function iE(r){return r.data||{}}function aE(r){return r.resolve||{}}function hO(r,o,e,n,s,c){return ps(u=>dO(r,o,e,n,u.extractedUrl,s,c).pipe(jo(({state:h,tree:p})=>Gr(Vt({},u),{targetSnapshot:h,urlAfterRedirects:p}))))}function mO(r,o){return ps(e=>{let{targetSnapshot:n,guards:{canActivateChecks:s}}=e;if(!s.length)return bo(e);let c=new Set(s.map(p=>p.route)),u=new Set;for(let p of c)if(!u.has(p))for(let y of IE(p))u.add(y);let h=0;return bi(u).pipe(Ou(p=>c.has(p)?gO(p,n,r,o):(p.data=ex(p,p.parent,r).resolve,bo(void 0))),vi(()=>h++),Zw(1),ps(p=>h===u.size?bo(e):Ql))})}function IE(r){let o=r.children.map(e=>IE(e)).flat();return[r,...o]}function gO(r,o,e,n){let s=r.routeConfig,c=r._resolve;return s?.title!==void 0&&!kE(s)&&(c[Sv]=s.title),_O(c,r,o,n).pipe(jo(u=>(r._resolvedData=u,r.data=ex(r,r.parent,e).resolve,null)))}function _O(r,o,e,n){let s=O2(r);if(s.length===0)return bo({});let c={};return bi(s).pipe(ps(u=>bO(r[u],o,e,n).pipe($u(),vi(h=>{if(h instanceof kv)throw rx(new qh,h);c[u]=h}))),Zw(1),jo(()=>c),Sh(u=>SE(u)?Ql:_f(u)))}function bO(r,o,e,n){let s=Av(o)??n,c=Jh(r,s),u=c.resolve?c.resolve(o,e):Bs(s,()=>c(o,e));return Xu(u)}function F2(r){return Si(o=>{let e=r(o);return e?bi(e).pipe(jo(()=>o)):bo(o)})}var DE=(()=>{class r{buildTitle(e){let n,s=e.root;for(;s!==void 0;)n=this.getResolvedTitleForRoute(s)??n,s=s.children.find(c=>c.outlet===Uo);return n}getResolvedTitleForRoute(e){return e.data[Sv]}static \u0275fac=function(n){return new(n||r)};static \u0275prov=jr({token:r,factory:()=>wr(vO),providedIn:"root"})}return r})(),vO=(()=>{class r extends DE{title;constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||r)(Ao(TT))};static \u0275prov=jr({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Fv=new rn("",{providedIn:"root",factory:()=>({})}),yO=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Mo({type:r,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,s){n&1&&no(0,"router-outlet")},dependencies:[Iv],encapsulation:2})}return r})();function lC(r){let o=r.children&&r.children.map(lC),e=o?Gr(Vt({},r),{children:o}):Vt({},r);return!e.component&&!e.loadComponent&&(o||e.loadChildren)&&e.outlet&&e.outlet!==Uo&&(e.component=yO),e}var Ev=new rn(""),cC=(()=>{class r{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=wr(vy);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return bo(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let n=Xu(e.loadComponent()).pipe(jo(FE),vi(c=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=c}),Ph(()=>{this.componentLoaders.delete(e)})),s=new qw(n,()=>new si).pipe(Kw());return this.componentLoaders.set(e,s),s}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return bo({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let c=xO(n,this.compiler,e,this.onLoadEndListener).pipe(Ph(()=>{this.childrenLoaders.delete(n)})),u=new qw(c,()=>new si).pipe(Kw());return this.childrenLoaders.set(n,u),u}static \u0275fac=function(n){return new(n||r)};static \u0275prov=jr({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function xO(r,o,e,n){return Xu(r.loadChildren()).pipe(jo(FE),ps(s=>s instanceof FM||Array.isArray(s)?bo(s):bi(o.compileModuleAsync(s))),jo(s=>{n&&n(r);let c,u,h=!1;return Array.isArray(s)?(u=s,h=!0):(c=s.create(e).injector,u=c.get(Ev,[],{optional:!0,self:!0}).flat()),{routes:u.map(lC),injector:c}}))}function wO(r){return r&&typeof r=="object"&&"default"in r}function FE(r){return wO(r)?r.default:r}var dC=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275prov=jr({token:r,factory:()=>wr(CO),providedIn:"root"})}return r})(),CO=(()=>{class r{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static \u0275fac=function(n){return new(n||r)};static \u0275prov=jr({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),RE=new rn(""),OE=new rn("");function kO(r,o,e){let n=r.get(OE),s=r.get(oi);return r.get($i).runOutsideAngular(()=>{if(!s.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(y=>setTimeout(y));let c,u=new Promise(y=>{c=y}),h=s.startViewTransition(()=>(c(),MO(r))),{onViewTransitionCreated:p}=n;return p&&Bs(r,()=>p({transition:h,from:o,to:e})),u})}function MO(r){return new Promise(o=>{SM({read:()=>setTimeout(o)},{injector:r})})}var $E=new rn(""),uC=(()=>{class r{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new si;transitionAbortSubject=new si;configLoader=wr(cC);environmentInjector=wr(bf);destroyRef=wr(wM);urlSerializer=wr(Pv);rootContexts=wr(Bv);location=wr(nv);inputBindingEnabled=wr(ix,{optional:!0})!==null;titleStrategy=wr(DE);options=wr(Fv,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=wr(dC);createViewTransition=wr(RE,{optional:!0});navigationErrorHandler=wr($E,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>bo(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=s=>this.events.next(new W2(s)),n=s=>this.events.next(new G2(s));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next(Gr(Vt(Vt({},this.transitions.value),e),{id:n}))}setupNavigations(e,n,s){return this.transitions=new es({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:bv,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ts(c=>c.id!==0),jo(c=>Gr(Vt({},c),{extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),Si(c=>{let u=!1,h=!1;return bo(c).pipe(Si(p=>{if(this.navigationId>c.id)return this.cancelNavigationTransition(c,"",bs.SupersededByNewNavigation),Ql;this.currentTransition=c,this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,targetBrowserUrl:typeof p.extras.browserUrl=="string"?this.urlSerializer.parse(p.extras.browserUrl):p.extras.browserUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Gr(Vt({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let y=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),k=p.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!y&&k!=="reload"){let G="";return this.events.next(new Ku(p.id,this.urlSerializer.serialize(p.rawUrl),G,Xy.IgnoredSameUrlNavigation)),p.resolve(!1),Ql}if(this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return bo(p).pipe(Si(G=>{let $=this.transitions?.getValue();return this.events.next(new Xh(G.id,this.urlSerializer.serialize(G.extractedUrl),G.source,G.restoredState)),$!==this.transitions?.getValue()?Ql:Promise.resolve(G)}),hO(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),vi(G=>{c.targetSnapshot=G.targetSnapshot,c.urlAfterRedirects=G.urlAfterRedirects,this.currentNavigation=Gr(Vt({},this.currentNavigation),{finalUrl:G.urlAfterRedirects});let $=new Qy(G.id,this.urlSerializer.serialize(G.extractedUrl),this.urlSerializer.serialize(G.urlAfterRedirects),G.targetSnapshot);this.events.next($)}));if(y&&this.urlHandlingStrategy.shouldProcessUrl(p.currentRawUrl)){let{id:G,extractedUrl:$,source:Me,restoredState:Re,extras:Ke}=p,He=new Xh(G,this.urlSerializer.serialize($),Me,Re);this.events.next(He);let Ie=wE(this.rootComponentType).snapshot;return this.currentTransition=c=Gr(Vt({},p),{targetSnapshot:Ie,urlAfterRedirects:$,extras:Gr(Vt({},Ke),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=$,bo(c)}else{let G="";return this.events.next(new Ku(p.id,this.urlSerializer.serialize(p.extractedUrl),G,Xy.IgnoredByUrlHandlingStrategy)),p.resolve(!1),Ql}}),vi(p=>{let y=new z2(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}),jo(p=>(this.currentTransition=c=Gr(Vt({},p),{guards:FR(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),c)),GR(this.environmentInjector,p=>this.events.next(p)),vi(p=>{if(c.guardsResult=p.guardsResult,p.guardsResult&&typeof p.guardsResult!="boolean")throw rx(this.urlSerializer,p.guardsResult);let y=new j2(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(y)}),ts(p=>p.guardsResult?!0:(this.cancelNavigationTransition(p,"",bs.GuardRejected),!1)),F2(p=>{if(p.guards.canActivateChecks.length)return bo(p).pipe(vi(y=>{let k=new V2(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(k)}),Si(y=>{let k=!1;return bo(y).pipe(mO(this.paramsInheritanceStrategy,this.environmentInjector),vi({next:()=>k=!0,complete:()=>{k||this.cancelNavigationTransition(y,"",bs.NoDataFromResolver)}}))}),vi(y=>{let k=new U2(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(k)}))}),F2(p=>{let y=k=>{let G=[];k.routeConfig?.loadComponent&&!k.routeConfig._loadedComponent&&G.push(this.configLoader.loadComponent(k.routeConfig).pipe(vi($=>{k.component=$}),jo(()=>{})));for(let $ of k.children)G.push(...y($));return G};return ly(y(p.targetSnapshot.root)).pipe(Jw(null),fs(1))}),F2(()=>this.afterPreactivation()),Si(()=>{let{currentSnapshot:p,targetSnapshot:y}=c,k=this.createViewTransition?.(this.environmentInjector,p.root,y.root);return k?bi(k).pipe(jo(()=>c)):bo(c)}),jo(p=>{let y=PR(e.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return this.currentTransition=c=Gr(Vt({},p),{targetRouterState:y}),this.currentNavigation.targetRouterState=y,c}),vi(()=>{this.events.next(new wv)}),DR(this.rootContexts,e.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),fs(1),vi({next:p=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ol(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects))),this.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{u=!0}}),_M(this.transitionAbortSubject.pipe(vi(p=>{throw p}))),Ph(()=>{!u&&!h&&this.cancelNavigationTransition(c,"",bs.SupersededByNewNavigation),this.currentTransition?.id===c.id&&(this.currentNavigation=null,this.currentTransition=null)}),Sh(p=>{if(this.destroyed)return c.resolve(!1),Ql;if(h=!0,EE(p))this.events.next(new ru(c.id,this.urlSerializer.serialize(c.extractedUrl),p.message,p.cancellationCode)),IR(p)?this.events.next(new Qh(p.url,p.navigationBehaviorOptions)):c.resolve(!1);else{let y=new xv(c.id,this.urlSerializer.serialize(c.extractedUrl),p,c.targetSnapshot??void 0);try{let k=Bs(this.environmentInjector,()=>this.navigationErrorHandler?.(y));if(k instanceof kv){let{message:G,cancellationCode:$}=rx(this.urlSerializer,k);this.events.next(new ru(c.id,this.urlSerializer.serialize(c.extractedUrl),G,$)),this.events.next(new Qh(k.redirectTo,k.navigationBehaviorOptions))}else throw this.events.next(y),p}catch(k){this.options.resolveNavigationPromiseOnError?c.resolve(!1):c.reject(k)}}return Ql}))}))}cancelNavigationTransition(e,n,s){let c=new ru(e.id,this.urlSerializer.serialize(e.extractedUrl),n,s);this.events.next(c),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||r)};static \u0275prov=jr({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function TO(r){return r!==bv}var EO=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275prov=jr({token:r,factory:()=>wr(SO),providedIn:"root"})}return r})(),aC=class{shouldDetach(o){return!1}store(o,e){}shouldAttach(o){return!1}retrieve(o){return null}shouldReuseRoute(o,e){return o.routeConfig===e.routeConfig}},SO=(()=>{class r extends aC{static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275prov=jr({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),LE=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275prov=jr({token:r,factory:()=>wr(PO),providedIn:"root"})}return r})(),PO=(()=>{class r extends LE{location=wr(nv);urlSerializer=wr(Pv);options=wr(Fv,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=wr(dC);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ou;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=wE(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&e(n.url,n.state)})}handleRouterEvent(e,n){if(e instanceof Xh)this.stateMemento=this.createStateMemento();else if(e instanceof Ku)this.rawUrlTree=n.initialUrl;else if(e instanceof Qy){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(n.targetBrowserUrl??s,n)}}else e instanceof wv?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(n.targetBrowserUrl??this.rawUrlTree,n)):e instanceof ru&&(e.code===bs.GuardRejected||e.code===bs.NoDataFromResolver)?this.restoreHistory(n):e instanceof xv?this.restoreHistory(n,!0):e instanceof Ol&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,n){let s=e instanceof ou?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(s)||n.extras.replaceUrl){let c=this.browserPageId,u=Vt(Vt({},n.extras.state),this.generateNgRouterState(n.id,c));this.location.replaceState(s,"",u)}else{let c=Vt(Vt({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(s,"",c)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,c=this.currentPageId-s;c!==0?this.location.historyGo(c):this.currentUrlTree===e.finalUrl&&c===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275prov=jr({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function NE(r,o){r.events.pipe(ts(e=>e instanceof Ol||e instanceof ru||e instanceof xv||e instanceof Ku),jo(e=>e instanceof Ol||e instanceof Ku?0:(e instanceof ru?e.code===bs.Redirect||e.code===bs.SupersededByNewNavigation:!1)?2:1),ts(e=>e!==2),fs(1)).subscribe(()=>{o()})}var AO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},BO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},as=(()=>{class r{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=wr(a2);stateManager=wr(LE);options=wr(Fv,{optional:!0})||{};pendingTasks=wr(dy);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=wr(uC);urlSerializer=wr(Pv);location=wr(nv);urlHandlingStrategy=wr(dC);_events=new si;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=wr(EO);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=wr(Ev,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!wr(ix,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new sM;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let s=this.navigationTransitions.currentTransition,c=this.navigationTransitions.currentNavigation;if(s!==null&&c!==null){if(this.stateManager.handleRouterEvent(n,c),n instanceof ru&&n.code!==bs.Redirect&&n.code!==bs.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof Ol)this.navigated=!0;else if(n instanceof Qh){let u=n.navigationBehaviorOptions,h=this.urlHandlingStrategy.merge(n.url,s.currentRawUrl),p=Vt({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||TO(s.source)},u);this.scheduleNavigation(h,bv,null,p,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}DO(n)&&this._events.next(n)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),bv,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",n)},0)})}navigateToSyncWithBrowser(e,n,s){let c={replaceUrl:!0},u=s?.navigationId?s:null;if(s){let p=Vt({},s);delete p.navigationId,delete p.\u0275routerPageId,Object.keys(p).length!==0&&(c.state=p)}let h=this.parseUrl(e);this.scheduleNavigation(h,n,u,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(lC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:s,queryParams:c,fragment:u,queryParamsHandling:h,preserveFragment:p}=n,y=p?this.currentUrlTree.fragment:u,k=null;switch(h??this.options.defaultQueryParamsHandling){case"merge":k=Vt(Vt({},this.currentUrlTree.queryParams),c);break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=c||null}k!==null&&(k=this.removeEmptyProps(k));let G;try{let $=s?s.snapshot:this.routerState.snapshot.root;G=bE($)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),G=this.currentUrlTree.root}return vE(G,e,k,y??null)}navigateByUrl(e,n={skipLocationChange:!1}){let s=Tf(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(c,bv,null,n)}navigate(e,n={skipLocationChange:!1}){return IO(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let s;if(n===!0?s=Vt({},AO):n===!1?s=Vt({},BO):s=n,Tf(e))return ZT(this.currentUrlTree,e,s);let c=this.parseUrl(e);return ZT(this.currentUrlTree,c,s)}removeEmptyProps(e){return Object.entries(e).reduce((n,[s,c])=>(c!=null&&(n[s]=c),n),{})}scheduleNavigation(e,n,s,c,u){if(this.disposed)return Promise.resolve(!1);let h,p,y;u?(h=u.resolve,p=u.reject,y=u.promise):y=new Promise((G,$)=>{h=G,p=$});let k=this.pendingTasks.add();return NE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(k))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:c,resolve:h,reject:p,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(G=>Promise.reject(G))}static \u0275fac=function(n){return new(n||r)};static \u0275prov=jr({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function IO(r){for(let o=0;o<r.length;o++)if(r[o]==null)throw new In(4008,!1)}function DO(r){return!(r instanceof wv)&&!(r instanceof Qh)}var zE=(()=>{class r{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new si;constructor(e,n,s,c,u,h){this.router=e,this.route=n,this.tabIndexAttribute=s,this.renderer=c,this.el=u,this.locationStrategy=h;let p=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement=p==="a"||p==="area",this.isAnchorElement?this.subscription=e.events.subscribe(y=>{y instanceof Ol&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Tf(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,n,s,c,u){let h=this.urlTree;if(h===null||this.isAnchorElement&&(e!==0||n||s||c||u||typeof this.target=="string"&&this.target!="_self"))return!0;let p={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(h,p),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let n=this.href===null?null:AM(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(e,n){let s=this.renderer,c=this.el.nativeElement;n!==null?s.setAttribute(c,e,n):s.removeAttribute(c,e)}get urlTree(){return this.routerLinkInput===null?null:Tf(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(n){return new(n||r)(Ho(as),Ho(qu),xM("tabindex"),Ho(rl),Ho(tl),Ho(ov))};static \u0275dir=Zn({type:r,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,s){n&1&&_o("click",function(u){return s.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),n&2&&Fo("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Oo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Oo],replaceUrl:[2,"replaceUrl","replaceUrl",Oo],routerLink:"routerLink"},features:[fi,Is]})}return r})();var nx=class{};var FO=(()=>{class r{router;injector;preloadingStrategy;loader;subscription;constructor(e,n,s,c,u){this.router=e,this.injector=s,this.preloadingStrategy=c,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(ts(e=>e instanceof Ol),Ou(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){let s=[];for(let c of n){c.providers&&!c._injector&&(c._injector=i2(c.providers,e,`Route: ${c.path}`));let u=c._injector??e,h=c._loadedInjector??u;(c.loadChildren&&!c._loadedRoutes&&c.canLoad===void 0||c.loadComponent&&!c._loadedComponent)&&s.push(this.preloadConfig(u,c)),(c.children||c._loadedRoutes)&&s.push(this.processRoutes(h,c.children??c._loadedRoutes))}return bi(s).pipe(Xw())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let s;n.loadChildren&&n.canLoad===void 0?s=this.loader.loadChildren(e,n):s=bo(null);let c=s.pipe(ps(u=>u===null?bo(void 0):(n._loadedRoutes=u.routes,n._loadedInjector=u.injector,this.processRoutes(u.injector??e,u.routes))));if(n.loadComponent&&!n._loadedComponent){let u=this.loader.loadComponent(n);return bi([c,u]).pipe(Xw())}else return c})}static \u0275fac=function(n){return new(n||r)(Ao(as),Ao(vy),Ao(bf),Ao(nx),Ao(cC))};static \u0275prov=jr({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),jE=new rn(""),RO=(()=>{class r{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,n,s,c,u={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=s,this.zone=c,this.options=u,u.scrollPositionRestoration||="disabled",u.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Xh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ol?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Ku&&e.code===Xy.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Yy&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Yy(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(n){py()};static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})();function VE(r,...o){return el([{provide:Ev,multi:!0,useValue:r},[],{provide:qu,useFactory:UE,deps:[as]},{provide:hy,multi:!0,useFactory:WE},o.map(e=>e.\u0275providers)])}function UE(r){return r.routerState.root}function Rv(r,o){return{\u0275kind:r,\u0275providers:o}}function WE(){let r=wr(Fs);return o=>{let e=r.get(vf);if(o!==e.components[0])return;let n=r.get(as),s=r.get(GE);r.get(pC)===1&&n.initialNavigation(),r.get(HE,null,e2.Optional)?.setUpPreloading(),r.get(jE,null,e2.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}var GE=new rn("",{factory:()=>new si}),pC=new rn("",{providedIn:"root",factory:()=>1});function OO(){return Rv(2,[{provide:pC,useValue:0},{provide:rv,multi:!0,deps:[Fs],useFactory:o=>{let e=o.get(GM,Promise.resolve());return()=>e.then(()=>new Promise(n=>{let s=o.get(as),c=o.get(GE);NE(s,()=>{n(!0)}),o.get(uC).afterPreactivation=()=>(n(!0),c.closed?bo(void 0):c),s.initialNavigation()}))}}])}function $O(){return Rv(3,[{provide:rv,multi:!0,useFactory:()=>{let o=wr(as);return()=>{o.setUpLocationChangeListener()}}},{provide:pC,useValue:2}])}var HE=new rn("");function LO(r){return Rv(0,[{provide:HE,useExisting:FO},{provide:nx,useExisting:r}])}function NO(){return Rv(8,[oE,{provide:ix,useExisting:oE}])}function zO(r){let o=[{provide:RE,useValue:kO},{provide:OE,useValue:Vt({skipNextTransition:!!r?.skipInitialTransition},r)}];return Rv(9,o)}var jO=[nv,{provide:Pv,useClass:qh},as,Bv,{provide:qu,useFactory:UE,deps:[as]},cC,[]],Qu=(()=>{class r{constructor(){}static forRoot(e,n){return{ngModule:r,providers:[jO,[],{provide:Ev,multi:!0,useValue:e},[],n?.errorHandler?{provide:$E,useValue:n.errorHandler}:[],{provide:Fv,useValue:n||{}},n?.useHash?UO():WO(),VO(),n?.preloadingStrategy?LO(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?GO(n):[],n?.bindToComponentInputs?NO().\u0275providers:[],n?.enableViewTransitions?zO().\u0275providers:[],HO()]}}static forChild(e){return{ngModule:r,providers:[{provide:Ev,multi:!0,useValue:e}]}}static \u0275fac=function(n){return new(n||r)};static \u0275mod=vn({type:r});static \u0275inj=bn({})}return r})();function VO(){return{provide:jE,useFactory:()=>{let r=wr(YM),o=wr($i),e=wr(Fv),n=wr(uC),s=wr(Pv);return e.scrollOffset&&r.setOffset(e.scrollOffset),new RO(s,n,r,o,e)}}}function UO(){return{provide:ov,useClass:KM}}function WO(){return{provide:ov,useClass:HM}}function GO(r){return[r.initialNavigation==="disabled"?$O().\u0275providers:[],r.initialNavigation==="enabledBlocking"?OO().\u0275providers:[]]}var sE=new rn("");function HO(){return[{provide:sE,useFactory:WE},{provide:hy,multi:!0,useExisting:sE}]}var KE=(()=>{class r extends kn{name="common";static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275prov=jr({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Vn=(()=>{class r{document=wr(oi);platformId=wr(rs);el=wr(tl);injector=wr(Fs);cd=wr(yf);renderer=wr(rl);config=wr(jh);baseComponentStyle=wr(KE);baseStyle=wr(kn);scopedStyleEl;rootEl;dt;get styleOptions(){return{nonce:this.config?.csp().nonce}}get _name(){return this.constructor.name.replace(/^_/,"").toLowerCase()}get componentStyle(){return this._componentStyle}attrSelector=il("pc");_getHostInstance(e){if(e)return e?this.hostName?e.name===this.hostName?e:this._getHostInstance(e.parentInstance):e.parentInstance:void 0}_getOptionValue(e,n="",s={}){return Ry(e,n,s)}ngOnInit(){this.document&&this._loadStyles()}ngAfterViewInit(){this.rootEl=this.el?.nativeElement,this.rootEl&&this.rootEl?.setAttribute(this.attrSelector,"")}ngOnChanges(e){if(this.document&&!iv(this.platformId)){let{dt:n}=e;n&&n.currentValue&&(this._loadScopedThemeStyles(n.currentValue),this._themeChangeListener(()=>this._loadScopedThemeStyles(n.currentValue)))}}ngOnDestroy(){this._unloadScopedThemeStyles()}_loadStyles(){let e=()=>{zh.isStyleNameLoaded("base")||(this.baseStyle.loadGlobalCSS(this.styleOptions),zh.setLoadedStyleName("base")),this._loadThemeStyles()};e(),this._themeChangeListener(()=>e())}_loadCoreStyles(){!zh.isStyleNameLoaded("base")&&this._name&&(this.baseComponentStyle.loadCSS(this.styleOptions),this.componentStyle&&this.componentStyle?.loadCSS(this.styleOptions),zh.setLoadedStyleName(this.componentStyle?.name))}_loadThemeStyles(){if(!ln.isStyleNameLoaded("common")){let{primitive:e,semantic:n,global:s,style:c}=this.componentStyle?.getCommonTheme?.()||{};this.baseStyle.load(e?.css,Vt({name:"primitive-variables"},this.styleOptions)),this.baseStyle.load(n?.css,Vt({name:"semantic-variables"},this.styleOptions)),this.baseStyle.load(s?.css,Vt({name:"global-variables"},this.styleOptions)),this.baseStyle.loadGlobalTheme(Vt({name:"global-style"},this.styleOptions),c),ln.setLoadedStyleName("common")}if(!ln.isStyleNameLoaded(this.componentStyle?.name)&&this.componentStyle?.name){let{css:e,style:n}=this.componentStyle?.getComponentTheme?.()||{};this.componentStyle?.load(e,Vt({name:`${this.componentStyle?.name}-variables`},this.styleOptions)),this.componentStyle?.loadTheme(Vt({name:`${this.componentStyle?.name}-style`},this.styleOptions),n),ln.setLoadedStyleName(this.componentStyle?.name)}if(!ln.isStyleNameLoaded("layer-order")){let e=this.componentStyle?.getLayerOrderThemeCSS?.();this.baseStyle.load(e,Vt({name:"layer-order",first:!0},this.styleOptions)),ln.setLoadedStyleName("layer-order")}this.dt&&(this._loadScopedThemeStyles(this.dt),this._themeChangeListener(()=>this._loadScopedThemeStyles(this.dt)))}_loadScopedThemeStyles(e){let{css:n}=this.componentStyle?.getPresetTheme?.(e,`[${this.attrSelector}]`)||{},s=this.componentStyle?.load(n,Vt({name:`${this.attrSelector}-${this.componentStyle?.name}`},this.styleOptions));this.scopedStyleEl=s?.el}_unloadScopedThemeStyles(){this.scopedStyleEl?.remove()}_themeChangeListener(e=()=>{}){zh.clearLoadedStyleNames(),Ls.on("theme:change",e)}cx(e,n){let s=this.parent?this.parent.componentStyle?.classes?.[e]:this.componentStyle?.classes?.[e];return typeof s=="function"?s({instance:this}):typeof s=="string"?s:e}sx(e){let n=this.componentStyle?.inlineStyles?.[e];return typeof n=="function"?n({instance:this}):typeof n=="string"?n:Vt({},n)}get parent(){return this.parentInstance}static \u0275fac=function(n){return new(n||r)};static \u0275dir=Zn({type:r,inputs:{dt:"dt"},features:[an([KE,kn]),Is]})}return r})();var qE=(()=>{class r{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(e,n){e&&n&&(e.classList?e.classList.add(n):e.className+=" "+n)}static addMultipleClasses(e,n){if(e&&n)if(e.classList){let s=n.trim().split(" ");for(let c=0;c<s.length;c++)e.classList.add(s[c])}else{let s=n.split(" ");for(let c=0;c<s.length;c++)e.className+=" "+s[c]}}static removeClass(e,n){e&&n&&(e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(e,n){e&&n&&[n].flat().filter(Boolean).forEach(s=>s.split(" ").forEach(c=>this.removeClass(e,c)))}static hasClass(e,n){return e&&n?e.classList?e.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(e.className):!1}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(n){return n!==e})}static find(e,n){return Array.from(e.querySelectorAll(n))}static findSingle(e,n){return this.isElement(e)?e.querySelector(n):null}static index(e){let n=e.parentNode.childNodes,s=0;for(var c=0;c<n.length;c++){if(n[c]==e)return s;n[c].nodeType==1&&s++}return-1}static indexWithinGroup(e,n){let s=e.parentNode?e.parentNode.childNodes:[],c=0;for(var u=0;u<s.length;u++){if(s[u]==e)return c;s[u].attributes&&s[u].attributes[n]&&s[u].nodeType==1&&c++}return-1}static appendOverlay(e,n,s="self"){s!=="self"&&e&&n&&this.appendChild(e,n)}static alignOverlay(e,n,s="self",c=!0){e&&n&&(c&&(e.style.minWidth=`${r.getOuterWidth(n)}px`),s==="self"?this.relativePosition(e,n):this.absolutePosition(e,n))}static relativePosition(e,n,s=!0){let c=Pe=>{if(Pe)return getComputedStyle(Pe).getPropertyValue("position")==="relative"?Pe:c(Pe.parentElement)},u=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),h=n.offsetHeight,p=n.getBoundingClientRect(),y=this.getWindowScrollTop(),k=this.getWindowScrollLeft(),G=this.getViewport(),Me=c(e)?.getBoundingClientRect()||{top:-1*y,left:-1*k},Re,Ke;p.top+h+u.height>G.height?(Re=p.top-Me.top-u.height,e.style.transformOrigin="bottom",p.top+Re<0&&(Re=-1*p.top)):(Re=h+p.top-Me.top,e.style.transformOrigin="top");let He=p.left+u.width-G.width,Ie=p.left-Me.left;u.width>G.width?Ke=(p.left-Me.left)*-1:He>0?Ke=Ie-He:Ke=p.left-Me.left,e.style.top=Re+"px",e.style.left=Ke+"px",s&&(e.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(e,n,s=!0){let c=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),u=c.height,h=c.width,p=n.offsetHeight,y=n.offsetWidth,k=n.getBoundingClientRect(),G=this.getWindowScrollTop(),$=this.getWindowScrollLeft(),Me=this.getViewport(),Re,Ke;k.top+p+u>Me.height?(Re=k.top+G-u,e.style.transformOrigin="bottom",Re<0&&(Re=G)):(Re=p+k.top+G,e.style.transformOrigin="top"),k.left+h>Me.width?Ke=Math.max(0,k.left+$+y-h):Ke=k.left+$,e.style.top=Re+"px",e.style.left=Ke+"px",s&&(e.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(e,n=[]){return e.parentNode===null?n:this.getParents(e.parentNode,n.concat([e.parentNode]))}static getScrollableParents(e){let n=[];if(e){let s=this.getParents(e),c=/(auto|scroll)/,u=h=>{let p=window.getComputedStyle(h,null);return c.test(p.getPropertyValue("overflow"))||c.test(p.getPropertyValue("overflowX"))||c.test(p.getPropertyValue("overflowY"))};for(let h of s){let p=h.nodeType===1&&h.dataset.scrollselectors;if(p){let y=p.split(",");for(let k of y){let G=this.findSingle(h,k);G&&u(G)&&n.push(G)}}h.nodeType!==9&&u(h)&&n.push(h)}}return n}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let n=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",n}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let n=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",n}static getHiddenElementDimensions(e){let n={};return e.style.visibility="hidden",e.style.display="block",n.width=e.offsetWidth,n.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",n}static scrollInView(e,n){let s=getComputedStyle(e).getPropertyValue("borderTopWidth"),c=s?parseFloat(s):0,u=getComputedStyle(e).getPropertyValue("paddingTop"),h=u?parseFloat(u):0,p=e.getBoundingClientRect(),k=n.getBoundingClientRect().top+document.body.scrollTop-(p.top+document.body.scrollTop)-c-h,G=e.scrollTop,$=e.clientHeight,Me=this.getOuterHeight(n);k<0?e.scrollTop=G+k:k+Me>$&&(e.scrollTop=G+k-$+Me)}static fadeIn(e,n){e.style.opacity=0;let s=+new Date,c=0,u=function(){c=+e.style.opacity.replace(",",".")+(new Date().getTime()-s)/n,e.style.opacity=c,s=+new Date,+c<1&&(window.requestAnimationFrame&&requestAnimationFrame(u)||setTimeout(u,16))};u()}static fadeOut(e,n){var s=1,c=50,u=n,h=c/u;let p=setInterval(()=>{s=s-h,s<=0&&(s=0,clearInterval(p)),e.style.opacity=s},c)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,n){var s=Element.prototype,c=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.msMatchesSelector||function(u){return[].indexOf.call(document.querySelectorAll(u),this)!==-1};return c.call(e,n)}static getOuterWidth(e,n){let s=e.offsetWidth;if(n){let c=getComputedStyle(e);s+=parseFloat(c.marginLeft)+parseFloat(c.marginRight)}return s}static getHorizontalPadding(e){let n=getComputedStyle(e);return parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)}static getHorizontalMargin(e){let n=getComputedStyle(e);return parseFloat(n.marginLeft)+parseFloat(n.marginRight)}static innerWidth(e){let n=e.offsetWidth,s=getComputedStyle(e);return n+=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),n}static width(e){let n=e.offsetWidth,s=getComputedStyle(e);return n-=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),n}static getInnerHeight(e){let n=e.offsetHeight,s=getComputedStyle(e);return n+=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom),n}static getOuterHeight(e,n){let s=e.offsetHeight;if(n){let c=getComputedStyle(e);s+=parseFloat(c.marginTop)+parseFloat(c.marginBottom)}return s}static getHeight(e){let n=e.offsetHeight,s=getComputedStyle(e);return n-=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom)+parseFloat(s.borderTopWidth)+parseFloat(s.borderBottomWidth),n}static getWidth(e){let n=e.offsetWidth,s=getComputedStyle(e);return n-=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight)+parseFloat(s.borderLeftWidth)+parseFloat(s.borderRightWidth),n}static getViewport(){let e=window,n=document,s=n.documentElement,c=n.getElementsByTagName("body")[0],u=e.innerWidth||s.clientWidth||c.clientWidth,h=e.innerHeight||s.clientHeight||c.clientHeight;return{width:u,height:h}}static getOffset(e){var n=e.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,n){let s=e.parentNode;if(!s)throw"Can't replace element";return s.replaceChild(n,e)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var e=window.navigator.userAgent,n=e.indexOf("MSIE ");if(n>0)return!0;var s=e.indexOf("Trident/");if(s>0){var c=e.indexOf("rv:");return!0}var u=e.indexOf("Edge/");return u>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,n){if(this.isElement(n))n.appendChild(e);else if(n&&n.el&&n.el.nativeElement)n.el.nativeElement.appendChild(e);else throw"Cannot append "+n+" to "+e}static removeChild(e,n){if(this.isElement(n))n.removeChild(e);else if(n.el&&n.el.nativeElement)n.el.nativeElement.removeChild(e);else throw"Cannot remove "+e+" from "+n}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"}static calculateScrollbarWidth(e){if(e){let n=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let n=document.createElement("div");n.className="p-scrollbar-measure",document.body.appendChild(n);let s=n.offsetWidth-n.clientWidth;return document.body.removeChild(n),this.calculatedScrollbarWidth=s,s}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let n=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=n,n}static invokeElementMethod(e,n,s){e[n].apply(e,s)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),n=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:n[1]||"",version:n[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||e.offsetParent===null}static isVisible(e){return e&&e.offsetParent!=null}static isExist(e){return e!==null&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,n){e&&document.activeElement!==e&&e.focus(n)}static getFocusableSelectorString(e=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`}static getFocusableElements(e,n=""){let s=this.find(e,this.getFocusableSelectorString(n)),c=[];for(let u of s){let h=getComputedStyle(u);this.isVisible(u)&&h.display!="none"&&h.visibility!="hidden"&&c.push(u)}return c}static getFocusableElement(e,n=""){let s=this.findSingle(e,this.getFocusableSelectorString(n));if(s){let c=getComputedStyle(s);if(this.isVisible(s)&&c.display!="none"&&c.visibility!="hidden")return s}return null}static getFirstFocusableElement(e,n=""){let s=this.getFocusableElements(e,n);return s.length>0?s[0]:null}static getLastFocusableElement(e,n){let s=this.getFocusableElements(e,n);return s.length>0?s[s.length-1]:null}static getNextFocusableElement(e,n=!1){let s=r.getFocusableElements(e),c=0;if(s&&s.length>0){let u=s.indexOf(s[0].ownerDocument.activeElement);n?u==-1||u===0?c=s.length-1:c=u-1:u!=-1&&u!==s.length-1&&(c=u+1)}return s[c]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,n){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return n?.nextElementSibling;case"@prev":return n?.previousElementSibling;case"@parent":return n?.parentElement;case"@grandparent":return n?.parentElement.parentElement;default:let s=typeof e;if(s==="string")return document.querySelector(e);if(s==="object"&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;let u=(h=>!!(h&&h.constructor&&h.call&&h.apply))(e)?e():e;return u&&u.nodeType===9||this.isExist(u)?u:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(e,n){if(e){let s=e.getAttribute(n);return isNaN(s)?s==="true"||s==="false"?s==="true":s:+s}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(e="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)}static unblockBodyScroll(e="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}static createElement(e,n={},...s){if(e){let c=document.createElement(e);return this.setAttributes(c,n),c.append(...s),c}}static setAttribute(e,n="",s){this.isElement(e)&&s!==null&&s!==void 0&&e.setAttribute(n,s)}static setAttributes(e,n={}){if(this.isElement(e)){let s=(c,u)=>{let h=e?.$attrs?.[c]?[e?.$attrs?.[c]]:[];return[u].flat().reduce((p,y)=>{if(y!=null){let k=typeof y;if(k==="string"||k==="number")p.push(y);else if(k==="object"){let G=Array.isArray(y)?s(c,y):Object.entries(y).map(([$,Me])=>c==="style"&&(Me||Me===0)?`${$.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${Me}`:Me?$:void 0);p=G.length?p.concat(G.filter($=>!!$)):p}}return p},h)};Object.entries(n).forEach(([c,u])=>{if(u!=null){let h=c.match(/^on(.+)/);h?e.addEventListener(h[1].toLowerCase(),u):c==="pBind"?this.setAttributes(e,u):(u=c==="class"?[...new Set(s("class",u))].join(" ").trim():c==="style"?s("style",u).join(";").trim():u,(e.$attrs=e.$attrs||{})&&(e.$attrs[c]=u),e.setAttribute(c,u))}})}}static isFocusableElement(e,n=""){return this.isElement(e)?e.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n}`):!1}}return r})();var XE=(()=>{class r extends Vn{autofocus=!1;_autofocus=!1;focused=!1;platformId=wr(rs);document=wr(oi);host=wr(tl);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){Oh(this.platformId)&&this._autofocus&&setTimeout(()=>{let e=qE.getFocusableElements(this.host?.nativeElement);e.length===0&&this.host.nativeElement.focus(),e.length>0&&e[0].focus(),this.focused=!0})}static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275dir=Zn({type:r,selectors:[["","pAutoFocus",""]],inputs:{autofocus:[2,"autofocus","autofocus",Oo],_autofocus:[0,"pAutoFocus","_autofocus"]},features:[fi,No]})}return r})();var KO=({dt:r})=>`
.p-badge {
    display: inline-flex;
    border-radius: ${r("badge.border.radius")};
    justify-content: center;
    padding: ${r("badge.padding")};
    background: ${r("badge.primary.background")};
    color: ${r("badge.primary.color")};
    font-size: ${r("badge.font.size")};
    font-weight: ${r("badge.font.weight")};
    min-width: ${r("badge.min.width")};
    height: ${r("badge.height")};
    line-height: ${r("badge.height")};
}

.p-badge-dot {
    width: ${r("badge.dot.size")};
    min-width: ${r("badge.dot.size")};
    height: ${r("badge.dot.size")};
    border-radius: 50%;
    padding: 0;
}

.p-badge-circle {
    padding: 0;
    border-radius: 50%;
}

.p-badge-secondary {
    background: ${r("badge.secondary.background")};
    color: ${r("badge.secondary.color")};
}

.p-badge-success {
    background: ${r("badge.success.background")};
    color: ${r("badge.success.color")};
}

.p-badge-info {
    background: ${r("badge.info.background")};
    color: ${r("badge.info.color")};
}

.p-badge-warn {
    background: ${r("badge.warn.background")};
    color: ${r("badge.warn.color")};
}

.p-badge-danger {
    background: ${r("badge.danger.background")};
    color: ${r("badge.danger.color")};
}

.p-badge-contrast {
    background: ${r("badge.contrast.background")};
    color: ${r("badge.contrast.color")};
}

.p-badge-sm {
    font-size: ${r("badge.sm.font.size")};
    min-width: ${r("badge.sm.min.width")};
    height: ${r("badge.sm.height")};
    line-height: ${r("badge.sm.height")};
}

.p-badge-lg {
    font-size: ${r("badge.lg.font.size")};
    min-width: ${r("badge.lg.min.width")};
    height: ${r("badge.lg.height")};
    line-height: ${r("badge.lg.height")};
}

.p-badge-xl {
    font-size: ${r("badge.xl.font.size")};
    min-width: ${r("badge.xl.min.width")};
    height: ${r("badge.xl.height")};
    line-height: ${r("badge.xl.height")};
}

/* For PrimeNG (directive)*/

.p-overlay-badge {
    position: relative;
}

.p-overlay-badge > .p-badge {
    position: absolute;
    top: 0;
    inset-inline-end: 0;
    transform: translate(50%, -50%);
    transform-origin: 100% 0;
    margin: 0;
}
`,qO={root:({props:r,instance:o})=>["p-badge p-component",{"p-badge-circle":Hn(r.value)&&String(r.value).length===1,"p-badge-dot":$s(r.value)&&!o.$slots.default,"p-badge-sm":r.size==="small","p-badge-lg":r.size==="large","p-badge-xl":r.size==="xlarge","p-badge-info":r.severity==="info","p-badge-success":r.severity==="success","p-badge-warn":r.severity==="warn","p-badge-danger":r.severity==="danger","p-badge-secondary":r.severity==="secondary","p-badge-contrast":r.severity==="contrast"}]},QE=(()=>{class r extends kn{name="badge";theme=KO;classes=qO;static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})();var hC=(()=>{class r extends Vn{styleClass=Il();style=Il();badgeSize=Il();size=Il();severity=Il();value=Il();badgeDisabled=Il(!1,{transform:Oo});_componentStyle=wr(QE);containerClass=hi(()=>{let e="p-badge p-component";return Hn(this.value())&&String(this.value()).length===1&&(e+=" p-badge-circle"),this.badgeSize()==="large"?e+=" p-badge-lg":this.badgeSize()==="xlarge"?e+=" p-badge-xl":this.badgeSize()==="small"&&(e+=" p-badge-sm"),$s(this.value())&&(e+=" p-badge-dot"),this.styleClass()&&(e+=` ${this.styleClass()}`),this.severity()&&(e+=` p-badge-${this.severity()}`),e});static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275cmp=Mo({type:r,selectors:[["p-badge"]],hostVars:6,hostBindings:function(n,s){n&2&&(Yl(s.style()),Sn(s.containerClass()),Ah("display",s.badgeDisabled()&&"none"))},inputs:{styleClass:[1,"styleClass"],style:[1,"style"],badgeSize:[1,"badgeSize"],size:[1,"size"],severity:[1,"severity"],value:[1,"value"],badgeDisabled:[1,"badgeDisabled"]},features:[an([QE]),No],decls:1,vars:1,template:function(n,s){n&1&&Dr(0),n&2&&wi(s.value())},dependencies:[Fn,wn],encapsulation:2,changeDetection:0})}return r})(),YE=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=vn({type:r});static \u0275inj=bn({imports:[hC,wn,wn]})}return r})();var QO=`
.p-icon {
    display: inline-block;
    vertical-align: baseline;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,YO=(()=>{class r extends kn{name="baseicon";inlineStyles=QO;static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})();var JO=["*"],Yu=(()=>{class r extends Vn{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){super.ngOnInit(),this.getAttributes()}getAttributes(){let e=$s(this.label);this.role=e?void 0:"img",this.ariaLabel=e?void 0:this.label,this.ariaHidden=e}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275cmp=Mo({type:r,selectors:[["ng-component"]],hostAttrs:[1,"p-component","p-iconwrapper"],inputs:{label:"label",spin:[2,"spin","spin",Oo],styleClass:"styleClass"},features:[an([YO]),fi,No],ngContentSelectors:JO,decls:1,vars:0,template:function(n,s){n&1&&(Yi(),xi(0))},encapsulation:2,changeDetection:0})}return r})();var JE=(()=>{class r extends Yu{static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275cmp=Mo({type:r,selectors:[["MinusIcon"]],features:[No],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z","fill","currentColor"]],template:function(n,s){n&1&&(Ds(),Kt(0,"svg",0),no(1,"path",1),Qt()),n&2&&(Sn(s.getClassNames()),Fo("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role))},encapsulation:2})}return r})();var ZE=(()=>{class r extends Yu{pathId;ngOnInit(){this.pathId="url(#"+il()+")"}static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275cmp=Mo({type:r,selectors:[["PlusIcon"]],features:[No],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,s){n&1&&(Ds(),Kt(0,"svg",0)(1,"g"),no(2,"path",1),Qt(),Kt(3,"defs")(4,"clipPath",2),no(5,"rect",3),Qt()()()),n&2&&(Sn(s.getClassNames()),Fo("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role),pr(),Fo("clip-path",s.pathId),pr(3),Ir("id",s.pathId))},encapsulation:2})}return r})();var eS=(()=>{class r extends Yu{pathId;ngOnInit(){this.pathId="url(#"+il()+")"}static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275cmp=Mo({type:r,selectors:[["SpinnerIcon"]],features:[No],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,s){n&1&&(Ds(),Kt(0,"svg",0)(1,"g"),no(2,"path",1),Qt(),Kt(3,"defs")(4,"clipPath",2),no(5,"rect",3),Qt()()()),n&2&&(Sn(s.getClassNames()),Fo("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role),pr(),Fo("clip-path",s.pathId),pr(3),Ir("id",s.pathId))},encapsulation:2})}return r})();var tS=(()=>{class r extends Yu{pathId;ngOnInit(){this.pathId="url(#"+il()+")"}static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275cmp=Mo({type:r,selectors:[["TimesCircleIcon"]],features:[No],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,s){n&1&&(Ds(),Kt(0,"svg",0)(1,"g"),no(2,"path",1),Qt(),Kt(3,"defs")(4,"clipPath",2),no(5,"rect",3),Qt()()()),n&2&&(Sn(s.getClassNames()),Fo("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role),pr(),Fo("clip-path",s.pathId),pr(3),Ir("id",s.pathId))},encapsulation:2})}return r})();var ZO=({dt:r})=>`
/* For PrimeNG */
.p-ripple {
    overflow: hidden;
    position: relative;
}

.p-ink {
    display: block;
    position: absolute;
    background: ${r("ripple.background")};
    border-radius: 100%;
    transform: scale(0);
}

.p-ink-active {
    animation: ripple 0.4s linear;
}

.p-ripple-disabled .p-ink {
    display: none !important;
}

@keyframes ripple {
    100% {
        opacity: 0;
        transform: scale(2.5);
    }
}
`,e6={root:"p-ink"},rS=(()=>{class r extends kn{name="ripple";theme=ZO;classes=e6;static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})();var sx=(()=>{class r extends Vn{zone=wr($i);_componentStyle=wr(rS);animationListener;mouseDownListener;timeout;constructor(){super(),Nu(()=>{Oh(this.platformId)&&(this.config.ripple()?this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))}):this.remove())})}ngAfterViewInit(){super.ngAfterViewInit()}onMouseDown(e){let n=this.getInk();if(!n||this.document.defaultView?.getComputedStyle(n,null).display==="none")return;if(Ji(n,"p-ink-active"),!M2(n)&&!T2(n)){let h=Math.max(ST(this.el.nativeElement),BT(this.el.nativeElement));n.style.height=h+"px",n.style.width=h+"px"}let s=AT(this.el.nativeElement),c=e.pageX-s.left+this.document.body.scrollTop-T2(n)/2,u=e.pageY-s.top+this.document.body.scrollLeft-M2(n)/2;this.renderer.setStyle(n,"top",u+"px"),this.renderer.setStyle(n,"left",c+"px"),hs(n,"p-ink-active"),this.timeout=setTimeout(()=>{let h=this.getInk();h&&Ji(h,"p-ink-active")},401)}getInk(){let e=this.el.nativeElement.children;for(let n=0;n<e.length;n++)if(typeof e[n].className=="string"&&e[n].className.indexOf("p-ink")!==-1)return e[n];return null}resetInk(){let e=this.getInk();e&&Ji(e,"p-ink-active")}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),Ji(e.currentTarget,"p-ink-active")}create(){let e=this.renderer.createElement("span");this.renderer.addClass(e,"p-ink"),this.renderer.appendChild(this.el.nativeElement,e),this.renderer.setAttribute(e,"aria-hidden","true"),this.renderer.setAttribute(e,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(e,"animationend",this.onAnimationEnd.bind(this)))}remove(){let e=this.getInk();e&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,IT(e))}ngOnDestroy(){this.config&&this.config.ripple()&&this.remove(),super.ngOnDestroy()}static \u0275fac=function(n){return new(n||r)};static \u0275dir=Zn({type:r,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple"],features:[an([rS]),No]})}return r})();var t6=({dt:r})=>`
.p-button {
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    color: ${r("button.primary.color")};
    background: ${r("button.primary.background")};
    border: 1px solid ${r("button.primary.border.color")};
    padding-block: ${r("button.padding.y")};
    padding-inline: ${r("button.padding.x")};
    font-size: 1rem;
    font-family: inherit;
    font-feature-settings: inherit;
    transition: background ${r("button.transition.duration")}, color ${r("button.transition.duration")}, border-color ${r("button.transition.duration")},
            outline-color ${r("button.transition.duration")}, box-shadow ${r("button.transition.duration")};
    border-radius: ${r("button.border.radius")};
    outline-color: transparent;
    gap: ${r("button.gap")};
}

.p-button-icon,
.p-button-icon:before,
.p-button-icon:after {
    line-height: inherit;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-right {
    order: 1;
}

.p-button-icon-right:dir(rtl) {
    order: -1;
}

.p-button:not(.p-button-vertical) .p-button-icon:not(.p-button-icon-right):dir(rtl) {
    order: 1;
}

.p-button-icon-bottom {
    order: 2;
}

.p-button-icon-only {
    width: ${r("button.icon.only.width")};
    padding-inline-start: 0;
    padding-inline-end: 0;
    gap: 0;
}

.p-button-icon-only.p-button-rounded {
    border-radius: 50%;
    height: ${r("button.icon.only.width")};
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
}

.p-button-sm {
    font-size: ${r("button.sm.font.size")};
    padding-block: ${r("button.sm.padding.y")};
    padding-inline: ${r("button.sm.padding.x")};
}

.p-button-sm .p-button-icon {
    font-size: ${r("button.sm.font.size")};
}

.p-button-lg {
    font-size: ${r("button.lg.font.size")};
    padding-block: ${r("button.lg.padding.y")};
    padding-inline: ${r("button.lg.padding.x")};
}

.p-button-lg .p-button-icon {
    font-size: ${r("button.lg.font.size")};
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-label {
    font-weight: ${r("button.label.font.weight")};
}

.p-button-fluid {
    width: 100%;
}

.p-button-fluid.p-button-icon-only {
    width: ${r("button.icon.only.width")};
}

.p-button:not(:disabled):hover {
    background: ${r("button.primary.hover.background")};
    border: 1px solid ${r("button.primary.hover.border.color")};
    color: ${r("button.primary.hover.color")};
}

.p-button:not(:disabled):active {
    background: ${r("button.primary.active.background")};
    border: 1px solid ${r("button.primary.active.border.color")};
    color: ${r("button.primary.active.color")};
}

.p-button:focus-visible {
    box-shadow: ${r("button.primary.focus.ring.shadow")};
    outline: ${r("button.focus.ring.width")} ${r("button.focus.ring.style")} ${r("button.primary.focus.ring.color")};
    outline-offset: ${r("button.focus.ring.offset")};
}

.p-button .p-badge {
    min-width: ${r("button.badge.size")};
    height: ${r("button.badge.size")};
    line-height: ${r("button.badge.size")};
}

.p-button-raised {
    box-shadow: ${r("button.raised.shadow")};
}

.p-button-rounded {
    border-radius: ${r("button.rounded.border.radius")};
}

.p-button-secondary {
    background: ${r("button.secondary.background")};
    border: 1px solid ${r("button.secondary.border.color")};
    color: ${r("button.secondary.color")};
}

.p-button-secondary:not(:disabled):hover {
    background: ${r("button.secondary.hover.background")};
    border: 1px solid ${r("button.secondary.hover.border.color")};
    color: ${r("button.secondary.hover.color")};
}

.p-button-secondary:not(:disabled):active {
    background: ${r("button.secondary.active.background")};
    border: 1px solid ${r("button.secondary.active.border.color")};
    color: ${r("button.secondary.active.color")};
}

.p-button-secondary:focus-visible {
    outline-color: ${r("button.secondary.focus.ring.color")};
    box-shadow: ${r("button.secondary.focus.ring.shadow")};
}

.p-button-success {
    background: ${r("button.success.background")};
    border: 1px solid ${r("button.success.border.color")};
    color: ${r("button.success.color")};
}

.p-button-success:not(:disabled):hover {
    background: ${r("button.success.hover.background")};
    border: 1px solid ${r("button.success.hover.border.color")};
    color: ${r("button.success.hover.color")};
}

.p-button-success:not(:disabled):active {
    background: ${r("button.success.active.background")};
    border: 1px solid ${r("button.success.active.border.color")};
    color: ${r("button.success.active.color")};
}

.p-button-success:focus-visible {
    outline-color: ${r("button.success.focus.ring.color")};
    box-shadow: ${r("button.success.focus.ring.shadow")};
}

.p-button-info {
    background: ${r("button.info.background")};
    border: 1px solid ${r("button.info.border.color")};
    color: ${r("button.info.color")};
}

.p-button-info:not(:disabled):hover {
    background: ${r("button.info.hover.background")};
    border: 1px solid ${r("button.info.hover.border.color")};
    color: ${r("button.info.hover.color")};
}

.p-button-info:not(:disabled):active {
    background: ${r("button.info.active.background")};
    border: 1px solid ${r("button.info.active.border.color")};
    color: ${r("button.info.active.color")};
}

.p-button-info:focus-visible {
    outline-color: ${r("button.info.focus.ring.color")};
    box-shadow: ${r("button.info.focus.ring.shadow")};
}

.p-button-warn {
    background: ${r("button.warn.background")};
    border: 1px solid ${r("button.warn.border.color")};
    color: ${r("button.warn.color")};
}

.p-button-warn:not(:disabled):hover {
    background: ${r("button.warn.hover.background")};
    border: 1px solid ${r("button.warn.hover.border.color")};
    color: ${r("button.warn.hover.color")};
}

.p-button-warn:not(:disabled):active {
    background: ${r("button.warn.active.background")};
    border: 1px solid ${r("button.warn.active.border.color")};
    color: ${r("button.warn.active.color")};
}

.p-button-warn:focus-visible {
    outline-color: ${r("button.warn.focus.ring.color")};
    box-shadow: ${r("button.warn.focus.ring.shadow")};
}

.p-button-help {
    background: ${r("button.help.background")};
    border: 1px solid ${r("button.help.border.color")};
    color: ${r("button.help.color")};
}

.p-button-help:not(:disabled):hover {
    background: ${r("button.help.hover.background")};
    border: 1px solid ${r("button.help.hover.border.color")};
    color: ${r("button.help.hover.color")};
}

.p-button-help:not(:disabled):active {
    background: ${r("button.help.active.background")};
    border: 1px solid ${r("button.help.active.border.color")};
    color: ${r("button.help.active.color")};
}

.p-button-help:focus-visible {
    outline-color: ${r("button.help.focus.ring.color")};
    box-shadow: ${r("button.help.focus.ring.shadow")};
}

.p-button-danger {
    background: ${r("button.danger.background")};
    border: 1px solid ${r("button.danger.border.color")};
    color: ${r("button.danger.color")};
}

.p-button-danger:not(:disabled):hover {
    background: ${r("button.danger.hover.background")};
    border: 1px solid ${r("button.danger.hover.border.color")};
    color: ${r("button.danger.hover.color")};
}

.p-button-danger:not(:disabled):active {
    background: ${r("button.danger.active.background")};
    border: 1px solid ${r("button.danger.active.border.color")};
    color: ${r("button.danger.active.color")};
}

.p-button-danger:focus-visible {
    outline-color: ${r("button.danger.focus.ring.color")};
    box-shadow: ${r("button.danger.focus.ring.shadow")};
}

.p-button-contrast {
    background: ${r("button.contrast.background")};
    border: 1px solid ${r("button.contrast.border.color")};
    color: ${r("button.contrast.color")};
}

.p-button-contrast:not(:disabled):hover {
    background: ${r("button.contrast.hover.background")};
    border: 1px solid ${r("button.contrast.hover.border.color")};
    color: ${r("button.contrast.hover.color")};
}

.p-button-contrast:not(:disabled):active {
    background: ${r("button.contrast.active.background")};
    border: 1px solid ${r("button.contrast.active.border.color")};
    color: ${r("button.contrast.active.color")};
}

.p-button-contrast:focus-visible {
    outline-color: ${r("button.contrast.focus.ring.color")};
    box-shadow: ${r("button.contrast.focus.ring.shadow")};
}

.p-button-outlined {
    background: transparent;
    border-color: ${r("button.outlined.primary.border.color")};
    color: ${r("button.outlined.primary.color")};
}

.p-button-outlined:not(:disabled):hover {
    background: ${r("button.outlined.primary.hover.background")};
    border-color: ${r("button.outlined.primary.border.color")};
    color: ${r("button.outlined.primary.color")};
}

.p-button-outlined:not(:disabled):active {
    background: ${r("button.outlined.primary.active.background")};
    border-color: ${r("button.outlined.primary.border.color")};
    color: ${r("button.outlined.primary.color")};
}

.p-button-outlined.p-button-secondary {
    border-color: ${r("button.outlined.secondary.border.color")};
    color: ${r("button.outlined.secondary.color")};
}

.p-button-outlined.p-button-secondary:not(:disabled):hover {
    background: ${r("button.outlined.secondary.hover.background")};
    border-color: ${r("button.outlined.secondary.border.color")};
    color: ${r("button.outlined.secondary.color")};
}

.p-button-outlined.p-button-secondary:not(:disabled):active {
    background: ${r("button.outlined.secondary.active.background")};
    border-color: ${r("button.outlined.secondary.border.color")};
    color: ${r("button.outlined.secondary.color")};
}

.p-button-outlined.p-button-success {
    border-color: ${r("button.outlined.success.border.color")};
    color: ${r("button.outlined.success.color")};
}

.p-button-outlined.p-button-success:not(:disabled):hover {
    background: ${r("button.outlined.success.hover.background")};
    border-color: ${r("button.outlined.success.border.color")};
    color: ${r("button.outlined.success.color")};
}

.p-button-outlined.p-button-success:not(:disabled):active {
    background: ${r("button.outlined.success.active.background")};
    border-color: ${r("button.outlined.success.border.color")};
    color: ${r("button.outlined.success.color")};
}

.p-button-outlined.p-button-info {
    border-color: ${r("button.outlined.info.border.color")};
    color: ${r("button.outlined.info.color")};
}

.p-button-outlined.p-button-info:not(:disabled):hover {
    background: ${r("button.outlined.info.hover.background")};
    border-color: ${r("button.outlined.info.border.color")};
    color: ${r("button.outlined.info.color")};
}

.p-button-outlined.p-button-info:not(:disabled):active {
    background: ${r("button.outlined.info.active.background")};
    border-color: ${r("button.outlined.info.border.color")};
    color: ${r("button.outlined.info.color")};
}

.p-button-outlined.p-button-warn {
    border-color: ${r("button.outlined.warn.border.color")};
    color: ${r("button.outlined.warn.color")};
}

.p-button-outlined.p-button-warn:not(:disabled):hover {
    background: ${r("button.outlined.warn.hover.background")};
    border-color: ${r("button.outlined.warn.border.color")};
    color: ${r("button.outlined.warn.color")};
}

.p-button-outlined.p-button-warn:not(:disabled):active {
    background: ${r("button.outlined.warn.active.background")};
    border-color: ${r("button.outlined.warn.border.color")};
    color: ${r("button.outlined.warn.color")};
}

.p-button-outlined.p-button-help {
    border-color: ${r("button.outlined.help.border.color")};
    color: ${r("button.outlined.help.color")};
}

.p-button-outlined.p-button-help:not(:disabled):hover {
    background: ${r("button.outlined.help.hover.background")};
    border-color: ${r("button.outlined.help.border.color")};
    color: ${r("button.outlined.help.color")};
}

.p-button-outlined.p-button-help:not(:disabled):active {
    background: ${r("button.outlined.help.active.background")};
    border-color: ${r("button.outlined.help.border.color")};
    color: ${r("button.outlined.help.color")};
}

.p-button-outlined.p-button-danger {
    border-color: ${r("button.outlined.danger.border.color")};
    color: ${r("button.outlined.danger.color")};
}

.p-button-outlined.p-button-danger:not(:disabled):hover {
    background: ${r("button.outlined.danger.hover.background")};
    border-color: ${r("button.outlined.danger.border.color")};
    color: ${r("button.outlined.danger.color")};
}

.p-button-outlined.p-button-danger:not(:disabled):active {
    background: ${r("button.outlined.danger.active.background")};
    border-color: ${r("button.outlined.danger.border.color")};
    color: ${r("button.outlined.danger.color")};
}

.p-button-outlined.p-button-contrast {
    border-color: ${r("button.outlined.contrast.border.color")};
    color: ${r("button.outlined.contrast.color")};
}

.p-button-outlined.p-button-contrast:not(:disabled):hover {
    background: ${r("button.outlined.contrast.hover.background")};
    border-color: ${r("button.outlined.contrast.border.color")};
    color: ${r("button.outlined.contrast.color")};
}

.p-button-outlined.p-button-contrast:not(:disabled):active {
    background: ${r("button.outlined.contrast.active.background")};
    border-color: ${r("button.outlined.contrast.border.color")};
    color: ${r("button.outlined.contrast.color")};
}

.p-button-outlined.p-button-plain {
    border-color: ${r("button.outlined.plain.border.color")};
    color: ${r("button.outlined.plain.color")};
}

.p-button-outlined.p-button-plain:not(:disabled):hover {
    background: ${r("button.outlined.plain.hover.background")};
    border-color: ${r("button.outlined.plain.border.color")};
    color: ${r("button.outlined.plain.color")};
}

.p-button-outlined.p-button-plain:not(:disabled):active {
    background: ${r("button.outlined.plain.active.background")};
    border-color: ${r("button.outlined.plain.border.color")};
    color: ${r("button.outlined.plain.color")};
}

.p-button-text {
    background: transparent;
    border-color: transparent;
    color: ${r("button.text.primary.color")};
}

.p-button-text:not(:disabled):hover {
    background: ${r("button.text.primary.hover.background")};
    border-color: transparent;
    color: ${r("button.text.primary.color")};
}

.p-button-text:not(:disabled):active {
    background: ${r("button.text.primary.active.background")};
    border-color: transparent;
    color: ${r("button.text.primary.color")};
}

.p-button-text.p-button-secondary {
    background: transparent;
    border-color: transparent;
    color: ${r("button.text.secondary.color")};
}

.p-button-text.p-button-secondary:not(:disabled):hover {
    background: ${r("button.text.secondary.hover.background")};
    border-color: transparent;
    color: ${r("button.text.secondary.color")};
}

.p-button-text.p-button-secondary:not(:disabled):active {
    background: ${r("button.text.secondary.active.background")};
    border-color: transparent;
    color: ${r("button.text.secondary.color")};
}

.p-button-text.p-button-success {
    background: transparent;
    border-color: transparent;
    color: ${r("button.text.success.color")};
}

.p-button-text.p-button-success:not(:disabled):hover {
    background: ${r("button.text.success.hover.background")};
    border-color: transparent;
    color: ${r("button.text.success.color")};
}

.p-button-text.p-button-success:not(:disabled):active {
    background: ${r("button.text.success.active.background")};
    border-color: transparent;
    color: ${r("button.text.success.color")};
}

.p-button-text.p-button-info {
    background: transparent;
    border-color: transparent;
    color: ${r("button.text.info.color")};
}

.p-button-text.p-button-info:not(:disabled):hover {
    background: ${r("button.text.info.hover.background")};
    border-color: transparent;
    color: ${r("button.text.info.color")};
}

.p-button-text.p-button-info:not(:disabled):active {
    background: ${r("button.text.info.active.background")};
    border-color: transparent;
    color: ${r("button.text.info.color")};
}

.p-button-text.p-button-warn {
    background: transparent;
    border-color: transparent;
    color: ${r("button.text.warn.color")};
}

.p-button-text.p-button-warn:not(:disabled):hover {
    background: ${r("button.text.warn.hover.background")};
    border-color: transparent;
    color: ${r("button.text.warn.color")};
}

.p-button-text.p-button-warn:not(:disabled):active {
    background: ${r("button.text.warn.active.background")};
    border-color: transparent;
    color: ${r("button.text.warn.color")};
}

.p-button-text.p-button-help {
    background: transparent;
    border-color: transparent;
    color: ${r("button.text.help.color")};
}

.p-button-text.p-button-help:not(:disabled):hover {
    background: ${r("button.text.help.hover.background")};
    border-color: transparent;
    color: ${r("button.text.help.color")};
}

.p-button-text.p-button-help:not(:disabled):active {
    background: ${r("button.text.help.active.background")};
    border-color: transparent;
    color: ${r("button.text.help.color")};
}

.p-button-text.p-button-danger {
    background: transparent;
    border-color: transparent;
    color: ${r("button.text.danger.color")};
}

.p-button-text.p-button-danger:not(:disabled):hover {
    background: ${r("button.text.danger.hover.background")};
    border-color: transparent;
    color: ${r("button.text.danger.color")};
}

.p-button-text.p-button-danger:not(:disabled):active {
    background: ${r("button.text.danger.active.background")};
    border-color: transparent;
    color: ${r("button.text.danger.color")};
}

.p-button-text.p-button-plain {
    background: transparent;
    border-color: transparent;
    color: ${r("button.text.plain.color")};
}

.p-button-text.p-button-plain:not(:disabled):hover {
    background: ${r("button.text.plain.hover.background")};
    border-color: transparent;
    color: ${r("button.text.plain.color")};
}

.p-button-text.p-button-plain:not(:disabled):active {
    background: ${r("button.text.plain.active.background")};
    border-color: transparent;
    color: ${r("button.text.plain.color")};
}

.p-button-text.p-button-contrast {
    background: transparent;
    border-color: transparent;
    color: ${r("button.text.contrast.color")};
}

.p-button-text.p-button-contrast:not(:disabled):hover {
    background: ${r("button.text.contrast.hover.background")};
    border-color: transparent;
    color: ${r("button.text.contrast.color")};
}

.p-button-text.p-button-contrast:not(:disabled):active {
    background: ${r("button.text.contrast.active.background")};
    border-color: transparent;
    color: ${r("button.text.contrast.color")};
}

.p-button-link {
    background: transparent;
    border-color: transparent;
    color: ${r("button.link.color")};
}

.p-button-link:not(:disabled):hover {
    background: transparent;
    border-color: transparent;
    color: ${r("button.link.hover.color")};
}

.p-button-link:not(:disabled):hover .p-button-label {
    text-decoration: underline;
}

.p-button-link:not(:disabled):active {
    background: transparent;
    border-color: transparent;
    color: ${r("button.link.active.color")};
}

/* For PrimeNG */
.p-button-icon-right {
    order: 1;
}

p-button[iconpos='right'] spinnericon {
    order: 1;
}
`,r6={root:({instance:r,props:o})=>["p-button p-component",{"p-button-icon-only":r.hasIcon&&!o.label&&!o.badge,"p-button-vertical":(o.iconPos==="top"||o.iconPos==="bottom")&&o.label,"p-button-loading":o.loading,"p-button-link":o.link,[`p-button-${o.severity}`]:o.severity,"p-button-raised":o.raised,"p-button-rounded":o.rounded,"p-button-text":o.text,"p-button-outlined":o.outlined,"p-button-sm":o.size==="small","p-button-lg":o.size==="large","p-button-plain":o.plain,"p-button-fluid":o.fluid}],loadingIcon:"p-button-loading-icon",icon:({props:r})=>["p-button-icon",{[`p-button-icon-${r.iconPos}`]:r.label}],label:"p-button-label"},oS=(()=>{class r extends kn{name="button";theme=t6;classes=r6;static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})();var o6=["content"],n6=["loading"],i6=["icon"],a6=["*"],nS=r=>({class:r});function s6(r,o){r&1&&Li(0)}function l6(r,o){if(r&1&&no(0,"span",8),r&2){let e=Sr(3);Ir("ngClass",e.iconClass()),Fo("aria-hidden",!0)("data-pc-section","loadingicon")}}function c6(r,o){if(r&1&&no(0,"SpinnerIcon",9),r&2){let e=Sr(3);Ir("styleClass",e.spinnerIconClass())("spin",!0),Fo("aria-hidden",!0)("data-pc-section","loadingicon")}}function d6(r,o){if(r&1&&(os(0),Zr(1,l6,1,3,"span",6)(2,c6,1,4,"SpinnerIcon",7),ns()),r&2){let e=Sr(2);pr(),Ir("ngIf",e.loadingIcon),pr(),Ir("ngIf",!e.loadingIcon)}}function u6(r,o){}function p6(r,o){if(r&1&&Zr(0,u6,0,0,"ng-template",10),r&2){let e=Sr(2);Ir("ngIf",e.loadingIconTemplate||e._loadingIconTemplate)}}function f6(r,o){if(r&1&&(os(0),Zr(1,d6,3,2,"ng-container",2)(2,p6,1,1,null,5),ns()),r&2){let e=Sr();pr(),Ir("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate),pr(),Ir("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)("ngTemplateOutletContext",Ni(3,nS,e.iconClass()))}}function h6(r,o){if(r&1&&no(0,"span",8),r&2){let e=Sr(2);Sn(e.icon),Ir("ngClass",e.iconClass()),Fo("data-pc-section","icon")}}function m6(r,o){}function g6(r,o){if(r&1&&Zr(0,m6,0,0,"ng-template",10),r&2){let e=Sr(2);Ir("ngIf",!e.icon&&(e.iconTemplate||e._iconTemplate))}}function _6(r,o){if(r&1&&(os(0),Zr(1,h6,1,4,"span",11)(2,g6,1,1,null,5),ns()),r&2){let e=Sr();pr(),Ir("ngIf",e.icon&&!e.iconTemplate&&!e._iconTemplate),pr(),Ir("ngTemplateOutlet",e.iconTemplate||e._iconTemplate)("ngTemplateOutletContext",Ni(3,nS,e.iconClass()))}}function b6(r,o){if(r&1&&(Kt(0,"span",12),Dr(1),Qt()),r&2){let e=Sr();Fo("aria-hidden",e.icon&&!e.label)("data-pc-section","label"),pr(),wi(e.label)}}function v6(r,o){if(r&1&&no(0,"p-badge",13),r&2){let e=Sr();Ir("value",e.badge)("severity",e.badgeSeverity)}}var nu=(()=>{class r extends Vn{type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;variant;style;styleClass;badgeClass;badgeSeverity="secondary";ariaLabel;autofocus;fluid;onClick=new Ln;onFocus=new Ln;onBlur=new Ln;contentTemplate;loadingIconTemplate;iconTemplate;_buttonProps;get buttonProps(){return this._buttonProps}set buttonProps(e){this._buttonProps=e,e&&typeof e=="object"&&Object.entries(e).forEach(([n,s])=>this[`_${n}`]!==s&&(this[`_${n}`]=s))}get hasFluid(){let n=this.el.nativeElement.closest("p-fluid");return $s(this.fluid)?!!n:this.fluid}_componentStyle=wr(oS);templates;_contentTemplate;_iconTemplate;_loadingIconTemplate;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"icon":this.iconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}ngOnChanges(e){super.ngOnChanges(e);let{buttonProps:n}=e;if(n){let s=n.currentValue;for(let c in s)this[c]=s[c]}}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,e])=>!!e).reduce((e,[n])=>e+` ${n}`,"p-button-loading-icon")}iconClass(){return{[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]:this.loading,"p-button-icon":!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label}}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate||this._loadingIconTemplate)&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&this.iconPos==="left","p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text||this.variant=="text","p-button-outlined":this.outlined||this.variant=="outlined","p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain,"p-button-fluid":this.hasFluid,[`${this.styleClass}`]:this.styleClass}}static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275cmp=Mo({type:r,selectors:[["p-button"]],contentQueries:function(n,s,c){if(n&1&&(hn(c,o6,5),hn(c,n6,5),hn(c,i6,5),hn(c,Gi,4)),n&2){let u;on(u=nn())&&(s.contentTemplate=u.first),on(u=nn())&&(s.loadingIconTemplate=u.first),on(u=nn())&&(s.iconTemplate=u.first),on(u=nn())&&(s.templates=u)}},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[2,"disabled","disabled",Oo],loading:[2,"loading","loading",Oo],loadingIcon:"loadingIcon",raised:[2,"raised","raised",Oo],rounded:[2,"rounded","rounded",Oo],text:[2,"text","text",Oo],plain:[2,"plain","plain",Oo],severity:"severity",outlined:[2,"outlined","outlined",Oo],link:[2,"link","link",Oo],tabindex:[2,"tabindex","tabindex",Fh],size:"size",variant:"variant",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",badgeSeverity:"badgeSeverity",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",Oo],fluid:[2,"fluid","fluid",Oo],buttonProps:"buttonProps"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[an([oS]),fi,No,Is],ngContentSelectors:a6,decls:7,vars:14,consts:[["pRipple","",3,"click","focus","blur","ngStyle","disabled","ngClass","pAutoFocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"value","severity",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[3,"class","ngClass",4,"ngIf"],[1,"p-button-label"],[3,"value","severity"]],template:function(n,s){n&1&&(Yi(),Kt(0,"button",0),_o("click",function(u){return s.onClick.emit(u)})("focus",function(u){return s.onFocus.emit(u)})("blur",function(u){return s.onBlur.emit(u)}),xi(1),Zr(2,s6,1,0,"ng-container",1)(3,f6,3,5,"ng-container",2)(4,_6,3,5,"ng-container",2)(5,b6,2,3,"span",3)(6,v6,1,2,"p-badge",4),Qt()),n&2&&(Ir("ngStyle",s.style)("disabled",s.disabled||s.loading)("ngClass",s.buttonClass)("pAutoFocus",s.autofocus),Fo("type",s.type)("aria-label",s.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",s.tabindex),pr(2),Ir("ngTemplateOutlet",s.contentTemplate||s._contentTemplate),pr(),Ir("ngIf",s.loading),pr(),Ir("ngIf",!s.loading),pr(),Ir("ngIf",!s.contentTemplate&&!s._contentTemplate&&s.label),pr(),Ir("ngIf",!s.contentTemplate&&!s._contentTemplate&&s.badge))},dependencies:[Fn,is,Fl,Rs,zu,sx,XE,eS,YE,hC,wn],encapsulation:2,changeDetection:0})}return r})(),$l=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=vn({type:r});static \u0275inj=bn({imports:[Fn,nu,wn,wn]})}return r})();var y6=({dt:r})=>`
.p-card {
    background: ${r("card.background")};
    color: ${r("card.color")};
    box-shadow: ${r("card.shadow")};
    border-radius: ${r("card.border.radius")};
    display: flex;
    flex-direction: column;
}

.p-card-caption {
    display: flex;
    flex-direction: column;
    gap: ${r("card.caption.gap")};
}

.p-card-body {
    padding: ${r("card.body.padding")};
    display: flex;
    flex-direction: column;
    gap: ${r("card.body.gap")};
}

.p-card-title {
    font-size: ${r("card.title.font.size")};
    font-weight: ${r("card.title.font.weight")};
}

.p-card-subtitle {
    color: ${r("card.subtitle.color")};
}
`,x6={root:"p-card p-component",header:"p-card-header",body:"p-card-body",caption:"p-card-caption",title:"p-card-title",subtitle:"p-card-subtitle",content:"p-card-content",footer:"p-card-footer"},iS=(()=>{class r extends kn{name="card";theme=y6;classes=x6;static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})();var w6=["header"],C6=["title"],k6=["subtitle"],M6=["content"],T6=["footer"],E6=["*",[["p-header"]],[["p-footer"]]],S6=["*","p-header","p-footer"];function P6(r,o){r&1&&Li(0)}function A6(r,o){if(r&1&&(Kt(0,"div",8),xi(1,1),Zr(2,P6,1,0,"ng-container",6),Qt()),r&2){let e=Sr();pr(2),Ir("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)}}function B6(r,o){if(r&1&&(os(0),Dr(1),ns()),r&2){let e=Sr(2);pr(),wi(e.header)}}function I6(r,o){r&1&&Li(0)}function D6(r,o){if(r&1&&(Kt(0,"div",9),Zr(1,B6,2,1,"ng-container",10)(2,I6,1,0,"ng-container",6),Qt()),r&2){let e=Sr();pr(),Ir("ngIf",e.header&&!e._titleTemplate&&!e.titleTemplate),pr(),Ir("ngTemplateOutlet",e.titleTemplate||e._titleTemplate)}}function F6(r,o){if(r&1&&(os(0),Dr(1),ns()),r&2){let e=Sr(2);pr(),wi(e.subheader)}}function R6(r,o){r&1&&Li(0)}function O6(r,o){if(r&1&&(Kt(0,"div",11),Zr(1,F6,2,1,"ng-container",10)(2,R6,1,0,"ng-container",6),Qt()),r&2){let e=Sr();pr(),Ir("ngIf",e.subheader&&!e._subtitleTemplate&&!e.subtitleTemplate),pr(),Ir("ngTemplateOutlet",e.subtitleTemplate||e._subtitleTemplate)}}function $6(r,o){r&1&&Li(0)}function L6(r,o){r&1&&Li(0)}function N6(r,o){if(r&1&&(Kt(0,"div",12),xi(1,2),Zr(2,L6,1,0,"ng-container",6),Qt()),r&2){let e=Sr();pr(2),Ir("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)}}var iu=(()=>{class r extends Vn{header;subheader;set style(e){Wu(this._style(),e)||this._style.set(e)}styleClass;headerFacet;footerFacet;headerTemplate;titleTemplate;subtitleTemplate;contentTemplate;footerTemplate;_headerTemplate;_titleTemplate;_subtitleTemplate;_contentTemplate;_footerTemplate;_style=yi(null);_componentStyle=wr(iS);getBlockableElement(){return this.el.nativeElement.children[0]}templates;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this._headerTemplate=e.template;break;case"title":this._titleTemplate=e.template;break;case"subtitle":this._subtitleTemplate=e.template;break;case"content":this._contentTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275cmp=Mo({type:r,selectors:[["p-card"]],contentQueries:function(n,s,c){if(n&1&&(hn(c,jT,5),hn(c,Ny,5),hn(c,w6,4),hn(c,C6,4),hn(c,k6,4),hn(c,M6,4),hn(c,T6,4),hn(c,Gi,4)),n&2){let u;on(u=nn())&&(s.headerFacet=u.first),on(u=nn())&&(s.footerFacet=u.first),on(u=nn())&&(s.headerTemplate=u.first),on(u=nn())&&(s.titleTemplate=u.first),on(u=nn())&&(s.subtitleTemplate=u.first),on(u=nn())&&(s.contentTemplate=u.first),on(u=nn())&&(s.footerTemplate=u.first),on(u=nn())&&(s.templates=u)}},inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},features:[an([iS]),No],ngContentSelectors:S6,decls:9,vars:10,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[4,"ngIf"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(n,s){n&1&&(Yi(E6),Kt(0,"div",0),Zr(1,A6,3,1,"div",1),Kt(2,"div",2),Zr(3,D6,3,2,"div",3)(4,O6,3,2,"div",4),Kt(5,"div",5),xi(6),Zr(7,$6,1,0,"ng-container",6),Qt(),Zr(8,N6,3,1,"div",7),Qt()()),n&2&&(Sn(s.styleClass),Ir("ngClass","p-card p-component")("ngStyle",s._style()),Fo("data-pc-name","card"),pr(),Ir("ngIf",s.headerFacet||s.headerTemplate||s._headerTemplate),pr(2),Ir("ngIf",s.header||s.titleTemplate||s._titleTemplate),pr(),Ir("ngIf",s.subheader||s.subtitleTemplate||s._subtitleTemplate),pr(3),Ir("ngTemplateOutlet",s.contentTemplate||s._contentTemplate),pr(),Ir("ngIf",s.footerFacet||s.footerTemplate||s._footerTemplate))},dependencies:[Fn,is,Fl,Rs,zu,wn],encapsulation:2,changeDetection:0})}return r})(),Ju=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=vn({type:r});static \u0275inj=bn({imports:[iu,wn,wn]})}return r})();function z6(r,o){if(r&1){let e=xn();Kt(0,"p-button",60),_o("click",function(){en(e);let s=Sr();return tn(s.promptInstall())}),Qt()}}function j6(r,o){if(r&1){let e=xn();Kt(0,"p-button",61),_o("click",function(){en(e);let s=Sr();return tn(s.navigateToHome())}),Qt()}}function V6(r,o){if(r&1){let e=xn();Kt(0,"p-button",60),_o("click",function(){en(e);let s=Sr();return tn(s.promptInstall())}),Qt()}}function U6(r,o){r&1&&(Kt(0,"div",23)(1,"p"),Dr(2,'Para instalar esta aplicaci\xF3n en tu dispositivo iOS, presiona el bot\xF3n de compartir y selecciona "Agregar a la pantalla de inicio".'),Qt()())}function W6(r,o){if(r&1){let e=xn();Kt(0,"p-button",61),_o("click",function(){en(e);let s=Sr();return tn(s.navigateToHome())}),Qt()}}function G6(r,o){r&1&&(Kt(0,"p",62),Dr(1," Sincroniza autom\xE1ticamente tus transacciones desde tu cuenta de Gmail, sin necesidad de conectarte directamente al banco. "),Qt())}function H6(r,o){r&1&&(Kt(0,"p",62),Dr(1,' Define palabras clave para que cada transacci\xF3n se clasifique autom\xE1ticamente. Por ejemplo, transacciones con "\xC9xito" se categorizar\xE1n como "Mercado". '),Qt())}function K6(r,o){r&1&&(Kt(0,"p",62),Dr(1," Obt\xE9n gr\xE1ficos interactivos y reportes que te ayudar\xE1n a tomar las mejores decisiones sobre tus finanzas. "),Qt())}function q6(r,o){r&1&&(Kt(0,"p",62),Dr(1," Recibe sugerencias basadas en tus transacciones para optimizar tu presupuesto y reducir gastos innecesarios. "),Qt())}function X6(r,o){r&1&&(Kt(0,"p",62),Dr(1," Visualiza y controla en qu\xE9 gastas de m\xE1s para mejorar la administraci\xF3n de tus finanzas. "),Qt())}function Q6(r,o){r&1&&(Kt(0,"p",62),Dr(1," Instala nuestra aplicaci\xF3n en tu dispositivo m\xF3vil y disfruta de una experiencia nativa en iOS y Android. "),Qt())}function Y6(r,o){if(r&1){let e=xn();Kt(0,"p-button",60),_o("click",function(){en(e);let s=Sr();return tn(s.promptInstall())}),Qt()}}function J6(r,o){r&1&&(Kt(0,"div",23)(1,"p"),Dr(2,'Para instalar esta aplicaci\xF3n en tu dispositivo iOS, presiona el bot\xF3n de compartir y selecciona "Agregar a la pantalla de inicio".'),Qt()())}function Z6(r,o){if(r&1){let e=xn();Kt(0,"p-button",61),_o("click",function(){en(e);let s=Sr();return tn(s.navigateToHome())}),Qt()}}var dx=class r{constructor(o){this.router=o;this.isIos=/iPad|iPhone|iPod/.test(navigator.userAgent),this.isInStandaloneMode="standalone"in window.navigator&&!!window.navigator.standalone}deferredPrompt;isIos=!1;isInStandaloneMode=!1;onBeforeInstallPrompt(o){o.preventDefault(),this.deferredPrompt=o}checkStandaloneMode(){return window.matchMedia("(display-mode: standalone)").matches||"standalone"in window.navigator&&!!window.navigator.standalone}isLocalhost(){return window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"}promptInstall(){this.deferredPrompt&&(this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then(o=>{o.outcome==="accepted"?console.log("Usuario acept\xF3 la instalaci\xF3n de la PWA"):console.log("Usuario rechaz\xF3 la instalaci\xF3n de la PWA"),this.deferredPrompt=null}))}navigateToHome(){this.router.navigate(["/home"])}static \u0275fac=function(e){return new(e||r)(Ho(as))};static \u0275cmp=Mo({type:r,selectors:[["app-landing"]],hostBindings:function(e,n){e&1&&_o("beforeinstallprompt",function(c){return n.onBeforeInstallPrompt(c)},!1,BM)},decls:109,vars:8,consts:[[1,"bg-gray-50"],[1,"bg-white","shadow"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","h-16"],[1,"flex"],[1,"flex-shrink-0","flex","items-center"],["src","logo.svg","alt","Logo",1,"h-8","w-auto"],[1,"hidden","sm:ml-6","sm:flex","sm:space-x-8"],["href","#home",1,"border-indigo-500","text-gray-900","inline-flex","items-center","px-1","pt-1","border-b-2","text-sm","font-medium"],["href","#features",1,"border-transparent","text-gray-500","hover:border-gray-300","hover:text-gray-700","inline-flex","items-center","px-1","pt-1","border-b-2","text-sm","font-medium"],["href","#pricing",1,"border-transparent","text-gray-500","hover:border-gray-300","hover:text-gray-700","inline-flex","items-center","px-1","pt-1","border-b-2","text-sm","font-medium"],["href","#contact",1,"border-transparent","text-gray-500","hover:border-gray-300","hover:text-gray-700","inline-flex","items-center","px-1","pt-1","border-b-2","text-sm","font-medium"],[1,"flex","items-center"],["icon","pi pi-download","label","Instalar app",1,"flex-auto","md:flex-initial","whitespace-nowrap"],["icon","pi pi-arrow-right","label","Empezar",1,"flex-auto","md:flex-initial","whitespace-nowrap"],[1,"bg-indigo-600"],[1,"max-w-7xl","mx-auto","py-12","px-4","sm:px-6","lg:py-16","lg:px-8","text-center"],[1,"text-4xl","font-extrabold","text-white","sm:text-5xl","md:text-6xl"],[1,"block"],[1,"block","text-indigo-200"],[1,"mt-4","text-lg","leading-6","text-indigo-100"],[1,"mt-8","flex","justify-center"],[1,"inline-flex","rounded-md","shadow"],[1,"ios-install-instructions"],["id","features",1,"py-12","bg-gray-100"],[1,"mb-12","text-center"],[1,"text-base","text-indigo-600","font-semibold","tracking-wide","uppercase"],[1,"mt-2","text-3xl","leading-8","font-extrabold","tracking-tight","text-gray-900","sm:text-4xl"],[1,"grid","gap-8","lg:grid-cols-3","md:grid-cols-2","sm:grid-cols-1"],["header","Conexi\xF3n con Gmail","styleClass","shadow-lg"],["pTemplate","content"],["header","Categor\xEDas Inteligentes","styleClass","shadow-lg"],["header","Reportes Visuales","styleClass","shadow-lg"],["header","Asistente AI","styleClass","shadow-lg"],["header","Presupuesto por Categor\xEDa","styleClass","shadow-lg"],["header","Aplicaci\xF3n PWA","styleClass","shadow-lg"],[1,"py-12","bg-white"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","flex","flex-col","md:flex-row","items-center"],[1,"md:w-1/2"],["src","logo.svg","alt","Automatizaci\xF3n de Transacciones",1,"w-full","rounded-lg","shadow-lg"],[1,"md:w-1/2","md:pl-12","mt-8","md:mt-0"],[1,"text-2xl","font-bold","text-gray-900"],[1,"mt-4","text-gray-600"],["id","home",1,"py-12","bg-gray-50"],[1,"text-center","mb-12"],[1,"grid","gap-8","md:grid-cols-2","lg:grid-cols-3"],[1,"bg-white","shadow","rounded-lg","p-6"],[1,"text-xl","font-bold","text-gray-900"],[1,"mt-2","text-gray-600"],[1,"py-12","bg-indigo-600"],[1,"text-2xl","font-bold","text-white"],[1,"mt-4","text-white"],[1,"mt-6"],[1,"md:w-1/2","mt-8","md:mt-0"],["id","contact",1,"bg-gray-800"],[1,"max-w-7xl","mx-auto","py-8","px-4","sm:px-6","lg:px-8"],[1,"flex","flex-col","md:flex-row","justify-between","items-center"],[1,"text-gray-400"],[1,"mt-4","md:mt-0"],["href","#",1,"text-gray-400","hover:text-white","mx-2"],["icon","pi pi-download","label","Instalar app",1,"flex-auto","md:flex-initial","whitespace-nowrap",3,"click"],["icon","pi pi-arrow-right","label","Empezar",1,"flex-auto","md:flex-initial","whitespace-nowrap",3,"click"],[1,"text-gray-600"]],template:function(e,n){e&1&&(Kt(0,"div",0)(1,"nav",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),no(6,"img",6),Qt(),Kt(7,"div",7)(8,"a",8),Dr(9," Home "),Qt(),Kt(10,"a",9),Dr(11," Features "),Qt(),Kt(12,"a",10),Dr(13," Pricing "),Qt(),Kt(14,"a",11),Dr(15," Contact "),Qt()()(),Kt(16,"div",12),Zr(17,z6,1,0,"p-button",13)(18,j6,1,0,"p-button",14),Qt()()()(),Kt(19,"div",15)(20,"div",16)(21,"h1",17)(22,"span",18),Dr(23,"Administra tus cuentas"),Qt(),Kt(24,"span",19),Dr(25,"Conecta tu Gmail y optimiza tus finanzas"),Qt()(),Kt(26,"p",20),Dr(27," La forma m\xE1s inteligente de gestionar tus ingresos, gastos y obtener reportes visuales detallados. "),Qt(),Kt(28,"div",21)(29,"div",22),Zr(30,V6,1,0,"p-button",13)(31,U6,3,0,"div",23)(32,W6,1,0,"p-button",14),Qt()()()(),Kt(33,"div",24)(34,"div",2)(35,"div",25)(36,"h2",26),Dr(37,"Caracter\xEDsticas"),Qt(),Kt(38,"p",27),Dr(39," Todo lo que necesitas en una sola plataforma "),Qt()(),Kt(40,"div",28)(41,"p-card",29),Zr(42,G6,2,0,"ng-template",30),Qt(),Kt(43,"p-card",31),Zr(44,H6,2,0,"ng-template",30),Qt(),Kt(45,"p-card",32),Zr(46,K6,2,0,"ng-template",30),Qt(),Kt(47,"p-card",33),Zr(48,q6,2,0,"ng-template",30),Qt(),Kt(49,"p-card",34),Zr(50,X6,2,0,"ng-template",30),Qt(),Kt(51,"p-card",35),Zr(52,Q6,2,0,"ng-template",30),Qt()()()(),Kt(53,"div",36)(54,"div",37)(55,"div",38),no(56,"img",39),Qt(),Kt(57,"div",40)(58,"h3",41),Dr(59,"Automatizaci\xF3n y Categor\xEDas Inteligentes"),Qt(),Kt(60,"p",42),Dr(61," Configura tus propias palabras clave y permite que nuestro sistema clasifique cada transacci\xF3n de forma autom\xE1tica, ahorr\xE1ndote tiempo y esfuerzo. "),Qt()()()(),Kt(62,"div",43)(63,"div",2)(64,"div",44)(65,"h2",26),Dr(66,"Vista Previa"),Qt(),Kt(67,"p",27),Dr(68," Panel de Control de Cuentas "),Qt()(),Kt(69,"div",45)(70,"div",46)(71,"h4",47),Dr(72,"Billetera"),Qt(),Kt(73,"p",48),Dr(74,"Saldo: $1,200"),Qt()(),Kt(75,"div",46)(76,"h4",47),Dr(77,"Cuenta de Ahorros"),Qt(),Kt(78,"p",48),Dr(79,"Saldo: $5,000"),Qt()(),Kt(80,"div",46)(81,"h4",47),Dr(82,"Tarjeta de Cr\xE9dito"),Qt(),Kt(83,"p",48),Dr(84,"Saldo: $-300"),Qt()()()()(),Kt(85,"div",49)(86,"div",37)(87,"div",38)(88,"h3",50),Dr(89,"Instala nuestra App"),Qt(),Kt(90,"p",51),Dr(91," Disfruta de todas las funcionalidades desde la comodidad de tu dispositivo m\xF3vil. Convi\xE9rtela en una app nativa instalable gracias a nuestra tecnolog\xEDa PWA. "),Qt(),Kt(92,"div",52),Zr(93,Y6,1,0,"p-button",13)(94,J6,3,0,"div",23)(95,Z6,1,0,"p-button",14),Qt()(),no(96,"div",53),Qt()(),Kt(97,"footer",54)(98,"div",55)(99,"div",56)(100,"p",57),Dr(101,"\xA9 2025 Ledgrify. Todos los derechos reservados."),Qt(),Kt(102,"div",58)(103,"a",59),Dr(104,"Privacy"),Qt(),Kt(105,"a",59),Dr(106,"Terms"),Qt(),Kt(107,"a",59),Dr(108,"Support"),Qt()()()()()()),e&2&&(pr(17),Dn(n.deferredPrompt?17:-1),pr(),Dn(n.checkStandaloneMode()||n.isIos||n.isLocalhost()?18:-1),pr(12),Dn(n.deferredPrompt?30:-1),pr(),Dn(n.isIos&&!n.isInStandaloneMode?31:-1),pr(),Dn(n.isInStandaloneMode||n.isIos?32:-1),pr(61),Dn(n.deferredPrompt?93:-1),pr(),Dn(n.isIos&&!n.isInStandaloneMode?94:-1),pr(),Dn(n.isInStandaloneMode||n.isIos?95:-1))},dependencies:[$l,nu,Gi,Ju,iu],encapsulation:2})};var Ai=window.gapi=window.gapi||{};Ai._bs=new Date().getTime();(function(){var aa=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,o,e){return r==Array.prototype||r==Object.prototype||(r[o]=e.value),r},da=function(r){r=[typeof globalThis=="object"&&globalThis,r,typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global];for(var o=0;o<r.length;++o){var e=r[o];if(e&&e.Math==Math)return e}throw Error("Cannot find global object")},ea=da(this),fa=function(r,o){if(o)e:{var e=ea;r=r.split(".");for(var n=0;n<r.length-1;n++){var s=r[n];if(!(s in e))break e;e=e[s]}r=r[r.length-1],n=e[r],o=o(n),o!=n&&o!=null&&aa(e,r,{configurable:!0,writable:!0,value:o})}},ha=function(r){var o=0;return function(){return o<r.length?{done:!1,value:r[o++]}:{done:!0}}};fa("Symbol",function(r){if(r)return r;var o=function(s,c){this.ba=s,aa(this,"description",{configurable:!0,writable:!0,value:c})};o.prototype.toString=function(){return this.ba};var e=0,n=function(s){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return new o("jscomp_symbol_"+(s||"")+"_"+e++,s)};return n}),fa("Symbol.iterator",function(r){if(r)return r;r=Symbol("Symbol.iterator");for(var o="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),e=0;e<o.length;e++){var n=ea[o[e]];typeof n=="function"&&typeof n.prototype[r]!="function"&&aa(n.prototype,r,{configurable:!0,writable:!0,value:function(){return ia(ha(this))}})}return r});var ia=function(r){return r={next:r},r[Symbol.iterator]=function(){return this},r},ja=function(r,o){r instanceof String&&(r+="");var e=0,n=!1,s={next:function(){if(!n&&e<r.length){var c=e++;return{value:o(c,r[c]),done:!1}}return n=!0,{done:!0,value:void 0}}};return s[Symbol.iterator]=function(){return s},s};fa("Array.prototype.keys",function(r){return r||function(){return ja(this,function(o){return o})}});var m=this||self,ka=function(r){var o=typeof r;return o!="object"?o:r?Array.isArray(r)?"array":o:"null"},la=function(r,o,e){return r.call.apply(r.bind,arguments)},ma=function(r,o,e){if(!r)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,n),r.apply(o,s)}}return function(){return r.apply(o,arguments)}},na=function(r,o,e){return na=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?la:ma,na.apply(null,arguments)},oa=function(r,o){function e(){}e.prototype=o.prototype,r.ma=o.prototype,r.prototype=new e,r.prototype.constructor=r,r.A=function(n,s,c){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return o.prototype[s].apply(n,u)}},pa=function(r){return r},qa=function(r){var o=null,e=m.trustedTypes;if(!e||!e.createPolicy)return o;try{o=e.createPolicy(r,{createHTML:pa,createScript:pa,createScriptURL:pa})}catch(n){m.console&&m.console.error(n.message)}return o};function q(r){if(Error.captureStackTrace)Error.captureStackTrace(this,q);else{var o=Error().stack;o&&(this.stack=o)}r&&(this.message=String(r))}oa(q,Error),q.prototype.name="CustomError";var ra=function(r,o){r=r.split("%s");for(var e="",n=r.length-1,s=0;s<n;s++)e+=r[s]+(s<o.length?o[s]:"%s");q.call(this,e+r[n])};oa(ra,q),ra.prototype.name="AssertionError";var sa=function(r,o,e,n){var s="Assertion failed";if(e){s+=": "+e;var c=n}else r&&(s+=": "+r,c=o);throw new ra(""+s,c||[])},ta=function(r,o,e){return r||sa("",null,o,Array.prototype.slice.call(arguments,2)),r},ua=function(r,o){throw new ra("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))},va=function(r,o,e){typeof r!="string"&&sa("Expected string but got %s: %s.",[ka(r),r],o,Array.prototype.slice.call(arguments,2))},xa=function(r,o){e:{try{var e=r&&r.ownerDocument,n=e&&(e.defaultView||e.parentWindow);if(n=n||m,n.Element&&n.Location){var s=n;break e}}catch{}s=null}if(s&&typeof s[o]<"u"&&(!r||!(r instanceof s[o])&&(r instanceof s.Location||r instanceof s.Element))){if(s=typeof r,s=="object"&&r!=null||s=="function")try{var c=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{c="<object could not be stringified>"}else c=r===void 0?"undefined":r===null?"null":typeof r;ua("Argument is not a %s (or a non-Element, non-Location mock); got: %s",o,c)}return r},ya,t=function(r,o){this.P=r===za&&o||"",this.ca=Aa};t.prototype.J=!0,t.prototype.H=function(){return this.P},t.prototype.toString=function(){return"Const{"+this.P+"}"};var Ba=function(r){return r instanceof t&&r.constructor===t&&r.ca===Aa?r.P:(ua("expected object of type Const, got '"+r+"'"),"type_error:Const")},Aa={},za={},v=function(r,o){this.N=o===Ca?r:""};v.prototype.J=!0,v.prototype.H=function(){return this.N.toString()},v.prototype.toString=function(){return"SafeUrl{"+this.N+"}"};var Da=function(r){return r instanceof v&&r.constructor===v?r.N:(ua("expected object of type SafeUrl, got '"+r+"' of type "+ka(r)),"type_error:SafeUrl")},Ea=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,Fa=function(r){return r instanceof v?r:(r=typeof r=="object"&&r.J?r.H():String(r),ta(Ea.test(r),"%s does not match the safe URL pattern",r)||(r="about:invalid#zClosurez"),new v(r,Ca))},Ca={},w=function(r,o,e){this.M=e===Ga?r:""};w.prototype.J=!0,w.prototype.H=function(){return this.M.toString()},w.prototype.toString=function(){return"SafeHtml{"+this.M+"}"};var Ha=function(r){return r instanceof w&&r.constructor===w?r.M:(ua("expected object of type SafeHtml, got '"+r+"' of type "+ka(r)),"type_error:SafeHtml")},Ga={},Ia=new w(m.trustedTypes&&m.trustedTypes.emptyHTML||"",0,Ga),Ja={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},Ka=function(r){var o=!1,e;return function(){return o||(e=r(),o=!0),e}}(function(){if(typeof document>"u")return!1;var r=document.createElement("div"),o=document.createElement("div");return o.appendChild(document.createElement("div")),r.appendChild(o),r.firstChild?(o=r.firstChild.firstChild,r.innerHTML=Ha(Ia),!o.parentElement):!1}),x=window,z=document,La=x.location,Ma=function(){},Na=/\[native code\]/,A=function(r,o,e){return r[o]=r[o]||e},Oa=function(r){for(var o=0;o<this.length;o++)if(this[o]===r)return o;return-1},Pa=function(r){r=r.sort();for(var o=[],e=void 0,n=0;n<r.length;n++){var s=r[n];s!=e&&o.push(s),e=s}return o},Qa=/&/g,Ra=/</g,Sa=/>/g,Ua=/"/g,Va=/'/g,Wa=function(r){return String(r).replace(Qa,"&amp;").replace(Ra,"&lt;").replace(Sa,"&gt;").replace(Ua,"&quot;").replace(Va,"&#39;")},B=function(){var r;if((r=Object.create)&&Na.test(r))r=r(null);else{r={};for(var o in r)r[o]=void 0}return r},C=function(r,o){return Object.prototype.hasOwnProperty.call(r,o)},Xa=function(r){if(Na.test(Object.keys))return Object.keys(r);var o=[],e;for(e in r)C(r,e)&&o.push(e);return o},D=function(r,o){r=r||{};for(var e in r)C(r,e)&&(o[e]=r[e])},Ya=function(r){return function(){x.setTimeout(r,0)}},E=function(r,o){if(!r)throw Error(o||"")},F=A(x,"gapi",{}),H=function(r,o,e){var n=new RegExp("([#].*&|[#])"+o+"=([^&#]*)","g");if(o=new RegExp("([?#].*&|[?#])"+o+"=([^&#]*)","g"),r=r&&(n.exec(r)||o.exec(r)))try{e=decodeURIComponent(r[2])}catch{}return e},Za=new RegExp(/^/.source+/([a-zA-Z][-+.a-zA-Z0-9]*:)?/.source+/(\/\/[^\/?#]*)?/.source+/([^?#]*)?/.source+/(\?([^#]*))?/.source+/(#((#|[^#])*))?/.source+/$/.source),$a=/[\ud800-\udbff][\udc00-\udfff]|[^!-~]/g,ab=new RegExp(/(%([^0-9a-fA-F%]|[0-9a-fA-F]([^0-9a-fA-F%])?)?)*/.source+/%($|[^0-9a-fA-F]|[0-9a-fA-F]($|[^0-9a-fA-F]))/.source,"g"),bb=/%([a-f]|[0-9a-fA-F][a-f])/g,cb=/^(https?|ftp|file|chrome-extension):$/i,I=function(r){r=String(r),r=r.replace($a,function(s){try{return encodeURIComponent(s)}catch{return encodeURIComponent(s.replace(/^[^%]+$/g,"\uFFFD"))}}).replace(ab,function(s){return s.replace(/%/g,"%25")}).replace(bb,function(s){return s.toUpperCase()}),r=r.match(Za)||[];var o=B(),e=function(s){return s.replace(/\\/g,"%5C").replace(/\^/g,"%5E").replace(/`/g,"%60").replace(/\{/g,"%7B").replace(/\|/g,"%7C").replace(/\}/g,"%7D")},n=!!(r[1]||"").match(cb);return o.A=e((r[1]||"")+(r[2]||"")+(r[3]||(r[2]&&n?"/":""))),n=function(s){return e(s.replace(/\?/g,"%3F").replace(/#/g,"%23"))},o.query=r[5]?[n(r[5])]:[],o.g=r[7]?[n(r[7])]:[],o},db=function(r){return r.A+(0<r.query.length?"?"+r.query.join("&"):"")+(0<r.g.length?"#"+r.g.join("&"):"")},eb=function(r,o){var e=[];if(r){for(var n in r)if(C(r,n)&&r[n]!=null){var s=o?o(r[n]):r[n];e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}}return e},fb=function(r,o,e,n){return r=I(r),r.query.push.apply(r.query,eb(o,n)),r.g.push.apply(r.g,eb(e,n)),db(r)},gb=new RegExp(/\/?\??#?/.source+"("+/[\/?#]/i.source+"|"+/[\uD800-\uDBFF]/i.source+"|"+/%[c-f][0-9a-f](%[89ab][0-9a-f]){0,2}(%[89ab]?)?/i.source+"|"+/%[0-9a-f]?/i.source+")$","i"),hb=function(r,o){var e=I(o);o=e.A,e.query.length&&(o+="?"+e.query.join("")),e.g.length&&(o+="#"+e.g.join(""));var n="";2e3<o.length&&(n=o,o=o.substr(0,2e3),o=o.replace(gb,""),n=n.substr(o.length));var s=r.createElement("div");if(r=r.createElement("a"),e=I(o),o=e.A,e.query.length&&(o+="?"+e.query.join("")),e.g.length&&(o+="#"+e.g.join("")),o=new v(o,Ca),xa(r,"HTMLAnchorElement"),o=o instanceof v?o:Fa(o),r.href=Da(o),s.appendChild(r),o=s.innerHTML,e=new t(za,"Assignment to self."),va(Ba(e),"must provide justification"),ta(!/^[\s\xa0]*$/.test(Ba(e)),"must provide non-empty justification"),ya===void 0&&(ya=qa("gapi#html")),o=(e=ya)?e.createHTML(o):o,o=new w(o,null,Ga),s.tagName&&Ja[s.tagName.toUpperCase()])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+s.tagName+".");if(Ka())for(;s.lastChild;)s.removeChild(s.lastChild);return s.innerHTML=Ha(o),o=String(s.firstChild.href),s.parentNode&&s.parentNode.removeChild(s),e=I(o+n),n=e.A,e.query.length&&(n+="?"+e.query.join("")),e.g.length&&(n+="#"+e.g.join("")),n},ib=/^https?:\/\/[^\/%\\?#\s]+\/[^\s]*$/i,jb=function(r,o,e,n){x[e+"EventListener"]?x[e+"EventListener"](r,o,!1):x[n+"tachEvent"]&&x[n+"tachEvent"]("on"+r,o)},kb=function(){var r=z.readyState;return r==="complete"||r==="interactive"&&navigator.userAgent.indexOf("MSIE")==-1},nb=function(r){var o=lb;if(!kb())try{o()}catch{}mb(r)},mb=function(r){if(kb())r();else{var o=!1,e=function(){if(!o)return o=!0,r.apply(this,arguments)};x.addEventListener?(x.addEventListener("load",e,!1),x.addEventListener("DOMContentLoaded",e,!1)):x.attachEvent&&(x.attachEvent("onreadystatechange",function(){kb()&&e.apply(this,arguments)}),x.attachEvent("onload",e))}},ob=function(r){for(;r.firstChild;)r.removeChild(r.firstChild)},pb={button:!0,div:!0,span:!0},K;K=A(x,"___jsl",B()),A(K,"I",0),A(K,"hel",10);var qb=function(r){return K.dpo?K.h:H(r,"jsh",K.h)},rb=function(r){var o=A(K,"sws",[]);o.push.apply(o,r)},sb=function(r){return A(K,"watt",B())[r]},tb=function(r){var o=A(K,"PQ",[]);K.PQ=[];var e=o.length;if(e===0)r();else for(var n=0,s=function(){++n===e&&r()},c=0;c<e;c++)o[c](s)},ub=function(r){return A(A(K,"H",B()),r,B())},vb=A(K,"perf",B()),wb=A(vb,"g",B()),xb=A(vb,"i",B());A(vb,"r",[]),B(),B();var yb=function(r,o,e){var n=vb.r;typeof n=="function"?n(r,o,e):n.push([r,o,e])},L=function(r,o,e){wb[r]=!o&&wb[r]||e||new Date().getTime(),yb(r)},Ab=function(r,o,e){o&&0<o.length&&(o=zb(o),e&&0<e.length&&(o+="___"+zb(e)),28<o.length&&(o=o.substr(0,28)+(o.length-28)),e=o,o=A(xb,"_p",B()),A(o,e,B())[r]=new Date().getTime(),yb(r,"_p",e))},zb=function(r){return r.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/,/g,"_")},Bb=B(),N=[],O=function(r){throw Error("Bad hint"+(r?": "+r:""))};N.push(["jsl",function(r){for(var o in r)if(C(r,o)){var e=r[o];typeof e=="object"?K[o]=A(K,o,[]).concat(e):A(K,o,e)}(o=r.u)&&(r=A(K,"us",[]),r.push(o),(o=/^https:(.*)$/.exec(o))&&r.push("http:"+o[1]))}]);var Cb=/^(\/[a-zA-Z0-9_\-]+)+$/,Db=[/\/amp\//,/\/amp$/,/^\/amp$/],Eb=/^[a-zA-Z0-9\-_\.,!]+$/,Fb=/^gapi\.loaded_[0-9]+$/,Gb=/^[a-zA-Z0-9,._-]+$/,Kb=function(r,o,e,n){var s=r.split(";"),c=s.shift(),u=Bb[c],h=null;return u?h=u(s,o,e,n):O("no hint processor for: "+c),h||O("failed to generate load url"),o=h,e=o.match(Hb),(n=o.match(Ib))&&n.length===1&&Jb.test(o)&&e&&e.length===1||O("failed sanity: "+r),h},Nb=function(r,o,e,n){r=Lb(r),Fb.test(e)||O("invalid_callback"),o=Mb(o),n=n&&n.length?Mb(n):null;var s=function(c){return encodeURIComponent(c).replace(/%2C/g,",")};return[encodeURIComponent(r.pathPrefix).replace(/%2C/g,",").replace(/%2F/g,"/"),"/k=",s(r.version),"/m=",s(o),n?"/exm="+s(n):"","/rt=j/sv=1/d=1/ed=1",r.S?"/am="+s(r.S):"",r.Z?"/rs="+s(r.Z):"",r.aa?"/t="+s(r.aa):"","/cb=",s(e)].join("")},Lb=function(r){r.charAt(0)!=="/"&&O("relative path");for(var o=r.substring(1).split("/"),e=[];o.length;){if(r=o.shift(),!r.length||r.indexOf(".")==0)O("empty/relative directory");else if(0<r.indexOf("=")){o.unshift(r);break}e.push(r)}r={};for(var n=0,s=o.length;n<s;++n){var c=o[n].split("="),u=decodeURIComponent(c[0]),h=decodeURIComponent(c[1]);c.length==2&&u&&h&&(r[u]=r[u]||h)}for(o="/"+e.join("/"),Cb.test(o)||O("invalid_prefix"),e=0,n=Db.length;e<n;++e)Db[e].test(o)&&O("invalid_prefix");return e=Ob(r,"k",!0),n=Ob(r,"am"),s=Ob(r,"rs"),r=Ob(r,"t"),{pathPrefix:o,version:e,S:n,Z:s,aa:r}},Mb=function(r){for(var o=[],e=0,n=r.length;e<n;++e){var s=r[e].replace(/\./g,"_").replace(/-/g,"_");Gb.test(s)&&o.push(s)}return o.join(",")},Ob=function(r,o,e){if(r=r[o],!r&&e&&O("missing: "+o),r){if(Eb.test(r))return r;O("invalid: "+o)}return null},Jb=/^https?:\/\/[a-z0-9_.-]+\.google(rs)?\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,Ib=/\/cb=/g,Hb=/\/\//g,Pb=function(){var r=qb(La.href);if(!r)throw Error("Bad hint");return r};Bb.m=function(r,o,e,n){return(r=r[0])||O("missing_hint"),"https://apis.google.com"+Nb(r,o,e,n)};var Qb=decodeURI("%73cript"),Rb=/^[-+_0-9\/A-Za-z]+={0,2}$/,Sb=function(r,o){for(var e=[],n=0;n<r.length;++n){var s=r[n];s&&0>Oa.call(o,s)&&e.push(s)}return e},Tb=function(){var r=K.nonce;return r!==void 0?r&&r===String(r)&&r.match(Rb)?r:K.nonce=null:z.querySelector&&(r=z.querySelector("script[nonce]"))?(r=r.nonce||r.getAttribute("nonce")||"",r&&r===String(r)&&r.match(Rb)?K.nonce=r:K.nonce=null):null},Wb=function(r){if(z.readyState!="loading")Ub(r);else{var o=Tb(),e="";o!==null&&(e=' nonce="'+o+'"'),r="<"+Qb+' src="'+encodeURI(r)+'"'+e+"></"+Qb+">",z.write(Vb?Vb.createHTML(r):r)}},Ub=function(r){var o=z.createElement(Qb);o.setAttribute("src",Vb?Vb.createScriptURL(r):r),r=Tb(),r!==null&&o.setAttribute("nonce",r),o.async="true",(r=z.getElementsByTagName(Qb)[0])?r.parentNode.insertBefore(o,r):(z.head||z.body||z.documentElement).appendChild(o)},Xb=function(r,o){var e=o&&o._c;if(e)for(var n=0;n<N.length;n++){var s=N[n][0],c=N[n][1];c&&C(e,s)&&c(e[s],r,o)}},Zb=function(r,o,e){Yb(function(){var n=o===qb(La.href)?A(F,"_",B()):B();n=A(ub(o),"_",n),r(n)},e)},ac=function(r,o){var e=o||{};typeof o=="function"&&(e={},e.callback=o),Xb(r,e),o=r?r.split(":"):[];var n=e.h||Pb(),s=A(K,"ah",B());if(s["::"]&&o.length){r=[];for(var c=null;c=o.shift();){var u=c.split(".");u=s[c]||s[u[1]&&"ns:"+u[0]||""]||n;var h=r.length&&r[r.length-1]||null,p=h;h&&h.hint==u||(p={hint:u,V:[]},r.push(p)),p.V.push(c)}var y=r.length;if(1<y){var k=e.callback;k&&(e.callback=function(){--y==0&&k()})}for(;o=r.shift();)$b(o.V,e,o.hint)}else $b(o||[],e,n)},$b=function(r,o,e){r=Pa(r)||[];var n=o.callback,s=o.config,c=o.timeout,u=o.ontimeout,h=o.onerror,p=void 0;typeof h=="function"&&(p=h);var y=null,k=!1;if(c&&!u||!c&&u)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";h=A(ub(e),"r",[]).sort();var G=A(ub(e),"L",[]).sort(),$=[].concat(h),Me=function(Pe,Xe){if(k)return 0;x.clearTimeout(y),G.push.apply(G,Re);var Ne=((F||{}).config||{}).update;if(Ne?Ne(s):s&&A(K,"cu",[]).push(s),Xe){Ab("me0",Pe,$);try{Zb(Xe,e,p)}finally{Ab("me1",Pe,$)}}return 1};0<c&&(y=x.setTimeout(function(){k=!0,u()},c));var Re=Sb(r,G);if(Re.length){Re=Sb(r,h);var Ke=A(K,"CP",[]),He=Ke.length;if(Ke[He]=function(Pe){if(!Pe)return 0;Ab("ml1",Re,$);var Xe=function(Ge){Ke[He]=null,Me(Re,Pe)&&tb(function(){n&&n(),Ge()})},Ne=function(){var Ge=Ke[He+1];Ge&&Ge()};0<He&&Ke[He-1]?Ke[He]=function(){Xe(Ne)}:Xe(Ne)},Re.length){var Ie="loaded_"+K.I++;F[Ie]=function(Pe){Ke[He](Pe),F[Ie]=null},r=Kb(e,Re,"gapi."+Ie,h),h.push.apply(h,Re),Ab("ml0",Re,$),o.sync||x.___gapisync?Wb(r):Ub(r)}else Ke[He](Ma)}else Me(Re)&&n&&n()},Vb=qa("gapi#gapi"),Yb=function(r,o){if(K.hee&&0<K.hel)try{return r()}catch(e){o&&o(e),K.hel--,ac("debug_error",function(){try{window.___jsl.hefn(e)}catch{throw e}})}else try{return r()}catch(e){throw o&&o(e),e}};F.load=function(r,o){return Yb(function(){return ac(r,o)})};var bc=function(r){var o=window.___jsl=window.___jsl||{};return o[r]=o[r]||[],o[r]},cc=function(r){var o=window.___jsl=window.___jsl||{};return o.cfg=!r&&o.cfg||{},o.cfg},dc=function(r){return typeof r=="object"&&/\[native code\]/.test(r.push)},P=function(r,o,e){if(o&&typeof o=="object")for(var n in o)!Object.prototype.hasOwnProperty.call(o,n)||e&&n==="___goc"&&typeof o[n]>"u"||(r[n]&&o[n]&&typeof r[n]=="object"&&typeof o[n]=="object"&&!dc(r[n])&&!dc(o[n])?P(r[n],o[n]):o[n]&&typeof o[n]=="object"?(r[n]=dc(o[n])?[]:{},P(r[n],o[n])):r[n]=o[n])},ec=function(r){if(r&&!/^\s+$/.test(r)){for(;r.charCodeAt(r.length-1)==0;)r=r.substring(0,r.length-1);try{var o=window.JSON.parse(r)}catch{}if(typeof o=="object")return o;try{o=new Function("return ("+r+`
)`)()}catch{}if(typeof o=="object")return o;try{o=new Function("return ({"+r+`
})`)()}catch{}return typeof o=="object"?o:{}}},fc=function(r,o){var e={___goc:void 0};r.length&&r[r.length-1]&&Object.hasOwnProperty.call(r[r.length-1],"___goc")&&typeof r[r.length-1].___goc>"u"&&(e=r.pop()),P(e,o),r.push(e)},gc=function(r){cc(!0);var o=window.___gcfg,e=bc("cu"),n=window.___gu;o&&o!==n&&(fc(e,o),window.___gu=o),o=bc("cu");var s=document.scripts||document.getElementsByTagName("script")||[];n=[];var c=[];c.push.apply(c,bc("us"));for(var u=0;u<s.length;++u)for(var h=s[u],p=0;p<c.length;++p)h.src&&h.src.indexOf(c[p])==0&&n.push(h);for(n.length==0&&0<s.length&&s[s.length-1].src&&n.push(s[s.length-1]),s=0;s<n.length;++s)n[s].getAttribute("gapi_processed")||(n[s].setAttribute("gapi_processed",!0),(c=n[s])?(u=c.nodeType,c=u==3||u==4?c.nodeValue:c.textContent||c.innerText||c.innerHTML||""):c=void 0,(c=ec(c))&&o.push(c));for(r&&fc(e,r),n=bc("cd"),r=0,o=n.length;r<o;++r)P(cc(),n[r],!0);for(n=bc("ci"),r=0,o=n.length;r<o;++r)P(cc(),n[r],!0);for(r=0,o=e.length;r<o;++r)P(cc(),e[r],!0)},Q=function(r){var o=cc();if(!r)return o;r=r.split("/");for(var e=0,n=r.length;o&&typeof o=="object"&&e<n;++e)o=o[r[e]];return e===r.length&&o!==void 0?o:void 0},hc=function(r,o){var e;if(typeof r=="string"){var n=e={};r=r.split("/");for(var s=0,c=r.length;s<c-1;++s){var u={};n=n[r[s]]=u}n[r[s]]=o}else e=r;gc(e)},ic=function(){var r=window.__GOOGLEAPIS;r&&(r.googleapis&&!r["googleapis.config"]&&(r["googleapis.config"]=r.googleapis),A(K,"ci",[]).push(r),window.__GOOGLEAPIS=void 0)},jc={callback:1,clientid:1,cookiepolicy:1,openidrealm:-1,includegrantedscopes:-1,requestvisibleactions:1,scope:1},kc=!1,lc=B(),mc=function(){if(!kc){for(var r=document.getElementsByTagName("meta"),o=0;o<r.length;++o){var e=r[o].name.toLowerCase();if(e.lastIndexOf("google-signin-",0)==0){e=e.substring(14);var n=r[o].content;jc[e]&&n&&(lc[e]=n)}}if(window.self!==window.top){r=document.location.toString();for(var s in jc)0<jc[s]&&(o=H(r,s,""))&&(lc[s]=o)}kc=!0}return s=B(),D(lc,s),s},nc=function(r){return!!(r.clientid&&r.scope&&r.callback)},oc=window.console,pc=function(r){oc&&oc.log&&oc.log(r)},qc=function(){return!!K.oa},rc=function(){},R=A(K,"rw",B()),sc=function(r){for(var o in R)r(R[o])},tc=function(r,o){(r=R[r])&&r.state<o&&(r.state=o)},uc,vc=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/u\/(\d)\//,wc=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/b\/(\d{10,21})\//,xc=function(r){var o=Q("googleapis.config/sessionIndex");if(typeof o=="string"&&254<o.length&&(o=null),o==null&&(o=window.__X_GOOG_AUTHUSER),typeof o=="string"&&254<o.length&&(o=null),o==null){var e=window.google;e&&(o=e.authuser)}return typeof o=="string"&&254<o.length&&(o=null),o==null&&(r=r||window.location.href,o=H(r,"authuser")||null,o==null&&(o=(o=r.match(vc))?o[1]:null)),o==null?null:(o=String(o),254<o.length&&(o=null),o)},yc=function(r){var o=Q("googleapis.config/sessionDelegate");return typeof o=="string"&&21<o.length&&(o=null),o==null&&(o=(r=(r||window.location.href).match(wc))?r[1]:null),o==null?null:(o=String(o),21<o.length&&(o=null),o)},zc,S,T=void 0,U=function(r){try{return m.JSON.parse.call(m.JSON,r)}catch{return!1}},V=function(r){return Object.prototype.toString.call(r)},Ac=V(0),Bc=V(new Date(0)),Cc=V(!0),Dc=V(""),Ec=V({}),Fc=V([]),W=function(r,o){if(o){for(var e=0,n=o.length;e<n;++e)if(r===o[e])throw new TypeError("Converting circular structure to JSON")}if(n=typeof r,n!=="undefined"){e=Array.prototype.slice.call(o||[],0),e[e.length]=r,o=[];var s=V(r);if(r!=null&&typeof r.toJSON=="function"&&(Object.prototype.hasOwnProperty.call(r,"toJSON")||(s!==Fc||r.constructor!==Array&&r.constructor!==Object)&&(s!==Ec||r.constructor!==Array&&r.constructor!==Object)&&s!==Dc&&s!==Ac&&s!==Cc&&s!==Bc))return W(r.toJSON.call(r),e);if(r==null)o[o.length]="null";else if(s===Ac)r=Number(r),isNaN(r)||isNaN(r-r)?r="null":r===-0&&0>1/r&&(r="-0"),o[o.length]=String(r);else if(s===Cc)o[o.length]=String(!!Number(r));else{if(s===Bc)return W(r.toISOString.call(r),e);if(s===Fc&&V(r.length)===Ac){o[o.length]="[";var c=0;for(n=Number(r.length)>>0;c<n;++c)c&&(o[o.length]=","),o[o.length]=W(r[c],e)||"null";o[o.length]="]"}else if(s==Dc&&V(r.length)===Ac){for(o[o.length]='"',c=0,e=Number(r.length)>>0;c<e;++c)n=String.prototype.charAt.call(r,c),s=String.prototype.charCodeAt.call(r,c),o[o.length]=n==="\b"?"\\b":n==="\f"?"\\f":n===`
`?"\\n":n==="\r"?"\\r":n==="	"?"\\t":n==="\\"||n==='"'?"\\"+n:31>=s?"\\u"+(s+65536).toString(16).substr(1):32<=s&&65535>=s?n:"\uFFFD";o[o.length]='"'}else if(n==="object"){o[o.length]="{",n=0;for(c in r)Object.prototype.hasOwnProperty.call(r,c)&&(s=W(r[c],e),s!==void 0&&(n++&&(o[o.length]=","),o[o.length]=W(c),o[o.length]=":",o[o.length]=s));o[o.length]="}"}else return}return o.join("")}},Gc=/[\0-\x07\x0b\x0e-\x1f]/,Hc=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*[\0-\x1f]/,Ic=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\[^\\\/"bfnrtu]/,Jc=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\u([0-9a-fA-F]{0,3}[^0-9a-fA-F])/,Kc=/"([^\0-\x1f\\"]|\\[\\\/"bfnrt]|\\u[0-9a-fA-F]{4})*"/g,Lc=/-?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][-+]?[0-9]+)?/g,Mc=/[ \t\n\r]+/g,Nc=/[^"]:/,Oc=/""/g,Pc=/true|false|null/g,Qc=/00/,Rc=/[\{]([^0\}]|0[^:])/,Sc=/(^|\[)[,:]|[,:](\]|\}|[,:]|$)/,Tc=/[^\[,:][\[\{]/,Uc=/^(\{|\}|\[|\]|,|:|0)+/,Vc=/\u2028/g,Wc=/\u2029/g,Xc=function(a){if(a=String(a),Gc.test(a)||Hc.test(a)||Ic.test(a)||Jc.test(a))return!1;var b=a.replace(Kc,'""');if(b=b.replace(Lc,"0"),b=b.replace(Mc,""),Nc.test(b)||(b=b.replace(Oc,"0"),b=b.replace(Pc,"0"),Qc.test(b)||Rc.test(b)||Sc.test(b)||Tc.test(b)||!b||(b=b.replace(Uc,""))))return!1;a=a.replace(Vc,"\\u2028").replace(Wc,"\\u2029"),b=void 0;try{b=T?[U(a)]:eval(`(function (var_args) {
  return Array.prototype.slice.call(arguments, 0);
})(
`+a+`
)`)}catch(r){return!1}return b&&b.length===1?b[0]:!1},Yc=function(){var r=((m.document||{}).scripts||[]).length;if((zc===void 0||T===void 0||S!==r)&&S!==-1){zc=T=!1,S=-1;try{try{T=!!m.JSON&&m.JSON.stringify.call(m.JSON,{a:[3,!0,new Date(0)],c:function(){}})==='{"a":[3,true,"1970-01-01T00:00:00.000Z"]}'&&U("true")===!0&&U('[{"a":3}]')[0].a===3}catch{}zc=T&&!U("[00]")&&!U('"\x07"')&&!U('"\\0"')&&!U('"\\v"')}finally{S=r}}},Zc=function(r){return S===-1?!1:(Yc(),(zc?U:Xc)(r))},$c=function(r){if(S!==-1)return Yc(),T?m.JSON.stringify.call(m.JSON,r):W(r)},ad=!Date.prototype.toISOString||typeof Date.prototype.toISOString!="function"||new Date(0).toISOString()!=="1970-01-01T00:00:00.000Z",bd=function(){var r=Date.prototype.getUTCFullYear.call(this);return[0>r?"-"+String(1e6-r).substr(1):9999>=r?String(1e4+r).substr(1):"+"+String(1e6+r).substr(1),"-",String(101+Date.prototype.getUTCMonth.call(this)).substr(1),"-",String(100+Date.prototype.getUTCDate.call(this)).substr(1),"T",String(100+Date.prototype.getUTCHours.call(this)).substr(1),":",String(100+Date.prototype.getUTCMinutes.call(this)).substr(1),":",String(100+Date.prototype.getUTCSeconds.call(this)).substr(1),".",String(1e3+Date.prototype.getUTCMilliseconds.call(this)).substr(1),"Z"].join("")};Date.prototype.toISOString=ad?bd:Date.prototype.toISOString;var cd=function(){this.j=-1},dd=function(){this.j=64,this.b=[],this.G=[],this.da=[],this.C=[],this.C[0]=128;for(var r=1;r<this.j;++r)this.C[r]=0;this.D=this.o=0,this.reset()};oa(dd,cd),dd.prototype.reset=function(){this.b[0]=1732584193,this.b[1]=4023233417,this.b[2]=2562383102,this.b[3]=271733878,this.b[4]=3285377520,this.D=this.o=0};var ed=function(r,o,e){e||(e=0);var n=r.da;if(typeof o=="string")for(var s=0;16>s;s++)n[s]=o.charCodeAt(e)<<24|o.charCodeAt(e+1)<<16|o.charCodeAt(e+2)<<8|o.charCodeAt(e+3),e+=4;else for(s=0;16>s;s++)n[s]=o[e]<<24|o[e+1]<<16|o[e+2]<<8|o[e+3],e+=4;for(s=16;80>s;s++){var c=n[s-3]^n[s-8]^n[s-14]^n[s-16];n[s]=(c<<1|c>>>31)&4294967295}o=r.b[0],e=r.b[1];var u=r.b[2],h=r.b[3],p=r.b[4];for(s=0;80>s;s++){if(40>s)if(20>s){c=h^e&(u^h);var y=1518500249}else c=e^u^h,y=1859775393;else 60>s?(c=e&u|h&(e|u),y=2400959708):(c=e^u^h,y=3395469782);c=(o<<5|o>>>27)+c+p+y+n[s]&4294967295,p=h,h=u,u=(e<<30|e>>>2)&4294967295,e=o,o=c}r.b[0]=r.b[0]+o&4294967295,r.b[1]=r.b[1]+e&4294967295,r.b[2]=r.b[2]+u&4294967295,r.b[3]=r.b[3]+h&4294967295,r.b[4]=r.b[4]+p&4294967295};dd.prototype.update=function(r,o){if(r!=null){o===void 0&&(o=r.length);for(var e=o-this.j,n=0,s=this.G,c=this.o;n<o;){if(c==0)for(;n<=e;)ed(this,r,n),n+=this.j;if(typeof r=="string"){for(;n<o;)if(s[c]=r.charCodeAt(n),++c,++n,c==this.j){ed(this,s),c=0;break}}else for(;n<o;)if(s[c]=r[n],++c,++n,c==this.j){ed(this,s),c=0;break}}this.o=c,this.D+=o}},dd.prototype.digest=function(){var r=[],o=8*this.D;56>this.o?this.update(this.C,56-this.o):this.update(this.C,this.j-(this.o-56));for(var e=this.j-1;56<=e;e--)this.G[e]=o&255,o/=256;for(ed(this,this.G),e=o=0;5>e;e++)for(var n=24;0<=n;n-=8)r[o]=this.b[e]>>n&255,++o;return r};var fd=function(){this.O=new dd};fd.prototype.reset=function(){this.O.reset()};var gd=x.crypto,hd=!1,id=0,jd=0,kd=1,ld=0,md="",nd=function(r){r=r||x.event;var o=r.screenX+r.clientX<<16;o+=r.screenY+r.clientY,o*=new Date().getTime()%1e6,kd=kd*o%ld,0<id&&++jd==id&&jb("mousemove",nd,"remove","de")},od=function(r){var o=new fd;r=unescape(encodeURIComponent(r));for(var e=[],n=0,s=r.length;n<s;++n)e.push(r.charCodeAt(n));for(o.O.update(e),o=o.O.digest(),r="",e=0;e<o.length;e++)r+="0123456789ABCDEF".charAt(Math.floor(o[e]/16))+"0123456789ABCDEF".charAt(o[e]%16);return r};hd=!!gd&&typeof gd.getRandomValues=="function",hd||(ld=1e6*(screen.width*screen.width+screen.height),md=od(z.cookie+"|"+z.location+"|"+new Date().getTime()+"|"+Math.random()),id=Q("random/maxObserveMousemove")||0,id!=0&&jb("mousemove",nd,"add","at"));var pd=function(){var r=kd;return r+=parseInt(md.substr(0,20),16),md=od(md),r/(ld+Math.pow(16,20))},qd=function(){var r=new x.Uint32Array(1);return gd.getRandomValues(r),+("0."+r[0])},rd=function(){var r=K.onl;if(!r){r=B(),K.onl=r;var o=B();r.e=function(e){var n=o[e];n&&(delete o[e],n())},r.a=function(e,n){o[e]=n},r.r=function(e){delete o[e]}}return r},sd=function(r,o){return o=o.onload,typeof o=="function"?(rd().a(r,o),o):null},td=function(r){return E(/^\w+$/.test(r),"Unsupported id - "+r),rd(),'onload="window.___jsl.onl.e(&#34;'+r+'&#34;)"'},ud=function(r){rd().r(r)},vd={allowtransparency:"true",frameborder:"0",hspace:"0",marginheight:"0",marginwidth:"0",scrolling:"no",style:"",tabindex:"0",vspace:"0",width:"100%"},wd={allowtransparency:!0,onload:!0},xd=0,yd=function(r){E(!r||ib.test(r),"Illegal url for new iframe - "+r)},zd=function(r,o,e,n,s){yd(e.src);var c,u=sd(n,e),h=u?td(n):"";try{document.all&&(c=r.createElement('<iframe frameborder="'+Wa(String(e.frameborder))+'" scrolling="'+Wa(String(e.scrolling))+'" '+h+' name="'+Wa(String(e.name))+'"/>'))}catch{}finally{c||(c=r.createElement("iframe"),u&&(c.onload=function(){c.onload=null,u.call(this)},ud(n)))}c.setAttribute("ng-non-bindable","");for(var p in e)r=e[p],p==="style"&&typeof r=="object"?D(r,c.style):wd[p]||c.setAttribute(p,String(r));return(p=s&&s.beforeNode||null)||s&&s.dontclear||ob(o),o.insertBefore(c,p),c=p?p.previousSibling:o.lastChild,e.allowtransparency&&(c.allowTransparency=!0),c},Ad=/^:[\w]+$/,Bd=/:([a-zA-Z_]+):/g,Cd=function(){var r=xc()||"0",o=yc(),e=xc(void 0)||r,n=yc(void 0),s="";e&&(s+="u/"+encodeURIComponent(String(e))+"/"),n&&(s+="b/"+encodeURIComponent(String(n))+"/"),e=s||null,(s=(n=Q("isLoggedIn")===!1)?"_/im/":"")&&(e="");var c=Q("iframes/:socialhost:"),u=Q("iframes/:im_socialhost:");return uc={socialhost:c,ctx_socialhost:n?u:c,session_index:r,session_delegate:o,session_prefix:e,im_prefix:s}},Dd=function(r,o){return Cd()[o]||""},Ed=function(r){return function(o,e){return r?Cd()[e]||r[e]||"":Cd()[e]||""}},Fd=function(r){var o;return r.match(/^https?%3A/i)&&(o=decodeURIComponent(r)),hb(document,o||r)},Gd=function(r){r=r||"canonical";for(var o=document.getElementsByTagName("link"),e=0,n=o.length;e<n;e++){var s=o[e],c=s.getAttribute("rel");if(c&&c.toLowerCase()==r&&(s=s.getAttribute("href"))&&(s=Fd(s))&&s.match(/^https?:\/\/[\w\-_\.]+/i)!=null)return s}return window.location.href},Hd={se:"0"},Id={post:!0},Jd={style:"position:absolute;top:-10000px;width:450px;margin:0px;border-style:none"},Kd="onPlusOne _ready _close _open _resizeMe _renderstart oncircled drefresh erefresh".split(" "),Ld=A(K,"WI",B()),Md=function(r,o,e){var n,s={},c=n=r;r=="plus"&&o.action&&(n=r+"_"+o.action,c=r+"/"+o.action),(n=Q("iframes/"+n+"/url"))||(n=":im_socialhost:/:session_prefix::im_prefix:_/widget/render/"+c+"?usegapi=1");for(var u in Hd)s[u]=u+"/"+(o[u]||Hd[u])+"/";if(s=hb(z,n.replace(Bd,Ed(s))),u="iframes/"+r+"/params/",c={},D(o,c),(n=Q("lang")||Q("gwidget/lang"))&&(c.hl=n),Id[r]||(c.origin=window.location.origin||window.location.protocol+"//"+window.location.host),c.exp=Q(u+"exp"),u=Q(u+"location"))for(n=0;n<u.length;n++){var h=u[n];c[h]=x.location[h]}switch(r){case"plus":case"follow":u=c.href,n=o.action?void 0:"publisher",u=(u=typeof u=="string"?u:void 0)?Fd(u):Gd(n),c.url=u,delete c.href;break;case"plusone":u=(u=o.href)?Fd(u):Gd(),c.url=u,u=o.db,n=Q(),u==null&&n&&(u=n.db,u==null&&(u=n.gwidget&&n.gwidget.db)),c.db=u||void 0,u=o.ecp,n=Q(),u==null&&n&&(u=n.ecp,u==null&&(u=n.gwidget&&n.gwidget.ecp)),c.ecp=u||void 0,delete c.href;break;case"signin":c.url=Gd()}K.ILI&&(c.iloader="1"),delete c["data-onload"],delete c.rd;for(var p in Hd)c[p]&&delete c[p];c.gsrc=Q("iframes/:source:"),p=Q("inline/css"),typeof p<"u"&&0<e&&p>=e&&(c.ic="1"),p=/^#|^fr-/,e={};for(var y in c)C(c,y)&&p.test(y)&&(e[y.replace(p,"")]=c[y],delete c[y]);y=Q("iframes/"+r+"/params/si")=="q"?c:e,p=mc();for(var k in p)!C(p,k)||C(c,k)||C(e,k)||(y[k]=p[k]);k=[].concat(Kd),(y=Q("iframes/"+r+"/methods"))&&typeof y=="object"&&Na.test(y.push)&&(k=k.concat(y));for(var G in o)C(o,G)&&/^on/.test(G)&&(r!="plus"||G!="onconnect")&&(k.push(G),delete c[G]);return delete c.callback,e._methods=k.join(","),fb(s,c,e)},Nd=["style","data-gapiscan"],Pd=function(r){for(var o=B(),e=r.nodeName.toLowerCase().indexOf("g:")!=0,n=0,s=r.attributes.length;n<s;n++){var c=r.attributes[n],u=c.name,h=c.value;0<=Oa.call(Nd,u)||e&&u.indexOf("data-")!=0||h==="null"||"specified"in c&&!c.specified||(e&&(u=u.substr(5)),o[u.toLowerCase()]=h)}return r=r.style,(e=Od(r&&r.height))&&(o.height=String(e)),(r=Od(r&&r.width))&&(o.width=String(r)),o},Od=function(r){var o=void 0;return typeof r=="number"?o=r:typeof r=="string"&&(o=parseInt(r,10)),o},Rd=function(){var r=K.drw;sc(function(o){if(r!==o.id&&o.state!=4&&o.type!="share"){var e=o.id,n=o.type,s=o.url;o=o.userParams;var c=z.getElementById(e);if(c){var u=Md(n,o,0);u?(c=c.parentNode,s.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")!==u.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")&&(o.dontclear=!0,o.rd=!0,o.ri=!0,o.type=n,Qd(c,o),(n=R[c.lastChild.id])&&(n.oid=e),tc(e,4))):delete R[e]}else delete R[e]}})},Sd,Td,X,Ud,Vd,Wd=/(?:^|\s)g-((\S)*)(?:$|\s)/,Xd={plusone:!0,autocomplete:!0,profile:!0,signin:!0,signin2:!0};Sd=A(K,"SW",B()),Td=A(K,"SA",B()),X=A(K,"SM",B()),Ud=A(K,"FW",[]),Vd=null;var Zd=function(r,o){Yd(void 0,!1,r,o)},Yd=function(r,o,e,n){L("ps0",!0),e=(typeof e=="string"?document.getElementById(e):e)||z;var s=z.documentMode;if(e.querySelectorAll&&(!s||8<s)){s=n?[n]:Xa(Sd).concat(Xa(Td)).concat(Xa(X));for(var c=[],u=0;u<s.length;u++){var h=s[u];c.push(".g-"+h,"g\\:"+h)}s=e.querySelectorAll(c.join(","))}else s=e.getElementsByTagName("*");for(e=B(),c=0;c<s.length;c++){u=s[c];var p=u;h=n;var y=p.nodeName.toLowerCase(),k=void 0;if(p.getAttribute("data-gapiscan"))h=null;else{var G=y.indexOf("g:");G==0?k=y.substr(2):(G=(G=String(p.className||p.getAttribute("class")))&&Wd.exec(G))&&(k=G[1]),h=!k||!(Sd[k]||Td[k]||X[k])||h&&k!==h?null:k}h&&(Xd[h]||u.nodeName.toLowerCase().indexOf("g:")==0||Xa(Pd(u)).length!=0)&&(u.setAttribute("data-gapiscan",!0),A(e,h,[]).push(u))}if(o)for(var $ in e)for(o=e[$],n=0;n<o.length;n++)o[n].setAttribute("data-onload",!0);for(var Me in e)Ud.push(Me);if(L("ps1",!0),($=Ud.join(":"))||r)try{F.load($,r)}catch(Ke){pc(Ke);return}if($d(Vd||{}))for(var Re in e){for(r=e[Re],Me=0,o=r.length;Me<o;Me++)r[Me].removeAttribute("data-gapiscan");ae(Re)}else{n=[];for(Re in e)for(r=e[Re],Me=0,o=r.length;Me<o;Me++)s=r[Me],be(Re,s,Pd(s),n,o);ce($,n)}},de=function(r){var o=A(F,r,{});o.go||(o.go=function(e){return Zd(e,r)},o.render=function(e,n){return n=n||{},n.type=r,Qd(e,n)})},ee=function(r){Sd[r]=!0},fe=function(r){Td[r]=!0},ge=function(r){X[r]=!0},ae=function(r,o){var e=sb(r);o&&e?(e(o),(e=o.iframeNode)&&e.setAttribute("data-gapiattached",!0)):F.load(r,function(){var n=sb(r),s=o&&o.iframeNode,c=o&&o.userParams;s&&n?(n(o),s.setAttribute("data-gapiattached",!0)):(n=F[r].go,r=="signin2"?n(s,c):n(s&&s.parentNode,c))})},$d=function(){return!1},ce=function(){},be=function(r,o,e,n,s,c,u){switch(he(o,r,c)){case 0:r=X[r]?r+"_annotation":r,n={},n.iframeNode=o,n.userParams=e,ae(r,n);break;case 1:if(o.parentNode){for(var h in e)if((c=C(e,h))&&(c=e[h],c=!!c&&typeof c=="object"&&(!c.toString||c.toString===Object.prototype.toString||c.toString===Array.prototype.toString)),c)try{e[h]=$c(e[h])}catch{delete e[h]}if(c=!0,e.dontclear&&(c=!1),delete e.dontclear,rc(),h=Md(r,e,s),s=u||{},s.allowPost=1,s.attributes=Jd,s.dontclear=!c,u={},u.userParams=e,u.url=h,u.type=r,e.rd)var p=o;else p=document.createElement("div"),o.setAttribute("data-gapistub",!0),p.style.cssText="position:absolute;width:450px;left:-10000px;",o.parentNode.insertBefore(p,o);u.siteElement=p,p.id||(o=p,A(Ld,r,0),c="___"+r+"_"+Ld[r]++,o.id=c),o=B(),o[">type"]=r,D(e,o),c=h,e=p,h=s||{},o=h.attributes||{},E(!(h.allowPost||h.forcePost)||!o.onload,"onload is not supported by post iframe (allowPost or forcePost)"),s=o=c,Ad.test(o)&&(s=Q("iframes/"+s.substring(1)+"/url"),E(!!s,"Unknown iframe url config for - "+o)),c=hb(z,s.replace(Bd,Dd)),o=e.ownerDocument||z,p=0;do s=h.id||["I",xd++,"_",new Date().getTime()].join("");while(o.getElementById(s)&&5>++p);E(5>p,"Error creating iframe id"),p={};var y={};o.documentMode&&9>o.documentMode&&(p.hostiemode=o.documentMode),D(h.queryParams||{},p),D(h.fragmentParams||{},y);var k=h.pfname,G=B();Q("iframes/dropLegacyIdParam")||(G.id=s),G._gfid=s,G.parent=o.location.protocol+"//"+o.location.host;var $=H(o.location.href,"parent");if(k=k||"",!k&&$&&($=H(o.location.href,"_gfid","")||H(o.location.href,"id",""),k=H(o.location.href,"pfname",""),k=$?k+"/"+$:""),k||($=Zc(H(o.location.href,"jcp","")))&&typeof $=="object"&&(k=(k=$.id)?$.pfname+"/"+k:""),G.pfname=k,h.connectWithJsonParam&&($={},$.jcp=$c(G),G=$),$=H(c,"rpctoken")||p.rpctoken||y.rpctoken,$||($=h.rpctoken||String(Math.round(1e8*(hd?qd():pd()))),G.rpctoken=$),h.rpctoken=$,D(G,h.connectWithQueryParams?p:y),$=o.location.href,G=B(),(k=H($,"_bsh",K.bsh))&&(G._bsh=k),($=qb($))&&(G.jsh=$),h.hintInFragment?D(G,y):D(G,p),c=fb(c,p,y,h.paramsSerializer),y=B(),D(vd,y),D(h.attributes,y),y.name=y.id=s,y.src=c,h.eurl=c,p=h||{},G=!!p.allowPost,p.forcePost||G&&2e3<c.length){if(p=I(c),y.src="",h.dropDataPostorigin||(y["data-postorigin"]=c),c=zd(o,e,y,s),navigator.userAgent.indexOf("WebKit")!=-1){var Me=c.contentWindow.document;Me.open(),y=Me.createElement("div"),G={},$=s+"_inner",G.name=$,G.src="",G.style="display:none",zd(o,y,G,$,h)}for(y=(h=p.query[0])?h.split("&"):[],h=[],G=0;G<y.length;G++)$=y[G].split("=",2),h.push([decodeURIComponent($[0]),decodeURIComponent($[1])]);for(p.query=[],y=db(p),E(ib.test(y),"Invalid URL: "+y),p=o.createElement("form"),p.method="POST",p.target=s,p.style.display="none",s=y instanceof v?y:Fa(y),xa(p,"HTMLFormElement").action=Da(s),s=0;s<h.length;s++)y=o.createElement("input"),y.type="hidden",y.name=h[s][0],y.value=h[s][1],p.appendChild(y);e.appendChild(p),p.submit(),p.parentNode.removeChild(p),Me&&Me.close(),Me=c}else Me=zd(o,e,y,s,h);u.iframeNode=Me,u.id=Me.getAttribute("id"),Me=u.id,e=B(),e.id=Me,e.userParams=u.userParams,e.url=u.url,e.type=u.type,e.state=1,R[Me]=e,Me=u}else Me=null;Me&&((u=Me.id)&&n.push(u),ae(r,Me))}},he=function(r,o,e){if(r&&r.nodeType===1&&o){if(e)return 1;if(X[o]){if(pb[r.nodeName.toLowerCase()])return(r=r.innerHTML)&&r.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")?0:1}else{if(Td[o])return 0;if(Sd[o])return 1}}return null},Qd=function(r,o){var e=o.type;delete o.type;var n=(typeof r=="string"?document.getElementById(r):r)||void 0;if(n){r={};for(var s in o)C(o,s)&&(r[s.toLowerCase()]=o[s]);r.rd=1,(o=!!r.ri)&&delete r.ri,s=[],be(e,n,r,s,0,o,void 0),ce(e,s)}else pc("gapi."+e+".render: missing element "+typeof r=="string"?r:"")};A(F,"platform",{}).go=Zd,$d=function(r){for(var o=["_c","jsl","h"],e=0;e<o.length&&r;e++)r=r[o[e]];return o=qb(La.href),!r||r.indexOf("n;")!=0&&o.indexOf("n;")!=0&&r!==o},ce=function(r,o){ie(r,o)};var lb=function(r){Yd(r,!0)},je=function(r,o){o=o||[];for(var e=0;e<o.length;++e)r(o[e]);for(r=0;r<o.length;r++)de(o[r])};N.push(["platform",function(r,o,e){if(Vd=e,o&&Ud.push(o),je(ee,r),je(fe,e._c.annotation),je(ge,e._c.bimodal),ic(),gc(),Q("parsetags")!="explicit"){if(rb(r),nc(mc())&&!Q("disableRealtimeCallback")&&rc(),e&&(r=e.callback)){var n=Ya(r);delete e.callback}nb(function(){lb(n)})}}]),F._pl=!0;var ke=function(r){if(r=(r=R[r])?r.oid:void 0,r){var o=z.getElementById(r);o&&o.parentNode.removeChild(o),delete R[r],ke(r)}},le=/^\{h:'/,me=/^!_/,ne="",ie=function(r,o){function e(){jb("message",n,"remove","de")}function n(c){var u=c.data,h=c.origin;if(oe(u,o)){var p=s;s=!1,p&&L("rqe"),pe(r,function(){p&&L("rqd"),e();for(var y=A(K,"RPMQ",[]),k=0;k<y.length;k++)y[k]({data:u,origin:h})})}}if(o.length!==0){ne=H(La.href,"pfname","");var s=!0;jb("message",n,"add","at"),ac(r,e)}},oe=function(r,o){if(r=String(r),le.test(r))return!0;var e=!1;if(me.test(r)&&(e=!0,r=r.substr(2)),!/^\{/.test(r))return!1;var n=Zc(r);if(!n)return!1;if(r=n.f,n.s&&r&&Oa.call(o,r)!=-1){if((n.s==="_renderstart"||n.s===ne+"/"+r+"::_renderstart")&&(n=n.a&&n.a[e?0:1],o=z.getElementById(r),tc(r,2),n&&o&&n.width&&n.height)){e:{if(e=o.parentNode,r=n||{},qc()){var s=o.id;if(s){if(n=(n=R[s])?n.state:void 0,n===1||n===4)break e;ke(s)}}(n=e.nextSibling)&&n.getAttribute&&n.getAttribute("data-gapistub")&&(e.parentNode.removeChild(n),e.style.cssText=""),n=r.width;var c=r.height,u=e.style;u.textIndent="0",u.margin="0",u.padding="0",u.background="transparent",u.borderStyle="none",u.cssFloat="none",u.styleFloat="none",u.lineHeight="normal",u.fontSize="1px",u.verticalAlign="baseline",e=e.style,e.display="inline-block",u=o.style,u.position="static",u.left="0",u.top="0",u.visibility="visible",n&&(e.width=u.width=n+"px"),c&&(e.height=u.height=c+"px"),r.verticalAlign&&(e.verticalAlign=r.verticalAlign),s&&tc(s,3)}o["data-csi-wdt"]=new Date().getTime()}return!0}return!1},pe=function(r,o){ac(r,o)},qe=function(r,o){this.L=r,r=o||{},this.fa=Number(r.maxAge)||0,this.U=r.domain,this.X=r.path,this.ga=!!r.secure};qe.prototype.read=function(){for(var r=this.L+"=",o=document.cookie.split(/;\s*/),e=0;e<o.length;++e){var n=o[e];if(n.indexOf(r)==0)return n.substr(r.length)}},qe.prototype.write=function(r,o){if(!re.test(this.L))throw"Invalid cookie name";if(!se.test(r))throw"Invalid cookie value";if(r=this.L+"="+r,this.U&&(r+=";domain="+this.U),this.X&&(r+=";path="+this.X),o=typeof o=="number"?o:this.fa,0<=o){var e=new Date;e.setSeconds(e.getSeconds()+o),r+=";expires="+e.toUTCString()}return this.ga&&(r+=";secure"),document.cookie=r,!0},qe.prototype.clear=function(){this.write("",0)};var se=/^[-+/_=.:|%&a-zA-Z0-9@]*$/,re=/^[A-Z_][A-Z0-9_]{0,63}$/;qe.iterate=function(r){for(var o=document.cookie.split(/;\s*/),e=0;e<o.length;++e){var n=o[e].split("="),s=n.shift();r(s,n.join("="))}};var te=function(r){this.B=r};te.prototype.read=function(){if(Y.hasOwnProperty(this.B))return Y[this.B]},te.prototype.write=function(r){return Y[this.B]=r,!0},te.prototype.clear=function(){delete Y[this.B]};var Y={};te.iterate=function(r){for(var o in Y)Y.hasOwnProperty(o)&&r(o,Y[o])};var ue=window.location.protocol==="https:",ve=ue||window.location.protocol==="http:"?qe:te,we=function(r){var o=r.substr(1),e="",n=window.location.hostname;if(o!==""){if(e=parseInt(o,10),isNaN(e)||(o=n.split("."),o.length<e-1))return null;o.length==e-1&&(n="."+n)}else n="";return{i:r.charAt(0)=="S",domain:n,l:e}},xe=function(){var r,o=null;return ve.iterate(function(e,n){e.indexOf("G_AUTHUSER_")===0&&(e=we(e.substring(11)),!r||e.i&&!r.i||e.i==r.i&&e.l>r.l)&&(r=e,o=n)}),{ea:r,F:o}},ye=function(r){if(r.indexOf("GCSC")!==0)return null;var o={W:!1};if(r=r.substr(4),!r)return o;var e=r.charAt(0);r=r.substr(1);var n=r.lastIndexOf("_");if(n==-1)return o;var s=we(r.substr(n+1));return s==null||(r=r.substring(0,n),r.charAt(0)!=="_")?o:(n=e==="E"&&s.i,!n&&(e!=="U"||s.i)||n&&!ue?o:{W:!0,i:n,ja:r.substr(1),domain:s.domain,l:s.l})},ze=function(r){return r?(r=r.split("="),r[1]?r[1].split("|"):[]):[]},Ae=function(r){return r=r.split(":"),{clientId:r[0].split("=")[1],ia:ze(r[1]),la:ze(r[2]),ka:ze(r[3])}},Be=function(){var r=xe(),o=r.ea;if(r=r.F,r!==null){var e;if(ve.iterate(function(c,u){(c=ye(c))&&c.W&&c.i==o.i&&c.l==o.l&&(e=u)}),e){var n=Ae(e),s=n&&n.ia[Number(r)];if(n=n&&n.clientId,s)return{F:r,ha:s,clientId:n}}}return null},Z=function(){this.T=Ce};Z.prototype.$=function(){this.K||(this.v=0,this.K=!0,this.Y())},Z.prototype.Y=function(){this.K&&(this.T()?this.v=this.R:this.v=Math.min(2*(this.v||this.R),120),window.setTimeout(na(this.Y,this),1e3*this.v))},Z.prototype.v=0,Z.prototype.R=2,Z.prototype.T=null,Z.prototype.K=!1;for(var De=0;64>De;++De);var Ee=null;qc=function(){return K.oa=!0},rc=function(){K.oa=!0;var r=Be();(r=r&&r.F)&&hc("googleapis.config/sessionIndex",r),Ee||(Ee=A(K,"ss",new Z)),r=Ee,r.$&&r.$()};var Ce=function(){var r=Be(),o=r&&r.ha||null,e=r&&r.clientId;return ac("auth",{callback:function(){var n=x.gapi.auth,s={client_id:e,session_state:o};n.checkSessionState(s,function(c){var u=s.session_state,h=Q("isLoggedIn");c=Q("debug/forceIm")?!1:u&&c||!u&&!c,(h=h!=c)&&(hc("isLoggedIn",c),rc(),Rd(),c||((c=n.signOut)?c():(c=n.setToken)&&c(null))),c=mc();var p=Q("savedUserState");u=n._guss(c.cookiepolicy),p=p!=u&&typeof p<"u",hc("savedUserState",u),(h||p)&&nc(c)&&!Q("disableRealtimeCallback")&&n._pimf(c,!0)})}}),!0};L("bs0",!0,window.gapi._bs),L("bs1",!0),delete window.gapi._bs}).call(void 0);var e8=Ai.load("",{callback:window.gapi_onload,_c:{jsl:{ci:{deviceType:"desktop","oauth-flow":{authUrl:"https://accounts.google.com/o/oauth2/auth",proxyUrl:"https://accounts.google.com/o/oauth2/postmessageRelay",disableOpt:!0,idpIframeUrl:"https://accounts.google.com/o/oauth2/iframe",usegapi:!1},debug:{reportExceptionRate:.05,forceIm:!1,rethrowException:!1,host:"https://apis.google.com"},enableMultilogin:!0,"googleapis.config":{auth:{useFirstPartyAuthV2:!0}},isPlusUser:!1,inline:{css:1},disableRealtimeCallback:!1,drive_share:{skipInitCommand:!0},csi:{rate:.01},client:{cors:!1},isLoggedIn:!0,signInDeprecation:{rate:0},include_granted_scopes:!0,llang:"pt",iframes:{youtube:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/youtube?usegapi=1",methods:["scroll","openwindow"]},ytsubscribe:{url:"https://www.youtube.com/subscribe_embed?usegapi=1"},plus_circle:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/plus/circle?usegapi=1"},plus_share:{params:{url:""},url:":socialhost:/:session_prefix::se:_/+1/sharebutton?plusShare=true&usegapi=1"},rbr_s:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarsimplescroller"},":source:":"3p",playemm:{url:"https://play.google.com/work/embedded/search?usegapi=1&usegapi=1"},savetoandroidpay:{url:"https://pay.google.com/gp/v/widget/save"},blogger:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/blogger?usegapi=1",methods:["scroll","openwindow"]},evwidget:{params:{url:""},url:":socialhost:/:session_prefix:_/events/widget?usegapi=1"},partnersbadge:{url:"https://www.gstatic.com/partners/badge/templates/badge.html?usegapi=1"},dataconnector:{url:"https://dataconnector.corp.google.com/:session_prefix:ui/widgetview?usegapi=1"},surveyoptin:{url:"https://www.google.com/shopping/customerreviews/optin?usegapi=1"},":socialhost:":"https://apis.google.com",shortlists:{url:""},hangout:{url:"https://talkgadget.google.com/:session_prefix:talkgadget/_/widget"},plus_followers:{params:{url:""},url:":socialhost:/_/im/_/widget/render/plus/followers?usegapi=1"},post:{params:{url:""},url:":socialhost:/:session_prefix::im_prefix:_/widget/render/post?usegapi=1"},":gplus_url:":"https://plus.google.com",signin:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/signin?usegapi=1",methods:["onauth"]},rbr_i:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarinvitation"},share:{url:":socialhost:/:session_prefix::im_prefix:_/widget/render/share?usegapi=1"},plusone:{params:{count:"",size:"",url:""},url:":socialhost:/:session_prefix::se:_/+1/fastbutton?usegapi=1"},comments:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/comments?usegapi=1",methods:["scroll","openwindow"]},":im_socialhost:":"https://plus.googleapis.com",backdrop:{url:"https://clients3.google.com/cast/chromecast/home/widget/backdrop?usegapi=1"},visibility:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/visibility?usegapi=1"},autocomplete:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/autocomplete"},additnow:{url:"https://apis.google.com/marketplace/button?usegapi=1",methods:["launchurl"]},":signuphost:":"https://plus.google.com",ratingbadge:{url:"https://www.google.com/shopping/customerreviews/badge?usegapi=1"},appcirclepicker:{url:":socialhost:/:session_prefix:_/widget/render/appcirclepicker"},follow:{url:":socialhost:/:session_prefix:_/widget/render/follow?usegapi=1"},community:{url:":ctx_socialhost:/:session_prefix::im_prefix:_/widget/render/community?usegapi=1"},sharetoclassroom:{url:"https://classroom.google.com/sharewidget?usegapi=1"},ytshare:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/ytshare?usegapi=1"},plus:{url:":socialhost:/:session_prefix:_/widget/render/badge?usegapi=1"},family_creation:{params:{url:""},url:"https://families.google.com/webcreation?usegapi=1&usegapi=1"},commentcount:{url:":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi=1"},configurator:{url:":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi=1"},zoomableimage:{url:"https://ssl.gstatic.com/microscope/embed/"},appfinder:{url:"https://workspace.google.com/:session_prefix:marketplace/appfinder?usegapi=1"},savetowallet:{url:"https://pay.google.com/gp/v/widget/save"},person:{url:":socialhost:/:session_prefix:_/widget/render/person?usegapi=1"},savetodrive:{url:"https://drive.google.com/savetodrivebutton?usegapi=1",methods:["save"]},page:{url:":socialhost:/:session_prefix:_/widget/render/page?usegapi=1"},card:{url:":socialhost:/:session_prefix:_/hovercard/card"}}},h:"m;/_/scs/apps-static/_/js/k=oz.gapi.pt_BR.l4Bv_WkVC6g.O/am=wQE/d=1/ct=zgms/rs=AGLTcCOuH5S2uqmF6E8zOW7n3yiqiwhzNQ/m=__features__",u:"https://apis.google.com/js/platform.js",hee:!0,fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",dpo:!1},platform:["additnow","backdrop","blogger","comments","commentcount","community","donation","family_creation","follow","hangout","health","page","partnersbadge","person","playemm","playreview","plus","plusone","post","ratingbadge","savetoandroidpay","savetodrive","savetowallet","sharetoclassroom","shortlists","signin2","surveyoptin","visibility","youtube","ytsubscribe","zoomableimage"],fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",annotation:["interactivepost","recobar","signin2","autocomplete","profile"],bimodal:["signin","share"]}});var Bo=class{static TRANSACTION_TYPE_INCOME="income";static TRANSACTION_TYPE_EXPENSE="expense";static ACCOUNT_BILLETERA="Billetera"};var Sf=class{getTransaction(o,e){e||(e=this.generateUniqueId());let n=/[Cc]ompraste\s+COP([\d,.]+)\s+en\s+([\w\s*]+)\s+con\s+tu\s+T\.Cred\s+\*{1,2}([\d]{4}),\s+el\s+(([\d/]+)\s+a\s+las\s+([\d:]+)|([\d:]+)\s+a\s+las\s+([\d/]+))/i,s=/[Cc]ompra\s+por\s+COP([\d,.]+)\s+en\s+([\w\s*]+)\s+(\d{2}:\d{2})\.\s+([\d/]+)\s+T\.Cred\s+\*([\d]{4})/i,c=/[Cc]ompra\s+por\s+\$([\d,.]+)\s+en\s+([\w\s*]+)\s+(\d{2}:\d{2})\.\s+([\d/]+)\s+T\.Cred\s+\*([\d]{4})/i,u=/[Tt]ransferiste\s+\$([\d,.]+)\s+desde\s+tu\s+cuenta\s+\*(\d+)\s+a\s+la\s+cuenta\s+(\*\d+)\s+el\s+([\d/]+)\s+a\s+las\s+([\d:]+)/i,h=/[Tt]ransferiste\s+\$([\d,.]+)\s+de\s+tu\s+cuenta\s+\*\*(\d+)\s+la\s+cuenta\s+\*(\d+),\s+el\s+([\d\/]+)\s+([\d:]+)/i,p=/[Tt]ransferencia\s+por\s+\$([\d,.]+)\s+desde\s+cta\s+\*(\d+)\s+a\s+cta\s+(\d+)\.\s+([\d\/]+)\s+(\d{2}:\d{2})/i,y=/[Cc]ompraste\s+COP([\d.,]+)\s+en\s+([\w\s\/\.]+)\s+con\s+tu\s+T\.Cred\s+\*{1,2}([\d]{4}),\s+el\s+([\d\/]+)\s+a\s+las\s+([\d:]+)/i,k=/[Cc]ompraste\s+COP([\d.,]+)\s+en\s+([^\s,]+(?:\s[^\s,]+)*),\s+el\s+([\d:]+)\s+a\s+las\s+([\d\/]+)\.\s+Esta\s+compra\s+esta\s+asociada\s+a\s+T\.Cred\s+\*([\d]{4})\./i,G=/[Cc]ompraste\s+\$([\d.,]+)\s+en\s+([^\s,]+(?:\s[^\s,]+)*)\s+con\s+tu\s+T\.Deb\s+\*([\d]{4}),\s+el\s+([\d\/]+)\s+a\s+las\s+([\d:]+)/i,$=/[Tt]ransferiste\s+\$([\d.,]+)\s+por\s+([\w\s]+)\s+a\s+([\w\s]+)\s+desde\s+producto\s+\*([\d]{4})\.\s+([\d\/]+)\s+([\d:]+)/i,Me=/[Pp]ago\s+[Pp]ROVEEDOR\s+de\s+([\w\s]+)\s+por\s+\$([\d,.]+)\s+en\s+su\s+[Cc]uenta\s+[Aa]horros.\s+(\d{2}:\d{2})\s+([\d\/]+)/i,Re=/[Bb]ancolombia le informa que\s+([\w\s]+)\s+realizo\s+abono\s+a\s+su\s+T\.Cred\*(\d{4})\s+por\s+\$([\d,.]+)\.\s+([\d/]+)\s+(\d{2}:\d{2})/i,Ke=/[Rr]ecepcion de pago de ([\w\s]+) por \$([\d,.]+) en su cuenta AHORROS (\d{2}:\d{2}) ([\d\/]+)/i,He=/[Rr]ecibiste\s+un\s+pago\s+por\s+\$([\d.,]+)\s+de\s+([\w\s]+)\s+a\s+tu\s+cuenta\s+([A-Z]+),\s+el\s+([\d:]+)\s+a\s+las\s+([\d\/]+)/i,Ie=/[Rr]ealizaste\s+una\s+transferencia\s+con\s+QR\s+por\s+\$([\d,.]+),\s+desde\s+cta\s+(\d+)\s+a\s+cta\s+([\w\s]+)\.\s+([\d\/]+)\s+(\d{2}:\d{2})/i,Pe=/[Tt]ransferiste\s+\$([\d.,]+)\s+por\s+QR\s+desde\s+tu\s+cuenta\s+(\d+)\s+a\s+la\s+cuenta\s+(\d+),\s+el\s+([\d\/]+)\s+([\d:]+)\./i,Xe=/[Rr]ecepcion\s+transferencia\s+de\s+([\w\s]+)\s+por\s+\$([\d,.]+)\s+en\s+la\s+cuenta\s+(\*\d+)\.\s*(\d{2}\/\d{2}\/\d{4})\s+(\d{2}:\d{2})/i,Ne=/[Rr]ecibiste\s+una\s+transferencia\s+por\s+\$([\d.,]+)\s+de\s+([\w\s]+)\s+en\s+tu\s+cuenta\s+\*\*([\d]{4}),\s+el\s+([\d\/]+)\s+a\s+las\s+([\d:]+)/i,Ge=/[Rr]ecibiste\s+un\s+pago\s+([A-Z]+)\s+de\s+([\w\s]+)\s+por\s+\$([\d.,]+)\s+en\s+tu\s+cuenta\s+de\s+([A-Z]+)\s+el\s+([\d\/]+)\s+a\s+las\s+([\d:]+)/i,Ve=/[Pp]ago\s+de\s+Nomina\s+de\s+([\w\s]+)\s+por\s+\$([\d,.]+)\s+en\s+su\s+Cuenta\s+Ahorros.\s+([\d:]+)\s+([\d/]+)/i,Oe=/[Pp]ago de [Nn]omina de ([\w\s]+) por \$([\d,.]+) en tu cuenta \*([\w]+) el (\d{2}:\d{2}) a las ([\d\/]+)/i,Ue=/[Pp]ago de [Nn]omina de ([\w\s]+) por \$([\d,.]+) en tu cuenta(?: de)? Ahorros el ([\d/]+) a las (\d{2}:?)/i,tt=/[Rr]etiraste\s+\$([\d,.]+)\s+en\s+([\w\s*]+)\s+de\s+tu\s+T\.Deb\s+\*\*([\d]{4})\s+el\s+([\d/]+)\s+a\s+las\s+([\d:]+)/i,bt=/[Rr]etiro\s+por\s+\$([\d,.]+)\s+en\s+([\w_]+)\.\s+Hora\s+(\d{2}:\d{2})\s+([\d\/]+)\s+T\.Deb\s+\*(\d{4})/i,lt=/[Pp]agaste\s+\$([\d,.]+)\s+a\s+([\w\s]+)\s+desde\s+tu\s+producto\s+(\*\d+)\s+el\s+([\d\/]+)\s+(\d{2}:\d{2})/i,mt=/[Pp]agaste \$([\d,.]+) a ([\w\s]+) desde tu producto (\d+) el ([\d/]+) (\d{2}:\d{2}:\d{2})/i,ut=/[Cc]ompra por COP([\d,.]+)\s+en\s+([\w\/.]+)\s+(\d{2}:\d{2})\.\s+([\d\/]+)\s+compra\s+afiliada\s+a\s+T\.Cred\s+\*([\d]{4})/i,ht=/[Cc]ompra\s+por\s+\$([\d,.]+)\s+en\s+([\w\/.]+)\s+(\d{2}:\d{2})\.\s+([\d\/]+)\s+compra\s+afiliada\s+a\s+T\.Cred\s+\*(\d{4})/i,Ct=/[Cc]ompra\s+por\s+COP([\d,.]+)\s+en\s+([\w\s*]+)\s+(\d{2}:\d{2})\.\s+([\d/]+)\s+compra\s+afiliada\s+a\s+T\.Cred\s+\*([\d]{4})/i,It=/[Rr]ecibiras \$(\d{1,3}(?:\.\d{3})*,\d{2}) en (\d+) dias habiles en tu Tarjeta Credito \*\*(\d{4}) por parte de ([\w\s]+?)\. (\d{2}):(\d{2}) (\d{2})\/(\d{2})\/(\d{4})/,Ft=/[Nn]otificacin [Tt]ransaccional.*Pago\s+de\s+Tarjeta\s+de\s+Credito\s+por\s+\$([\d,.]+)\s+desde\s+cta\s+\*(\d+)\s+a\s+la\s+tarjeta\s+\*(\d+).\s+([\d/]+)\s+(\d{2}:\d{2})/i,At=/[Pp]agaste\s+\$([\d.,]+)\s+en\s+la\s+tarjeta\s+de\s+credito\s+\*([\d]{4})\s+desde\s+la\s+cuenta\s+\*(\d+),\s+el\s+([\d\/]+)\s+([\d:]+)\./i,Dt=/[Rr]etiro\s+en\s+[Cc]orresponsal\s+([\w\s]+)\s+en\s+([\w\s]+)\s+por\s+\$([\d.,]+)\s+el\s+([\d\/]+)\s+a\s+las\s+([\d:]+)/i,Rt=/([A-Z\s]+)\s+hizo\s+un\s+abono\s+por\s+\$([\d.,]+)\s+a\s+tu\s+tarjeta\s+de\s+credito\s+terminada\s+en\s+\*\*(\d{4}),\s+el\s+([\d\/]+)\s+([\d:]+)/i,at="expense",Ze="",vt=0,St=new Date,$t="",qt="",gt="";if(n.test(o)){at=Bo.TRANSACTION_TYPE_EXPENSE;let st=o.match(n);st&&(vt=this.parseAmount(st[1]),$t=`Compra en ${st[2]}`,Ze=`*${st[3]}`,st[5]?St=this.parseDateTime(st[5],st[6]):St=this.parseDateTime(st[8],st[7]))}else if(G.test(o)){at=Bo.TRANSACTION_TYPE_EXPENSE;let st=o.match(G);st&&(vt=this.parseAmount(st[1]),$t=`Compra en ${st[2]}`,Ze=`*${st[3]}`,St=this.parseDateTime(st[4],st[5]))}else if(s.test(o)){let st=o.match(s);st&&(at=Bo.TRANSACTION_TYPE_EXPENSE,vt=this.parseAmount(st[1]),$t=`Compra en ${st[2]}`,St=this.parseDateTime(st[4],st[3]),Ze=`*${st[5]}`)}else if(c.test(o)){let st=o.match(c);st&&(at=Bo.TRANSACTION_TYPE_EXPENSE,vt=this.parseAmount(st[1]),$t=`Compra en ${st[2]}`,St=this.parseDateTime(st[4],st[3]),Ze=`*${st[5]}`)}else if(u.test(o)){at=Bo.TRANSACTION_TYPE_EXPENSE;let st=o.match(u);st&&(vt=this.parseAmount(st[1],1),Ze=`*${st[2]}`,gt=st[3],$t=`Transferencia a la cuenta ${gt}`,St=this.parseDateTime(st[4],st[5]))}else if(h.test(o)){at=Bo.TRANSACTION_TYPE_EXPENSE;let st=o.match(h);st&&(vt=this.parseAmount(st[1],1),Ze=`*${st[2]}`,gt=st[3],$t=`Transferencia a la cuenta ${gt}`,St=this.parseDateTime(st[4],st[5]))}else if(Ie.test(o)){at=Bo.TRANSACTION_TYPE_EXPENSE;let st=o.match(Ie);st&&(vt=this.parseAmount(st[1]),Ze=`*${st[2]}`,gt=st[3],$t=`Transferencia con QR a la cuenta ${gt}`,St=this.parseDateTime(st[4],st[5]))}else if(Pe.test(o)){at=Bo.TRANSACTION_TYPE_EXPENSE;let st=o.match(Pe);st&&(vt=this.parseAmount(st[1]),Ze=`*${st[2]}`,gt=st[3],$t=`Transferencia con QR a la cuenta ${gt}`,St=this.parseDateTime(st[4],st[5]))}else if(Xe.test(o)){at=Bo.TRANSACTION_TYPE_INCOME;let st=o.match(Xe);st&&($t=`Transferencia de ${st[1].trim()}`,vt=this.parseAmount(st[2],1),Ze=st[3],St=this.parseDateTime(st[4],st[5]))}else if(Ne.test(o)){let st=o.match(Ne);if(at=Bo.TRANSACTION_TYPE_INCOME,st){let hr=st[1],Ht=st[2],xt=st[3],Ut=st[4],rr=st[5];Ze=xt,$t=`Transferencia recibida de ${Ht} a tu cuenta *${xt}`,vt=this.parseAmount(hr),St=this.parseDateTime(Ut,rr)}}else if(Ve.test(o)){at=Bo.TRANSACTION_TYPE_INCOME;let st=o.match(Ve);st&&($t=`Pago de n\xF3mina de ${st[1]}`,vt=this.parseAmount(st[2]),St=this.parseDateTime(st[4],st[3]))}else if(Oe.test(o)){at=Bo.TRANSACTION_TYPE_INCOME;let st=o.match(Oe);st&&($t=`Pago de n\xF3mina de ${st[1]}`,vt=this.parseAmount(st[2]),St=this.parseDateTime(st[5],st[4]))}else if(Ue.test(o)){at=Bo.TRANSACTION_TYPE_INCOME;let st=o.match(Ue);if(st){let hr=st[1],Ht=st[2],xt=st[3],Ut=st[4];$t=`Pago de n\xF3mina de ${hr}`,vt=this.parseAmount(Ht),St=this.parseDateTime(xt,Ut)}}else if(tt.test(o)){at=Bo.TRANSACTION_TYPE_EXPENSE;let st=o.match(tt);st&&(vt=this.parseAmount(st[1]),$t=`Retiraste en ${st[2]}`,Ze=`*${st[3]}`,St=this.parseDateTime(st[4],st[5]),gt=Bo.ACCOUNT_BILLETERA)}else if(lt.test(o)){at=Bo.TRANSACTION_TYPE_EXPENSE;let st=o.match(lt);st&&(vt=this.parseAmount(st[1]),$t=`Pago a ${st[2]}`,Ze=st[3],St=this.parseDateTime(st[4],st[5]))}else if(mt.test(o)){at=Bo.TRANSACTION_TYPE_EXPENSE;let st=o.match(mt);st&&(vt=this.parseAmount(st[1]),$t=`Pago a ${st[2]}`,Ze=st[3],St=this.parseDateTime(st[4],st[5]))}else if(ut.test(o)){at=Bo.TRANSACTION_TYPE_EXPENSE;let st=o.match(ut);st&&(vt=this.parseAmount(st[1]),$t=`Compra en ${st[2]}`,Ze=`*${st[5]}`,St=this.parseDateTime(st[4],st[3]))}else if(ht.test(o)){at=Bo.TRANSACTION_TYPE_EXPENSE;let st=o.match(ht);st&&(vt=this.parseAmount(st[1]),$t=`Compra en ${st[2]}`,Ze=`*${st[5]}`,St=this.parseDateTime(st[4],st[3]))}else if(Ct.test(o)){let st=o.match(Ct);st&&(at=Bo.TRANSACTION_TYPE_EXPENSE,vt=this.parseAmount(st[1]),$t=`Compra en ${st[2]}`,St=this.parseDateTime(st[4],st[3]),Ze=`*${st[5]}`)}else if(It.test(o)){at=Bo.TRANSACTION_TYPE_INCOME;let st=o.match(It);st&&(vt=this.parseAmount(st[1]),Ze=`*${st[3]}`,$t=`Recibir\xE1s en tu Tarjeta de Cr\xE9dito por parte de ${st[4].trim()}`,St=this.parseDateTime(`${st[7]}/${st[8]}/${st[9]}`,`${st[5]}:${st[6]}`))}else if(Ft.test(o)){at=Bo.TRANSACTION_TYPE_EXPENSE;let st=o.match(Ft);st&&(vt=this.parseAmount(st[1]),Ze=`*${st[2]}`,gt=`*${st[3]}`,$t=`Pago de T.Cred Nro ${gt}`,St=this.parseDateTime(st[4],st[5]))}else if(At.test(o)){at=Bo.TRANSACTION_TYPE_EXPENSE;let st=o.match(At);if(st){let hr=st[1],Ht=st[2];Ze=st[3];let xt=st[4],Ut=st[5];gt=Ht,$t=`Pago de T.Cred Nro ${Ht}`,vt=this.parseAmount(hr),St=this.parseDateTime(xt,Ut)}}else if(bt.test(o)){at=Bo.TRANSACTION_TYPE_EXPENSE;let st=o.match(bt);st&&(vt=this.parseAmount(st[1]),$t=`Retiro en ${st[2]}`,St=this.parseDateTime(st[4],st[3]),Ze=`*${st[5]}`,gt=Bo.ACCOUNT_BILLETERA)}else if(p.test(o)){at=Bo.TRANSACTION_TYPE_EXPENSE;let st=o.match(p);st&&(vt=this.parseAmount(st[1],1),Ze=`*${st[2]}`,gt=`*${st[3]}`,$t=`Transferencia a la cuenta ${gt}`,St=this.parseDateTime(st[4],st[5]))}else if(Me.test(o)){at=Bo.TRANSACTION_TYPE_INCOME;let st=o.match(Me);st&&($t=`Pago PROVEEDOR de ${st[1]}`,vt=this.parseAmount(st[2]),Ze="",St=this.parseDateTime(st[4],st[3]))}else if(Re.test(o)){let st=o.match(Re);st&&(at=Bo.TRANSACTION_TYPE_INCOME,vt=this.parseAmount(st[3]),$t=`Abono realizado por ${st[1].trim()}`,Ze=`*${st[2]}`,St=this.parseDateTime(st[4],st[5]))}else if(y.test(o)){let st=o.match(y);st&&(at=Bo.TRANSACTION_TYPE_EXPENSE,vt=this.parseAmount(st[1]),$t=`Compra en ${st[2]}`,Ze=`*${st[3]}`,St=this.parseDateTime(st[4],st[5]))}else if(k.test(o)){let st=o.match(k);if(st){at=Bo.TRANSACTION_TYPE_EXPENSE;let hr=st[1],Ht=st[2],xt=st[4],Ut=st[3];Ze=st[5],$t=`Compra en ${Ht}`,vt=this.parseAmount(hr),St=this.parseDateTime(xt,Ut)}}else if(Ke.test(o)){at=Bo.TRANSACTION_TYPE_INCOME;let st=o.match(Ke);if(st){let hr=st[1],Ht=st[2],xt=st[3],Ut=st[4];$t=`Recepci\xF3n de pago de ${hr}`,vt=this.parseAmount(Ht),St=this.parseDateTime(Ut,xt)}}else if($.test(o)){let st=o.match($);if(st){let hr=st[1],Ht=st[2],xt=st[3],Ut=st[4],rr=st[5],nr=st[6];Ze=Ut,$t=`Transferencia por ${Ht} a ${xt} desde *${Ut}`,vt=this.parseAmount(hr),St=this.parseDateTime(rr,nr)}}else if(Dt.test(o)){let st=o.match(Dt);if(st){let hr=st[1],Ht=st[2],xt=st[3],Ut=st[4],rr=st[5];$t=`Retiro en corresponsal ${hr} ubicado en ${Ht}`,vt=this.parseAmount(xt),St=this.parseDateTime(Ut,rr),gt=Bo.ACCOUNT_BILLETERA}}else if(He.test(o)){at=Bo.TRANSACTION_TYPE_INCOME;let st=o.match(He);if(st){let hr=st[1],Ht=st[2],xt=st[3],Ut=st[4],rr=st[5];$t=`Pago de ${Ht} en cuenta ${xt}`,vt=this.parseAmount(hr),St=this.parseDateTime(rr,Ut)}}else if(Ge.test(o)){let st=o.match(Ge);if(at=Bo.TRANSACTION_TYPE_INCOME,st){let hr=st[1],Ht=st[2],xt=st[3],Ut=st[4],rr=st[5],nr=st[6];$t=`Pago de ${Ht} en cuenta ${Ut}`,vt=this.parseAmount(xt),St=this.parseDateTime(rr,nr)}}else if(Rt.test(o)){let st=o.match(Rt);if(at=Bo.TRANSACTION_TYPE_INCOME,st){let hr=st[1],Ht=st[2];Ze=st[3];let xt=st[4],Ut=st[5];$t=`Abono realizado por ${hr}`,vt=this.parseAmount(Ht),St=this.parseDateTime(xt,Ut)}}return at===Bo.TRANSACTION_TYPE_EXPENSE&&vt>0&&(vt=-vt),Ze=Ze.replace(/\*/g,""),gt=gt.replace(/\*/g,""),{id:e,accountId:"",originalAccount:Ze,amount:vt,date:St,categoryId:qt,description:$t,type:at,originalBody:o,targetAccountId:gt,canProcessed:!!$t,isProcessed:!1}}createTransactionIfIsTranfer(o){if(o.targetAccountId){o.transactionId=o.id;let e=Vt({},o);return o.id=this.generateUniqueId(),e.id=this.generateUniqueId(),e.accountId=o.accountId?o.targetAccountId:"",e.originalAccount=o.targetAccountId,e.targetAccountId=o.originalAccount,e.isProcessed=!1,e.description=`Transf. Automatica: ${e.description}`,e.type=Bo.TRANSACTION_TYPE_INCOME,e.amount=e.amount*-1,e}return null}parseAmount(o,e=100){return o.includes(".")&&o.includes(",")?parseFloat(o.replace(/[,.]/g,""))/e:parseFloat(o.split(".")[0])}parseDateTime(o,e="00:00"){let n,s,c,[u,h]=e.split(":").map(Number);if(o.includes("/")){let y=o.split("/");y[0].length===4?[c,s,n]=y.map(Number):[n,s,c]=y.map(Number),c<100&&(c+=2e3)}else return new Date;let p=new Date(Date.UTC(c,s-1,n,u+5,h));return p.setUTCHours(p.getUTCHours()),p}generateUniqueId(){return"_"+Math.random().toString(36).substr(2,9)}};var Zu=class r{constructor(o){this.messageService=o}success(o,e){this.messageService.add({severity:"success",summary:e,detail:o})}error(o,e){this.messageService.add({severity:"error",summary:e,detail:o})}info(o,e){this.messageService.add({severity:"info",summary:e,detail:o})}warning(o,e){this.messageService.add({severity:"warn",summary:e,detail:o})}static \u0275fac=function(e){return new(e||r)(Ao(Hu))};static \u0275prov=jr({token:r,factory:r.\u0275fac,providedIn:"root"})};var ep=class r{constructor(o){this.toastr=o;this.loadGapiClient()}static isGettingEmail=!1;static gettingEmailPromise;CLIENT_ID="746365364970-d423bo7481d242h1hrbs31p2q3tbsusd.apps.googleusercontent.com";API_KEY="TU_API_KEY";SCOPES="https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/gmail.readonly";DISCOVERY_DOCS=["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest","https://www.googleapis.com/discovery/v1/apis/gmail/v1/rest"];get FOLDER_NAME(){return window.location.hostname=="localhost"?"business-control-test":"business-control"}get FOLDER_NAME_ACCOUNT_CONTROL(){return window.location.hostname=="localhost"?"account-control-test":"account-control"}config;configData;countGetConfig=0;countGetSettingData=0;signOut(){Ai.auth2.getAuthInstance().signOut()}gapiLoaded$=new es(!1);loadGapiClient(){try{return new Promise((o,e)=>{Ai.load("client:auth2",()=>ot(this,null,function*(){yield Ai.client.load("gmail","v1"),Ai.client.init({clientId:this.CLIENT_ID,discoveryDocs:this.DISCOVERY_DOCS,scope:this.SCOPES}).then(()=>{this.gapiLoaded$.next(!0),o()}).catch(n=>{this.toastr.error("Error al inicializar Google Drive"+JSON.stringify(n),"Business Control!"),this.gapiLoaded$.next(!1),e(n)})}))})}catch(o){return this.toastr.error("Control de error al inicializar Google Drive: "+JSON.stringify(o),"Business Control!"),Promise.reject(o)}}signIn(){return ot(this,null,function*(){try{if(this.gapiLoaded$.getValue()||(yield this.loadGapiClient()),!this.gapiLoaded$.getValue())return;let o=yield Ai.auth2.getAuthInstance().signIn();return yield this.getConfigFromUser(),{data:this.config,user:{email:o.getBasicProfile().getEmail(),username:o.getBasicProfile().getName()}}}catch(o){this.toastr.error("Control de error en login: "+JSON.stringify(o),"Business Control!");return}})}signInForAccountControl(){return ot(this,null,function*(){try{if(this.gapiLoaded$.getValue()||(yield this.loadGapiClient()),!this.gapiLoaded$.getValue())return;let o=yield Ai.auth2.getAuthInstance().signIn();return yield this.getSettingDataFromUser(),{data:this.configData,user:{email:o.getBasicProfile().getEmail(),username:o.getBasicProfile().getName()}}}catch(o){this.toastr.error("Control de error en login: "+JSON.stringify(o),"Business Control!");return}})}getConfigFromUser(){return ot(this,null,function*(){if(!this.config&&this.countGetConfig==0){let o=yield this.downloadFirstJsonFileFromBusinessControlFolder(this.FOLDER_NAME);this.config=o?JSON.parse(o):void 0,this.config&&this.config.ultimaModificacion&&(this.config.ultimaModificacion=new Date(this.config.ultimaModificacion))}this.countGetConfig++})}getSettingDataFromUser(){return ot(this,null,function*(){if(console.log("getSettingDataFromUser",this.countGetSettingData),!this.configData&&this.countGetSettingData==0){let o=yield this.downloadFirstJsonFileFromBusinessControlFolder(this.FOLDER_NAME_ACCOUNT_CONTROL);this.configData=o?JSON.parse(o):void 0,this.configData&&this.configData.lastSync&&(this.configData.lastSync=new Date(this.configData.lastSync))}this.countGetSettingData++})}getUser(){return ot(this,null,function*(){if(this.gapiLoaded$.getValue()||(yield this.loadGapiClient()),this.gapiLoaded$.getValue()){let o=Ai.auth2.getAuthInstance().currentUser.get();if(o.isSignedIn())return yield this.getConfigFromUser(),{data:this.config,user:{email:o.getBasicProfile().getEmail(),username:o.getBasicProfile().getName()}}}})}getUserForAccountControl(){return ot(this,null,function*(){if(this.gapiLoaded$.getValue()||(yield this.loadGapiClient()),this.gapiLoaded$.getValue()){let o=Ai.auth2.getAuthInstance().currentUser.get();if(o.isSignedIn())return yield this.getSettingDataFromUser(),{data:this.configData,user:{email:o.getBasicProfile().getEmail(),username:o.getBasicProfile().getName()}}}})}isUserLogged(){return ot(this,null,function*(){return this.gapiLoaded$.getValue()||(yield this.loadGapiClient()),this.gapiLoaded$.getValue()?Ai.auth2.getAuthInstance().currentUser.get().isSignedIn():!1})}uploadBlobToFolder(o,e,n,s){let c={name:e,mimeType:o.type,parents:[n]},u=new FormData;return u.append("metadata",new Blob([JSON.stringify(c)],{type:"application/json"})),u.append("file",o),fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",headers:{Authorization:`Bearer ${s}`},body:u}).then(h=>h.json()).then(h=>{this.toastr.success("Informaci\xF3n creada exitosamente:"+JSON.stringify(h),"Business Control!")}).catch(h=>{this.toastr.error("Error al subir el archivo:"+JSON.stringify(h),"Business Control!")})}findFileInFolder(o,e,n){return fetch(`https://www.googleapis.com/drive/v3/files?q='${e}' in parents and name='${o}' and trashed=false`,{method:"GET",headers:{Authorization:`Bearer ${n}`,Accept:"application/json"}}).then(s=>s.json()).then(s=>{let c=s.files;return c&&c.length>0?c[0].id:null})}updateFile(o,e,n){let s={mimeType:e.type},c=new FormData;return c.append("metadata",new Blob([JSON.stringify(s)],{type:"application/json"})),c.append("file",e),fetch(`https://www.googleapis.com/upload/drive/v3/files/${o}?uploadType=multipart`,{method:"PATCH",headers:{Authorization:`Bearer ${n}`},body:c}).then(u=>u.json()).then(u=>{this.toastr.success("Informaci\xF3n actualizada exitosamente: "+u.name,"Business Control!")}).catch(u=>{this.toastr.error("Error al actualizar el archivo:"+JSON.stringify(u),"Business Control!")})}uploadFileWithFolderDetection(o,e,n=!1){return ot(this,null,function*(){let s=n?this.FOLDER_NAME_ACCOUNT_CONTROL:this.FOLDER_NAME,c=Ai.auth2.getAuthInstance().currentUser.get().getAuthResponse().access_token;yield this.findFolderByName(s,c).then(u=>u?this.findFileInFolder(e,u,c).then(h=>h?(this.toastr.info("Actualizando informaci\xF3n...","Business Control!"),this.updateFile(h,o,c)):(this.toastr.warning("Archivo no encontrado, subiendo nuevo archivo...","Business Control!"),this.uploadBlobToFolder(o,e,u,c))):(this.toastr.warning("Carpeta no encontrada, creando nueva carpeta...","Business Control!"),this.createFolder(s,c).then(h=>(this.toastr.info("Nueva carpeta creada, ID:"+h,"Business Control!"),this.uploadBlobToFolder(o,e,h,c))))).catch(u=>{this.toastr.error("Error al manejar el archivo:"+JSON.stringify(u),"Business Control!")})})}findFolderByName(o,e){return fetch(`https://www.googleapis.com/drive/v3/files?q=mimeType='application/vnd.google-apps.folder' and name='${o}' and trashed=false`,{method:"GET",headers:{Authorization:`Bearer ${e}`,Accept:"application/json"}}).then(n=>n.json()).then(n=>{let s=n.files;return s&&s.length>0?s[0].id:null})}createFolder(o,e){let n={name:o,mimeType:"application/vnd.google-apps.folder"};return fetch("https://www.googleapis.com/drive/v3/files",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(n)}).then(s=>s.json()).then(s=>s.id)}downloadFirstJsonFileFromBusinessControlFolder(o){return ot(this,null,function*(){let e=Ai.auth2.getAuthInstance().currentUser.get().getAuthResponse().access_token;try{let n=yield this.findFolderByName(o,e);if(!n)return this.toastr.warning("Carpeta no encontrada","Business Control!"),null;let s=yield this.findFirstJsonFileInFolder(n,e);return s?this.downloadFileContent(s,e):(this.toastr.warning("Archivo .json no encontrado en la carpeta","Business Control!"),null)}catch(n){return this.toastr.info("Error al descargar el archivo:"+JSON.stringify(n),"Business Control!"),null}})}findFirstJsonFileInFolder(o,e){return fetch(`https://www.googleapis.com/drive/v3/files?q='${o}' in parents and trashed=false`,{method:"GET",headers:{Authorization:`Bearer ${e}`,Accept:"application/json"}}).then(n=>n.json()).then(n=>{let s=n.files;if(s&&s.length>0){let c=s.filter(u=>u.name.endsWith(".json"));if(c.length>0)return c[0].id}return null})}downloadFileContent(o,e){return fetch(`https://www.googleapis.com/drive/v3/files/${o}?alt=media`,{method:"GET",headers:{Authorization:`Bearer ${e}`}}).then(n=>n.text())}getNewEmailsSince(n){return ot(this,arguments,function*(o,e=["alertasynotificaciones@notificacionesbancolombia.com","alertasynotificaciones@bancolombia.com.co"]){console.log("Consultando emails",o,e);let s=Ai.auth2.getAuthInstance().currentUser.get().getAuthResponse().access_token,c=o.toISOString(),u=Ai.client.gmail,h=e.map(p=>{let y=`from:${p} after:${Math.floor(new Date(c).getTime()/1e3)}`;return u.users.messages.list({userId:"me",q:y})});try{let y=(yield Promise.all(h)).reduce((k,G)=>{let $=G.result.messages||[];return k.concat($.map(Me=>Me.id))},[]);return y.length>0?yield this.fetchEmailDetails(y):(this.toastr.info("No se encontraron correos electr\xF3nicos nuevos desde la fecha especificada.","Business Control!"),[])}catch(p){return this.toastr.info("Error al consultar los correos electr\xF3nicos:"+JSON.stringify(p),"Business Control!"),[]}})}fetchEmailDetails(o){return ot(this,null,function*(){let e=[],n=Ai.client.gmail;for(let s of o){let c=yield n.users.messages.get({userId:"me",id:s});e.push(c.result)}return e})}processEmailsForTransactions(o){let e=[],n=new Sf;return o.forEach(s=>{let c=this.getEmailBody(s),u=this.getIdEmail(s),h=n.getTransaction(c,u);e.push(h)}),e}getIdEmail(o){return o.id}getEmailBody(o){return o.snippet}getTransactionsSince(o){return ot(this,null,function*(){try{console.log("getTransactionsSince",o),r.isGettingEmail||(r.gettingEmailPromise=this.getNewEmailsSince(o)),r.isGettingEmail=!0;let e=yield r.gettingEmailPromise;return r.isGettingEmail=!1,e.length===0?[]:this.processEmailsForTransactions(e)}catch(e){return console.error(e),this.toastr.error("Error al obtener transacciones: "+JSON.stringify(e),"Business Control!"),[]}})}static \u0275fac=function(e){return new(e||r)(Ao(Zu))};static \u0275prov=jr({token:r,factory:r.\u0275fac,providedIn:"root"})};var $v=OD(g5());var Xx=class r{secretKey="PedroPerez#JuanaLaLoca#Malparido#SiEncuentrasEsto";constructor(){}encrypt(o){return $v.AES.encrypt(o,this.secretKey).toString()}decrypt(o){return $v.AES.decrypt(o,this.secretKey).toString($v.enc.Utf8)}static \u0275fac=function(e){return new(e||r)};static \u0275prov=jr({token:r,factory:r.\u0275fac,providedIn:"root"})};var Zh=class r{constructor(o,e,n,s){this.toastr=o;this.googleService=e;this.cryptService=n;this._httpService=s}get storageKey(){return window.location.hostname=="localhost"?"accountDataLocal":"accountData"}storageSelectedBienKey="selectedAccountId";static isSync=!1;getSettingsData(){let o=this._getConfigFromLocalStorage();return o&&(o.accounts=o.accounts,this.syncWithGoogleDrive(o)),o}setSelectedId(o){localStorage.setItem(this.storageSelectedBienKey,o)}getSelectedId(){return localStorage.getItem(this.storageSelectedBienKey)??""}saveAccount(o,e,n){let s=this._getConfigFromLocalStorage();s||(s=this.instanceNewConfig(e,n));let c=s.accounts.find(u=>u.id===o.id);c?(c.name=o.name,c.description=o.description,c.balance=o.balance,c.isPrincipal=o.isPrincipal):s.accounts.push(o),this.saveSettingsData(s)}saveTransaction(o){let e=this._getConfigFromLocalStorage();if(!e){this.toastr.error("Debe existir al menos una cuenta para poder crear una transacci\xF3n","Account Control!");return}o.type===Bo.TRANSACTION_TYPE_EXPENSE&&o.amount>0&&(o.amount=-o.amount),o.id||(o.id=this._generateRandomString(20));let n=e.transactions.find(s=>s.id===o.id);if(n){let s=e.accounts.find(c=>c.id===n.accountId);if(!s){this.toastr.error("No se puede editar una transacci\xF3n que no pertenece a una cuenta v\xE1lida","Account Control!");return}s.balance+=-n.amount,n.isProcessed=!1,n.description=o.description,n.amount=o.amount,n.originalAccount=o.originalAccount,n.categoryId=o.categoryId,n.date=o.date,n.targetAccountId=o.targetAccountId,n.transactionId=o.transactionId}else e.transactions.push(o);this.saveSettingsData(e)}deleteTransaction(o){let e=this._getConfigFromLocalStorage();if(!e){this.toastr.error("Debe existir al menos una cuenta para poder crear una transacci\xF3n","Account Control!");return}let n=e.accounts.find(s=>s.id===o.accountId);n&&(n.balance+=-o.amount),e.transactions=e.transactions.filter(s=>s.id!==o.id),this.saveSettingsData(e)}instanceNewConfig(o,e){let n;return n={name:o??this._generateRandomString(25),accounts:[{id:Bo.ACCOUNT_BILLETERA,name:Bo.ACCOUNT_BILLETERA,description:"Esta cuenta es por default, no la elimine",balance:0,balanceLastMonth:0,lastBalance:0,isPrincipal:!0}],budgetSettings:void 0,transactions:[],email:e??""},n}saveBudgetSettings(o){let e=this._getConfigFromLocalStorage();if(!e){this.toastr.error("Debe existir al menos una cuenta registrada, no se deberia poder configurar presupuesto sin al menos una cuenta creada!!!","Account Control!");return}e.budgetSettings=o,this.saveSettingsData(e)}_generateRandomString(o){return Math.random().toString(36).substring(2,2+o)}syncWithGoogleDrive(o,e=!1){return ot(this,null,function*(){if(!r.isSync||r.isSync&&!o||e){r.isSync=!0;let n=yield this.googleService.getUserForAccountControl();if(n&&n.data){let s=!1;n.data&&!n.data.lastSync&&(n.data.lastSync=new Date,s=!0),n.data&&n.data.lastSync&&(!o||!o.lastSync||o.lastSync<n.data.lastSync)&&(yield this.saveSettingsData(n.data,s),this.toastr.success("Informaci\xF3n syncronizada correctamente desde google drive","Account Control!"),setTimeout(()=>{window.location.reload()},1500))}n&&!n.data&&(yield this.uploadConfigWithGoogleDrive())}})}_getConfigFromLocalStorage(){let o=this._readConfig(),e=o?JSON.parse(o):null;if(e){e.lastSync&&(e.lastSync=new Date(e.lastSync)),e.lastSyncTransactions&&(e.lastSyncTransactions=new Date(e.lastSyncTransactions)),e.transactions.forEach(c=>{c.date=new Date(c.date)});let n=0,s=0;e.budgetSettings?.categories.forEach(c=>{c.type===Bo.TRANSACTION_TYPE_EXPENSE?c.order=n++:c.order=s++,c.order=this._getGroupOfOrder(c.type)+c.order}),e.accounts.forEach(c=>{c.lastTransaction&&(c.lastTransaction.date=new Date(c.lastTransaction.date))})}return e}_getGroupOfOrder(o){let e=1e3;return o===Bo.TRANSACTION_TYPE_INCOME&&(e=2e3),e}_readConfig(){return localStorage.getItem(this.storageKey)}saveSettingsData(s){return ot(this,arguments,function*(o,e=!0,n=new Date){return o.lastSync&&o.lastSync<n&&(o.lastSync=n),o.budgetSettings?.categories.forEach(u=>{u.transactionCurrentMonth=[]}),localStorage.setItem(this.storageKey,JSON.stringify(o)),(yield this.googleService.isUserLogged())&&e&&(yield this.uploadConfigWithGoogleDrive()),o})}instanceDateFromString(o){let[e,n,s]=o.split("-").map(Number);return new Date(e,n-1,s)}downloadConfig(){let o=this._getConfigFromLocalStorage();if(o){let e=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),n=document.createElement("a");n.href=URL.createObjectURL(e),n.download=`Account-Control${o.name}.json`,document.body.appendChild(n),n.click(),document.body.removeChild(n)}}uploadConfigWithGoogleDrive(){return ot(this,null,function*(){let o=this._getConfigFromLocalStorage();if(o){let e=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),n=`AC-Main-${o.name}.json`;yield this.googleService.uploadFileWithFolderDetection(e,n,!0)}})}deleteData(){localStorage.removeItem(this.storageKey)}formatoInternacional(o){return o=typeof o=="string"?new Date(o):o,new Intl.DateTimeFormat("es-CO",{year:"numeric",month:"long",day:"numeric"}).format(o)}syncTransactions(o){return ot(this,null,function*(){console.log("Sincronizando transacciones...",o.user.username);let e=this._getConfigFromLocalStorage(),n=new Date;n.setMonth(n.getMonth()-3);let s=yield this.googleService.getTransactionsSince(e?.lastSyncTransactions??n);return s.length>0&&e&&(e=yield this._syncTransactions(e,o,s)),this.getTransactions(e??void 0)})}_syncTransactions(o,e,n){return ot(this,null,function*(){return o||(o=this.instanceNewConfig(e.user.username,e.user.email)),o.transactions||(o.transactions=[]),o.transactions.push(...n),o.lastSyncTransactions=new Date,o.transactions=o.transactions.sort((s,c)=>c.date.getTime()-s.date.getTime()),yield this.saveSettingsData(o),this.toastr.success("["+n.length+"] Transacciones sincronizadas correctamente","Account Control!"),o})}getCategory(o,e,n=!1){let s=o?.budgetSettings?.categories?.find(c=>c.type==e.type&&c.keyWords.some(u=>e.description.toLowerCase().includes(u.toLowerCase())));if((!s||s&&!s.accountId)&&!e.originalAccount){n&&o.budgetSettings&&this.toastr.warning(`No se encontro categor\xEDa para la transacci\xF3n "${e.description}" por un monto de ${e.amount}`,"Account Control!");return}return s}getTransactions(o){o||(o=this.getSettingsData()??void 0,o||(o=this.instanceNewConfig()));let e=new Sf,n=0;return o?.budgetSettings?.categories?.forEach(s=>{s.currentAmmount=0}),o?.transactions?.forEach(s=>{if(this.processTransaction(o,s)&&(n++,s.targetAccountId)){if(!this.getAccount(o,s.targetAccountId))return;let h=e.createTransactionIfIsTranfer(s);h&&(this.processTransaction(o,h),o.transactions.push(h),n++)}}),n>0&&(o.transactions=o.transactions.sort((s,c)=>c.date.getTime()-s.date.getTime()),this.saveSettingsData(o,!1,o.transactions[0].date),this.toastr.info("["+n+"] Transacciones procesadas correctamente","Account Control!")),o}processTransaction(o,e){if(e.categoryId="no_category",!e.canProcessed){let u=new Sf().getTransaction(e.originalBody,e.id);if(!u.canProcessed)return!1;Object.assign(e,u)}let n=this.assignCategory(o,e,new Date);if(!e.originalAccount&&n&&(e.originalAccount=n.accountId),e.isProcessed)return!1;let s=n?.accountId??""?n?.accountId:e.originalAccount;if(!s)return!1;let c=this.getAccount(o,s);if(!c)return o.budgetSettings,!1;if(c.lastTransaction){let u=c.lastTransaction.date.getFullYear()+c.lastTransaction.date.getMonth();e.date.getFullYear()+e.date.getMonth()>u&&(c.balanceLastMonth=c.balance)}return e.accountId=c.id,c.lastBalance=c.balance,c.balance+=e.amount,c.lastTransaction=e,e.isProcessed=!0,!0}assignCategory(o,e,n){let s=this.getCategory(o,e,!1);if(s){e.categoryId=s.id;let c=n.getFullYear()+"-"+(n.getMonth()+1),u=e.date.getFullYear()+"-"+(e.date.getMonth()+1);c==u&&(s.transactionCurrentMonth||(s.transactionCurrentMonth=[e]),(!e.transactionId||e.targetAccountId&&e.type!=Bo.TRANSACTION_TYPE_INCOME)&&(s.currentAmmount=(s.currentAmmount||0)+Math.abs(e.amount),s.transactionCurrentMonth.push(e)))}return s}getAccount(o,e){return o.accounts.find(n=>n.id.toLowerCase().includes(e.toLowerCase())||e.toLowerCase().includes(n.id.toLowerCase()))}static \u0275fac=function(e){return new(e||r)(Ao(Zu),Ao(ep),Ao(Xx),Ao(m2))};static \u0275prov=jr({token:r,factory:r.\u0275fac,providedIn:"root"})};var Qx=class{constructor(o){this.googleService=o}static contador=0;configFromGoogle=null;isSync=!1;messageOrLoading="";init(){this._init()}_init(){this.initialiceComponent(),this.getUserLogget()}detroy(){}hasDataInGoogle(){return!!(this.configFromGoogle&&this.configFromGoogle.data)}isLogged(){return!!(this.configFromGoogle&&this.configFromGoogle.user)}Login(){this.showLoading("Autenticando usuario"),this.googleService.signInForAccountControl().then(o=>ot(this,null,function*(){this.hideLoading(),o&&(this.configFromGoogle=o),o&&(yield this.syncGoogleDrive()),this.initialiceComponent()}))}Logout(){this.googleService.signOut(),this.configFromGoogle=null}contador=0;getUserLogget(){this.contador++,this.showLoading("Validando autenticaci\xF3n"),this.googleService.getUserForAccountControl().then(o=>ot(this,null,function*(){this.hideLoading(),o&&(this.configFromGoogle=o,yield this.syncGoogleDrive()),this.initialiceComponent()}))}showLoading(o){this.isSync=!0,this.messageOrLoading=o}hideLoading(){this.isSync=!1}};var k5=(()=>{class r{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,n){this._renderer=e,this._elementRef=n}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(n){return new(n||r)(Ho(rl),Ho(tl))};static \u0275dir=Zn({type:r})}return r})(),M5=(()=>{class r extends k5{static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275dir=Zn({type:r,features:[No]})}return r})(),su=new rn(""),o8={provide:su,useExisting:Bl(()=>xC),multi:!0},xC=(()=>{class r extends M5{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275dir=Zn({type:r,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,s){n&1&&_o("change",function(u){return s.onChange(u.target.checked)})("blur",function(){return s.onTouched()})},standalone:!1,features:[an([o8]),No]})}return r})(),n8={provide:su,useExisting:Bl(()=>tw),multi:!0};function i8(){let r=Rh()?Rh().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}var a8=new rn(""),tw=(()=>{class r extends k5{_compositionMode;_composing=!1;constructor(e,n,s){super(e,n),this._compositionMode=s,this._compositionMode==null&&(this._compositionMode=!i8())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(n){return new(n||r)(Ho(rl),Ho(tl),Ho(a8,8))};static \u0275dir=Zn({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,s){n&1&&_o("input",function(u){return s._handleInput(u.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(u){return s._compositionEnd(u.target.value)})},standalone:!1,features:[an([n8]),No]})}return r})();var s8=new rn(""),l8=new rn("");function T5(r){return r!=null}function E5(r){return fy(r)?bi(r):r}function S5(r){let o={};return r.forEach(e=>{o=e!=null?Vt(Vt({},o),e):o}),Object.keys(o).length===0?null:o}function P5(r,o){return o.map(e=>e(r))}function c8(r){return!r.validate}function A5(r){return r.map(o=>c8(o)?o:e=>o.validate(e))}function d8(r){if(!r)return null;let o=r.filter(T5);return o.length==0?null:function(e){return S5(P5(e,o))}}function B5(r){return r!=null?d8(A5(r)):null}function u8(r){if(!r)return null;let o=r.filter(T5);return o.length==0?null:function(e){let n=P5(e,o).map(E5);return uM(n).pipe(jo(S5))}}function I5(r){return r!=null?u8(A5(r)):null}function _5(r,o){return r===null?[o]:Array.isArray(r)?[...r,o]:[r,o]}function p8(r){return r._rawValidators}function f8(r){return r._rawAsyncValidators}function _C(r){return r?Array.isArray(r)?r:[r]:[]}function Jx(r,o){return Array.isArray(r)?r.includes(o):r===o}function b5(r,o){let e=_C(o);return _C(r).forEach(s=>{Jx(e,s)||e.push(s)}),e}function v5(r,o){return _C(o).filter(e=>!Jx(r,e))}var Zx=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(o){this._rawValidators=o||[],this._composedValidatorFn=B5(this._rawValidators)}_setAsyncValidators(o){this._rawAsyncValidators=o||[],this._composedAsyncValidatorFn=I5(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(o){this._onDestroyCallbacks.push(o)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(o=>o()),this._onDestroyCallbacks=[]}reset(o=void 0){this.control&&this.control.reset(o)}hasError(o,e){return this.control?this.control.hasError(o,e):!1}getError(o,e){return this.control?this.control.getError(o,e):null}},bC=class extends Zx{name;get formDirective(){return null}get path(){return null}},Pf=class extends Zx{_parent=null;name=null;valueAccessor=null},vC=class{_cd;constructor(o){this._cd=o}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},h8={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Lj=Gr(Vt({},h8),{"[class.ng-submitted]":"isSubmitted"}),op=(()=>{class r extends vC{constructor(e){super(e)}static \u0275fac=function(n){return new(n||r)(Ho(Pf,2))};static \u0275dir=Zn({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,s){n&2&&Dl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},standalone:!1,features:[No]})}return r})();var Lv="VALID",Yx="INVALID",em="PENDING",Nv="DISABLED",rm=class{},ew=class extends rm{value;source;constructor(o,e){super(),this.value=o,this.source=e}},zv=class extends rm{pristine;source;constructor(o,e){super(),this.pristine=o,this.source=e}},jv=class extends rm{touched;source;constructor(o,e){super(),this.touched=o,this.source=e}},tm=class extends rm{status;source;constructor(o,e){super(),this.status=o,this.source=e}};function m8(r){return(rw(r)?r.validators:r)||null}function g8(r){return Array.isArray(r)?B5(r):r||null}function _8(r,o){return(rw(o)?o.asyncValidators:r)||null}function b8(r){return Array.isArray(r)?I5(r):r||null}function rw(r){return r!=null&&!Array.isArray(r)&&typeof r=="object"}var yC=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(o,e){this._assignValidators(o),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(o){this._rawValidators=this._composedValidatorFn=o}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(o){this._rawAsyncValidators=this._composedAsyncValidatorFn=o}get parent(){return this._parent}get status(){return _c(this.statusReactive)}set status(o){_c(()=>this.statusReactive.set(o))}_status=hi(()=>this.statusReactive());statusReactive=yi(void 0);get valid(){return this.status===Lv}get invalid(){return this.status===Yx}get pending(){return this.status==em}get disabled(){return this.status===Nv}get enabled(){return this.status!==Nv}errors;get pristine(){return _c(this.pristineReactive)}set pristine(o){_c(()=>this.pristineReactive.set(o))}_pristine=hi(()=>this.pristineReactive());pristineReactive=yi(!0);get dirty(){return!this.pristine}get touched(){return _c(this.touchedReactive)}set touched(o){_c(()=>this.touchedReactive.set(o))}_touched=hi(()=>this.touchedReactive());touchedReactive=yi(!1);get untouched(){return!this.touched}_events=new si;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(o){this._assignValidators(o)}setAsyncValidators(o){this._assignAsyncValidators(o)}addValidators(o){this.setValidators(b5(o,this._rawValidators))}addAsyncValidators(o){this.setAsyncValidators(b5(o,this._rawAsyncValidators))}removeValidators(o){this.setValidators(v5(o,this._rawValidators))}removeAsyncValidators(o){this.setAsyncValidators(v5(o,this._rawAsyncValidators))}hasValidator(o){return Jx(this._rawValidators,o)}hasAsyncValidator(o){return Jx(this._rawAsyncValidators,o)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(o={}){let e=this.touched===!1;this.touched=!0;let n=o.sourceControl??this;this._parent&&!o.onlySelf&&this._parent.markAsTouched(Gr(Vt({},o),{sourceControl:n})),e&&o.emitEvent!==!1&&this._events.next(new jv(!0,n))}markAllAsTouched(o={}){this.markAsTouched({onlySelf:!0,emitEvent:o.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(o))}markAsUntouched(o={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=o.sourceControl??this;this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0,emitEvent:o.emitEvent,sourceControl:n})}),this._parent&&!o.onlySelf&&this._parent._updateTouched(o,n),e&&o.emitEvent!==!1&&this._events.next(new jv(!1,n))}markAsDirty(o={}){let e=this.pristine===!0;this.pristine=!1;let n=o.sourceControl??this;this._parent&&!o.onlySelf&&this._parent.markAsDirty(Gr(Vt({},o),{sourceControl:n})),e&&o.emitEvent!==!1&&this._events.next(new zv(!1,n))}markAsPristine(o={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=o.sourceControl??this;this._forEachChild(s=>{s.markAsPristine({onlySelf:!0,emitEvent:o.emitEvent})}),this._parent&&!o.onlySelf&&this._parent._updatePristine(o,n),e&&o.emitEvent!==!1&&this._events.next(new zv(!0,n))}markAsPending(o={}){this.status=em;let e=o.sourceControl??this;o.emitEvent!==!1&&(this._events.next(new tm(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!o.onlySelf&&this._parent.markAsPending(Gr(Vt({},o),{sourceControl:e}))}disable(o={}){let e=this._parentMarkedDirty(o.onlySelf);this.status=Nv,this.errors=null,this._forEachChild(s=>{s.disable(Gr(Vt({},o),{onlySelf:!0}))}),this._updateValue();let n=o.sourceControl??this;o.emitEvent!==!1&&(this._events.next(new ew(this.value,n)),this._events.next(new tm(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Gr(Vt({},o),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(s=>s(!0))}enable(o={}){let e=this._parentMarkedDirty(o.onlySelf);this.status=Lv,this._forEachChild(n=>{n.enable(Gr(Vt({},o),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:o.emitEvent}),this._updateAncestors(Gr(Vt({},o),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(o,e){this._parent&&!o.onlySelf&&(this._parent.updateValueAndValidity(o),o.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(o){this._parent=o}getRawValue(){return this.value}updateValueAndValidity(o={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lv||this.status===em)&&this._runAsyncValidator(n,o.emitEvent)}let e=o.sourceControl??this;o.emitEvent!==!1&&(this._events.next(new ew(this.value,e)),this._events.next(new tm(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!o.onlySelf&&this._parent.updateValueAndValidity(Gr(Vt({},o),{sourceControl:e}))}_updateTreeValidity(o={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(o)),this.updateValueAndValidity({onlySelf:!0,emitEvent:o.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nv:Lv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(o,e){if(this.asyncValidator){this.status=em,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let n=E5(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(s=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(s,{emitEvent:e,shouldHaveEmitted:o})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let o=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,o}return!1}setErrors(o,e={}){this.errors=o,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(o){let e=o;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,s)=>n&&n._find(s),this)}getError(o,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[o]:null}hasError(o,e){return!!this.getError(o,e)}get root(){let o=this;for(;o._parent;)o=o._parent;return o}_updateControlsErrors(o,e,n){this.status=this._calculateStatus(),o&&this.statusChanges.emit(this.status),(o||n)&&this._events.next(new tm(this.status,e)),this._parent&&this._parent._updateControlsErrors(o,e,n)}_initObservables(){this.valueChanges=new Ln,this.statusChanges=new Ln}_calculateStatus(){return this._allControlsDisabled()?Nv:this.errors?Yx:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(em)?em:this._anyControlsHaveStatus(Yx)?Yx:Lv}_anyControlsHaveStatus(o){return this._anyControls(e=>e.status===o)}_anyControlsDirty(){return this._anyControls(o=>o.dirty)}_anyControlsTouched(){return this._anyControls(o=>o.touched)}_updatePristine(o,e){let n=!this._anyControlsDirty(),s=this.pristine!==n;this.pristine=n,this._parent&&!o.onlySelf&&this._parent._updatePristine(o,e),s&&this._events.next(new zv(this.pristine,e))}_updateTouched(o={},e){this.touched=this._anyControlsTouched(),this._events.next(new jv(this.touched,e)),this._parent&&!o.onlySelf&&this._parent._updateTouched(o,e)}_onDisabledChange=[];_registerOnCollectionChange(o){this._onCollectionChange=o}_setUpdateStrategy(o){rw(o)&&o.updateOn!=null&&(this._updateOn=o.updateOn)}_parentMarkedDirty(o){let e=this._parent&&this._parent.dirty;return!o&&!!e&&!this._parent._anyControlsDirty()}_find(o){return null}_assignValidators(o){this._rawValidators=Array.isArray(o)?o.slice():o,this._composedValidatorFn=g8(this._rawValidators)}_assignAsyncValidators(o){this._rawAsyncValidators=Array.isArray(o)?o.slice():o,this._composedAsyncValidatorFn=b8(this._rawAsyncValidators)}};var D5=new rn("",{providedIn:"root",factory:()=>wC}),wC="always";function v8(r,o){return[...o.path,r]}function y8(r,o,e=wC){w8(r,o),o.valueAccessor.writeValue(r.value),(r.disabled||e==="always")&&o.valueAccessor.setDisabledState?.(r.disabled),C8(r,o),M8(r,o),k8(r,o),x8(r,o)}function y5(r,o){r.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(o)})}function x8(r,o){if(o.valueAccessor.setDisabledState){let e=n=>{o.valueAccessor.setDisabledState(n)};r.registerOnDisabledChange(e),o._registerOnDestroy(()=>{r._unregisterOnDisabledChange(e)})}}function w8(r,o){let e=p8(r);o.validator!==null?r.setValidators(_5(e,o.validator)):typeof e=="function"&&r.setValidators([e]);let n=f8(r);o.asyncValidator!==null?r.setAsyncValidators(_5(n,o.asyncValidator)):typeof n=="function"&&r.setAsyncValidators([n]);let s=()=>r.updateValueAndValidity();y5(o._rawValidators,s),y5(o._rawAsyncValidators,s)}function C8(r,o){o.valueAccessor.registerOnChange(e=>{r._pendingValue=e,r._pendingChange=!0,r._pendingDirty=!0,r.updateOn==="change"&&F5(r,o)})}function k8(r,o){o.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,r.updateOn==="blur"&&r._pendingChange&&F5(r,o),r.updateOn!=="submit"&&r.markAsTouched()})}function F5(r,o){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),o.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function M8(r,o){let e=(n,s)=>{o.valueAccessor.writeValue(n),s&&o.viewToModelUpdate(n)};r.registerOnChange(e),o._registerOnDestroy(()=>{r._unregisterOnChange(e)})}function T8(r,o){if(!r.hasOwnProperty("model"))return!1;let e=r.model;return e.isFirstChange()?!0:!Object.is(o,e.currentValue)}function E8(r){return Object.getPrototypeOf(r.constructor)===M5}function S8(r,o){if(!o)return null;Array.isArray(o);let e,n,s;return o.forEach(c=>{c.constructor===tw?e=c:E8(c)?n=c:s=c}),s||n||e||null}function x5(r,o){let e=r.indexOf(o);e>-1&&r.splice(e,1)}function w5(r){return typeof r=="object"&&r!==null&&Object.keys(r).length===2&&"value"in r&&"disabled"in r}var P8=class extends yC{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(o=null,e,n){super(m8(e),_8(n,e)),this._applyFormState(o),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rw(e)&&(e.nonNullable||e.initialValueIsDefault)&&(w5(o)?this.defaultValue=o.value:this.defaultValue=o)}setValue(o,e={}){this.value=this._pendingValue=o,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(o,e={}){this.setValue(o,e)}reset(o=this.defaultValue,e={}){this._applyFormState(o),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(o){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(o){this._onChange.push(o)}_unregisterOnChange(o){x5(this._onChange,o)}registerOnDisabledChange(o){this._onDisabledChange.push(o)}_unregisterOnDisabledChange(o){x5(this._onDisabledChange,o)}_forEachChild(o){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(o){w5(o)?(this.value=this._pendingValue=o.value,o.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=o}};var A8={provide:Pf,useExisting:Bl(()=>ll)},C5=Promise.resolve(),ll=(()=>{class r extends Pf{_changeDetectorRef;callSetDisabledState;control=new P8;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ln;constructor(e,n,s,c,u,h){super(),this._changeDetectorRef=u,this.callSetDisabledState=h,this._parent=e,this._setValidators(n),this._setAsyncValidators(s),this.valueAccessor=S8(this,c)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),T8(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){y8(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){C5.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let n=e.isDisabled.currentValue,s=n!==0&&Oo(n);C5.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?v8(e,this._parent):[e]}static \u0275fac=function(n){return new(n||r)(Ho(bC,9),Ho(s8,10),Ho(l8,10),Ho(su,10),Ho(yf,8),Ho(D5,8))};static \u0275dir=Zn({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[an([A8]),No,Is]})}return r})();var B8=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=vn({type:r});static \u0275inj=bn({})}return r})();var np=(()=>{class r{static withConfig(e){return{ngModule:r,providers:[{provide:D5,useValue:e.callSetDisabledState??wC}]}}static \u0275fac=function(n){return new(n||r)};static \u0275mod=vn({type:r});static \u0275inj=bn({imports:[B8]})}return r})();var I8=(r,o)=>o.id;function D8(r,o){if(r&1){let e=xn();Kt(0,"p",5)(1,"a",29),_o("click",function(){en(e);let s=Sr();return tn(s.Login())}),Kt(2,"span",30),no(3,"img",31),Qt(),Kt(4,"span",32),Dr(5,"Iniciar Con Google"),Qt()()()}}function F8(r,o){if(r&1){let e=xn();Kt(0,"p",5)(1,"a",33),_o("click",function(){en(e);let s=Sr();return tn(s.Logout())}),Kt(2,"span",30),no(3,"img",31),Qt(),Kt(4,"span",32),Dr(5),Qt()()()}if(r&2){let e=Sr();pr(5),ol("Sync: ",e.configFromGoogle.user.username,"")}}function R8(r,o){r&1&&(Kt(0,"div",11),Dr(1," Esto es un cargando "),Qt())}function O8(r,o){if(r&1&&(Kt(0,"span",47),no(1,"i",48),Dr(2),Lu(3,"number"),Qt(),Dr(4,"number ")),r&2){let e=Sr(2).$implicit,n=Sr(2);pr(2),ol(" ",s2(3,1,n.getPercentageChange(e),"1.2-2"),"% ")}}function $8(r,o){if(r&1&&(Kt(0,"span",44),no(1,"i",49),Dr(2),Lu(3,"number"),Qt()),r&2){let e=Sr(2).$implicit,n=Sr(2);pr(2),ol(" ",s2(3,1,n.getPercentageChange(e),"1.2-2"),"% ")}}function L8(r,o){r&1&&(Kt(0,"span",17),no(1,"i",50),Dr(2," 0% "),Qt())}function N8(r,o){if(r&1){let e=xn();Kt(0,"div",36)(1,"div",3)(2,"div",37)(3,"small",38),Dr(4),Qt(),Kt(5,"h5",39),Dr(6),Qt(),Kt(7,"span",40),Dr(8),Lu(9,"currency"),Qt()(),Kt(10,"div",41)(11,"p-button",42),_o("click",function(){en(e);let s=Sr().$implicit,c=Sr(2);return tn(c.openEditAccount(s))}),Qt()()(),Kt(12,"p",43),Zr(13,O8,5,4)(14,$8,4,4,"span",44)(15,L8,3,0,"span",17),Kt(16,"span",45),Dr(17),Lu(18,"currency"),Qt()(),Kt(19,"p",43),Dr(20),Qt()(),Kt(21,"div",46),Dr(22," Aqui la lista de cuentas "),Qt()}if(r&2){let e=Sr().$implicit,n=Sr(2);pr(4),ol("Cuenta: ",e.id,""),pr(2),wi(e.name),pr(2),wi(Ih(9,6,e.balance)),pr(5),Dn(n.getPercentageChange(e)>0?13:n.getPercentageChange(e)<0?14:15),pr(4),ol("\xDAltimo mes: ",Ih(18,8,e.balanceLastMonth),""),pr(3),ol(" ",e.description," ")}}function z8(r,o){r&1&&(Kt(0,"div",34)(1,"p-card",35),Zr(2,N8,23,10,"ng-template",25),Qt()())}function j8(r,o){if(r&1&&(Kt(0,"div",3),Jl(1,z8,3,0,"div",34,I8),Qt()),r&2){let e=Sr();pr(),Zl(e.accounts)}}function V8(r,o){if(r&1&&(Kt(0,"span",15),no(1,"i",51),Kt(2,"strong"),Dr(3),Lu(4,"currency"),Qt()()),r&2){let e=Sr();pr(3),ol("Patrimonio ",Ih(4,1,e.heritage),"")}}function U8(r,o){if(r&1&&(Kt(0,"span",16),no(1,"i",52),Kt(2,"strong"),Dr(3),Lu(4,"currency"),Qt()()),r&2){let e=Sr();pr(3),ol("Patrimonio ",Ih(4,1,e.heritage),"")}}function W8(r,o){if(r&1&&(Kt(0,"span",17),no(1,"i",50),Kt(2,"strong"),Dr(3),Lu(4,"currency"),Qt()()),r&2){let e=Sr();pr(3),ol("Patrimonio ",Ih(4,1,e.heritage),"")}}function G8(r,o){if(r&1){let e=xn();Kt(0,"div",53)(1,"div",54)(2,"h6",55)(3,"span"),Dr(4,"Historial de transacciones"),Qt()()(),Kt(5,"div",56)(6,"p-button",57),_o("click",function(){en(e);let s=Sr();return tn(s.openMigrateTransaction())}),Qt(),Kt(7,"p-button",58),_o("click",function(){en(e);let s=Sr();return tn(s.openCreateTransaction())}),Qt()()()}}function H8(r,o){r&1&&(Kt(0,"div",59)(1,"div",60),Dr(2," Aqui lista de transacciones "),Qt()())}function K8(r,o){if(r&1){let e=xn();Kt(0,"div",53)(1,"div",61)(2,"h6",55)(3,"span"),Dr(4,"Mi Presupuesto"),Qt()()(),Kt(5,"div",62)(6,"p-button",63),_o("click",function(){en(e);let s=Sr();return tn(s.openManagementCategories())}),Qt()()()}if(r&2){let e=Sr();pr(6),Ir("disabled",!e.settionsData)}}function q8(r,o){r&1&&(Kt(0,"div",59)(1,"div",60),Dr(2," Aqui lista de presupuestos "),Qt()())}function X8(r,o){if(r&1){let e=xn();Kt(0,"p-button",64),_o("click",function(){en(e);let s=Sr();return tn(s.deleteData())}),Qt()}}function Q8(r,o){if(r&1&&(Kt(0,"small")(1,"strong"),Dr(2,"Ultima actualizaci\xF3n: "),Qt(),Dr(3),Qt()),r&2){let e=Sr();pr(3),ol("",e.settionsData.lastSync.toISOString()," ")}}var ow=class r extends Qx{constructor(e,n){super(e);this.accountService=n}transactions=[];accounts=[];settionsData;showAllAccounts=!1;heritage=0;initialiceComponent(){return ot(this,null,function*(){this.hideLoading(),this.settionsData=this.accountService.getTransactions(this.settionsData),this.isLogged()&&(this.showLoading("Sincronizando transacciones"),this.configFromGoogle&&(this.settionsData=yield this.accountService.syncTransactions(this.configFromGoogle)),this.hideLoading()),this.transactions=this.settionsData.transactions,this.filterAccounts()})}ngOnInit(){this.init()}ngOnDestroy(){this.detroy()}openEditAccount(e){}openCreateAccount(e){}openManagementCategories(e){}openDashboards(e){}openCreateTransaction(e){}openMigrateTransaction(){}restartComponent(){this.settionsData=void 0,this.transactions=[],this.accounts=[],this.initialiceComponent()}filterAccounts(){this.settionsData&&(this.showAllAccounts?this.accounts=this.settionsData.accounts:this.accounts=this.settionsData.accounts.filter(e=>e.isPrincipal)),this.heritage=this.accounts.reduce((e,n)=>e+n.balance,0)}getPercentageChange(e){return e.balanceLastMonth===0?0:(Math.abs(e.balance)-Math.abs(e.balanceLastMonth))/Math.abs(e.balanceLastMonth)*100}deleteData(){confirm("\xBFEst\xE1s seguro de que deseas continuar?")&&(this.accountService.deleteData(),window.location.reload())}syncGoogleDrive(){return ot(this,null,function*(){this.settionsData&&(yield this.accountService.syncWithGoogleDrive(this.settionsData,!0))})}static \u0275fac=function(n){return new(n||r)(Ho(ep),Ho(Zh))};static \u0275cmp=Mo({type:r,selectors:[["app-home"]],features:[an([Zh,ep,Zu,Hu]),No],decls:41,vars:8,consts:[[1,"header","pb-6","pt-5","pt-md-8","bg-gradient-dark"],[1,"container-fluid"],[1,"header-body"],[1,"row"],[1,"col-lg-12"],[1,"float-right"],[1,"text-white"],[1,"custom-control","custom-control-alternative","custom-checkbox","pb-3","pt-0"],["id","showAccountIsPrincipal","type","checkbox",1,"custom-control-input",3,"ngModelChange","change","ngModel"],["for","showAccountIsPrincipal",1,"custom-control-label"],[1,"text-muted"],[1,"mb-2"],[1,"col","col-lg-12"],[1,"d-flex","text-white","justify-content-between"],[1,"mr-4"],[1,"heading","text-success","mr-2"],[1,"heading","text-danger","mr-2"],[1,"text-info","mr-2"],["pTooltip","Crear cuenta","tooltipPosition","top","icon","ni ni-fat-add",1,"btn-icon","btn-3","btn-sm","btn-success",3,"click"],["pTooltip","Abrir dashboards","tooltipPosition","top","icon","fas fa-chart-bar",1,"btn-icon","btn-3","btn-sm","btn-primary",3,"click"],[1,"container-fluid","mt--7"],[1,"row","mt-4"],[1,"col-lg-5"],[1,"bg-secondary","shadow"],["pTemplate","header"],["pTemplate","content"],[1,"col-lg-7","mb-lg-0","mb-4"],[1,"shadow"],["pTooltip","Elimina toda la informaci\xF3n del sistema, estas seguro?","tooltipPosition","top","icon","fas fa-trash","label","Eliminar datos",1,"btn-icon","btn-3","btn-sm","btn-secondary","text-warning","float-right"],["href","javascript:void(0)","pTooltip","Autenticaci\xF3n","tooltipPosition","bottom",1,"btn","btn-sm","btn-neutral","btn-icon",3,"click"],[1,"btn-inner--icon"],["src","../assets/img/icons/common/google.svg","alt","Google"],[1,"btn-inner--text"],["href","javascript:void(0)","tooltipPosition","left",1,"btn","btn-sm","btn-neutral","btn-icon",3,"click"],[1,"col-xl-3","col-lg-6","mb-3"],[1,"card-stats","mb-1","mb-xl-0"],[1,"card-body"],[1,"col"],[1,"card-title","text-muted"],[1,"card-title","text-uppercase","text-muted","mb-0"],[1,"h2","font-weight-bold","mb-0"],[1,"col-auto"],["label","Editar",1,"btn-sm","bg-gradient-dark","text-white",3,"click"],[1,"mt-1","mb-0","text-muted","text-sm"],[1,"text-danger","mr-2"],[1,"text-nowrap"],[1,"p-0",2,"margin-top","-20px"],[1,"text-success","mr-2"],[1,"fa","fa-arrow-up"],[1,"fa","fa-arrow-down"],[1,"fa","fa-minus"],[1,"fa","fa-arrow-circle-up"],[1,"fas","fa-arrow-circle-down"],[1,"row","align-items-center"],[1,"col-6"],[1,"text-uppercase","text-muted","ls-1","mb-1"],[1,"col-6","text-right"],["label","Migrar",1,"btn-sm","btn-info",3,"click"],["label","Nueva",1,"btn-sm","btn-primary",3,"click"],[1,"card-body","p-3"],[1,"scroll-container",2,"min-height","1700px","overflow-y","auto"],[1,"col-8"],[1,"col-4","text-right"],["label","Categorias",1,"btn-sm","btn-primary",3,"click","disabled"],["pTooltip","Elimina toda la informaci\xF3n del sistema, estas seguro?","tooltipPosition","top","icon","fas fa-trash","label","Eliminar datos",1,"btn-icon","btn-3","btn-sm","btn-secondary","text-warning","float-right",3,"click"]],template:function(n,s){n&1&&(Kt(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),Zr(5,D8,6,0,"p",5)(6,F8,6,1,"p",5),Kt(7,"h1",6),Dr(8,"Account Control"),Qt(),Kt(9,"p",6)(10,"strong"),Dr(11," Aqu\xED podras administrar todos tus ingresos y gastos de todas tus cuentas, para mayor experiencia sincronizate con tu cuenta de google. "),Qt()(),Kt(12,"span",7)(13,"input",8),by("ngModelChange",function(u){return _y(s.showAllAccounts,u)||(s.showAllAccounts=u),u}),_o("change",function(){return s.filterAccounts()}),Qt(),Kt(14,"label",9)(15,"span",10),Dr(16,"Mostrar todo?"),Qt()()()()(),Zr(17,R8,2,0,"div",11)(18,j8,3,0,"div",3),Kt(19,"div",3)(20,"div",12)(21,"div",13)(22,"p",14),Zr(23,V8,5,3,"span",15)(24,U8,5,3,"span",16)(25,W8,5,3,"span",17),Qt(),Kt(26,"div",5)(27,"p-button",18),_o("click",function(){return s.openCreateAccount()}),Qt(),Kt(28,"p-button",19),_o("click",function(){return s.openDashboards()}),Qt()()()()()()()(),Kt(29,"div",20)(30,"div",21)(31,"div",22)(32,"p-card",23),Zr(33,G8,8,0,"ng-template",24)(34,H8,3,0,"ng-template",25),Qt()(),Kt(35,"div",26)(36,"p-card",27),Zr(37,K8,7,1,"ng-template",24)(38,q8,3,0,"ng-template",25),Qt()()(),Zr(39,X8,1,0,"p-button",28)(40,Q8,4,1,"small"),Qt()),n&2&&(pr(5),Dn(s.configFromGoogle?-1:5),pr(),Dn(s.configFromGoogle?6:-1),pr(7),gy("ngModel",s.showAllAccounts),pr(4),Dn(s.isSync?17:-1),pr(),Dn(s.settionsData?18:-1),pr(5),Dn(s.heritage>0?23:s.heritage<0?24:25),pr(16),Dn(s.settionsData?39:-1),pr(),Dn(s.settionsData&&s.settionsData.lastSync?40:-1))},dependencies:[Qu,$l,nu,Gi,Ju,iu,np,xC,op,ll,XM,qM],encapsulation:2})};var Y8=({dt:r})=>`
.p-textarea {
    font-family: inherit;
    font-feature-settings: inherit;
    font-size: 1rem;
    color: ${r("textarea.color")};
    background: ${r("textarea.background")};
    padding: ${r("textarea.padding.y")} ${r("textarea.padding.x")};
    border: 1px solid ${r("textarea.border.color")};
    transition: background ${r("textarea.transition.duration")}, color ${r("textarea.transition.duration")}, border-color ${r("textarea.transition.duration")}, outline-color ${r("textarea.transition.duration")}, box-shadow ${r("textarea.transition.duration")};
    appearance: none;
    border-radius: ${r("textarea.border.radius")};
    outline-color: transparent;
    box-shadow: ${r("textarea.shadow")};
}

.p-textarea.ng-invalid.ng-dirty {
    border-color: ${r("textarea.invalid.border.color")};
}

.p-textarea:enabled:hover {
    border-color: ${r("textarea.hover.border.color")};
}

.p-textarea:enabled:focus {
    border-color: ${r("textarea.focus.border.color")};
    box-shadow: ${r("textarea.focus.ring.shadow")};
    outline: ${r("textarea.focus.ring.width")} ${r("textarea.focus.ring.style")} ${r("textarea.focus.ring.color")};
    outline-offset: ${r("textarea.focus.ring.offset")};
}

.p-textarea.p-invalid {
    border-color: ${r("textarea.invalid.border.color")};
}

.p-textarea.p-variant-filled {
    background: ${r("textarea.filled.background")};
}

.p-textarea.p-variant-filled:enabled:focus {
    background: ${r("textarea.filled.focus.background")};
}

.p-textarea:disabled {
    opacity: 1;
    background: ${r("textarea.disabled.background")};
    color: ${r("textarea.disabled.color")};
}

.p-textarea::placeholder {
    color: ${r("textarea.placeholder.color")};
}

.p-textarea.ng-invalid.ng-dirty::placeholder {
    color: ${r("textarea.invalid.placeholder.color")};
}

.p-textarea-fluid {
    width: 100%;
}

.p-textarea-resizable {
    overflow: hidden;
    resize: none;
}

.p-textarea-sm {
    font-size: ${r("textarea.sm.font.size")};
    padding-block: ${r("textarea.sm.padding.y")};
    padding-inline: ${r("textarea.sm.padding.x")};
}

.p-textarea-lg {
    font-size: ${r("textarea.lg.font.size")};
    padding-block: ${r("textarea.lg.padding.y")};
    padding-inline: ${r("textarea.lg.padding.x")};
}
`,J8={root:({instance:r,props:o})=>["p-textarea p-component",{"p-filled":r.filled,"p-textarea-resizable ":o.autoResize,"p-invalid":o.invalid,"p-variant-filled":o.variant?o.variant==="filled":r.config.inputStyle==="filled"||r.config.inputVariant==="filled","p-textarea-fluid":o.fluid}]},R5=(()=>{class r extends kn{name="textarea";theme=Y8;classes=J8;static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})();var O5=(()=>{class r extends Vn{ngModel;control;autoResize;variant;fluid=!1;pSize;onResize=new Ln;filled;cachedScrollHeight;ngModelSubscription;ngControlSubscription;_componentStyle=wr(R5);constructor(e,n){super(),this.ngModel=e,this.control=n}ngOnInit(){super.ngOnInit(),this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}get hasFluid(){let n=this.el.nativeElement.closest("p-fluid");return this.fluid||!!n}ngAfterViewInit(){super.ngAfterViewInit(),this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(e){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}resize(e){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(e||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe(),super.ngOnDestroy()}static \u0275fac=function(n){return new(n||r)(Ho(ll,8),Ho(Pf,8))};static \u0275dir=Zn({type:r,selectors:[["","pTextarea",""]],hostAttrs:[1,"p-textarea","p-component"],hostVars:16,hostBindings:function(n,s){n&1&&_o("input",function(u){return s.onInput(u)}),n&2&&Dl("p-filled",s.filled)("p-textarea-resizable",s.autoResize)("p-variant-filled",s.variant==="filled"||s.config.inputStyle()==="filled"||s.config.inputVariant()==="filled")("p-textarea-fluid",s.hasFluid)("p-textarea-sm",s.pSize==="small")("p-inputfield-sm",s.pSize==="small")("p-textarea-lg",s.pSize==="large")("p-inputfield-lg",s.pSize==="large")},inputs:{autoResize:[2,"autoResize","autoResize",Oo],variant:"variant",fluid:[2,"fluid","fluid",Oo],pSize:"pSize"},outputs:{onResize:"onResize"},features:[an([R5]),fi,No]})}return r})(),$5=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=vn({type:r});static \u0275inj=bn({})}return r})();var e$=({dt:r})=>`
.p-panel {
    border: 1px solid ${r("panel.border.color")};
    border-radius: ${r("panel.border.radius")};
    background: ${r("panel.background")};
    color: ${r("panel.color")};
}

.p-panel-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: ${r("panel.header.padding")};
    background: ${r("panel.header.background")};
    color: ${r("panel.header.color")};
    border-style: solid;
    border-width: ${r("panel.header.border.width")};
    border-color: ${r("panel.header.border.color")};
    border-radius: ${r("panel.header.border.radius")};
}

.p-panel-toggleable .p-panel-header {
    padding: ${r("panel.toggleable.header.padding")};
}

.p-panel-title {
    line-height: 1;
    font-weight: ${r("panel.title.font.weight")};
}

.p-panel-content {
    padding: ${r("panel.content.padding")};
}

.p-panel-footer {
    padding: ${r("panel.footer.padding")};
}

/* For PrimeNG */
.p-panel-toggleable.p-panel-expanded > .p-panel-content-container:not(.ng-animating) {
    overflow: visible
}

.p-panel-toggleable .p-panel-content-container {
    overflow: hidden;
}
`,t$={root:({props:r})=>["p-panel p-component",{"p-panel-toggleable":r.toggleable}],header:"p-panel-header",title:"p-panel-title",headerActions:"p-panel-header-actions",pcToggleButton:"p-panel-toggle-button",contentContainer:"p-panel-content-container",content:"p-panel-content",footer:"p-panel-footer"},L5=(()=>{class r extends kn{name="panel";theme=e$;classes=t$;static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})();var r$=["header"],o$=["icons"],n$=["content"],i$=["footer"],a$=["headericons"],s$=["contentWrapper"],l$=["*",[["p-header"]],[["p-footer"]]],c$=["*","p-header","p-footer"],d$=(r,o)=>({"p-panel p-component":!0,"p-panel-toggleable":r,"p-panel-expanded":o}),u$=r=>({transitionParams:r,height:"0",opacity:"0"}),p$=r=>({value:"hidden",params:r}),f$=r=>({transitionParams:r,height:"*",opacity:"1"}),h$=r=>({value:"visible",params:r}),m$=(r,o,e)=>({"p-panel-icons-start":r,"p-panel-icons-end":o,"p-panel-icons-center":e}),g$=r=>({$implicit:r});function _$(r,o){if(r&1&&(Kt(0,"span",12),Dr(1),Qt()),r&2){let e=Sr(2);Fo("id",e.id+"_header"),pr(),wi(e._header)}}function b$(r,o){r&1&&Li(0)}function v$(r,o){}function y$(r,o){r&1&&Zr(0,v$,0,0,"ng-template")}function x$(r,o){if(r&1&&no(0,"span"),r&2){let e=Sr(6);Sn(e.expandIcon)}}function w$(r,o){r&1&&no(0,"MinusIcon")}function C$(r,o){if(r&1&&(os(0),Zr(1,x$,1,2,"span",16)(2,w$,1,0,"MinusIcon",14),ns()),r&2){let e=Sr(5);pr(),Ir("ngIf",e.expandIcon),pr(),Ir("ngIf",!e.expandIcon)}}function k$(r,o){if(r&1&&no(0,"span"),r&2){let e=Sr(6);Sn(e.collapseIcon)}}function M$(r,o){r&1&&no(0,"PlusIcon")}function T$(r,o){if(r&1&&(os(0),Zr(1,k$,1,2,"span",16)(2,M$,1,0,"PlusIcon",14),ns()),r&2){let e=Sr(5);pr(),Ir("ngIf",e.collapseIcon),pr(),Ir("ngIf",!e.collapseIcon)}}function E$(r,o){if(r&1&&(os(0),Zr(1,C$,3,2,"ng-container",14)(2,T$,3,2,"ng-container",14),ns()),r&2){let e=Sr(4);pr(),Ir("ngIf",!e.collapsed),pr(),Ir("ngIf",e.collapsed)}}function S$(r,o){}function P$(r,o){r&1&&Zr(0,S$,0,0,"ng-template")}function A$(r,o){if(r&1&&Zr(0,E$,3,2,"ng-container",14)(1,P$,1,0,null,15),r&2){let e=Sr(3);Ir("ngIf",!e.headerIconsTemplate&&!e._headerIconsTemplate&&!(e.toggleButtonProps!=null&&e.toggleButtonProps.icon)),pr(),Ir("ngTemplateOutlet",e.headerIconsTemplate||e._headerIconsTemplate)("ngTemplateOutletContext",Ni(3,g$,e.collapsed))}}function B$(r,o){if(r&1){let e=xn();Kt(0,"p-button",13),_o("click",function(s){en(e);let c=Sr(2);return tn(c.onIconClick(s))})("keydown",function(s){en(e);let c=Sr(2);return tn(c.onKeyDown(s))}),Zr(1,A$,2,5,"ng-template",null,1,Dh),Qt()}if(r&2){let e=Sr(2);Ir("text",!0)("rounded",!0)("buttonProps",e.toggleButtonProps),Fo("id",e.id+"_header")("aria-label",e.buttonAriaLabel)("aria-controls",e.id+"_content")("aria-expanded",!e.collapsed)}}function I$(r,o){if(r&1){let e=xn();Kt(0,"div",8),_o("click",function(s){en(e);let c=Sr();return tn(c.onHeaderClick(s))}),Zr(1,_$,2,2,"span",9),xi(2,1),Zr(3,b$,1,0,"ng-container",6),Kt(4,"div",10),Zr(5,y$,1,0,null,6)(6,B$,3,7,"p-button",11),Qt()()}if(r&2){let e=Sr();Fo("id",e.id+"-titlebar"),pr(),Ir("ngIf",e._header),pr(2),Ir("ngTemplateOutlet",e.headerTemplate||e._headerTemplate),pr(),Ir("ngClass",LM(6,m$,e.iconPos==="start",e.iconPos==="end",e.iconPos==="center")),pr(),Ir("ngTemplateOutlet",e.iconTemplate||e._iconTemplate),pr(),Ir("ngIf",e.toggleable)}}function D$(r,o){r&1&&Li(0)}function F$(r,o){r&1&&Li(0)}function R$(r,o){if(r&1&&(Kt(0,"div",17),xi(1,2),Zr(2,F$,1,0,"ng-container",6),Qt()),r&2){let e=Sr();pr(2),Ir("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)}}var CC=(()=>{class r extends Vn{toggleable;_header;collapsed;style;styleClass;iconPos="end";expandIcon;collapseIcon;showHeader=!0;toggler="icon";transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";toggleButtonProps;collapsedChange=new Ln;onBeforeToggle=new Ln;onAfterToggle=new Ln;footerFacet;animating;headerTemplate;iconTemplate;contentTemplate;footerTemplate;headerIconsTemplate;_headerTemplate;_iconTemplate;_contentTemplate;_footerTemplate;_headerIconsTemplate;contentWrapperViewChild;id=il("pn_id_");get buttonAriaLabel(){return this._header}_componentStyle=wr(L5);onHeaderClick(e){this.toggler==="header"&&this.toggle(e)}onIconClick(e){this.toggler==="icon"&&this.toggle(e)}toggle(e){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.toggleable&&(this.collapsed?this.expand():this.collapse()),this.cd.markForCheck(),e.preventDefault()}expand(){this.collapsed=!1,this.collapsedChange.emit(this.collapsed),this.updateTabIndex()}collapse(){this.collapsed=!0,this.collapsedChange.emit(this.collapsed),this.updateTabIndex()}getBlockableElement(){return this.el.nativeElement.children[0]}updateTabIndex(){this.contentWrapperViewChild&&this.contentWrapperViewChild.nativeElement.querySelectorAll('input, button, select, a, textarea, [tabindex]:not([tabindex="-1"])').forEach(n=>{this.collapsed?n.setAttribute("tabindex","-1"):n.removeAttribute("tabindex")})}onKeyDown(e){(e.code==="Enter"||e.code==="Space")&&(this.toggle(e),e.preventDefault())}onToggleDone(e){this.animating=!1,this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed})}templates;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this._headerTemplate=e.template;break;case"content":this._contentTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"icons":this._iconTemplate=e.template;break;case"headericons":this._headerIconsTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275cmp=Mo({type:r,selectors:[["p-panel"]],contentQueries:function(n,s,c){if(n&1&&(hn(c,Ny,5),hn(c,r$,4),hn(c,o$,4),hn(c,n$,4),hn(c,i$,4),hn(c,a$,4),hn(c,Gi,4)),n&2){let u;on(u=nn())&&(s.footerFacet=u.first),on(u=nn())&&(s.headerTemplate=u.first),on(u=nn())&&(s.iconTemplate=u.first),on(u=nn())&&(s.contentTemplate=u.first),on(u=nn())&&(s.footerTemplate=u.first),on(u=nn())&&(s.headerIconsTemplate=u.first),on(u=nn())&&(s.templates=u)}},viewQuery:function(n,s){if(n&1&&my(s$,5),n&2){let c;on(c=nn())&&(s.contentWrapperViewChild=c.first)}},inputs:{toggleable:[2,"toggleable","toggleable",Oo],_header:[0,"header","_header"],collapsed:[2,"collapsed","collapsed",Oo],style:"style",styleClass:"styleClass",iconPos:"iconPos",expandIcon:"expandIcon",collapseIcon:"collapseIcon",showHeader:[2,"showHeader","showHeader",Oo],toggler:"toggler",transitionOptions:"transitionOptions",toggleButtonProps:"toggleButtonProps"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},features:[an([L5]),fi,No],ngContentSelectors:c$,decls:8,vars:25,consts:[["contentWrapper",""],["icon",""],[3,"ngClass","ngStyle"],["class","p-panel-header",3,"click",4,"ngIf"],["role","region",1,"p-panel-content-container",3,"id"],[1,"p-panel-content"],[4,"ngTemplateOutlet"],["class","p-panel-footer",4,"ngIf"],[1,"p-panel-header",3,"click"],["class","p-panel-title",4,"ngIf"],[1,"p-panel-icons",3,"ngClass"],["severity","secondary","type","button","role","button","styleClass","p-panel-header-icon p-panel-toggler p-link",3,"text","rounded","buttonProps","click","keydown",4,"ngIf"],[1,"p-panel-title"],["severity","secondary","type","button","role","button","styleClass","p-panel-header-icon p-panel-toggler p-link",3,"click","keydown","text","rounded","buttonProps"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class",4,"ngIf"],[1,"p-panel-footer"]],template:function(n,s){if(n&1){let c=xn();Yi(l$),Kt(0,"div",2),Zr(1,I$,7,10,"div",3),Kt(2,"div",4),_o("@panelContent.done",function(h){return en(c),tn(s.onToggleDone(h))}),Kt(3,"div",5,0),xi(5),Zr(6,D$,1,0,"ng-container",6),Qt(),Zr(7,R$,3,1,"div",7),Qt()()}n&2&&(Sn(s.styleClass),Ir("ngClass",Bh(14,d$,s.toggleable,!s.collapsed&&s.toggleable))("ngStyle",s.style),Fo("id",s.id)("data-pc-name","panel"),pr(),Ir("ngIf",s.showHeader),pr(),Ir("id",s.id+"_content")("@panelContent",s.collapsed?Ni(19,p$,Ni(17,u$,s.animating?s.transitionOptions:"0ms")):Ni(23,h$,Ni(21,f$,s.animating?s.transitionOptions:"0ms"))),Fo("aria-labelledby",s.id+"_header")("aria-hidden",s.collapsed)("tabindex",s.collapsed?"-1":void 0),pr(4),Ir("ngTemplateOutlet",s.contentTemplate||s._contentTemplate),pr(),Ir("ngIf",s.footerFacet||s.footerTemplate||s._footerTemplate))},dependencies:[Fn,is,Fl,Rs,zu,ZE,JE,$l,nu,wn],encapsulation:2,data:{animation:[JM("panelContent",[ky("hidden",Cy({height:"0"})),ky("void",Cy({height:"{{height}}"}),{params:{height:"0"}}),ky("visible",Cy({height:"*"})),My("visible <=> hidden",[wy("{{transitionParams}}")]),My("void => hidden",wy("{{transitionParams}}")),My("void => visible",wy("{{transitionParams}}"))])]},changeDetection:0})}return r})(),N5=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=vn({type:r});static \u0275inj=bn({imports:[CC,wn,wn]})}return r})();var $$=({dt:r})=>`
.p-progressspinner {
    position: relative;
    margin: 0 auto;
    width: 100px;
    height: 100px;
    display: inline-block;
}

.p-progressspinner::before {
    content: "";
    display: block;
    padding-top: 100%;
}

.p-progressspinner-spin {
    height: 100%;
    transform-origin: center center;
    width: 100%;
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    margin: auto;
    animation: p-progressspinner-rotate 2s linear infinite;
}

.p-progressspinner-circle {
    stroke-dasharray: 89, 200;
    stroke-dashoffset: 0;
    stroke: ${r("progressspinner.color.1")};
    animation: p-progressspinner-dash 1.5s ease-in-out infinite, p-progressspinner-color 6s ease-in-out infinite;
    stroke-linecap: round;
}

@keyframes p-progressspinner-rotate {
    100% {
        transform: rotate(360deg);
    }
}
@keyframes p-progressspinner-dash {
    0% {
        stroke-dasharray: 1, 200;
        stroke-dashoffset: 0;
    }
    50% {
        stroke-dasharray: 89, 200;
        stroke-dashoffset: -35px;
    }
    100% {
        stroke-dasharray: 89, 200;
        stroke-dashoffset: -124px;
    }
}
@keyframes p-progressspinner-color {
    100%,
    0% {
        stroke: ${r("progressspinner.color.1")};
    }
    40% {
        stroke: ${r("progressspinner.color.2")};
    }
    66% {
        stroke: ${r("progressspinner.color.3")};
    }
    80%,
    90% {
        stroke: ${r("progressspinner.color.4")};
    }
}
`,L$={root:"p-progressspinner",spin:"p-progressspinner-spin",circle:"p-progressspinner-circle"},z5=(()=>{class r extends kn{name="progressspinner";theme=$$;classes=L$;static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})();var kC=(()=>{class r extends Vn{styleClass;style;strokeWidth="2";fill="none";animationDuration="2s";ariaLabel;_componentStyle=wr(z5);static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275cmp=Mo({type:r,selectors:[["p-progressSpinner"],["p-progress-spinner"],["p-progressspinner"]],inputs:{styleClass:"styleClass",style:"style",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration",ariaLabel:"ariaLabel"},features:[an([z5]),No],decls:3,vars:11,consts:[["role","progressbar",1,"p-progressspinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progressspinner-spin"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progressspinner-circle"]],template:function(n,s){n&1&&(Kt(0,"div",0),Ds(),Kt(1,"svg",1),no(2,"circle",2),Qt()()),n&2&&(Ir("ngStyle",s.style)("ngClass",s.styleClass),Fo("aria-label",s.ariaLabel)("aria-busy",!0)("data-pc-name","progressspinner")("data-pc-section","root"),pr(),Ah("animation-duration",s.animationDuration),Fo("data-pc-section","root"),pr(),Fo("fill",s.fill)("stroke-width",s.strokeWidth))},dependencies:[Fn,is,zu,wn],encapsulation:2,changeDetection:0})}return r})(),j5=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=vn({type:r});static \u0275inj=bn({imports:[kC,wn,wn]})}return r})();var U5={"./node_modules/onnxruntime-web/dist/ort-wasm-simd-threaded.jsep.wasm":(r,o,e)=>{r.exports=e.p+"ort-wasm-simd-threaded.jsep.wasm"},"./node_modules/onnxruntime-web/dist/ort.bundle.min.mjs?46eb":(r,o,e)=>{r.exports=e.p+"ort.bundle.min.mjs"},"?2ce3":()=>{},"?7a2c":()=>{},"?a42a":()=>{},"?2b25":()=>{},"?569f":()=>{},"?3f59":()=>{},"?154a":()=>{},"./node_modules/@huggingface/jinja/dist/index.js":(r,o,e)=>{e.r(o),e.d(o,{Environment:()=>mr,Interpreter:()=>Cr,Template:()=>Ar,parse:()=>at,tokenize:()=>G});var n=Object.freeze({Text:"Text",NumericLiteral:"NumericLiteral",BooleanLiteral:"BooleanLiteral",NullLiteral:"NullLiteral",StringLiteral:"StringLiteral",Identifier:"Identifier",Equals:"Equals",OpenParen:"OpenParen",CloseParen:"CloseParen",OpenStatement:"OpenStatement",CloseStatement:"CloseStatement",OpenExpression:"OpenExpression",CloseExpression:"CloseExpression",OpenSquareBracket:"OpenSquareBracket",CloseSquareBracket:"CloseSquareBracket",OpenCurlyBracket:"OpenCurlyBracket",CloseCurlyBracket:"CloseCurlyBracket",Comma:"Comma",Dot:"Dot",Colon:"Colon",Pipe:"Pipe",CallOperator:"CallOperator",AdditiveBinaryOperator:"AdditiveBinaryOperator",MultiplicativeBinaryOperator:"MultiplicativeBinaryOperator",ComparisonBinaryOperator:"ComparisonBinaryOperator",UnaryOperator:"UnaryOperator",Set:"Set",If:"If",For:"For",In:"In",Is:"Is",NotIn:"NotIn",Else:"Else",EndIf:"EndIf",ElseIf:"ElseIf",EndFor:"EndFor",And:"And",Or:"Or",Not:"UnaryOperator",Macro:"Macro",EndMacro:"EndMacro"}),s=Object.freeze({set:n.Set,for:n.For,in:n.In,is:n.Is,if:n.If,else:n.Else,endif:n.EndIf,elif:n.ElseIf,endfor:n.EndFor,and:n.And,or:n.Or,not:n.Not,"not in":n.NotIn,macro:n.Macro,endmacro:n.EndMacro,true:n.BooleanLiteral,false:n.BooleanLiteral,none:n.NullLiteral,True:n.BooleanLiteral,False:n.BooleanLiteral,None:n.NullLiteral}),c=class{constructor(rt,Et){this.value=rt,this.type=Et}};function u(rt){return/\w/.test(rt)}function h(rt){return/[0-9]/.test(rt)}var p=[["{%",n.OpenStatement],["%}",n.CloseStatement],["{{",n.OpenExpression],["}}",n.CloseExpression],["(",n.OpenParen],[")",n.CloseParen],["{",n.OpenCurlyBracket],["}",n.CloseCurlyBracket],["[",n.OpenSquareBracket],["]",n.CloseSquareBracket],[",",n.Comma],[".",n.Dot],[":",n.Colon],["|",n.Pipe],["<=",n.ComparisonBinaryOperator],[">=",n.ComparisonBinaryOperator],["==",n.ComparisonBinaryOperator],["!=",n.ComparisonBinaryOperator],["<",n.ComparisonBinaryOperator],[">",n.ComparisonBinaryOperator],["+",n.AdditiveBinaryOperator],["-",n.AdditiveBinaryOperator],["*",n.MultiplicativeBinaryOperator],["/",n.MultiplicativeBinaryOperator],["%",n.MultiplicativeBinaryOperator],["=",n.Equals]],y=new Map([["n",`
`],["t","	"],["r","\r"],["b","\b"],["f","\f"],["v","\v"],["'","'"],['"','"'],["\\","\\"]]);function k(rt,Et={}){return rt.endsWith(`
`)&&(rt=rt.slice(0,-1)),rt=rt.replace(/{#.*?#}/gs,"{##}"),Et.lstrip_blocks&&(rt=rt.replace(/^[ \t]*({[#%])/gm,"$1")),Et.trim_blocks&&(rt=rt.replace(/([#%]})\n/g,"$1")),rt.replace(/{##}/g,"").replace(/-%}\s*/g,"%}").replace(/\s*{%-/g,"{%").replace(/-}}\s*/g,"}}").replace(/\s*{{-/g,"{{")}function G(rt,Et={}){let _t=[],Tt=k(rt,Et),zt=0,tr=ur=>{let kr="";for(;ur(Tt[zt]);){if(Tt[zt]==="\\"){if(++zt,zt>=Tt.length)throw new SyntaxError("Unexpected end of input");let gr=Tt[zt++],_r=y.get(gr);if(_r===void 0)throw new SyntaxError(`Unexpected escaped character: ${gr}`);kr+=_r;continue}if(kr+=Tt[zt++],zt>=Tt.length)throw new SyntaxError("Unexpected end of input")}return kr};e:for(;zt<Tt.length;){let ur=_t.at(-1)?.type;if(ur===void 0||ur===n.CloseStatement||ur===n.CloseExpression){let gr="";for(;zt<Tt.length&&!(Tt[zt]==="{"&&(Tt[zt+1]==="%"||Tt[zt+1]==="{"));)gr+=Tt[zt++];if(gr.length>0){_t.push(new c(gr,n.Text));continue}}tr(gr=>/\s/.test(gr));let kr=Tt[zt];if(kr==="-"||kr==="+"){let gr=_t.at(-1)?.type;if(gr===n.Text||gr===void 0)throw new SyntaxError(`Unexpected character: ${kr}`);switch(gr){case n.Identifier:case n.NumericLiteral:case n.BooleanLiteral:case n.NullLiteral:case n.StringLiteral:case n.CloseParen:case n.CloseSquareBracket:break;default:{++zt;let _r=tr(h);_t.push(new c(`${kr}${_r}`,_r.length>0?n.NumericLiteral:n.UnaryOperator));continue}}}for(let[gr,_r]of p)if(Tt.slice(zt,zt+gr.length)===gr){_t.push(new c(gr,_r)),zt+=gr.length;continue e}if(kr==="'"||kr==='"'){++zt;let gr=tr(_r=>_r!==kr);_t.push(new c(gr,n.StringLiteral)),++zt;continue}if(h(kr)){let gr=tr(h);_t.push(new c(gr,n.NumericLiteral));continue}if(u(kr)){let gr=tr(u),_r=Object.hasOwn(s,gr)?s[gr]:n.Identifier;_r===n.In&&_t.at(-1)?.type===n.Not?(_t.pop(),_t.push(new c("not in",n.NotIn))):_t.push(new c(gr,_r));continue}throw new SyntaxError(`Unexpected character: ${kr}`)}return _t}var $=class{type="Statement"},Me=class extends ${constructor(rt){super(),this.body=rt}type="Program"},Re=class extends ${constructor(rt,Et,_t){super(),this.test=rt,this.body=Et,this.alternate=_t}type="If"},Ke=class extends ${constructor(rt,Et,_t,Tt){super(),this.loopvar=rt,this.iterable=Et,this.body=_t,this.defaultBlock=Tt}type="For"},He=class extends ${constructor(rt,Et){super(),this.assignee=rt,this.value=Et}type="Set"},Ie=class extends ${constructor(rt,Et,_t){super(),this.name=rt,this.args=Et,this.body=_t}type="Macro"},Pe=class extends ${type="Expression"},Xe=class extends Pe{constructor(rt,Et,_t){super(),this.object=rt,this.property=Et,this.computed=_t}type="MemberExpression"},Ne=class extends Pe{constructor(rt,Et){super(),this.callee=rt,this.args=Et}type="CallExpression"},Ge=class extends Pe{constructor(rt){super(),this.value=rt}type="Identifier"},Ve=class extends Pe{constructor(rt){super(),this.value=rt}type="Literal"},Oe=class extends Ve{type="NumericLiteral"},Ue=class extends Ve{type="StringLiteral"},tt=class extends Ve{type="BooleanLiteral"},bt=class extends Ve{type="NullLiteral"},lt=class extends Ve{type="ArrayLiteral"},mt=class extends Ve{type="TupleLiteral"},ut=class extends Ve{type="ObjectLiteral"},ht=class extends Pe{constructor(rt,Et,_t){super(),this.operator=rt,this.left=Et,this.right=_t}type="BinaryExpression"},Ct=class extends Pe{constructor(rt,Et){super(),this.operand=rt,this.filter=Et}type="FilterExpression"},It=class extends Pe{constructor(rt,Et){super(),this.iterable=rt,this.test=Et}type="SelectExpression"},Ft=class extends Pe{constructor(rt,Et,_t){super(),this.operand=rt,this.negate=Et,this.test=_t}type="TestExpression"},At=class extends Pe{constructor(rt,Et){super(),this.operator=rt,this.argument=Et}type="UnaryExpression"},Dt=class extends Pe{constructor(rt=void 0,Et=void 0,_t=void 0){super(),this.start=rt,this.stop=Et,this.step=_t}type="SliceExpression"},Rt=class extends Pe{constructor(rt,Et){super(),this.key=rt,this.value=Et}type="KeywordArgumentExpression"};function at(rt){let Et=new Me([]),_t=0;function Tt(xr,Wr){let oo=rt[_t++];if(!oo||oo.type!==xr)throw new Error(`Parser Error: ${Wr}. ${oo.type} !== ${xr}.`);return oo}function zt(){switch(rt[_t].type){case n.Text:return kr();case n.OpenStatement:return gr();case n.OpenExpression:return _r();default:throw new SyntaxError(`Unexpected token type: ${rt[_t].type}`)}}function tr(...xr){return _t+xr.length<=rt.length&&xr.some((Wr,oo)=>Wr!==rt[_t+oo].type)}function ur(...xr){return _t+xr.length<=rt.length&&xr.every((Wr,oo)=>Wr===rt[_t+oo].type)}function kr(){return new Ue(Tt(n.Text,"Expected text token").value)}function gr(){Tt(n.OpenStatement,"Expected opening statement token");let xr;switch(rt[_t].type){case n.Set:++_t,xr=qr(),Tt(n.CloseStatement,"Expected closing statement token");break;case n.If:++_t,xr=$r(),Tt(n.OpenStatement,"Expected {% token"),Tt(n.EndIf,"Expected endif token"),Tt(n.CloseStatement,"Expected %} token");break;case n.Macro:++_t,xr=Ur(),Tt(n.OpenStatement,"Expected {% token"),Tt(n.EndMacro,"Expected endmacro token"),Tt(n.CloseStatement,"Expected %} token");break;case n.For:++_t,xr=Qo(),Tt(n.OpenStatement,"Expected {% token"),Tt(n.EndFor,"Expected endfor token"),Tt(n.CloseStatement,"Expected %} token");break;default:throw new SyntaxError(`Unknown statement type: ${rt[_t].type}`)}return xr}function _r(){Tt(n.OpenExpression,"Expected opening expression token");let xr=pn();return Tt(n.CloseExpression,"Expected closing expression token"),xr}function qr(){let xr=pn();if(ur(n.Equals)){++_t;let Wr=qr();return new He(xr,Wr)}return xr}function $r(){let xr=pn();Tt(n.CloseStatement,"Expected closing statement token");let Wr=[],oo=[];for(;!(rt[_t]?.type===n.OpenStatement&&(rt[_t+1]?.type===n.ElseIf||rt[_t+1]?.type===n.Else||rt[_t+1]?.type===n.EndIf));)Wr.push(zt());if(rt[_t]?.type===n.OpenStatement&&rt[_t+1]?.type!==n.EndIf)if(++_t,ur(n.ElseIf))Tt(n.ElseIf,"Expected elseif token"),oo.push($r());else for(Tt(n.Else,"Expected else token"),Tt(n.CloseStatement,"Expected closing statement token");!(rt[_t]?.type===n.OpenStatement&&rt[_t+1]?.type===n.EndIf);)oo.push(zt());return new Re(xr,Wr,oo)}function Ur(){let xr=li();if(xr.type!=="Identifier")throw new SyntaxError("Expected identifier following macro statement");let Wr=zi();Tt(n.CloseStatement,"Expected closing statement token");let oo=[];for(;tr(n.OpenStatement,n.EndMacro);)oo.push(zt());return new Ie(xr,Wr,oo)}function Io(xr=!1){let Wr=xr?li:pn,oo=[Wr()],ci=ur(n.Comma);for(;ci&&(++_t,oo.push(Wr()),!!ur(n.Comma)););return ci?new mt(oo):oo[0]}function Qo(){let xr=Io(!0);if(!(xr instanceof Ge||xr instanceof mt))throw new SyntaxError(`Expected identifier/tuple for the loop variable, got ${xr.type} instead`);Tt(n.In,"Expected `in` keyword following loop variable");let Wr=pn();Tt(n.CloseStatement,"Expected closing statement token");let oo=[];for(;tr(n.OpenStatement,n.EndFor)&&tr(n.OpenStatement,n.Else);)oo.push(zt());let ci=[];if(ur(n.OpenStatement,n.Else))for(++_t,++_t,Tt(n.CloseStatement,"Expected closing statement token");tr(n.OpenStatement,n.EndFor);)ci.push(zt());return new Ke(xr,Wr,oo,ci)}function pn(){return Kn()}function Kn(){let xr=Bi();if(ur(n.If)){++_t;let Wr=Bi();if(ur(n.Else)){++_t;let oo=Bi();return new Re(Wr,[xr],[oo])}else return new It(xr,Wr)}return xr}function Bi(){let xr=Zi();for(;ur(n.Or);){let Wr=rt[_t];++_t;let oo=Zi();xr=new ht(Wr,xr,oo)}return xr}function Zi(){let xr=Rn();for(;ur(n.And);){let Wr=rt[_t];++_t;let oo=Rn();xr=new ht(Wr,xr,oo)}return xr}function Rn(){let xr;for(;ur(n.Not);){let Wr=rt[_t];++_t;let oo=Rn();xr=new At(Wr,oo)}return xr??Hi()}function Hi(){let xr=ao();for(;ur(n.ComparisonBinaryOperator)||ur(n.In)||ur(n.NotIn);){let Wr=rt[_t];++_t;let oo=ao();xr=new ht(Wr,xr,oo)}return xr}function ao(){let xr=Di();for(;ur(n.AdditiveBinaryOperator);){let Wr=rt[_t];++_t;let oo=Di();xr=new ht(Wr,xr,oo)}return xr}function ca(){let xr=ss(li());return ur(n.OpenParen)?Ii(xr):xr}function Ii(xr){let Wr=new Ne(xr,zi());return Wr=ss(Wr),ur(n.OpenParen)&&(Wr=Ii(Wr)),Wr}function zi(){Tt(n.OpenParen,"Expected opening parenthesis for arguments list");let xr=ga();return Tt(n.CloseParen,"Expected closing parenthesis for arguments list"),xr}function ga(){let xr=[];for(;!ur(n.CloseParen);){let Wr=pn();if(ur(n.Equals)){if(++_t,!(Wr instanceof Ge))throw new SyntaxError("Expected identifier for keyword argument");let oo=pn();Wr=new Rt(Wr,oo)}xr.push(Wr),ur(n.Comma)&&++_t}return xr}function ki(){let xr=[],Wr=!1;for(;!ur(n.CloseSquareBracket);)ur(n.Colon)?(xr.push(void 0),++_t,Wr=!0):(xr.push(pn()),ur(n.Colon)&&(++_t,Wr=!0));if(xr.length===0)throw new SyntaxError("Expected at least one argument for member/slice expression");if(Wr){if(xr.length>3)throw new SyntaxError("Expected 0-3 arguments for slice expression");return new Dt(...xr)}return xr[0]}function ss(xr){for(;ur(n.Dot)||ur(n.OpenSquareBracket);){let Wr=rt[_t];++_t;let oo,ci=Wr.type!==n.Dot;if(ci)oo=ki(),Tt(n.CloseSquareBracket,"Expected closing square bracket");else if(oo=li(),oo.type!=="Identifier")throw new SyntaxError("Expected identifier following dot operator");xr=new Xe(xr,oo,ci)}return xr}function Di(){let xr=On();for(;ur(n.MultiplicativeBinaryOperator);){let Wr=rt[_t];++_t;let oo=On();xr=new ht(Wr,xr,oo)}return xr}function On(){let xr=ni();for(;ur(n.Is);){++_t;let Wr=ur(n.Not);Wr&&++_t;let oo=li();if(oo instanceof tt?oo=new Ge(oo.value.toString()):oo instanceof bt&&(oo=new Ge("none")),!(oo instanceof Ge))throw new SyntaxError("Expected identifier for the test");xr=new Ft(xr,Wr,oo)}return xr}function ni(){let xr=ca();for(;ur(n.Pipe);){++_t;let Wr=li();if(!(Wr instanceof Ge))throw new SyntaxError("Expected identifier for the filter");ur(n.OpenParen)&&(Wr=Ii(Wr)),xr=new Ct(xr,Wr)}return xr}function li(){let xr=rt[_t];switch(xr.type){case n.NumericLiteral:return++_t,new Oe(Number(xr.value));case n.StringLiteral:return++_t,new Ue(xr.value);case n.BooleanLiteral:return++_t,new tt(xr.value.toLowerCase()==="true");case n.NullLiteral:return++_t,new bt(null);case n.Identifier:return++_t,new Ge(xr.value);case n.OpenParen:{++_t;let Wr=Io();if(rt[_t].type!==n.CloseParen)throw new SyntaxError(`Expected closing parenthesis, got ${rt[_t].type} instead`);return++_t,Wr}case n.OpenSquareBracket:{++_t;let Wr=[];for(;!ur(n.CloseSquareBracket);)Wr.push(pn()),ur(n.Comma)&&++_t;return++_t,new lt(Wr)}case n.OpenCurlyBracket:{++_t;let Wr=new Map;for(;!ur(n.CloseCurlyBracket);){let oo=pn();Tt(n.Colon,"Expected colon between key and value in object literal");let ci=pn();Wr.set(oo,ci),ur(n.Comma)&&++_t}return++_t,new ut(Wr)}default:throw new SyntaxError(`Unexpected token: ${xr.type}`)}}for(;_t<rt.length;)Et.body.push(zt());return Et}function Ze(rt,Et,_t=1){Et===void 0&&(Et=rt,rt=0);let Tt=[];for(let zt=rt;zt<Et;zt+=_t)Tt.push(zt);return Tt}function vt(rt,Et,_t,Tt=1){let zt=Math.sign(Tt);zt>=0?(Et=(Et??=0)<0?Math.max(rt.length+Et,0):Math.min(Et,rt.length),_t=(_t??=rt.length)<0?Math.max(rt.length+_t,0):Math.min(_t,rt.length)):(Et=(Et??=rt.length-1)<0?Math.max(rt.length+Et,-1):Math.min(Et,rt.length-1),_t=(_t??=-1)<-1?Math.max(rt.length+_t,-1):Math.min(_t,rt.length-1));let tr=[];for(let ur=Et;zt*ur<zt*_t;ur+=Tt)tr.push(rt[ur]);return tr}function St(rt){return rt.replace(/\b\w/g,Et=>Et.toUpperCase())}var $t=class{type="RuntimeValue";value;builtins=new Map;constructor(rt=void 0){this.value=rt}__bool__(){return new st(!!this.value)}},qt=class extends $t{type="NumericValue"},gt=class extends $t{type="StringValue";builtins=new Map([["upper",new rr(()=>new gt(this.value.toUpperCase()))],["lower",new rr(()=>new gt(this.value.toLowerCase()))],["strip",new rr(()=>new gt(this.value.trim()))],["title",new rr(()=>new gt(St(this.value)))],["length",new qt(this.value.length)],["rstrip",new rr(()=>new gt(this.value.trimEnd()))],["lstrip",new rr(()=>new gt(this.value.trimStart()))],["split",new rr(rt=>{let Et=rt[0]??new nr;if(!(Et instanceof gt||Et instanceof nr))throw new Error("sep argument must be a string or null");let _t=rt[1]??new qt(-1);if(!(_t instanceof qt))throw new Error("maxsplit argument must be a number");let Tt=[];if(Et instanceof nr){let zt=this.value.trimStart();for(let{0:tr,index:ur}of zt.matchAll(/\S+/g)){if(_t.value!==-1&&Tt.length>=_t.value&&ur!==void 0){Tt.push(tr+zt.slice(ur+tr.length));break}Tt.push(tr)}}else{if(Et.value==="")throw new Error("empty separator");Tt=this.value.split(Et.value),_t.value!==-1&&Tt.length>_t.value&&Tt.push(Tt.splice(_t.value).join(Et.value))}return new xt(Tt.map(zt=>new gt(zt)))})]])},st=class extends $t{type="BooleanValue"},hr=class extends $t{type="ObjectValue";__bool__(){return new st(this.value.size>0)}builtins=new Map([["get",new rr(([rt,Et])=>{if(!(rt instanceof gt))throw new Error(`Object key must be a string: got ${rt.type}`);return this.value.get(rt.value)??Et??new nr})],["items",new rr(()=>new xt(Array.from(this.value.entries()).map(([rt,Et])=>new xt([new gt(rt),Et]))))]])},Ht=class extends hr{type="KeywordArgumentsValue"},xt=class extends $t{type="ArrayValue";builtins=new Map([["length",new qt(this.value.length)]]);__bool__(){return new st(this.value.length>0)}},Ut=class extends xt{type="TupleValue"},rr=class extends $t{type="FunctionValue"},nr=class extends $t{type="NullValue"},cr=class extends $t{type="UndefinedValue"},mr=class{constructor(rt){this.parent=rt}variables=new Map([["namespace",new rr(rt=>{if(rt.length===0)return new hr(new Map);if(rt.length!==1||!(rt[0]instanceof hr))throw new Error("`namespace` expects either zero arguments or a single object argument");return rt[0]})]]);tests=new Map([["boolean",rt=>rt.type==="BooleanValue"],["callable",rt=>rt instanceof rr],["odd",rt=>{if(rt.type!=="NumericValue")throw new Error(`Cannot apply test "odd" to type: ${rt.type}`);return rt.value%2!==0}],["even",rt=>{if(rt.type!=="NumericValue")throw new Error(`Cannot apply test "even" to type: ${rt.type}`);return rt.value%2===0}],["false",rt=>rt.type==="BooleanValue"&&!rt.value],["true",rt=>rt.type==="BooleanValue"&&rt.value],["none",rt=>rt.type==="NullValue"],["string",rt=>rt.type==="StringValue"],["number",rt=>rt.type==="NumericValue"],["integer",rt=>rt.type==="NumericValue"&&Number.isInteger(rt.value)],["iterable",rt=>rt.type==="ArrayValue"||rt.type==="StringValue"],["mapping",rt=>rt.type==="ObjectValue"],["lower",rt=>{let Et=rt.value;return rt.type==="StringValue"&&Et===Et.toLowerCase()}],["upper",rt=>{let Et=rt.value;return rt.type==="StringValue"&&Et===Et.toUpperCase()}],["none",rt=>rt.type==="NullValue"],["defined",rt=>rt.type!=="UndefinedValue"],["undefined",rt=>rt.type==="UndefinedValue"],["equalto",(rt,Et)=>rt.value===Et.value],["eq",(rt,Et)=>rt.value===Et.value]]);set(rt,Et){return this.declareVariable(rt,Tr(Et))}declareVariable(rt,Et){if(this.variables.has(rt))throw new SyntaxError(`Variable already declared: ${rt}`);return this.variables.set(rt,Et),Et}setVariable(rt,Et){return this.variables.set(rt,Et),Et}resolve(rt){if(this.variables.has(rt))return this;if(this.parent)return this.parent.resolve(rt);throw new Error(`Unknown variable: ${rt}`)}lookupVariable(rt){try{return this.resolve(rt).variables.get(rt)??new cr}catch{return new cr}}},Cr=class{global;constructor(rt){this.global=rt??new mr}run(rt){return this.evaluate(rt,this.global)}evaluateBinaryExpression(rt,Et){let _t=this.evaluate(rt.left,Et);switch(rt.operator.value){case"and":return _t.__bool__().value?this.evaluate(rt.right,Et):_t;case"or":return _t.__bool__().value?_t:this.evaluate(rt.right,Et)}let Tt=this.evaluate(rt.right,Et);switch(rt.operator.value){case"==":return new st(_t.value==Tt.value);case"!=":return new st(_t.value!=Tt.value)}if(_t instanceof cr||Tt instanceof cr)throw new Error("Cannot perform operation on undefined values");if(_t instanceof nr||Tt instanceof nr)throw new Error("Cannot perform operation on null values");if(_t instanceof qt&&Tt instanceof qt)switch(rt.operator.value){case"+":return new qt(_t.value+Tt.value);case"-":return new qt(_t.value-Tt.value);case"*":return new qt(_t.value*Tt.value);case"/":return new qt(_t.value/Tt.value);case"%":return new qt(_t.value%Tt.value);case"<":return new st(_t.value<Tt.value);case">":return new st(_t.value>Tt.value);case">=":return new st(_t.value>=Tt.value);case"<=":return new st(_t.value<=Tt.value)}else if(_t instanceof xt&&Tt instanceof xt)switch(rt.operator.value){case"+":return new xt(_t.value.concat(Tt.value))}else if(Tt instanceof xt){let zt=Tt.value.find(tr=>tr.value===_t.value)!==void 0;switch(rt.operator.value){case"in":return new st(zt);case"not in":return new st(!zt)}}if(_t instanceof gt||Tt instanceof gt)switch(rt.operator.value){case"+":return new gt(_t.value.toString()+Tt.value.toString())}if(_t instanceof gt&&Tt instanceof gt)switch(rt.operator.value){case"in":return new st(Tt.value.includes(_t.value));case"not in":return new st(!Tt.value.includes(_t.value))}if(_t instanceof gt&&Tt instanceof hr)switch(rt.operator.value){case"in":return new st(Tt.value.has(_t.value));case"not in":return new st(!Tt.value.has(_t.value))}throw new SyntaxError(`Unknown operator "${rt.operator.value}" between ${_t.type} and ${Tt.type}`)}evaluateArguments(rt,Et){let _t=[],Tt=new Map;for(let zt of rt)if(zt.type==="KeywordArgumentExpression"){let tr=zt;Tt.set(tr.key.value,this.evaluate(tr.value,Et))}else{if(Tt.size>0)throw new Error("Positional arguments must come before keyword arguments");_t.push(this.evaluate(zt,Et))}return[_t,Tt]}evaluateFilterExpression(rt,Et){let _t=this.evaluate(rt.operand,Et);if(rt.filter.type==="Identifier"){let Tt=rt.filter;if(Tt.value==="tojson")return new gt(dr(_t));if(_t instanceof xt)switch(Tt.value){case"list":return _t;case"first":return _t.value[0];case"last":return _t.value[_t.value.length-1];case"length":return new qt(_t.value.length);case"reverse":return new xt(_t.value.reverse());case"sort":return new xt(_t.value.sort((zt,tr)=>{if(zt.type!==tr.type)throw new Error(`Cannot compare different types: ${zt.type} and ${tr.type}`);switch(zt.type){case"NumericValue":return zt.value-tr.value;case"StringValue":return zt.value.localeCompare(tr.value);default:throw new Error(`Cannot compare type: ${zt.type}`)}}));case"join":return new gt(_t.value.map(zt=>zt.value).join(""));default:throw new Error(`Unknown ArrayValue filter: ${Tt.value}`)}else if(_t instanceof gt)switch(Tt.value){case"length":return new qt(_t.value.length);case"upper":return new gt(_t.value.toUpperCase());case"lower":return new gt(_t.value.toLowerCase());case"title":return new gt(St(_t.value));case"capitalize":return new gt(_t.value.charAt(0).toUpperCase()+_t.value.slice(1));case"trim":return new gt(_t.value.trim());case"indent":return new gt(_t.value.split(`
`).map((zt,tr)=>tr===0||zt.length===0?zt:"    "+zt).join(`
`));case"join":case"string":return _t;default:throw new Error(`Unknown StringValue filter: ${Tt.value}`)}else if(_t instanceof qt)switch(Tt.value){case"abs":return new qt(Math.abs(_t.value));default:throw new Error(`Unknown NumericValue filter: ${Tt.value}`)}else if(_t instanceof hr)switch(Tt.value){case"items":return new xt(Array.from(_t.value.entries()).map(([zt,tr])=>new xt([new gt(zt),tr])));case"length":return new qt(_t.value.size);default:throw new Error(`Unknown ObjectValue filter: ${Tt.value}`)}throw new Error(`Cannot apply filter "${Tt.value}" to type: ${_t.type}`)}else if(rt.filter.type==="CallExpression"){let Tt=rt.filter;if(Tt.callee.type!=="Identifier")throw new Error(`Unknown filter: ${Tt.callee.type}`);let zt=Tt.callee.value;if(zt==="tojson"){let[,tr]=this.evaluateArguments(Tt.args,Et),ur=tr.get("indent")??new nr;if(!(ur instanceof qt||ur instanceof nr))throw new Error("If set, indent must be a number");return new gt(dr(_t,ur.value))}else if(zt==="join"){let tr;if(_t instanceof gt)tr=Array.from(_t.value);else if(_t instanceof xt)tr=_t.value.map(_r=>_r.value);else throw new Error(`Cannot apply filter "${zt}" to type: ${_t.type}`);let[ur,kr]=this.evaluateArguments(Tt.args,Et),gr=ur.at(0)??kr.get("separator")??new gt("");if(!(gr instanceof gt))throw new Error("separator must be a string");return new gt(tr.join(gr.value))}if(_t instanceof xt){switch(zt){case"selectattr":case"rejectattr":{let tr=zt==="selectattr";if(_t.value.some($r=>!($r instanceof hr)))throw new Error(`\`${zt}\` can only be applied to array of objects`);if(Tt.args.some($r=>$r.type!=="StringLiteral"))throw new Error(`arguments of \`${zt}\` must be strings`);let[ur,kr,gr]=Tt.args.map($r=>this.evaluate($r,Et)),_r;if(kr){let $r=Et.tests.get(kr.value);if(!$r)throw new Error(`Unknown test: ${kr.value}`);_r=$r}else _r=(...$r)=>$r[0].__bool__().value;let qr=_t.value.filter($r=>{let Ur=$r.value.get(ur.value),Io=Ur?_r(Ur,gr):!1;return tr?Io:!Io});return new xt(qr)}case"map":{let[,tr]=this.evaluateArguments(Tt.args,Et);if(tr.has("attribute")){let ur=tr.get("attribute");if(!(ur instanceof gt))throw new Error("attribute must be a string");let kr=tr.get("default"),gr=_t.value.map(_r=>{if(!(_r instanceof hr))throw new Error("items in map must be an object");return _r.value.get(ur.value)??kr??new cr});return new xt(gr)}else throw new Error("`map` expressions without `attribute` set are not currently supported.")}}throw new Error(`Unknown ArrayValue filter: ${zt}`)}else if(_t instanceof gt){switch(zt){case"indent":{let[tr,ur]=this.evaluateArguments(Tt.args,Et),kr=tr.at(0)??ur.get("width")??new qt(4);if(!(kr instanceof qt))throw new Error("width must be a number");let gr=tr.at(1)??ur.get("first")??new st(!1),_r=tr.at(2)??ur.get("blank")??new st(!1),qr=_t.value.split(`
`),$r=" ".repeat(kr.value),Ur=qr.map((Io,Qo)=>!gr.value&&Qo===0||!_r.value&&Io.length===0?Io:$r+Io);return new gt(Ur.join(`
`))}}throw new Error(`Unknown StringValue filter: ${zt}`)}else throw new Error(`Cannot apply filter "${zt}" to type: ${_t.type}`)}throw new Error(`Unknown filter: ${rt.filter.type}`)}evaluateTestExpression(rt,Et){let _t=this.evaluate(rt.operand,Et),Tt=Et.tests.get(rt.test.value);if(!Tt)throw new Error(`Unknown test: ${rt.test.value}`);let zt=Tt(_t);return new st(rt.negate?!zt:zt)}evaluateUnaryExpression(rt,Et){let _t=this.evaluate(rt.argument,Et);switch(rt.operator.value){case"not":return new st(!_t.value);default:throw new SyntaxError(`Unknown operator: ${rt.operator.value}`)}}evalProgram(rt,Et){return this.evaluateBlock(rt.body,Et)}evaluateBlock(rt,Et){let _t="";for(let Tt of rt){let zt=this.evaluate(Tt,Et);zt.type!=="NullValue"&&zt.type!=="UndefinedValue"&&(_t+=zt.value)}return new gt(_t)}evaluateIdentifier(rt,Et){return Et.lookupVariable(rt.value)}evaluateCallExpression(rt,Et){let[_t,Tt]=this.evaluateArguments(rt.args,Et);Tt.size>0&&_t.push(new Ht(Tt));let zt=this.evaluate(rt.callee,Et);if(zt.type!=="FunctionValue")throw new Error(`Cannot call something that is not a function: got ${zt.type}`);return zt.value(_t,Et)}evaluateSliceExpression(rt,Et,_t){if(!(rt instanceof xt||rt instanceof gt))throw new Error("Slice object must be an array or string");let Tt=this.evaluate(Et.start,_t),zt=this.evaluate(Et.stop,_t),tr=this.evaluate(Et.step,_t);if(!(Tt instanceof qt||Tt instanceof cr))throw new Error("Slice start must be numeric or undefined");if(!(zt instanceof qt||zt instanceof cr))throw new Error("Slice stop must be numeric or undefined");if(!(tr instanceof qt||tr instanceof cr))throw new Error("Slice step must be numeric or undefined");return rt instanceof xt?new xt(vt(rt.value,Tt.value,zt.value,tr.value)):new gt(vt(Array.from(rt.value),Tt.value,zt.value,tr.value).join(""))}evaluateMemberExpression(rt,Et){let _t=this.evaluate(rt.object,Et),Tt;if(rt.computed){if(rt.property.type==="SliceExpression")return this.evaluateSliceExpression(_t,rt.property,Et);Tt=this.evaluate(rt.property,Et)}else Tt=new gt(rt.property.value);let zt;if(_t instanceof hr){if(!(Tt instanceof gt))throw new Error(`Cannot access property with non-string: got ${Tt.type}`);zt=_t.value.get(Tt.value)??_t.builtins.get(Tt.value)}else if(_t instanceof xt||_t instanceof gt)if(Tt instanceof qt)zt=_t.value.at(Tt.value),_t instanceof gt&&(zt=new gt(_t.value.at(Tt.value)));else if(Tt instanceof gt)zt=_t.builtins.get(Tt.value);else throw new Error(`Cannot access property with non-string/non-number: got ${Tt.type}`);else{if(!(Tt instanceof gt))throw new Error(`Cannot access property with non-string: got ${Tt.type}`);zt=_t.builtins.get(Tt.value)}return zt instanceof $t?zt:new cr}evaluateSet(rt,Et){let _t=this.evaluate(rt.value,Et);if(rt.assignee.type==="Identifier"){let Tt=rt.assignee.value;Et.setVariable(Tt,_t)}else if(rt.assignee.type==="MemberExpression"){let Tt=rt.assignee,zt=this.evaluate(Tt.object,Et);if(!(zt instanceof hr))throw new Error("Cannot assign to member of non-object");if(Tt.property.type!=="Identifier")throw new Error("Cannot assign to member with non-identifier property");zt.value.set(Tt.property.value,_t)}else throw new Error(`Invalid LHS inside assignment expression: ${JSON.stringify(rt.assignee)}`);return new nr}evaluateIf(rt,Et){let _t=this.evaluate(rt.test,Et);return this.evaluateBlock(_t.__bool__().value?rt.body:rt.alternate,Et)}evaluateFor(rt,Et){let _t=new mr(Et),Tt,zt;if(rt.iterable.type==="SelectExpression"){let _r=rt.iterable;zt=this.evaluate(_r.iterable,_t),Tt=_r.test}else zt=this.evaluate(rt.iterable,_t);if(!(zt instanceof xt))throw new Error(`Expected iterable type in for loop: got ${zt.type}`);let tr=[],ur=[];for(let _r=0;_r<zt.value.length;++_r){let qr=new mr(_t),$r=zt.value[_r],Ur;if(rt.loopvar.type==="Identifier")Ur=Io=>Io.setVariable(rt.loopvar.value,$r);else if(rt.loopvar.type==="TupleLiteral"){let Io=rt.loopvar;if($r.type!=="ArrayValue")throw new Error(`Cannot unpack non-iterable type: ${$r.type}`);let Qo=$r;if(Io.value.length!==Qo.value.length)throw new Error(`Too ${Io.value.length>Qo.value.length?"few":"many"} items to unpack`);Ur=pn=>{for(let Kn=0;Kn<Io.value.length;++Kn){if(Io.value[Kn].type!=="Identifier")throw new Error(`Cannot unpack non-identifier type: ${Io.value[Kn].type}`);pn.setVariable(Io.value[Kn].value,Qo.value[Kn])}}}else throw new Error(`Invalid loop variable(s): ${rt.loopvar.type}`);Tt&&(Ur(qr),!this.evaluate(Tt,qr).__bool__().value)||(tr.push($r),ur.push(Ur))}let kr="",gr=!0;for(let _r=0;_r<tr.length;++_r){let qr=new Map([["index",new qt(_r+1)],["index0",new qt(_r)],["revindex",new qt(tr.length-_r)],["revindex0",new qt(tr.length-_r-1)],["first",new st(_r===0)],["last",new st(_r===tr.length-1)],["length",new qt(tr.length)],["previtem",_r>0?tr[_r-1]:new cr],["nextitem",_r<tr.length-1?tr[_r+1]:new cr]]);_t.setVariable("loop",new hr(qr)),ur[_r](_t);let $r=this.evaluateBlock(rt.body,_t);kr+=$r.value,gr=!1}if(gr){let _r=this.evaluateBlock(rt.defaultBlock,_t);kr+=_r.value}return new gt(kr)}evaluateMacro(rt,Et){return Et.setVariable(rt.name.value,new rr((_t,Tt)=>{let zt=new mr(Tt);_t=_t.slice();let tr;_t.at(-1)?.type==="KeywordArgumentsValue"&&(tr=_t.pop());for(let ur=0;ur<rt.args.length;++ur){let kr=rt.args[ur],gr=_t[ur];if(kr.type==="Identifier"){let _r=kr;if(!gr)throw new Error(`Missing positional argument: ${_r.value}`);zt.setVariable(_r.value,gr)}else if(kr.type==="KeywordArgumentExpression"){let _r=kr,qr=gr??tr?.value.get(_r.key.value)??this.evaluate(_r.value,zt);zt.setVariable(_r.key.value,qr)}else throw new Error(`Unknown argument type: ${kr.type}`)}return this.evaluateBlock(rt.body,zt)})),new nr}evaluate(rt,Et){if(rt===void 0)return new cr;switch(rt.type){case"Program":return this.evalProgram(rt,Et);case"Set":return this.evaluateSet(rt,Et);case"If":return this.evaluateIf(rt,Et);case"For":return this.evaluateFor(rt,Et);case"Macro":return this.evaluateMacro(rt,Et);case"NumericLiteral":return new qt(Number(rt.value));case"StringLiteral":return new gt(rt.value);case"BooleanLiteral":return new st(rt.value);case"NullLiteral":return new nr(rt.value);case"ArrayLiteral":return new xt(rt.value.map(_t=>this.evaluate(_t,Et)));case"TupleLiteral":return new Ut(rt.value.map(_t=>this.evaluate(_t,Et)));case"ObjectLiteral":{let _t=new Map;for(let[Tt,zt]of rt.value){let tr=this.evaluate(Tt,Et);if(!(tr instanceof gt))throw new Error(`Object keys must be strings: got ${tr.type}`);_t.set(tr.value,this.evaluate(zt,Et))}return new hr(_t)}case"Identifier":return this.evaluateIdentifier(rt,Et);case"CallExpression":return this.evaluateCallExpression(rt,Et);case"MemberExpression":return this.evaluateMemberExpression(rt,Et);case"UnaryExpression":return this.evaluateUnaryExpression(rt,Et);case"BinaryExpression":return this.evaluateBinaryExpression(rt,Et);case"FilterExpression":return this.evaluateFilterExpression(rt,Et);case"TestExpression":return this.evaluateTestExpression(rt,Et);default:throw new SyntaxError(`Unknown node type: ${rt.type}`)}}};function Tr(rt){switch(typeof rt){case"number":return new qt(rt);case"string":return new gt(rt);case"boolean":return new st(rt);case"undefined":return new cr;case"object":return rt===null?new nr:Array.isArray(rt)?new xt(rt.map(Tr)):new hr(new Map(Object.entries(rt).map(([Et,_t])=>[Et,Tr(_t)])));case"function":return new rr((Et,_t)=>{let Tt=rt(...Et.map(zt=>zt.value))??null;return Tr(Tt)});default:throw new Error(`Cannot convert to runtime value: ${rt}`)}}function dr(rt,Et,_t){let Tt=_t??0;switch(rt.type){case"NullValue":case"UndefinedValue":return"null";case"NumericValue":case"StringValue":case"BooleanValue":return JSON.stringify(rt.value);case"ArrayValue":case"ObjectValue":{let zt=Et?" ".repeat(Et):"",tr=`
`+zt.repeat(Tt),ur=tr+zt;if(rt.type==="ArrayValue"){let kr=rt.value.map(gr=>dr(gr,Et,Tt+1));return Et?`[${ur}${kr.join(`,${ur}`)}${tr}]`:`[${kr.join(", ")}]`}else{let kr=Array.from(rt.value.entries()).map(([gr,_r])=>{let qr=`"${gr}": ${dr(_r,Et,Tt+1)}`;return Et?`${ur}${qr}`:qr});return Et?`{${kr.join(",")}${tr}}`:`{${kr.join(", ")}}`}}default:throw new Error(`Cannot convert to JSON: ${rt.type}`)}}var Ar=class{parsed;constructor(rt){let Et=G(rt,{lstrip_blocks:!0,trim_blocks:!0});this.parsed=at(Et)}render(rt){let Et=new mr;if(Et.set("false",!1),Et.set("true",!0),Et.set("raise_exception",zt=>{throw new Error(zt)}),Et.set("range",Ze),rt)for(let[zt,tr]of Object.entries(rt))Et.set(zt,tr);return new Cr(Et).run(this.parsed).value}}},"./node_modules/onnxruntime-common/dist/esm/backend-impl.js":(r,o,e)=>{e.r(o),e.d(o,{registerBackend:()=>c,resolveBackendAndExecutionProviders:()=>h});let n=new Map,s=[],c=(p,y,k)=>{if(y&&typeof y.init=="function"&&typeof y.createInferenceSessionHandler=="function"){let G=n.get(p);if(G===void 0)n.set(p,{backend:y,priority:k});else{if(G.priority>k)return;if(G.priority===k&&G.backend!==y)throw new Error(`cannot register backend "${p}" using priority ${k}`)}if(k>=0){let $=s.indexOf(p);$!==-1&&s.splice($,1);for(let Me=0;Me<s.length;Me++)if(n.get(s[Me]).priority<=k){s.splice(Me,0,p);return}s.push(p)}return}throw new TypeError("not a valid backend")},u=p=>ot(void 0,null,function*(){let y=n.get(p);if(!y)return"backend not found.";if(y.initialized)return y.backend;if(y.aborted)return y.error;{let k=!!y.initPromise;try{return k||(y.initPromise=y.backend.init(p)),yield y.initPromise,y.initialized=!0,y.backend}catch(G){return k||(y.error=`${G}`,y.aborted=!0),y.error}finally{delete y.initPromise}}}),h=p=>ot(void 0,null,function*(){let y=p.executionProviders||[],k=y.map(He=>typeof He=="string"?He:He.name),G=k.length===0?s:k,$,Me=[],Re=new Set;for(let He of G){let Ie=yield u(He);typeof Ie=="string"?Me.push({name:He,err:Ie}):($||($=Ie),$===Ie&&Re.add(He))}if(!$)throw new Error(`no available backend found. ERR: ${Me.map(He=>`[${He.name}] ${He.err}`).join(", ")}`);for(let{name:He,err:Ie}of Me)k.includes(He)&&console.warn(`removing requested execution provider "${He}" from session options because it is not available: ${Ie}`);let Ke=y.filter(He=>Re.has(typeof He=="string"?He:He.name));return[$,new Proxy(p,{get:(He,Ie)=>Ie==="executionProviders"?Ke:Reflect.get(He,Ie)})]})},"./node_modules/onnxruntime-common/dist/esm/backend.js":(r,o,e)=>{e.r(o),e.d(o,{registerBackend:()=>n.registerBackend});var n=e("./node_modules/onnxruntime-common/dist/esm/backend-impl.js")},"./node_modules/onnxruntime-common/dist/esm/env-impl.js":(r,o,e)=>{e.r(o),e.d(o,{env:()=>c});var n=e("./node_modules/onnxruntime-common/dist/esm/version.js");let s="warning",c={wasm:{},webgl:{},webgpu:{},versions:{common:n.version},set logLevel(u){if(u!==void 0){if(typeof u!="string"||["verbose","info","warning","error","fatal"].indexOf(u)===-1)throw new Error(`Unsupported logging level: ${u}`);s=u}},get logLevel(){return s}};Object.defineProperty(c,"logLevel",{enumerable:!0})},"./node_modules/onnxruntime-common/dist/esm/env.js":(r,o,e)=>{e.r(o),e.d(o,{env:()=>s});var n=e("./node_modules/onnxruntime-common/dist/esm/env-impl.js");let s=n.env},"./node_modules/onnxruntime-common/dist/esm/index.js":(r,o,e)=>{e.r(o),e.d(o,{InferenceSession:()=>c.InferenceSession,TRACE:()=>y.TRACE,TRACE_FUNC_BEGIN:()=>y.TRACE_FUNC_BEGIN,TRACE_FUNC_END:()=>y.TRACE_FUNC_END,Tensor:()=>u.Tensor,TrainingSession:()=>$.TrainingSession,env:()=>s.env,registerBackend:()=>n.registerBackend});var n=e("./node_modules/onnxruntime-common/dist/esm/backend.js"),s=e("./node_modules/onnxruntime-common/dist/esm/env.js"),c=e("./node_modules/onnxruntime-common/dist/esm/inference-session.js"),u=e("./node_modules/onnxruntime-common/dist/esm/tensor.js"),h=e("./node_modules/onnxruntime-common/dist/esm/tensor-conversion.js"),p=e("./node_modules/onnxruntime-common/dist/esm/tensor-factory.js"),y=e("./node_modules/onnxruntime-common/dist/esm/trace.js"),k=e("./node_modules/onnxruntime-common/dist/esm/onnx-model.js"),G=e("./node_modules/onnxruntime-common/dist/esm/onnx-value.js"),$=e("./node_modules/onnxruntime-common/dist/esm/training-session.js")},"./node_modules/onnxruntime-common/dist/esm/inference-session-impl.js":(r,o,e)=>{e.r(o),e.d(o,{InferenceSession:()=>u});var n=e("./node_modules/onnxruntime-common/dist/esm/backend-impl.js"),s=e("./node_modules/onnxruntime-common/dist/esm/tensor.js"),c=e("./node_modules/onnxruntime-common/dist/esm/trace.js");class u{constructor(p){this.handler=p}run(p,y,k){return ot(this,null,function*(){(0,c.TRACE_FUNC_BEGIN)();let G={},$={};if(typeof p!="object"||p===null||p instanceof s.Tensor||Array.isArray(p))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let Me=!0;if(typeof y=="object"){if(y===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(y instanceof s.Tensor)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(y)){if(y.length===0)throw new TypeError("'fetches' cannot be an empty array.");Me=!1;for(let He of y){if(typeof He!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(He)===-1)throw new RangeError(`'fetches' contains invalid output name: ${He}.`);G[He]=null}if(typeof k=="object"&&k!==null)$=k;else if(typeof k<"u")throw new TypeError("'options' must be an object.")}else{let He=!1,Ie=Object.getOwnPropertyNames(y);for(let Pe of this.outputNames)if(Ie.indexOf(Pe)!==-1){let Xe=y[Pe];(Xe===null||Xe instanceof s.Tensor)&&(He=!0,Me=!1,G[Pe]=Xe)}if(He){if(typeof k=="object"&&k!==null)$=k;else if(typeof k<"u")throw new TypeError("'options' must be an object.")}else $=y}}else if(typeof y<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let He of this.inputNames)if(typeof p[He]>"u")throw new Error(`input '${He}' is missing in 'feeds'.`);if(Me)for(let He of this.outputNames)G[He]=null;let Re=yield this.handler.run(p,G,$),Ke={};for(let He in Re)if(Object.hasOwnProperty.call(Re,He)){let Ie=Re[He];Ie instanceof s.Tensor?Ke[He]=Ie:Ke[He]=new s.Tensor(Ie.type,Ie.data,Ie.dims)}return(0,c.TRACE_FUNC_END)(),Ke})}release(){return ot(this,null,function*(){return this.handler.dispose()})}static create(p,y,k,G){return ot(this,null,function*(){(0,c.TRACE_FUNC_BEGIN)();let $,Me={};if(typeof p=="string"){if($=p,typeof y=="object"&&y!==null)Me=y;else if(typeof y<"u")throw new TypeError("'options' must be an object.")}else if(p instanceof Uint8Array){if($=p,typeof y=="object"&&y!==null)Me=y;else if(typeof y<"u")throw new TypeError("'options' must be an object.")}else if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer){let Ie=p,Pe=0,Xe=p.byteLength;if(typeof y=="object"&&y!==null)Me=y;else if(typeof y=="number"){if(Pe=y,!Number.isSafeInteger(Pe))throw new RangeError("'byteOffset' must be an integer.");if(Pe<0||Pe>=Ie.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${Ie.byteLength}).`);if(Xe=p.byteLength-Pe,typeof k=="number"){if(Xe=k,!Number.isSafeInteger(Xe))throw new RangeError("'byteLength' must be an integer.");if(Xe<=0||Pe+Xe>Ie.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${Ie.byteLength-Pe}].`);if(typeof G=="object"&&G!==null)Me=G;else if(typeof G<"u")throw new TypeError("'options' must be an object.")}else if(typeof k<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof y<"u")throw new TypeError("'options' must be an object.");$=new Uint8Array(Ie,Pe,Xe)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let[Re,Ke]=yield(0,n.resolveBackendAndExecutionProviders)(Me),He=yield Re.createInferenceSessionHandler($,Ke);return(0,c.TRACE_FUNC_END)(),new u(He)})}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}},"./node_modules/onnxruntime-common/dist/esm/inference-session.js":(r,o,e)=>{e.r(o),e.d(o,{InferenceSession:()=>s});var n=e("./node_modules/onnxruntime-common/dist/esm/inference-session-impl.js");let s=n.InferenceSession},"./node_modules/onnxruntime-common/dist/esm/onnx-model.js":(r,o,e)=>{e.r(o)},"./node_modules/onnxruntime-common/dist/esm/onnx-value.js":(r,o,e)=>{e.r(o)},"./node_modules/onnxruntime-common/dist/esm/tensor-conversion-impl.js":(r,o,e)=>{e.r(o),e.d(o,{tensorToDataURL:()=>n,tensorToImageData:()=>s});let n=(c,u)=>{let h=typeof document<"u"?document.createElement("canvas"):new OffscreenCanvas(1,1);h.width=c.dims[3],h.height=c.dims[2];let p=h.getContext("2d");if(p!=null){let y,k;u?.tensorLayout!==void 0&&u.tensorLayout==="NHWC"?(y=c.dims[2],k=c.dims[3]):(y=c.dims[3],k=c.dims[2]);let G=u?.format!==void 0?u.format:"RGB",$=u?.norm,Me,Re;$===void 0||$.mean===void 0?Me=[255,255,255,255]:typeof $.mean=="number"?Me=[$.mean,$.mean,$.mean,$.mean]:(Me=[$.mean[0],$.mean[1],$.mean[2],0],$.mean[3]!==void 0&&(Me[3]=$.mean[3])),$===void 0||$.bias===void 0?Re=[0,0,0,0]:typeof $.bias=="number"?Re=[$.bias,$.bias,$.bias,$.bias]:(Re=[$.bias[0],$.bias[1],$.bias[2],0],$.bias[3]!==void 0&&(Re[3]=$.bias[3]));let Ke=k*y,He=0,Ie=Ke,Pe=Ke*2,Xe=-1;G==="RGBA"?(He=0,Ie=Ke,Pe=Ke*2,Xe=Ke*3):G==="RGB"?(He=0,Ie=Ke,Pe=Ke*2):G==="RBG"&&(He=0,Pe=Ke,Ie=Ke*2);for(let Ne=0;Ne<k;Ne++)for(let Ge=0;Ge<y;Ge++){let Ve=(c.data[He++]-Re[0])*Me[0],Oe=(c.data[Ie++]-Re[1])*Me[1],Ue=(c.data[Pe++]-Re[2])*Me[2],tt=Xe===-1?255:(c.data[Xe++]-Re[3])*Me[3];p.fillStyle="rgba("+Ve+","+Oe+","+Ue+","+tt+")",p.fillRect(Ge,Ne,1,1)}if("toDataURL"in h)return h.toDataURL();throw new Error("toDataURL is not supported")}else throw new Error("Can not access image data")},s=(c,u)=>{let h=typeof document<"u"?document.createElement("canvas").getContext("2d"):new OffscreenCanvas(1,1).getContext("2d"),p;if(h!=null){let y,k,G;u?.tensorLayout!==void 0&&u.tensorLayout==="NHWC"?(y=c.dims[2],k=c.dims[1],G=c.dims[3]):(y=c.dims[3],k=c.dims[2],G=c.dims[1]);let $=u!==void 0&&u.format!==void 0?u.format:"RGB",Me=u?.norm,Re,Ke;Me===void 0||Me.mean===void 0?Re=[255,255,255,255]:typeof Me.mean=="number"?Re=[Me.mean,Me.mean,Me.mean,Me.mean]:(Re=[Me.mean[0],Me.mean[1],Me.mean[2],255],Me.mean[3]!==void 0&&(Re[3]=Me.mean[3])),Me===void 0||Me.bias===void 0?Ke=[0,0,0,0]:typeof Me.bias=="number"?Ke=[Me.bias,Me.bias,Me.bias,Me.bias]:(Ke=[Me.bias[0],Me.bias[1],Me.bias[2],0],Me.bias[3]!==void 0&&(Ke[3]=Me.bias[3]));let He=k*y;if(u!==void 0&&(u.format!==void 0&&G===4&&u.format!=="RGBA"||G===3&&u.format!=="RGB"&&u.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let Ie=4,Pe=0,Xe=1,Ne=2,Ge=3,Ve=0,Oe=He,Ue=He*2,tt=-1;$==="RGBA"?(Ve=0,Oe=He,Ue=He*2,tt=He*3):$==="RGB"?(Ve=0,Oe=He,Ue=He*2):$==="RBG"&&(Ve=0,Ue=He,Oe=He*2),p=h.createImageData(y,k);for(let bt=0;bt<k*y;Pe+=Ie,Xe+=Ie,Ne+=Ie,Ge+=Ie,bt++)p.data[Pe]=(c.data[Ve++]-Ke[0])*Re[0],p.data[Xe]=(c.data[Oe++]-Ke[1])*Re[1],p.data[Ne]=(c.data[Ue++]-Ke[2])*Re[2],p.data[Ge]=tt===-1?255:(c.data[tt++]-Ke[3])*Re[3]}else throw new Error("Can not access image data");return p}},"./node_modules/onnxruntime-common/dist/esm/tensor-conversion.js":(r,o,e)=>{e.r(o)},"./node_modules/onnxruntime-common/dist/esm/tensor-factory-impl.js":(r,o,e)=>{e.r(o),e.d(o,{bufferToTensor:()=>s,tensorFromGpuBuffer:()=>h,tensorFromImage:()=>c,tensorFromMLTensor:()=>p,tensorFromPinnedBuffer:()=>y,tensorFromTexture:()=>u});var n=e("./node_modules/onnxruntime-common/dist/esm/tensor-impl.js");let s=(k,G)=>{if(k===void 0)throw new Error("Image buffer must be defined");if(G.height===void 0||G.width===void 0)throw new Error("Image height and width must be defined");if(G.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:$,width:Me}=G,Re=G.norm??{mean:255,bias:0},Ke,He;typeof Re.mean=="number"?Ke=[Re.mean,Re.mean,Re.mean,Re.mean]:Ke=[Re.mean[0],Re.mean[1],Re.mean[2],Re.mean[3]??255],typeof Re.bias=="number"?He=[Re.bias,Re.bias,Re.bias,Re.bias]:He=[Re.bias[0],Re.bias[1],Re.bias[2],Re.bias[3]??0];let Ie=G.format!==void 0?G.format:"RGBA",Pe=G.tensorFormat!==void 0&&G.tensorFormat!==void 0?G.tensorFormat:"RGB",Xe=$*Me,Ne=Pe==="RGBA"?new Float32Array(Xe*4):new Float32Array(Xe*3),Ge=4,Ve=0,Oe=1,Ue=2,tt=3,bt=0,lt=Xe,mt=Xe*2,ut=-1;Ie==="RGB"&&(Ge=3,Ve=0,Oe=1,Ue=2,tt=-1),Pe==="RGBA"?ut=Xe*3:Pe==="RBG"?(bt=0,mt=Xe,lt=Xe*2):Pe==="BGR"&&(mt=0,lt=Xe,bt=Xe*2);for(let Ct=0;Ct<Xe;Ct++,Ve+=Ge,Ue+=Ge,Oe+=Ge,tt+=Ge)Ne[bt++]=(k[Ve]+He[0])/Ke[0],Ne[lt++]=(k[Oe]+He[1])/Ke[1],Ne[mt++]=(k[Ue]+He[2])/Ke[2],ut!==-1&&tt!==-1&&(Ne[ut++]=(k[tt]+He[3])/Ke[3]);return Pe==="RGBA"?new n.Tensor("float32",Ne,[1,4,$,Me]):new n.Tensor("float32",Ne,[1,3,$,Me])},c=(k,G)=>ot(void 0,null,function*(){let $=typeof HTMLImageElement<"u"&&k instanceof HTMLImageElement,Me=typeof ImageData<"u"&&k instanceof ImageData,Re=typeof ImageBitmap<"u"&&k instanceof ImageBitmap,Ke=typeof k=="string",He,Ie=G??{},Pe=()=>{if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(1,1);throw new Error("Canvas is not supported")},Xe=Ne=>typeof HTMLCanvasElement<"u"&&Ne instanceof HTMLCanvasElement||Ne instanceof OffscreenCanvas?Ne.getContext("2d"):null;if($){let Ne=Pe();Ne.width=k.width,Ne.height=k.height;let Ge=Xe(Ne);if(Ge!=null){let Ve=k.height,Oe=k.width;if(G!==void 0&&G.resizedHeight!==void 0&&G.resizedWidth!==void 0&&(Ve=G.resizedHeight,Oe=G.resizedWidth),G!==void 0){if(Ie=G,G.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");Ie.tensorFormat="RGBA",Ie.height=Ve,Ie.width=Oe}else Ie.tensorFormat="RGBA",Ie.height=Ve,Ie.width=Oe;Ge.drawImage(k,0,0),He=Ge.getImageData(0,0,Oe,Ve).data}else throw new Error("Can not access image data")}else if(Me){let Ne,Ge;if(G!==void 0&&G.resizedWidth!==void 0&&G.resizedHeight!==void 0?(Ne=G.resizedHeight,Ge=G.resizedWidth):(Ne=k.height,Ge=k.width),G!==void 0&&(Ie=G),Ie.format="RGBA",Ie.height=Ne,Ie.width=Ge,G!==void 0){let Ve=Pe();Ve.width=Ge,Ve.height=Ne;let Oe=Xe(Ve);if(Oe!=null)Oe.putImageData(k,0,0),He=Oe.getImageData(0,0,Ge,Ne).data;else throw new Error("Can not access image data")}else He=k.data}else if(Re){if(G===void 0)throw new Error("Please provide image config with format for Imagebitmap");let Ne=Pe();Ne.width=k.width,Ne.height=k.height;let Ge=Xe(Ne);if(Ge!=null){let Ve=k.height,Oe=k.width;return Ge.drawImage(k,0,0,Oe,Ve),He=Ge.getImageData(0,0,Oe,Ve).data,Ie.height=Ve,Ie.width=Oe,s(He,Ie)}else throw new Error("Can not access image data")}else{if(Ke)return new Promise((Ne,Ge)=>{let Ve=Pe(),Oe=Xe(Ve);if(!k||!Oe)return Ge();let Ue=new Image;Ue.crossOrigin="Anonymous",Ue.src=k,Ue.onload=()=>{Ve.width=Ue.width,Ve.height=Ue.height,Oe.drawImage(Ue,0,0,Ve.width,Ve.height);let tt=Oe.getImageData(0,0,Ve.width,Ve.height);Ie.height=Ve.height,Ie.width=Ve.width,Ne(s(tt.data,Ie))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(He!==void 0)return s(He,Ie);throw new Error("Input data provided is not supported - aborted tensor creation")}),u=(k,G)=>{let{width:$,height:Me,download:Re,dispose:Ke}=G,He=[1,Me,$,4];return new n.Tensor({location:"texture",type:"float32",texture:k,dims:He,download:Re,dispose:Ke})},h=(k,G)=>{let{dataType:$,dims:Me,download:Re,dispose:Ke}=G;return new n.Tensor({location:"gpu-buffer",type:$??"float32",gpuBuffer:k,dims:Me,download:Re,dispose:Ke})},p=(k,G)=>{let{dataType:$,dims:Me,download:Re,dispose:Ke}=G;return new n.Tensor({location:"ml-tensor",type:$??"float32",mlTensor:k,dims:Me,download:Re,dispose:Ke})},y=(k,G,$)=>new n.Tensor({location:"cpu-pinned",type:k,data:G,dims:$??[G.length]})},"./node_modules/onnxruntime-common/dist/esm/tensor-factory.js":(r,o,e)=>{e.r(o)},"./node_modules/onnxruntime-common/dist/esm/tensor-impl-type-mapping.js":(r,o,e)=>{e.r(o),e.d(o,{NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP:()=>s,NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP:()=>n,checkTypedArray:()=>u});let n=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array],["int4",Uint8Array],["uint4",Uint8Array]]),s=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),c=!1,u=()=>{if(!c){c=!0;let h=typeof BigInt64Array<"u"&&BigInt64Array.from,p=typeof BigUint64Array<"u"&&BigUint64Array.from,y=typeof Float16Array<"u"&&Float16Array.from;h&&(n.set("int64",BigInt64Array),s.set(BigInt64Array,"int64")),p&&(n.set("uint64",BigUint64Array),s.set(BigUint64Array,"uint64")),y?(n.set("float16",Float16Array),s.set(Float16Array,"float16")):n.set("float16",Uint16Array)}}},"./node_modules/onnxruntime-common/dist/esm/tensor-impl.js":(r,o,e)=>{e.r(o),e.d(o,{Tensor:()=>h});var n=e("./node_modules/onnxruntime-common/dist/esm/tensor-conversion-impl.js"),s=e("./node_modules/onnxruntime-common/dist/esm/tensor-factory-impl.js"),c=e("./node_modules/onnxruntime-common/dist/esm/tensor-impl-type-mapping.js"),u=e("./node_modules/onnxruntime-common/dist/esm/tensor-utils-impl.js");class h{constructor(y,k,G){(0,c.checkTypedArray)();let $,Me;if(typeof y=="object"&&"location"in y)switch(this.dataLocation=y.location,$=y.type,Me=y.dims,y.location){case"cpu-pinned":{let Ke=c.NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.get($);if(!Ke)throw new TypeError(`unsupported type "${$}" to create tensor from pinned buffer`);if(!(y.data instanceof Ke))throw new TypeError(`buffer should be of type ${Ke.name}`);this.cpuData=y.data;break}case"texture":{if($!=="float32")throw new TypeError(`unsupported type "${$}" to create tensor from texture`);this.gpuTextureData=y.texture,this.downloader=y.download,this.disposer=y.dispose;break}case"gpu-buffer":{if($!=="float32"&&$!=="float16"&&$!=="int32"&&$!=="int64"&&$!=="uint32"&&$!=="uint8"&&$!=="bool"&&$!=="uint4"&&$!=="int4")throw new TypeError(`unsupported type "${$}" to create tensor from gpu buffer`);this.gpuBufferData=y.gpuBuffer,this.downloader=y.download,this.disposer=y.dispose;break}case"ml-tensor":{if($!=="float32"&&$!=="float16"&&$!=="int32"&&$!=="int64"&&$!=="uint32"&&$!=="uint64"&&$!=="int8"&&$!=="uint8"&&$!=="bool")throw new TypeError(`unsupported type "${$}" to create tensor from MLTensor`);this.mlTensorData=y.mlTensor,this.downloader=y.download,this.disposer=y.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let Ke,He;if(typeof y=="string")if($=y,He=G,y==="string"){if(!Array.isArray(k))throw new TypeError("A string tensor's data must be a string array.");Ke=k}else{let Ie=c.NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.get(y);if(Ie===void 0)throw new TypeError(`Unsupported tensor type: ${y}.`);if(Array.isArray(k)){if(y==="float16"&&Ie===Uint16Array||y==="uint4"||y==="int4")throw new TypeError(`Creating a ${y} tensor from number array is not supported. Please use ${Ie.name} as data.`);y==="uint64"||y==="int64"?Ke=Ie.from(k,BigInt):Ke=Ie.from(k)}else if(k instanceof Ie)Ke=k;else if(k instanceof Uint8ClampedArray)if(y==="uint8")Ke=Uint8Array.from(k);else throw new TypeError("A Uint8ClampedArray tensor's data must be type of uint8");else throw new TypeError(`A ${$} tensor's data must be type of ${Ie}`)}else if(He=k,Array.isArray(y)){if(y.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let Ie=typeof y[0];if(Ie==="string")$="string",Ke=y;else if(Ie==="boolean")$="bool",Ke=Uint8Array.from(y);else throw new TypeError(`Invalid element type of data array: ${Ie}.`)}else if(y instanceof Uint8ClampedArray)$="uint8",Ke=Uint8Array.from(y);else{let Ie=c.NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.get(y.constructor);if(Ie===void 0)throw new TypeError(`Unsupported type for tensor data: ${y.constructor}.`);$=Ie,Ke=y}if(He===void 0)He=[Ke.length];else if(!Array.isArray(He))throw new TypeError("A tensor's dims must be a number array");Me=He,this.cpuData=Ke,this.dataLocation="cpu"}let Re=(0,u.calculateSize)(Me);if(this.cpuData&&Re!==this.cpuData.length&&!(($==="uint4"||$==="int4")&&Math.ceil(Re/2)===this.cpuData.length))throw new Error(`Tensor's size(${Re}) does not match data length(${this.cpuData.length}).`);this.type=$,this.dims=Me,this.size=Re}static fromImage(y,k){return ot(this,null,function*(){return(0,s.tensorFromImage)(y,k)})}static fromTexture(y,k){return(0,s.tensorFromTexture)(y,k)}static fromGpuBuffer(y,k){return(0,s.tensorFromGpuBuffer)(y,k)}static fromMLTensor(y,k){return(0,s.tensorFromMLTensor)(y,k)}static fromPinnedBuffer(y,k,G){return(0,s.tensorFromPinnedBuffer)(y,k,G)}toDataURL(y){return(0,n.tensorToDataURL)(this,y)}toImageData(y){return(0,n.tensorToImageData)(this,y)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}get mlTensor(){if(this.ensureValid(),!this.mlTensorData)throw new Error("The data is not stored as a WebNN MLTensor.");return this.mlTensorData}getData(y){return ot(this,null,function*(){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":case"ml-tensor":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let k=yield this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=k,y&&this.disposer&&(this.disposer(),this.disposer=void 0),k}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}})}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.mlTensorData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(y){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return(0,u.tensorReshape)(this,y)}}},"./node_modules/onnxruntime-common/dist/esm/tensor-utils-impl.js":(r,o,e)=>{e.r(o),e.d(o,{calculateSize:()=>s,tensorReshape:()=>c});var n=e("./node_modules/onnxruntime-common/dist/esm/tensor-impl.js");let s=u=>{let h=1;for(let p=0;p<u.length;p++){let y=u[p];if(typeof y!="number"||!Number.isSafeInteger(y))throw new TypeError(`dims[${p}] must be an integer, got: ${y}`);if(y<0)throw new RangeError(`dims[${p}] must be a non-negative integer, got: ${y}`);h*=y}return h},c=(u,h)=>{switch(u.location){case"cpu":return new n.Tensor(u.type,u.data,h);case"cpu-pinned":return new n.Tensor({location:"cpu-pinned",data:u.data,type:u.type,dims:h});case"texture":return new n.Tensor({location:"texture",texture:u.texture,type:u.type,dims:h});case"gpu-buffer":return new n.Tensor({location:"gpu-buffer",gpuBuffer:u.gpuBuffer,type:u.type,dims:h});case"ml-tensor":return new n.Tensor({location:"ml-tensor",mlTensor:u.mlTensor,type:u.type,dims:h});default:throw new Error(`tensorReshape: tensor location ${u.location} is not supported`)}}},"./node_modules/onnxruntime-common/dist/esm/tensor.js":(r,o,e)=>{e.r(o),e.d(o,{Tensor:()=>s});var n=e("./node_modules/onnxruntime-common/dist/esm/tensor-impl.js");let s=n.Tensor},"./node_modules/onnxruntime-common/dist/esm/trace.js":(r,o,e)=>{e.r(o),e.d(o,{TRACE:()=>s,TRACE_FUNC_BEGIN:()=>u,TRACE_FUNC_END:()=>h});var n=e("./node_modules/onnxruntime-common/dist/esm/env-impl.js");let s=(p,y)=>{(typeof n.env.trace>"u"?!n.env.wasm.trace:!n.env.trace)||console.timeStamp(`${p}::ORT::${y}`)},c=(p,y)=>{let k=new Error().stack?.split(/\r\n|\r|\n/g)||[],G=!1;for(let $=0;$<k.length;$++){if(G&&!k[$].includes("TRACE_FUNC")){let Me=`FUNC_${p}::${k[$].trim().split(" ")[1]}`;y&&(Me+=`::${y}`),s("CPU",Me);return}k[$].includes("TRACE_FUNC")&&(G=!0)}},u=p=>{(typeof n.env.trace>"u"?!n.env.wasm.trace:!n.env.trace)||c("BEGIN",p)},h=p=>{(typeof n.env.trace>"u"?!n.env.wasm.trace:!n.env.trace)||c("END",p)}},"./node_modules/onnxruntime-common/dist/esm/training-session-impl.js":(r,o,e)=>{e.r(o),e.d(o,{TrainingSession:()=>u});var n=e("./node_modules/onnxruntime-common/dist/esm/backend-impl.js"),s=e("./node_modules/onnxruntime-common/dist/esm/tensor.js");let c="Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.";class u{constructor(p,y,k){this.handler=p,this.hasOptimizerModel=y,this.hasEvalModel=k}get trainingInputNames(){return this.handler.inputNames}get trainingOutputNames(){return this.handler.outputNames}get evalInputNames(){if(this.hasEvalModel)return this.handler.evalInputNames;throw new Error("This training session has no evalModel loaded.")}get evalOutputNames(){if(this.hasEvalModel)return this.handler.evalOutputNames;throw new Error("This training session has no evalModel loaded.")}static create(p,y){return ot(this,null,function*(){let k=p.evalModel||"",G=p.optimizerModel||"",$=y||{},[Me,Re]=yield(0,n.resolveBackendAndExecutionProviders)($);if(Me.createTrainingSessionHandler){let Ke=yield Me.createTrainingSessionHandler(p.checkpointState,p.trainModel,k,G,Re);return new u(Ke,!!p.optimizerModel,!!p.evalModel)}else throw new Error(c)})}typeNarrowingForRunStep(p,y,k,G,$){let Me={},Re={};if(typeof k!="object"||k===null||k instanceof s.Tensor||Array.isArray(k))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let Ke=!0;if(typeof G=="object"){if(G===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(G instanceof s.Tensor)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(G)){if(G.length===0)throw new TypeError("'fetches' cannot be an empty array.");Ke=!1;for(let He of G){if(typeof He!="string")throw new TypeError("'fetches' must be a string array or an object.");if(y.indexOf(He)===-1)throw new RangeError(`'fetches' contains invalid output name: ${He}.`);Me[He]=null}if(typeof $=="object"&&$!==null)Re=$;else if(typeof $<"u")throw new TypeError("'options' must be an object.")}else{let He=!1,Ie=Object.getOwnPropertyNames(G);for(let Pe of y)if(Ie.indexOf(Pe)!==-1){let Xe=G[Pe];(Xe===null||Xe instanceof s.Tensor)&&(He=!0,Ke=!1,Me[Pe]=Xe)}if(He){if(typeof $=="object"&&$!==null)Re=$;else if(typeof $<"u")throw new TypeError("'options' must be an object.")}else Re=G}}else if(typeof G<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let He of p)if(typeof k[He]>"u")throw new Error(`input '${He}' is missing in 'feeds'.`);if(Ke)for(let He of y)Me[He]=null;return[Me,Re]}convertHandlerReturnTypeToMapOfTensors(p){let y={};for(let k in p)if(Object.hasOwnProperty.call(p,k)){let G=p[k];G instanceof s.Tensor?y[k]=G:y[k]=new s.Tensor(G.type,G.data,G.dims)}return y}lazyResetGrad(){return ot(this,null,function*(){yield this.handler.lazyResetGrad()})}runTrainStep(p,y,k){return ot(this,null,function*(){let[G,$]=this.typeNarrowingForRunStep(this.trainingInputNames,this.trainingOutputNames,p,y,k),Me=yield this.handler.runTrainStep(p,G,$);return this.convertHandlerReturnTypeToMapOfTensors(Me)})}runOptimizerStep(p){return ot(this,null,function*(){if(this.hasOptimizerModel)yield this.handler.runOptimizerStep(p||{});else throw new Error("This TrainingSession has no OptimizerModel loaded.")})}runEvalStep(p,y,k){return ot(this,null,function*(){if(this.hasEvalModel){let[G,$]=this.typeNarrowingForRunStep(this.evalInputNames,this.evalOutputNames,p,y,k),Me=yield this.handler.runEvalStep(p,G,$);return this.convertHandlerReturnTypeToMapOfTensors(Me)}else throw new Error("This TrainingSession has no EvalModel loaded.")})}getParametersSize(p=!0){return ot(this,null,function*(){return this.handler.getParametersSize(p)})}loadParametersBuffer(p,y=!0){return ot(this,null,function*(){let k=yield this.getParametersSize(y);if(p.length!==4*k)throw new Error("Size of the buffer passed into loadParametersBuffer must match the number of parameters in the model. Please use getParametersSize method to check.");return this.handler.loadParametersBuffer(p,y)})}getContiguousParameters(p=!0){return ot(this,null,function*(){return this.handler.getContiguousParameters(p)})}release(){return ot(this,null,function*(){return this.handler.dispose()})}}},"./node_modules/onnxruntime-common/dist/esm/training-session.js":(r,o,e)=>{e.r(o),e.d(o,{TrainingSession:()=>s});var n=e("./node_modules/onnxruntime-common/dist/esm/training-session-impl.js");let s=n.TrainingSession},"./node_modules/onnxruntime-common/dist/esm/version.js":(r,o,e)=>{e.r(o),e.d(o,{version:()=>n});let n="1.20.1"},"./node_modules/onnxruntime-web/dist/ort.bundle.min.mjs?3a96":(r,o,e)=>{e.r(o),e.d(o,{InferenceSession:()=>dr,TRACE:()=>Ut,TRACE_FUNC_BEGIN:()=>nr,TRACE_FUNC_END:()=>cr,Tensor:()=>Ht,default:()=>mI,env:()=>Ue,registerBackend:()=>Re});var n=Object.defineProperty,s=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,u=Object.prototype.hasOwnProperty,h=(i=>typeof Xl<"u"?Xl:typeof Proxy<"u"?new Proxy(i,{get:(l,d)=>(typeof Xl<"u"?Xl:l)[d]}):i)(function(i){if(typeof Xl<"u")return Xl.apply(this,arguments);throw Error('Dynamic require of "'+i+'" is not supported')}),p=(i,l)=>()=>(i&&(l=i(i=0)),l),y=(i,l)=>{for(var d in l)n(i,d,{get:l[d],enumerable:!0})},k=(i,l,d,f)=>{if(l&&typeof l=="object"||typeof l=="function")for(let g of c(l))!u.call(i,g)&&g!==d&&n(i,g,{get:()=>l[g],enumerable:!(f=s(l,g))||f.enumerable});return i},G=i=>k(n({},"__esModule",{value:!0}),i),$,Me,Re,Ke,He,Ie=p(()=>{"use strict";$=new Map,Me=[],Re=(i,l,d)=>{if(l&&typeof l.init=="function"&&typeof l.createInferenceSessionHandler=="function"){let f=$.get(i);if(f===void 0)$.set(i,{backend:l,priority:d});else{if(f.priority>d)return;if(f.priority===d&&f.backend!==l)throw new Error(`cannot register backend "${i}" using priority ${d}`)}if(d>=0){let g=Me.indexOf(i);g!==-1&&Me.splice(g,1);for(let _=0;_<Me.length;_++)if($.get(Me[_]).priority<=d){Me.splice(_,0,i);return}Me.push(i)}return}throw new TypeError("not a valid backend")},Ke=i=>ot(void 0,null,function*(){let l=$.get(i);if(!l)return"backend not found.";if(l.initialized)return l.backend;if(l.aborted)return l.error;{let d=!!l.initPromise;try{return d||(l.initPromise=l.backend.init(i)),yield l.initPromise,l.initialized=!0,l.backend}catch(f){return d||(l.error=`${f}`,l.aborted=!0),l.error}finally{delete l.initPromise}}}),He=i=>ot(void 0,null,function*(){let l=i.executionProviders||[],d=l.map(Se=>typeof Se=="string"?Se:Se.name),f=d.length===0?Me:d,g,_=[],M=new Set;for(let Se of f){let $e=yield Ke(Se);typeof $e=="string"?_.push({name:Se,err:$e}):(g||(g=$e),g===$e&&M.add(Se))}if(!g)throw new Error(`no available backend found. ERR: ${_.map(Se=>`[${Se.name}] ${Se.err}`).join(", ")}`);for(let{name:Se,err:$e}of _)d.includes(Se)&&console.warn(`removing requested execution provider "${Se}" from session options because it is not available: ${$e}`);let Te=l.filter(Se=>M.has(typeof Se=="string"?Se:Se.name));return[g,new Proxy(i,{get:(Se,$e)=>$e==="executionProviders"?Te:Reflect.get(Se,$e)})]})}),Pe=p(()=>{"use strict";Ie()}),Xe,Ne=p(()=>{"use strict";Xe="1.21.0-dev.20250206-d981b153d3"}),Ge,Ve,Oe=p(()=>{"use strict";Ne(),Ge="warning",Ve={wasm:{},webgl:{},webgpu:{},versions:{common:Xe},set logLevel(i){if(i!==void 0){if(typeof i!="string"||["verbose","info","warning","error","fatal"].indexOf(i)===-1)throw new Error(`Unsupported logging level: ${i}`);Ge=i}},get logLevel(){return Ge}},Object.defineProperty(Ve,"logLevel",{enumerable:!0})}),Ue,tt=p(()=>{"use strict";Oe(),Ue=Ve}),bt,lt,mt=p(()=>{"use strict";bt=(i,l)=>{let d=typeof document<"u"?document.createElement("canvas"):new OffscreenCanvas(1,1);d.width=i.dims[3],d.height=i.dims[2];let f=d.getContext("2d");if(f!=null){let g,_;l?.tensorLayout!==void 0&&l.tensorLayout==="NHWC"?(g=i.dims[2],_=i.dims[3]):(g=i.dims[3],_=i.dims[2]);let M=l?.format!==void 0?l.format:"RGB",Te=l?.norm,Se,$e;Te===void 0||Te.mean===void 0?Se=[255,255,255,255]:typeof Te.mean=="number"?Se=[Te.mean,Te.mean,Te.mean,Te.mean]:(Se=[Te.mean[0],Te.mean[1],Te.mean[2],0],Te.mean[3]!==void 0&&(Se[3]=Te.mean[3])),Te===void 0||Te.bias===void 0?$e=[0,0,0,0]:typeof Te.bias=="number"?$e=[Te.bias,Te.bias,Te.bias,Te.bias]:($e=[Te.bias[0],Te.bias[1],Te.bias[2],0],Te.bias[3]!==void 0&&($e[3]=Te.bias[3]));let Je=_*g,J=0,et=Je,dt=Je*2,it=-1;M==="RGBA"?(J=0,et=Je,dt=Je*2,it=Je*3):M==="RGB"?(J=0,et=Je,dt=Je*2):M==="RBG"&&(J=0,dt=Je,et=Je*2);for(let ct=0;ct<_;ct++)for(let Mt=0;Mt<g;Mt++){let kt=(i.data[J++]-$e[0])*Se[0],pt=(i.data[et++]-$e[1])*Se[1],Pt=(i.data[dt++]-$e[2])*Se[2],Lt=it===-1?255:(i.data[it++]-$e[3])*Se[3];f.fillStyle="rgba("+kt+","+pt+","+Pt+","+Lt+")",f.fillRect(Mt,ct,1,1)}if("toDataURL"in d)return d.toDataURL();throw new Error("toDataURL is not supported")}else throw new Error("Can not access image data")},lt=(i,l)=>{let d=typeof document<"u"?document.createElement("canvas").getContext("2d"):new OffscreenCanvas(1,1).getContext("2d"),f;if(d!=null){let g,_,M;l?.tensorLayout!==void 0&&l.tensorLayout==="NHWC"?(g=i.dims[2],_=i.dims[1],M=i.dims[3]):(g=i.dims[3],_=i.dims[2],M=i.dims[1]);let Te=l!==void 0&&l.format!==void 0?l.format:"RGB",Se=l?.norm,$e,Je;Se===void 0||Se.mean===void 0?$e=[255,255,255,255]:typeof Se.mean=="number"?$e=[Se.mean,Se.mean,Se.mean,Se.mean]:($e=[Se.mean[0],Se.mean[1],Se.mean[2],255],Se.mean[3]!==void 0&&($e[3]=Se.mean[3])),Se===void 0||Se.bias===void 0?Je=[0,0,0,0]:typeof Se.bias=="number"?Je=[Se.bias,Se.bias,Se.bias,Se.bias]:(Je=[Se.bias[0],Se.bias[1],Se.bias[2],0],Se.bias[3]!==void 0&&(Je[3]=Se.bias[3]));let J=_*g;if(l!==void 0&&(l.format!==void 0&&M===4&&l.format!=="RGBA"||M===3&&l.format!=="RGB"&&l.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let et=4,dt=0,it=1,ct=2,Mt=3,kt=0,pt=J,Pt=J*2,Lt=-1;Te==="RGBA"?(kt=0,pt=J,Pt=J*2,Lt=J*3):Te==="RGB"?(kt=0,pt=J,Pt=J*2):Te==="RBG"&&(kt=0,Pt=J,pt=J*2),f=d.createImageData(g,_);for(let jt=0;jt<_*g;dt+=et,it+=et,ct+=et,Mt+=et,jt++)f.data[dt]=(i.data[kt++]-Je[0])*$e[0],f.data[it]=(i.data[pt++]-Je[1])*$e[1],f.data[ct]=(i.data[Pt++]-Je[2])*$e[2],f.data[Mt]=Lt===-1?255:(i.data[Lt++]-Je[3])*$e[3]}else throw new Error("Can not access image data");return f}}),ut,ht,Ct,It,Ft,At,Dt=p(()=>{"use strict";hr(),ut=(i,l)=>{if(i===void 0)throw new Error("Image buffer must be defined");if(l.height===void 0||l.width===void 0)throw new Error("Image height and width must be defined");if(l.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:d,width:f}=l,g=l.norm??{mean:255,bias:0},_,M;typeof g.mean=="number"?_=[g.mean,g.mean,g.mean,g.mean]:_=[g.mean[0],g.mean[1],g.mean[2],g.mean[3]??255],typeof g.bias=="number"?M=[g.bias,g.bias,g.bias,g.bias]:M=[g.bias[0],g.bias[1],g.bias[2],g.bias[3]??0];let Te=l.format!==void 0?l.format:"RGBA",Se=l.tensorFormat!==void 0&&l.tensorFormat!==void 0?l.tensorFormat:"RGB",$e=d*f,Je=Se==="RGBA"?new Float32Array($e*4):new Float32Array($e*3),J=4,et=0,dt=1,it=2,ct=3,Mt=0,kt=$e,pt=$e*2,Pt=-1;Te==="RGB"&&(J=3,et=0,dt=1,it=2,ct=-1),Se==="RGBA"?Pt=$e*3:Se==="RBG"?(Mt=0,pt=$e,kt=$e*2):Se==="BGR"&&(pt=0,kt=$e,Mt=$e*2);for(let Lt=0;Lt<$e;Lt++,et+=J,it+=J,dt+=J,ct+=J)Je[Mt++]=(i[et]+M[0])/_[0],Je[kt++]=(i[dt]+M[1])/_[1],Je[pt++]=(i[it]+M[2])/_[2],Pt!==-1&&ct!==-1&&(Je[Pt++]=(i[ct]+M[3])/_[3]);return Se==="RGBA"?new st("float32",Je,[1,4,d,f]):new st("float32",Je,[1,3,d,f])},ht=(i,l)=>ot(void 0,null,function*(){let d=typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement,f=typeof ImageData<"u"&&i instanceof ImageData,g=typeof ImageBitmap<"u"&&i instanceof ImageBitmap,_=typeof i=="string",M,Te=l??{},Se=()=>{if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(1,1);throw new Error("Canvas is not supported")},$e=Je=>typeof HTMLCanvasElement<"u"&&Je instanceof HTMLCanvasElement||Je instanceof OffscreenCanvas?Je.getContext("2d"):null;if(d){let Je=Se();Je.width=i.width,Je.height=i.height;let J=$e(Je);if(J!=null){let et=i.height,dt=i.width;if(l!==void 0&&l.resizedHeight!==void 0&&l.resizedWidth!==void 0&&(et=l.resizedHeight,dt=l.resizedWidth),l!==void 0){if(Te=l,l.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");Te.tensorFormat="RGBA",Te.height=et,Te.width=dt}else Te.tensorFormat="RGBA",Te.height=et,Te.width=dt;J.drawImage(i,0,0),M=J.getImageData(0,0,dt,et).data}else throw new Error("Can not access image data")}else if(f){let Je,J;if(l!==void 0&&l.resizedWidth!==void 0&&l.resizedHeight!==void 0?(Je=l.resizedHeight,J=l.resizedWidth):(Je=i.height,J=i.width),l!==void 0&&(Te=l),Te.format="RGBA",Te.height=Je,Te.width=J,l!==void 0){let et=Se();et.width=J,et.height=Je;let dt=$e(et);if(dt!=null)dt.putImageData(i,0,0),M=dt.getImageData(0,0,J,Je).data;else throw new Error("Can not access image data")}else M=i.data}else if(g){if(l===void 0)throw new Error("Please provide image config with format for Imagebitmap");let Je=Se();Je.width=i.width,Je.height=i.height;let J=$e(Je);if(J!=null){let et=i.height,dt=i.width;return J.drawImage(i,0,0,dt,et),M=J.getImageData(0,0,dt,et).data,Te.height=et,Te.width=dt,ut(M,Te)}else throw new Error("Can not access image data")}else{if(_)return new Promise((Je,J)=>{let et=Se(),dt=$e(et);if(!i||!dt)return J();let it=new Image;it.crossOrigin="Anonymous",it.src=i,it.onload=()=>{et.width=it.width,et.height=it.height,dt.drawImage(it,0,0,et.width,et.height);let ct=dt.getImageData(0,0,et.width,et.height);Te.height=et.height,Te.width=et.width,Je(ut(ct.data,Te))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(M!==void 0)return ut(M,Te);throw new Error("Input data provided is not supported - aborted tensor creation")}),Ct=(i,l)=>{let{width:d,height:f,download:g,dispose:_}=l,M=[1,f,d,4];return new st({location:"texture",type:"float32",texture:i,dims:M,download:g,dispose:_})},It=(i,l)=>{let{dataType:d,dims:f,download:g,dispose:_}=l;return new st({location:"gpu-buffer",type:d??"float32",gpuBuffer:i,dims:f,download:g,dispose:_})},Ft=(i,l)=>{let{dataType:d,dims:f,download:g,dispose:_}=l;return new st({location:"ml-tensor",type:d??"float32",mlTensor:i,dims:f,download:g,dispose:_})},At=(i,l,d)=>new st({location:"cpu-pinned",type:i,data:l,dims:d??[l.length]})}),Rt,at,Ze,vt,St=p(()=>{"use strict";Rt=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array],["int4",Uint8Array],["uint4",Uint8Array]]),at=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),Ze=!1,vt=()=>{if(!Ze){Ze=!0;let i=typeof BigInt64Array<"u"&&BigInt64Array.from,l=typeof BigUint64Array<"u"&&BigUint64Array.from,d=typeof Float16Array<"u"&&Float16Array.from;i&&(Rt.set("int64",BigInt64Array),at.set(BigInt64Array,"int64")),l&&(Rt.set("uint64",BigUint64Array),at.set(BigUint64Array,"uint64")),d?(Rt.set("float16",Float16Array),at.set(Float16Array,"float16")):Rt.set("float16",Uint16Array)}}}),$t,qt,gt=p(()=>{"use strict";hr(),$t=i=>{let l=1;for(let d=0;d<i.length;d++){let f=i[d];if(typeof f!="number"||!Number.isSafeInteger(f))throw new TypeError(`dims[${d}] must be an integer, got: ${f}`);if(f<0)throw new RangeError(`dims[${d}] must be a non-negative integer, got: ${f}`);l*=f}return l},qt=(i,l)=>{switch(i.location){case"cpu":return new st(i.type,i.data,l);case"cpu-pinned":return new st({location:"cpu-pinned",data:i.data,type:i.type,dims:l});case"texture":return new st({location:"texture",texture:i.texture,type:i.type,dims:l});case"gpu-buffer":return new st({location:"gpu-buffer",gpuBuffer:i.gpuBuffer,type:i.type,dims:l});case"ml-tensor":return new st({location:"ml-tensor",mlTensor:i.mlTensor,type:i.type,dims:l});default:throw new Error(`tensorReshape: tensor location ${i.location} is not supported`)}}}),st,hr=p(()=>{"use strict";mt(),Dt(),St(),gt(),st=class{constructor(i,l,d){vt();let f,g;if(typeof i=="object"&&"location"in i)switch(this.dataLocation=i.location,f=i.type,g=i.dims,i.location){case"cpu-pinned":{let M=Rt.get(f);if(!M)throw new TypeError(`unsupported type "${f}" to create tensor from pinned buffer`);if(!(i.data instanceof M))throw new TypeError(`buffer should be of type ${M.name}`);this.cpuData=i.data;break}case"texture":{if(f!=="float32")throw new TypeError(`unsupported type "${f}" to create tensor from texture`);this.gpuTextureData=i.texture,this.downloader=i.download,this.disposer=i.dispose;break}case"gpu-buffer":{if(f!=="float32"&&f!=="float16"&&f!=="int32"&&f!=="int64"&&f!=="uint32"&&f!=="uint8"&&f!=="bool"&&f!=="uint4"&&f!=="int4")throw new TypeError(`unsupported type "${f}" to create tensor from gpu buffer`);this.gpuBufferData=i.gpuBuffer,this.downloader=i.download,this.disposer=i.dispose;break}case"ml-tensor":{if(f!=="float32"&&f!=="float16"&&f!=="int32"&&f!=="int64"&&f!=="uint32"&&f!=="uint64"&&f!=="int8"&&f!=="uint8"&&f!=="bool"&&f!=="uint4"&&f!=="int4")throw new TypeError(`unsupported type "${f}" to create tensor from MLTensor`);this.mlTensorData=i.mlTensor,this.downloader=i.download,this.disposer=i.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let M,Te;if(typeof i=="string")if(f=i,Te=d,i==="string"){if(!Array.isArray(l))throw new TypeError("A string tensor's data must be a string array.");M=l}else{let Se=Rt.get(i);if(Se===void 0)throw new TypeError(`Unsupported tensor type: ${i}.`);if(Array.isArray(l)){if(i==="float16"&&Se===Uint16Array||i==="uint4"||i==="int4")throw new TypeError(`Creating a ${i} tensor from number array is not supported. Please use ${Se.name} as data.`);i==="uint64"||i==="int64"?M=Se.from(l,BigInt):M=Se.from(l)}else if(l instanceof Se)M=l;else if(l instanceof Uint8ClampedArray)if(i==="uint8")M=Uint8Array.from(l);else throw new TypeError("A Uint8ClampedArray tensor's data must be type of uint8");else throw new TypeError(`A ${f} tensor's data must be type of ${Se}`)}else if(Te=l,Array.isArray(i)){if(i.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let Se=typeof i[0];if(Se==="string")f="string",M=i;else if(Se==="boolean")f="bool",M=Uint8Array.from(i);else throw new TypeError(`Invalid element type of data array: ${Se}.`)}else if(i instanceof Uint8ClampedArray)f="uint8",M=Uint8Array.from(i);else{let Se=at.get(i.constructor);if(Se===void 0)throw new TypeError(`Unsupported type for tensor data: ${i.constructor}.`);f=Se,M=i}if(Te===void 0)Te=[M.length];else if(!Array.isArray(Te))throw new TypeError("A tensor's dims must be a number array");g=Te,this.cpuData=M,this.dataLocation="cpu"}let _=$t(g);if(this.cpuData&&_!==this.cpuData.length&&!((f==="uint4"||f==="int4")&&Math.ceil(_/2)===this.cpuData.length))throw new Error(`Tensor's size(${_}) does not match data length(${this.cpuData.length}).`);this.type=f,this.dims=g,this.size=_}static fromImage(i,l){return ot(this,null,function*(){return ht(i,l)})}static fromTexture(i,l){return Ct(i,l)}static fromGpuBuffer(i,l){return It(i,l)}static fromMLTensor(i,l){return Ft(i,l)}static fromPinnedBuffer(i,l,d){return At(i,l,d)}toDataURL(i){return bt(this,i)}toImageData(i){return lt(this,i)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}get mlTensor(){if(this.ensureValid(),!this.mlTensorData)throw new Error("The data is not stored as a WebNN MLTensor.");return this.mlTensorData}getData(i){return ot(this,null,function*(){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":case"ml-tensor":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let l=yield this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=l,i&&this.disposer&&(this.disposer(),this.disposer=void 0),l}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}})}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.mlTensorData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(i){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return qt(this,i)}}}),Ht,xt=p(()=>{"use strict";hr(),Ht=st}),Ut,rr,nr,cr,mr=p(()=>{"use strict";Oe(),Ut=(i,l)=>{(typeof Ve.trace>"u"?!Ve.wasm.trace:!Ve.trace)||console.timeStamp(`${i}::ORT::${l}`)},rr=(i,l)=>{let d=new Error().stack?.split(/\r\n|\r|\n/g)||[],f=!1;for(let g=0;g<d.length;g++){if(f&&!d[g].includes("TRACE_FUNC")){let _=`FUNC_${i}::${d[g].trim().split(" ")[1]}`;l&&(_+=`::${l}`),Ut("CPU",_);return}d[g].includes("TRACE_FUNC")&&(f=!0)}},nr=i=>{(typeof Ve.trace>"u"?!Ve.wasm.trace:!Ve.trace)||rr("BEGIN",i)},cr=i=>{(typeof Ve.trace>"u"?!Ve.wasm.trace:!Ve.trace)||rr("END",i)}}),Cr,Tr=p(()=>{"use strict";Ie(),xt(),mr(),Cr=class W5{constructor(l){this.handler=l}run(l,d,f){return ot(this,null,function*(){nr();let g={},_={};if(typeof l!="object"||l===null||l instanceof Ht||Array.isArray(l))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let M=!0;if(typeof d=="object"){if(d===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(d instanceof Ht)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(d)){if(d.length===0)throw new TypeError("'fetches' cannot be an empty array.");M=!1;for(let $e of d){if(typeof $e!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf($e)===-1)throw new RangeError(`'fetches' contains invalid output name: ${$e}.`);g[$e]=null}if(typeof f=="object"&&f!==null)_=f;else if(typeof f<"u")throw new TypeError("'options' must be an object.")}else{let $e=!1,Je=Object.getOwnPropertyNames(d);for(let J of this.outputNames)if(Je.indexOf(J)!==-1){let et=d[J];(et===null||et instanceof Ht)&&($e=!0,M=!1,g[J]=et)}if($e){if(typeof f=="object"&&f!==null)_=f;else if(typeof f<"u")throw new TypeError("'options' must be an object.")}else _=d}}else if(typeof d<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let $e of this.inputNames)if(typeof l[$e]>"u")throw new Error(`input '${$e}' is missing in 'feeds'.`);if(M)for(let $e of this.outputNames)g[$e]=null;let Te=yield this.handler.run(l,g,_),Se={};for(let $e in Te)if(Object.hasOwnProperty.call(Te,$e)){let Je=Te[$e];Je instanceof Ht?Se[$e]=Je:Se[$e]=new Ht(Je.type,Je.data,Je.dims)}return cr(),Se})}release(){return ot(this,null,function*(){return this.handler.dispose()})}static create(l,d,f,g){return ot(this,null,function*(){nr();let _,M={};if(typeof l=="string"){if(_=l,typeof d=="object"&&d!==null)M=d;else if(typeof d<"u")throw new TypeError("'options' must be an object.")}else if(l instanceof Uint8Array){if(_=l,typeof d=="object"&&d!==null)M=d;else if(typeof d<"u")throw new TypeError("'options' must be an object.")}else if(l instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&l instanceof SharedArrayBuffer){let Je=l,J=0,et=l.byteLength;if(typeof d=="object"&&d!==null)M=d;else if(typeof d=="number"){if(J=d,!Number.isSafeInteger(J))throw new RangeError("'byteOffset' must be an integer.");if(J<0||J>=Je.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${Je.byteLength}).`);if(et=l.byteLength-J,typeof f=="number"){if(et=f,!Number.isSafeInteger(et))throw new RangeError("'byteLength' must be an integer.");if(et<=0||J+et>Je.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${Je.byteLength-J}].`);if(typeof g=="object"&&g!==null)M=g;else if(typeof g<"u")throw new TypeError("'options' must be an object.")}else if(typeof f<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof d<"u")throw new TypeError("'options' must be an object.");_=new Uint8Array(Je,J,et)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let[Te,Se]=yield He(M),$e=yield Te.createInferenceSessionHandler(_,Se);return cr(),new W5($e)})}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}}),dr,Ar=p(()=>{"use strict";Tr(),dr=Cr}),rt=p(()=>{"use strict"}),Et=p(()=>{"use strict"}),_t=p(()=>{"use strict"}),Tt=p(()=>{"use strict"}),zt={};y(zt,{InferenceSession:()=>dr,TRACE:()=>Ut,TRACE_FUNC_BEGIN:()=>nr,TRACE_FUNC_END:()=>cr,Tensor:()=>Ht,env:()=>Ue,registerBackend:()=>Re});var tr=p(()=>{"use strict";Pe(),tt(),Ar(),xt(),rt(),Et(),mr(),_t(),Tt()}),ur=p(()=>{"use strict"}),kr={};y(kr,{default:()=>qr});var gr,_r,qr,$r=p(()=>{"use strict";EC(),ls(),ni(),gr="ort-wasm-proxy-worker",_r=globalThis.self?.name===gr,_r&&(self.onmessage=i=>{let{type:l,in:d}=i.data;try{switch(l){case"init-wasm":zs(d.wasm).then(()=>{Pu(d).then(()=>{postMessage({type:l})},f=>{postMessage({type:l,err:f})})},f=>{postMessage({type:l,err:f})});break;case"init-ep":{let{epName:f,env:g}=d;uf(g,f).then(()=>{postMessage({type:l})},_=>{postMessage({type:l,err:_})});break}case"copy-from":{let{buffer:f}=d,g=Gl(f);postMessage({type:l,out:g});break}case"create":{let{model:f,options:g}=d;K_(f,g).then(_=>{postMessage({type:l,out:_})},_=>{postMessage({type:l,err:_})});break}case"release":q_(d),postMessage({type:l});break;case"run":{let{sessionId:f,inputIndices:g,inputs:_,outputIndices:M,options:Te}=d;Zs(f,g,_,M,new Array(M.length).fill(null),Te).then(Se=>{Se.some($e=>$e[3]!=="cpu")?postMessage({type:l,err:"Proxy does not support non-cpu tensor location."}):postMessage({type:l,out:Se},bw([..._,...Se]))},Se=>{postMessage({type:l,err:Se})});break}case"end-profiling":Qi(d),postMessage({type:l});break;default:}}catch(f){postMessage({type:l,err:f})}}),qr=_r?null:i=>new Worker(i??Rn,{type:"module",name:gr})}),Ur={};y(Ur,{default:()=>pn});var Io,Qo,pn,Kn=p(()=>{"use strict";Qo=(Io=import.meta.url,function(){return ot(this,arguments,function*(i={}){function l(){return mo.buffer!=So.buffer&&Oi(),So}function d(){return mo.buffer!=So.buffer&&Oi(),go}function f(){return mo.buffer!=So.buffer&&Oi(),Gn}function g(){return mo.buffer!=So.buffer&&Oi(),Er}function _(){return mo.buffer!=So.buffer&&Oi(),Kr}function M(){return mo.buffer!=So.buffer&&Oi(),dn}function Te(){return mo.buffer!=So.buffer&&Oi(),An}function Se(){return mo.buffer!=So.buffer&&Oi(),_i}var $e,Je,J=Object.assign({},i),et=new Promise((j,Le)=>{$e=j,Je=Le}),dt=typeof window=="object",it=typeof importScripts=="function",ct=it&&self.name=="em-pthread";J.mountExternalData=(j,Le)=>{j.startsWith("./")&&(j=j.substring(2)),(J.Fb||(J.Fb=new Map)).set(j,Le)},J.unmountExternalData=()=>{delete J.Fb};var Mt=globalThis.SharedArrayBuffer??new WebAssembly.Memory({initial:0,maximum:0,shared:!0}).buffer.constructor;let kt=()=>{let j=(Ye,nt,ft)=>(...Nt)=>{let sr=Pl,vr=nt?.();Nt=Ye(...Nt);let Vr=nt?.();return vr!==Vr&&(Ye=Vr,ft(vr),nt=ft=null),Pl!=sr?new Promise((Yr,co)=>{Lw={resolve:Yr,reject:co}}):Nt},Le=Ye=>(...nt)=>ot(this,null,function*(){try{if(J.Gb)throw Error("Session already started");let ft=J.Gb={hc:nt[0],errors:[]},Nt=yield Ye(...nt);if(J.Gb!==ft)throw Error("Session mismatch");J.Hb?.flush();let sr=ft.errors;if(0<sr.length){let vr=yield Promise.all(sr);if(vr=vr.filter(Vr=>Vr),0<vr.length)throw Error(vr.join(`
`))}return Nt}finally{J.Gb=null}});J._OrtCreateSession=j(J._OrtCreateSession,()=>J._OrtCreateSession,Ye=>J._OrtCreateSession=Ye),J._OrtRun=Le(j(J._OrtRun,()=>J._OrtRun,Ye=>J._OrtRun=Ye)),J._OrtRunWithBinding=Le(j(J._OrtRunWithBinding,()=>J._OrtRunWithBinding,Ye=>J._OrtRunWithBinding=Ye)),J._OrtBindInput=j(J._OrtBindInput,()=>J._OrtBindInput,Ye=>J._OrtBindInput=Ye),kt=void 0};J.jsepInit=(j,Le)=>{if(kt?.(),j==="webgpu"){[J.Hb,J.Vb,J.Zb,J.Ob,J.Yb,J.kb,J.$b,J.cc,J.Wb,J.Xb,J.ac]=Le;let Ye=J.Hb;J.jsepRegisterBuffer=(nt,ft,Nt,sr)=>Ye.registerBuffer(nt,ft,Nt,sr),J.jsepGetBuffer=nt=>Ye.getBuffer(nt),J.jsepCreateDownloader=(nt,ft,Nt)=>Ye.createDownloader(nt,ft,Nt),J.jsepOnCreateSession=nt=>{Ye.onCreateSession(nt)},J.jsepOnReleaseSession=nt=>{Ye.onReleaseSession(nt)},J.jsepOnRunStart=nt=>Ye.onRunStart(nt),J.dc=(nt,ft)=>{Ye.upload(nt,ft)}}else if(j==="webnn"){[J.Hb,J.bc,J.Pb,J.jsepEnsureTensor,J.ec,J.jsepDownloadTensor]=Le,J.jsepReleaseTensorId=J.Pb;let Ye=J.Hb;J.jsepOnRunStart=nt=>Ye.onRunStart(nt),J.jsepRegisterMLContext=(nt,ft)=>{Ye.registerMLContext(nt,ft)},J.jsepOnReleaseSession=nt=>{Ye.onReleaseSession(nt)},J.jsepCreateMLTensorDownloader=(nt,ft)=>Ye.createMLTensorDownloader(nt,ft),J.jsepRegisterMLTensor=(nt,ft,Nt)=>Ye.registerMLTensor(nt,ft,Nt),J.jsepCreateMLContext=nt=>Ye.createMLContext(nt),J.jsepRegisterMLConstant=(nt,ft,Nt,sr,vr)=>Ye.registerMLConstant(nt,ft,Nt,sr,vr,J.Fb)}};var pt,Pt,Lt=Object.assign({},J),jt=(j,Le)=>{throw Le},Yt="";(dt||it)&&(it?Yt=self.location.href:typeof document<"u"&&document.currentScript&&(Yt=document.currentScript.src),Io&&(Yt=Io),Yt=Yt.startsWith("blob:")?"":Yt.substr(0,Yt.replace(/[?#].*/,"").lastIndexOf("/")+1),it&&(Pt=j=>{var Le=new XMLHttpRequest;return Le.open("GET",j,!1),Le.responseType="arraybuffer",Le.send(null),new Uint8Array(Le.response)}),pt=(j,Le,Ye)=>{var nt=new XMLHttpRequest;nt.open("GET",j,!0),nt.responseType="arraybuffer",nt.onload=()=>{nt.status==200||nt.status==0&&nt.response?Le(nt.response):Ye()},nt.onerror=Ye,nt.send(null)});var Jt,Mr=console.log.bind(console),Pr=console.error.bind(console),Xr=Mr,Qr=Pr;if(Object.assign(J,Lt),Lt=null,ct){let j=function(Le){try{var Ye=Le.data,nt=Ye.cmd;if(nt==="load"){let ft=[];self.onmessage=Nt=>ft.push(Nt),self.startWorker=()=>{postMessage({cmd:"loaded"});for(let Nt of ft)j(Nt);self.onmessage=j};for(let Nt of Ye.handlers)J[Nt]&&!J[Nt].proxy||(J[Nt]=(...sr)=>{postMessage({Nb:"callHandler",pc:Nt,args:sr})},Nt=="print"&&(Xr=J[Nt]),Nt=="printErr"&&(Qr=J[Nt]));mo=Ye.wasmMemory,Oi(),Br(Ye.wasmModule)}else if(nt==="run"){Vw(Ye.pthread_ptr,0,0,1,0,0),Ow(Ye.pthread_ptr),vI(),YC(),Do||(qk(),Do=!0);try{yI(Ye.start_routine,Ye.arg)}catch(ft){if(ft!="unwind")throw ft}}else nt==="cancel"?Mh()&&ay(-1):Ye.target!=="setimmediate"&&(nt==="checkMailbox"?Do&&Q1():nt&&(Qr(`worker: received unknown command ${nt}`),Qr(Ye)))}catch(ft){throw Xk(),ft}};var yo=j,Br,Do=!1;Qr=function(...Le){Le=Le.join(" "),console.error(Le)},self.alert=function(...Le){postMessage({Nb:"alert",text:Le.join(" "),rc:Mh()})},J.instantiateWasm=(Le,Ye)=>new Promise(nt=>{Br=ft=>{ft=new WebAssembly.Instance(ft,HC()),Ye(ft),nt()}}),self.onunhandledrejection=Le=>{throw Le.reason||Le},self.onmessage=j}J.wasmBinary&&(Jt=J.wasmBinary);var mo,to,Lo,So,go,Gn,Er,Kr,dn,An,Bn,Hl,_i,jn=!1;function Oi(){var j=mo.buffer;J.HEAP8=So=new Int8Array(j),J.HEAP16=Gn=new Int16Array(j),J.HEAPU8=go=new Uint8Array(j),J.HEAPU16=Er=new Uint16Array(j),J.HEAP32=Kr=new Int32Array(j),J.HEAPU32=dn=new Uint32Array(j),J.HEAPF32=An=new Float32Array(j),J.HEAPF64=_i=new Float64Array(j),J.HEAP64=Bn=new BigInt64Array(j),J.HEAPU64=Hl=new BigUint64Array(j)}if(!ct){if(!((mo=new WebAssembly.Memory({initial:256,maximum:65536,shared:!0})).buffer instanceof Mt))throw Qr("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),Error("bad memory");Oi()}var q1=[],J_=[],gI=[],Z_=0,Cw=null,_b=null;function jC(){if(--Z_==0&&(Cw!==null&&(clearInterval(Cw),Cw=null),_b)){var j=_b;_b=null,j()}}function Bu(j){throw Qr(j="Aborted("+j+")"),jn=!0,Lo=1,j=new WebAssembly.RuntimeError(j+". Build with -sASSERTIONS for more info."),Je(j),j}var kw,VC=j=>j.startsWith("data:application/octet-stream;base64,"),UC=j=>j.startsWith("file://");function WC(j){if(j==kw&&Jt)return new Uint8Array(Jt);if(Pt)return Pt(j);throw"both async and sync fetching of the wasm failed"}function GC(j,Le,Ye){return function(nt){if(!Jt&&(dt||it)){if(typeof fetch=="function"&&!UC(nt))return fetch(nt,{credentials:"same-origin"}).then(ft=>{if(!ft.ok)throw`failed to load wasm binary file at '${nt}'`;return ft.arrayBuffer()}).catch(()=>WC(nt));if(pt)return new Promise((ft,Nt)=>{pt(nt,sr=>ft(new Uint8Array(sr)),Nt)})}return Promise.resolve().then(()=>WC(nt))}(j).then(nt=>WebAssembly.instantiate(nt,Le)).then(Ye,nt=>{Qr(`failed to asynchronously prepare wasm: ${nt}`),Bu(nt)})}function HC(){return{a:{O:bI,Aa:_I,b:wI,aa:tk,B:nk,qa:ik,Y:sk,_:lk,ra:ck,oa:dk,ha:uk,na:pk,L:fk,Z:hk,W:mk,pa:gk,X:_k,va:CI,F:MI,Q:TI,P:SI,E:AI,u:BI,q:II,G:DI,A:zI,R:jI,ua:VI,ka:UI,U:WI,ba:GI,H:HI,ja:Ow,ta:KI,t:qI,Ba:XI,x:JI,o:ZI,m:tD,c:Fw,n:rD,k:iD,w:aD,p:sD,f:lD,s:cD,l:dD,e:uD,j:pD,i:fD,g:hD,d:mD,ea:gD,fa:_D,ga:bD,ca:Bk,da:Ik,T:vD,h:yD,D:xD,I:wD,M:CD,y:kD,sa:MD,V:TD,v:Fk,z:ED,N:SD,S:PD,za:AD,ya:BD,la:$k,ma:Lk,$:Pw,C:Nk,K:zk,ia:jk,J:Vk,a:mo,xa:Sw,wa:Gk,r:FD}}}var Mw={916868:(j,Le,Ye,nt,ft)=>{if(J===void 0||!J.Fb)return 1;if((j=ai(Number(j>>>0))).startsWith("./")&&(j=j.substring(2)),!(j=J.Fb.get(j)))return 2;if(Le=Number(Le>>>0),Ye=Number(Ye>>>0),nt=Number(nt>>>0),Le+Ye>j.byteLength)return 3;try{let Nt=j.subarray(Le,Le+Ye);switch(ft){case 0:d().set(Nt,nt>>>0);break;case 1:J.dc(nt,Nt);break;default:return 4}return 0}catch{return 4}},917583:(j,Le,Ye)=>{J.ec(j,d().subarray(Le>>>0,Le+Ye>>>0))},917646:()=>J.bc(),917687:j=>{J.Pb(j)},917723:()=>{J.Wb()},917754:()=>{J.Xb()},917783:()=>{J.ac()},917808:j=>J.Vb(j),917841:j=>J.Zb(j),917873:(j,Le,Ye)=>{J.Ob(Number(j),Number(Le),Number(Ye),!0)},917936:(j,Le,Ye)=>{J.Ob(Number(j),Number(Le),Number(Ye))},917993:()=>typeof wasmOffsetConverter<"u",918050:j=>{J.kb("Abs",j,void 0)},918101:j=>{J.kb("Neg",j,void 0)},918152:j=>{J.kb("Floor",j,void 0)},918205:j=>{J.kb("Ceil",j,void 0)},918257:j=>{J.kb("Reciprocal",j,void 0)},918315:j=>{J.kb("Sqrt",j,void 0)},918367:j=>{J.kb("Exp",j,void 0)},918418:j=>{J.kb("Erf",j,void 0)},918469:j=>{J.kb("Sigmoid",j,void 0)},918524:(j,Le,Ye)=>{J.kb("HardSigmoid",j,{alpha:Le,beta:Ye})},918603:j=>{J.kb("Log",j,void 0)},918654:j=>{J.kb("Sin",j,void 0)},918705:j=>{J.kb("Cos",j,void 0)},918756:j=>{J.kb("Tan",j,void 0)},918807:j=>{J.kb("Asin",j,void 0)},918859:j=>{J.kb("Acos",j,void 0)},918911:j=>{J.kb("Atan",j,void 0)},918963:j=>{J.kb("Sinh",j,void 0)},919015:j=>{J.kb("Cosh",j,void 0)},919067:j=>{J.kb("Asinh",j,void 0)},919120:j=>{J.kb("Acosh",j,void 0)},919173:j=>{J.kb("Atanh",j,void 0)},919226:j=>{J.kb("Tanh",j,void 0)},919278:j=>{J.kb("Not",j,void 0)},919329:(j,Le,Ye)=>{J.kb("Clip",j,{min:Le,max:Ye})},919398:j=>{J.kb("Clip",j,void 0)},919450:(j,Le)=>{J.kb("Elu",j,{alpha:Le})},919508:j=>{J.kb("Gelu",j,void 0)},919560:j=>{J.kb("Relu",j,void 0)},919612:(j,Le)=>{J.kb("LeakyRelu",j,{alpha:Le})},919676:(j,Le)=>{J.kb("ThresholdedRelu",j,{alpha:Le})},919746:(j,Le)=>{J.kb("Cast",j,{to:Le})},919804:j=>{J.kb("Add",j,void 0)},919855:j=>{J.kb("Sub",j,void 0)},919906:j=>{J.kb("Mul",j,void 0)},919957:j=>{J.kb("Div",j,void 0)},920008:j=>{J.kb("Pow",j,void 0)},920059:j=>{J.kb("Equal",j,void 0)},920112:j=>{J.kb("Greater",j,void 0)},920167:j=>{J.kb("GreaterOrEqual",j,void 0)},920229:j=>{J.kb("Less",j,void 0)},920281:j=>{J.kb("LessOrEqual",j,void 0)},920340:(j,Le,Ye,nt,ft)=>{J.kb("ReduceMean",j,{keepDims:!!Le,noopWithEmptyAxes:!!Ye,axes:nt?Array.from(_().subarray(Number(nt)>>>0,Number(ft)>>>0)):[]})},920515:(j,Le,Ye,nt,ft)=>{J.kb("ReduceMax",j,{keepDims:!!Le,noopWithEmptyAxes:!!Ye,axes:nt?Array.from(_().subarray(Number(nt)>>>0,Number(ft)>>>0)):[]})},920689:(j,Le,Ye,nt,ft)=>{J.kb("ReduceMin",j,{keepDims:!!Le,noopWithEmptyAxes:!!Ye,axes:nt?Array.from(_().subarray(Number(nt)>>>0,Number(ft)>>>0)):[]})},920863:(j,Le,Ye,nt,ft)=>{J.kb("ReduceProd",j,{keepDims:!!Le,noopWithEmptyAxes:!!Ye,axes:nt?Array.from(_().subarray(Number(nt)>>>0,Number(ft)>>>0)):[]})},921038:(j,Le,Ye,nt,ft)=>{J.kb("ReduceSum",j,{keepDims:!!Le,noopWithEmptyAxes:!!Ye,axes:nt?Array.from(_().subarray(Number(nt)>>>0,Number(ft)>>>0)):[]})},921212:(j,Le,Ye,nt,ft)=>{J.kb("ReduceL1",j,{keepDims:!!Le,noopWithEmptyAxes:!!Ye,axes:nt?Array.from(_().subarray(Number(nt)>>>0,Number(ft)>>>0)):[]})},921385:(j,Le,Ye,nt,ft)=>{J.kb("ReduceL2",j,{keepDims:!!Le,noopWithEmptyAxes:!!Ye,axes:nt?Array.from(_().subarray(Number(nt)>>>0,Number(ft)>>>0)):[]})},921558:(j,Le,Ye,nt,ft)=>{J.kb("ReduceLogSum",j,{keepDims:!!Le,noopWithEmptyAxes:!!Ye,axes:nt?Array.from(_().subarray(Number(nt)>>>0,Number(ft)>>>0)):[]})},921735:(j,Le,Ye,nt,ft)=>{J.kb("ReduceSumSquare",j,{keepDims:!!Le,noopWithEmptyAxes:!!Ye,axes:nt?Array.from(_().subarray(Number(nt)>>>0,Number(ft)>>>0)):[]})},921915:(j,Le,Ye,nt,ft)=>{J.kb("ReduceLogSumExp",j,{keepDims:!!Le,noopWithEmptyAxes:!!Ye,axes:nt?Array.from(_().subarray(Number(nt)>>>0,Number(ft)>>>0)):[]})},922095:j=>{J.kb("Where",j,void 0)},922148:(j,Le,Ye)=>{J.kb("Transpose",j,{perm:Le?Array.from(_().subarray(Number(Le)>>>0,Number(Ye)>>>0)):[]})},922272:(j,Le,Ye,nt)=>{J.kb("DepthToSpace",j,{blocksize:Le,mode:ai(Ye),format:nt?"NHWC":"NCHW"})},922405:(j,Le,Ye,nt)=>{J.kb("DepthToSpace",j,{blocksize:Le,mode:ai(Ye),format:nt?"NHWC":"NCHW"})},922538:(j,Le,Ye,nt,ft,Nt,sr,vr,Vr,Yr,co,Jo,_n,or,Xo)=>{J.kb("ConvTranspose",j,{format:Vr?"NHWC":"NCHW",autoPad:Le,dilations:[Ye],group:nt,kernelShape:[ft],pads:[Nt,sr],strides:[vr],wIsConst:()=>!!l()[Yr>>>0],outputPadding:co?Array.from(_().subarray(Number(co)>>>0,Number(Jo)>>>0)):[],outputShape:_n?Array.from(_().subarray(Number(_n)>>>0,Number(or)>>>0)):[],activation:ai(Xo)})},922971:(j,Le,Ye,nt,ft,Nt,sr,vr,Vr,Yr,co,Jo,_n,or)=>{J.kb("ConvTranspose",j,{format:vr?"NHWC":"NCHW",autoPad:Le,dilations:Array.from(_().subarray(Number(Ye)>>>0,2+(Number(Ye)>>>0)>>>0)),group:nt,kernelShape:Array.from(_().subarray(Number(ft)>>>0,2+(Number(ft)>>>0)>>>0)),pads:Array.from(_().subarray(Number(Nt)>>>0,4+(Number(Nt)>>>0)>>>0)),strides:Array.from(_().subarray(Number(sr)>>>0,2+(Number(sr)>>>0)>>>0)),wIsConst:()=>!!l()[Vr>>>0],outputPadding:Yr?Array.from(_().subarray(Number(Yr)>>>0,Number(co)>>>0)):[],outputShape:Jo?Array.from(_().subarray(Number(Jo)>>>0,Number(_n)>>>0)):[],activation:ai(or)})},923632:(j,Le,Ye,nt,ft,Nt,sr,vr,Vr,Yr,co,Jo,_n,or,Xo)=>{J.kb("ConvTranspose",j,{format:Vr?"NHWC":"NCHW",autoPad:Le,dilations:[Ye],group:nt,kernelShape:[ft],pads:[Nt,sr],strides:[vr],wIsConst:()=>!!l()[Yr>>>0],outputPadding:co?Array.from(_().subarray(Number(co)>>>0,Number(Jo)>>>0)):[],outputShape:_n?Array.from(_().subarray(Number(_n)>>>0,Number(or)>>>0)):[],activation:ai(Xo)})},924065:(j,Le,Ye,nt,ft,Nt,sr,vr,Vr,Yr,co,Jo,_n,or)=>{J.kb("ConvTranspose",j,{format:vr?"NHWC":"NCHW",autoPad:Le,dilations:Array.from(_().subarray(Number(Ye)>>>0,2+(Number(Ye)>>>0)>>>0)),group:nt,kernelShape:Array.from(_().subarray(Number(ft)>>>0,2+(Number(ft)>>>0)>>>0)),pads:Array.from(_().subarray(Number(Nt)>>>0,4+(Number(Nt)>>>0)>>>0)),strides:Array.from(_().subarray(Number(sr)>>>0,2+(Number(sr)>>>0)>>>0)),wIsConst:()=>!!l()[Vr>>>0],outputPadding:Yr?Array.from(_().subarray(Number(Yr)>>>0,Number(co)>>>0)):[],outputShape:Jo?Array.from(_().subarray(Number(Jo)>>>0,Number(_n)>>>0)):[],activation:ai(or)})},924726:(j,Le)=>{J.kb("GlobalAveragePool",j,{format:Le?"NHWC":"NCHW"})},924817:(j,Le,Ye,nt,ft,Nt,sr,vr,Vr,Yr,co,Jo,_n,or)=>{J.kb("AveragePool",j,{format:or?"NHWC":"NCHW",auto_pad:Le,ceil_mode:Ye,count_include_pad:nt,storage_order:ft,dilations:Nt?Array.from(_().subarray(Number(Nt)>>>0,Number(sr)>>>0)):[],kernel_shape:vr?Array.from(_().subarray(Number(vr)>>>0,Number(Vr)>>>0)):[],pads:Yr?Array.from(_().subarray(Number(Yr)>>>0,Number(co)>>>0)):[],strides:Jo?Array.from(_().subarray(Number(Jo)>>>0,Number(_n)>>>0)):[]})},925296:(j,Le)=>{J.kb("GlobalAveragePool",j,{format:Le?"NHWC":"NCHW"})},925387:(j,Le,Ye,nt,ft,Nt,sr,vr,Vr,Yr,co,Jo,_n,or)=>{J.kb("AveragePool",j,{format:or?"NHWC":"NCHW",auto_pad:Le,ceil_mode:Ye,count_include_pad:nt,storage_order:ft,dilations:Nt?Array.from(_().subarray(Number(Nt)>>>0,Number(sr)>>>0)):[],kernel_shape:vr?Array.from(_().subarray(Number(vr)>>>0,Number(Vr)>>>0)):[],pads:Yr?Array.from(_().subarray(Number(Yr)>>>0,Number(co)>>>0)):[],strides:Jo?Array.from(_().subarray(Number(Jo)>>>0,Number(_n)>>>0)):[]})},925866:(j,Le)=>{J.kb("GlobalMaxPool",j,{format:Le?"NHWC":"NCHW"})},925953:(j,Le,Ye,nt,ft,Nt,sr,vr,Vr,Yr,co,Jo,_n,or)=>{J.kb("MaxPool",j,{format:or?"NHWC":"NCHW",auto_pad:Le,ceil_mode:Ye,count_include_pad:nt,storage_order:ft,dilations:Nt?Array.from(_().subarray(Number(Nt)>>>0,Number(sr)>>>0)):[],kernel_shape:vr?Array.from(_().subarray(Number(vr)>>>0,Number(Vr)>>>0)):[],pads:Yr?Array.from(_().subarray(Number(Yr)>>>0,Number(co)>>>0)):[],strides:Jo?Array.from(_().subarray(Number(Jo)>>>0,Number(_n)>>>0)):[]})},926428:(j,Le)=>{J.kb("GlobalMaxPool",j,{format:Le?"NHWC":"NCHW"})},926515:(j,Le,Ye,nt,ft,Nt,sr,vr,Vr,Yr,co,Jo,_n,or)=>{J.kb("MaxPool",j,{format:or?"NHWC":"NCHW",auto_pad:Le,ceil_mode:Ye,count_include_pad:nt,storage_order:ft,dilations:Nt?Array.from(_().subarray(Number(Nt)>>>0,Number(sr)>>>0)):[],kernel_shape:vr?Array.from(_().subarray(Number(vr)>>>0,Number(Vr)>>>0)):[],pads:Yr?Array.from(_().subarray(Number(Yr)>>>0,Number(co)>>>0)):[],strides:Jo?Array.from(_().subarray(Number(Jo)>>>0,Number(_n)>>>0)):[]})},926990:(j,Le,Ye,nt,ft)=>{J.kb("Gemm",j,{alpha:Le,beta:Ye,transA:nt,transB:ft})},927094:j=>{J.kb("MatMul",j,void 0)},927148:(j,Le,Ye,nt)=>{J.kb("ArgMax",j,{keepDims:!!Le,selectLastIndex:!!Ye,axis:nt})},927256:(j,Le,Ye,nt)=>{J.kb("ArgMin",j,{keepDims:!!Le,selectLastIndex:!!Ye,axis:nt})},927364:(j,Le)=>{J.kb("Softmax",j,{axis:Le})},927427:(j,Le)=>{J.kb("Concat",j,{axis:Le})},927487:(j,Le,Ye,nt,ft)=>{J.kb("Split",j,{axis:Le,numOutputs:Ye,splitSizes:nt?Array.from(_().subarray(Number(nt)>>>0,Number(ft)>>>0)):[]})},927643:j=>{J.kb("Expand",j,void 0)},927697:(j,Le)=>{J.kb("Gather",j,{axis:Number(Le)})},927768:(j,Le)=>{J.kb("GatherElements",j,{axis:Number(Le)})},927847:(j,Le)=>{J.kb("GatherND",j,{batch_dims:Number(Le)})},927926:(j,Le,Ye,nt,ft,Nt,sr,vr,Vr,Yr,co)=>{J.kb("Resize",j,{antialias:Le,axes:Ye?Array.from(_().subarray(Number(Ye)>>>0,Number(nt)>>>0)):[],coordinateTransformMode:ai(ft),cubicCoeffA:Nt,excludeOutside:sr,extrapolationValue:vr,keepAspectRatioPolicy:ai(Vr),mode:ai(Yr),nearestMode:ai(co)})},928288:(j,Le,Ye,nt,ft,Nt,sr)=>{J.kb("Slice",j,{starts:Le?Array.from(_().subarray(Number(Le)>>>0,Number(Ye)>>>0)):[],ends:nt?Array.from(_().subarray(Number(nt)>>>0,Number(ft)>>>0)):[],axes:Nt?Array.from(_().subarray(Number(Nt)>>>0,Number(sr)>>>0)):[]})},928552:j=>{J.kb("Tile",j,void 0)},928604:(j,Le,Ye)=>{J.kb("InstanceNormalization",j,{epsilon:Le,format:Ye?"NHWC":"NCHW"})},928718:(j,Le,Ye)=>{J.kb("InstanceNormalization",j,{epsilon:Le,format:Ye?"NHWC":"NCHW"})},928832:j=>{J.kb("Range",j,void 0)},928885:(j,Le)=>{J.kb("Einsum",j,{equation:ai(Le)})},928966:(j,Le,Ye,nt,ft)=>{J.kb("Pad",j,{mode:Le,value:Ye,pads:nt?Array.from(_().subarray(Number(nt)>>>0,Number(ft)>>>0)):[]})},929109:(j,Le,Ye,nt,ft,Nt)=>{J.kb("BatchNormalization",j,{epsilon:Le,momentum:Ye,spatial:!!ft,trainingMode:!!nt,format:Nt?"NHWC":"NCHW"})},929278:(j,Le,Ye,nt,ft,Nt)=>{J.kb("BatchNormalization",j,{epsilon:Le,momentum:Ye,spatial:!!ft,trainingMode:!!nt,format:Nt?"NHWC":"NCHW"})},929447:(j,Le,Ye)=>{J.kb("CumSum",j,{exclusive:Number(Le),reverse:Number(Ye)})},929544:(j,Le,Ye)=>{J.kb("DequantizeLinear",j,{axis:Le,blockSize:Ye})},929634:(j,Le,Ye,nt,ft)=>{J.kb("GridSample",j,{align_corners:Le,mode:ai(Ye),padding_mode:ai(nt),format:ft?"NHWC":"NCHW"})},929804:(j,Le,Ye,nt,ft)=>{J.kb("GridSample",j,{align_corners:Le,mode:ai(Ye),padding_mode:ai(nt),format:ft?"NHWC":"NCHW"})},929974:(j,Le,Ye,nt,ft,Nt,sr,vr,Vr)=>{J.kb("Attention",j,{numHeads:Le,isUnidirectional:Ye,maskFilterValue:nt,scale:ft,doRotary:Nt,qkvHiddenSizes:sr?Array.from(_().subarray(Number(vr)>>>0,Number(vr)+sr>>>0)):[],pastPresentShareBuffer:!!Vr})},930246:j=>{J.kb("BiasAdd",j,void 0)},930301:j=>{J.kb("BiasSplitGelu",j,void 0)},930362:j=>{J.kb("FastGelu",j,void 0)},930418:(j,Le,Ye,nt,ft,Nt,sr,vr,Vr,Yr,co,Jo,_n,or,Xo,ri)=>{J.kb("Conv",j,{format:Jo?"NHWC":"NCHW",auto_pad:Le,dilations:Ye?Array.from(_().subarray(Number(Ye)>>>0,Number(nt)>>>0)):[],group:ft,kernel_shape:Nt?Array.from(_().subarray(Number(Nt)>>>0,Number(sr)>>>0)):[],pads:vr?Array.from(_().subarray(Number(vr)>>>0,Number(Vr)>>>0)):[],strides:Yr?Array.from(_().subarray(Number(Yr)>>>0,Number(co)>>>0)):[],w_is_const:()=>!!l()[Number(_n)>>>0],activation:ai(or),activation_params:Xo?Array.from(Te().subarray(Number(Xo)>>>0,Number(ri)>>>0)):[]})},931002:j=>{J.kb("Gelu",j,void 0)},931054:(j,Le,Ye,nt,ft,Nt,sr,vr,Vr)=>{J.kb("GroupQueryAttention",j,{numHeads:Le,kvNumHeads:Ye,scale:nt,softcap:ft,doRotary:Nt,rotaryInterleaved:sr,smoothSoftmax:vr,localWindowSize:Vr})},931271:(j,Le,Ye,nt)=>{J.kb("LayerNormalization",j,{axis:Le,epsilon:Ye,simplified:!!nt})},931382:(j,Le,Ye,nt)=>{J.kb("LayerNormalization",j,{axis:Le,epsilon:Ye,simplified:!!nt})},931493:(j,Le,Ye,nt,ft,Nt)=>{J.kb("MatMulNBits",j,{k:Le,n:Ye,accuracyLevel:nt,bits:ft,blockSize:Nt})},931620:(j,Le,Ye,nt,ft,Nt)=>{J.kb("MultiHeadAttention",j,{numHeads:Le,isUnidirectional:Ye,maskFilterValue:nt,scale:ft,doRotary:Nt})},931779:(j,Le)=>{J.kb("QuickGelu",j,{alpha:Le})},931843:(j,Le,Ye,nt,ft)=>{J.kb("RotaryEmbedding",j,{interleaved:!!Le,numHeads:Ye,rotaryEmbeddingDim:nt,scale:ft})},931982:(j,Le,Ye)=>{J.kb("SkipLayerNormalization",j,{epsilon:Le,simplified:!!Ye})},932084:(j,Le,Ye)=>{J.kb("SkipLayerNormalization",j,{epsilon:Le,simplified:!!Ye})},932186:(j,Le,Ye,nt)=>{J.kb("GatherBlockQuantized",j,{gatherAxis:Le,quantizeAxis:Ye,blockSize:nt})},932307:j=>{J.$b(j)},932341:(j,Le)=>J.cc(Number(j),Number(Le),J.Gb.hc,J.Gb.errors)};function _I(j,Le,Ye){return Tk(()=>ot(this,null,function*(){yield J.Yb(Number(j),Number(Le),Number(Ye))}))}function bI(){return typeof wasmOffsetConverter<"u"}function Tw(j){this.name="ExitStatus",this.message=`Program terminated with exit(${j})`,this.status=j}var Ew=j=>{j.terminate(),j.onmessage=()=>{}},KC=j=>{Iu.length==0&&(ZC(),JC(Iu[0]));var Le=Iu.pop();if(!Le)return 6;mf.push(Le),El[j.Bb]=Le,Le.Bb=j.Bb;var Ye={cmd:"run",start_routine:j.ic,arg:j.Rb,pthread_ptr:j.Bb};return Le.postMessage(Ye,j.nc),0},hf=0,Jn=(j,Le,...Ye)=>{for(var nt=2*Ye.length,ft=Gw(),Nt=Ww(8*nt),sr=Nt>>>3,vr=0;vr<Ye.length;vr++){var Vr=Ye[vr];typeof Vr=="bigint"?(Bn[sr+2*vr]=1n,Bn[sr+2*vr+1]=Vr):(Bn[sr+2*vr]=0n,Se()[sr+2*vr+1>>>0]=Vr)}return j=Qk(j,0,nt,Nt,Le),sy(ft),j};function Sw(j){if(ct)return Jn(0,1,j);if(Lo=j,!(0<hf)){for(var Le of mf)Ew(Le);for(Le of Iu)Ew(Le);Iu=[],mf=[],El=[],jn=!0}jt(0,new Tw(j))}function qC(j){if(ct)return Jn(1,0,j);Pw(j)}var Pw=j=>{if(Lo=j,ct)throw qC(j),"unwind";Sw(j)},Iu=[],mf=[],XC=[],El={},QC=j=>{var Le=j.Bb;delete El[Le],Iu.push(j),mf.splice(mf.indexOf(j),1),j.Bb=0,Uw(Le)};function YC(){XC.forEach(j=>j())}var JC=j=>new Promise(Le=>{j.onmessage=ft=>{var Nt=(ft=ft.data).cmd;if(ft.targetThread&&ft.targetThread!=Mh()){var sr=El[ft.targetThread];sr?sr.postMessage(ft,ft.transferList):Qr(`Internal error! Worker sent a message "${Nt}" to target pthread ${ft.targetThread}, but that thread no longer exists!`)}else Nt==="checkMailbox"?Q1():Nt==="spawnThread"?KC(ft):Nt==="cleanupThread"?QC(El[ft.thread]):Nt==="killThread"?(ft=ft.thread,Nt=El[ft],delete El[ft],Ew(Nt),Uw(ft),mf.splice(mf.indexOf(Nt),1),Nt.Bb=0):Nt==="cancelThread"?El[ft.thread].postMessage({cmd:"cancel"}):Nt==="loaded"?(j.loaded=!0,Le(j)):Nt==="alert"?alert(`Thread ${ft.threadId}: ${ft.text}`):ft.target==="setimmediate"?j.postMessage(ft):Nt==="callHandler"?J[ft.handler](...ft.args):Nt&&Qr(`worker sent an unknown command ${Nt}`)},j.onerror=ft=>{throw Qr(`worker sent an error! ${ft.filename}:${ft.lineno}: ${ft.message}`),ft};var Ye,nt=[];for(Ye of[])J.hasOwnProperty(Ye)&&nt.push(Ye);j.postMessage({cmd:"load",handlers:nt,wasmMemory:mo,wasmModule:to})});function ZC(){var j=new Worker(import.meta.url.startsWith("file:")?new URL(e("./node_modules/onnxruntime-web/dist/ort.bundle.min.mjs?46eb"),e.b):new URL(import.meta.url),{type:"module",workerData:"em-pthread",name:"em-pthread"});Iu.push(j)}var X1=j=>{for(;0<j.length;)j.shift()(J)},vI=()=>{var j=Mh(),Le=M()[j+52>>>2>>>0];j=M()[j+56>>>2>>>0],Jk(Le,Le-j),sy(Le)},yI=(j,Le)=>{hf=0,j=Zk(j,Le),0<hf?Lo=j:ay(j)};class xI{constructor(Le){this.Kb=Le-24}}function wI(j,Le,Ye){var nt=new xI(j>>>=0);throw Le>>>=0,Ye>>>=0,M()[nt.Kb+16>>>2>>>0]=0,M()[nt.Kb+4>>>2>>>0]=Le,M()[nt.Kb+8>>>2>>>0]=Ye,j}function ek(j,Le,Ye,nt){return ct?Jn(2,1,j,Le,Ye,nt):tk(j,Le,Ye,nt)}function tk(j,Le,Ye,nt){if(j>>>=0,Le>>>=0,Ye>>>=0,nt>>>=0,Mt===void 0)return Qr("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var ft=[];return ct&&ft.length===0?ek(j,Le,Ye,nt):(j={ic:Ye,Bb:j,Rb:nt,nc:ft},ct?(j.Nb="spawnThread",postMessage(j,ft),0):KC(j))}var rk=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ok=(j,Le,Ye)=>{var nt=(Le>>>=0)+Ye;for(Ye=Le;j[Ye]&&!(Ye>=nt);)++Ye;if(16<Ye-Le&&j.buffer&&rk)return rk.decode(j.buffer instanceof Mt?j.slice(Le,Ye):j.subarray(Le,Ye));for(nt="";Le<Ye;){var ft=j[Le++];if(128&ft){var Nt=63&j[Le++];if((224&ft)==192)nt+=String.fromCharCode((31&ft)<<6|Nt);else{var sr=63&j[Le++];65536>(ft=(240&ft)==224?(15&ft)<<12|Nt<<6|sr:(7&ft)<<18|Nt<<12|sr<<6|63&j[Le++])?nt+=String.fromCharCode(ft):(ft-=65536,nt+=String.fromCharCode(55296|ft>>10,56320|1023&ft))}}else nt+=String.fromCharCode(ft)}return nt},ai=(j,Le)=>(j>>>=0)?ok(d(),j,Le):"";function nk(j,Le,Ye){return ct?Jn(3,1,j,Le,Ye):0}function ik(j,Le){if(ct)return Jn(4,1,j,Le)}var Aw=j=>{for(var Le=0,Ye=0;Ye<j.length;++Ye){var nt=j.charCodeAt(Ye);127>=nt?Le++:2047>=nt?Le+=2:55296<=nt&&57343>=nt?(Le+=4,++Ye):Le+=3}return Le},ak=(j,Le,Ye,nt)=>{if(!(0<nt))return 0;var ft=Ye>>>=0;nt=Ye+nt-1;for(var Nt=0;Nt<j.length;++Nt){var sr=j.charCodeAt(Nt);if(55296<=sr&&57343>=sr&&(sr=65536+((1023&sr)<<10)|1023&j.charCodeAt(++Nt)),127>=sr){if(Ye>=nt)break;Le[Ye++>>>0]=sr}else{if(2047>=sr){if(Ye+1>=nt)break;Le[Ye++>>>0]=192|sr>>6}else{if(65535>=sr){if(Ye+2>=nt)break;Le[Ye++>>>0]=224|sr>>12}else{if(Ye+3>=nt)break;Le[Ye++>>>0]=240|sr>>18,Le[Ye++>>>0]=128|sr>>12&63}Le[Ye++>>>0]=128|sr>>6&63}Le[Ye++>>>0]=128|63&sr}}return Le[Ye>>>0]=0,Ye-ft},wh=(j,Le,Ye)=>ak(j,d(),Le,Ye);function sk(j,Le){if(ct)return Jn(5,1,j,Le)}function lk(j,Le,Ye){if(ct)return Jn(6,1,j,Le,Ye)}function ck(j,Le,Ye){return ct?Jn(7,1,j,Le,Ye):0}function dk(j,Le){if(ct)return Jn(8,1,j,Le)}function uk(j,Le,Ye){if(ct)return Jn(9,1,j,Le,Ye)}function pk(j,Le,Ye,nt){if(ct)return Jn(10,1,j,Le,Ye,nt)}function fk(j,Le,Ye,nt){if(ct)return Jn(11,1,j,Le,Ye,nt)}function hk(j,Le,Ye,nt){if(ct)return Jn(12,1,j,Le,Ye,nt)}function mk(j){if(ct)return Jn(13,1,j)}function gk(j,Le){if(ct)return Jn(14,1,j,Le)}function _k(j,Le,Ye){if(ct)return Jn(15,1,j,Le,Ye)}var bk,Du,CI=()=>{Bu("")},Sl=j=>{for(var Le="";d()[j>>>0];)Le+=bk[d()[j++>>>0]];return Le},Bw={},Iw={},kI={};function Kl(j,Le,Ye={}){if(!("argPackAdvance"in Le))throw new TypeError("registerType registeredInstance requires argPackAdvance");return function(nt,ft,Nt={}){var sr=ft.name;if(!nt)throw new Du(`type "${sr}" must have a positive integer typeid pointer`);if(Iw.hasOwnProperty(nt)){if(Nt.Tb)return;throw new Du(`Cannot register type '${sr}' twice`)}Iw[nt]=ft,delete kI[nt],Bw.hasOwnProperty(nt)&&(ft=Bw[nt],delete Bw[nt],ft.forEach(vr=>vr()))}(j,Le,Ye)}var vk=(j,Le,Ye)=>{switch(Le){case 1:return Ye?nt=>l()[nt>>>0]:nt=>d()[nt>>>0];case 2:return Ye?nt=>f()[nt>>>1>>>0]:nt=>g()[nt>>>1>>>0];case 4:return Ye?nt=>_()[nt>>>2>>>0]:nt=>M()[nt>>>2>>>0];case 8:return Ye?nt=>Bn[nt>>>3]:nt=>Hl[nt>>>3];default:throw new TypeError(`invalid integer width (${Le}): ${j}`)}};function MI(j,Le,Ye){Ye>>>=0,Kl(j>>>=0,{name:Le=Sl(Le>>>0),fromWireType:nt=>nt,toWireType:function(nt,ft){if(typeof ft!="bigint"&&typeof ft!="number")throw ft=ft===null?"null":(nt=typeof ft)=="object"||nt==="array"||nt==="function"?ft.toString():""+ft,new TypeError(`Cannot convert "${ft}" to ${this.name}`);return typeof ft=="number"&&(ft=BigInt(ft)),ft},argPackAdvance:Fu,readValueFromPointer:vk(Le,Ye,Le.indexOf("u")==-1),Eb:null})}var Fu=8;function TI(j,Le,Ye,nt){Kl(j>>>=0,{name:Le=Sl(Le>>>0),fromWireType:function(ft){return!!ft},toWireType:function(ft,Nt){return Nt?Ye:nt},argPackAdvance:Fu,readValueFromPointer:function(ft){return this.fromWireType(d()[ft>>>0])},Eb:null})}var Dw=[],ql=[];function Fw(j){9<(j>>>=0)&&--ql[j+1]==0&&(ql[j]=void 0,Dw.push(j))}var us=j=>{if(!j)throw new Du("Cannot use deleted val. handle = "+j);return ql[j]},As=j=>{switch(j){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:let Le=Dw.pop()||ql.length;return ql[Le]=j,ql[Le+1]=1,Le}};function Rw(j){return this.fromWireType(M()[j>>>2>>>0])}var EI={name:"emscripten::val",fromWireType:j=>{var Le=us(j);return Fw(j),Le},toWireType:(j,Le)=>As(Le),argPackAdvance:Fu,readValueFromPointer:Rw,Eb:null};function SI(j){return Kl(j>>>0,EI)}var PI=(j,Le)=>{switch(Le){case 4:return function(Ye){return this.fromWireType(Te()[Ye>>>2>>>0])};case 8:return function(Ye){return this.fromWireType(Se()[Ye>>>3>>>0])};default:throw new TypeError(`invalid float width (${Le}): ${j}`)}};function AI(j,Le,Ye){Ye>>>=0,Kl(j>>>=0,{name:Le=Sl(Le>>>0),fromWireType:nt=>nt,toWireType:(nt,ft)=>ft,argPackAdvance:Fu,readValueFromPointer:PI(Le,Ye),Eb:null})}function BI(j,Le,Ye,nt,ft){if(j>>>=0,Ye>>>=0,Le=Sl(Le>>>0),ft===-1&&(ft=4294967295),ft=vr=>vr,nt===0){var Nt=32-8*Ye;ft=vr=>vr<<Nt>>>Nt}var sr=Le.includes("unsigned")?function(vr,Vr){return Vr>>>0}:function(vr,Vr){return Vr};Kl(j,{name:Le,fromWireType:ft,toWireType:sr,argPackAdvance:Fu,readValueFromPointer:vk(Le,Ye,nt!==0),Eb:null})}function II(j,Le,Ye){function nt(Nt){var sr=M()[Nt>>>2>>>0];return Nt=M()[Nt+4>>>2>>>0],new ft(l().buffer,Nt,sr)}var ft=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][Le];Kl(j>>>=0,{name:Ye=Sl(Ye>>>0),fromWireType:nt,argPackAdvance:Fu,readValueFromPointer:nt},{Tb:!0})}function DI(j,Le){j>>>=0;var Ye=(Le=Sl(Le>>>0))==="std::string";Kl(j,{name:Le,fromWireType:function(nt){var ft=M()[nt>>>2>>>0],Nt=nt+4;if(Ye)for(var sr=Nt,vr=0;vr<=ft;++vr){var Vr=Nt+vr;if(vr==ft||d()[Vr>>>0]==0){if(sr=ai(sr,Vr-sr),Yr===void 0)var Yr=sr;else Yr+="\0",Yr+=sr;sr=Vr+1}}else{for(Yr=Array(ft),vr=0;vr<ft;++vr)Yr[vr]=String.fromCharCode(d()[Nt+vr>>>0]);Yr=Yr.join("")}return Al(nt),Yr},toWireType:function(nt,ft){ft instanceof ArrayBuffer&&(ft=new Uint8Array(ft));var Nt=typeof ft=="string";if(!(Nt||ft instanceof Uint8Array||ft instanceof Uint8ClampedArray||ft instanceof Int8Array))throw new Du("Cannot pass non-string to std::string");var sr=Ye&&Nt?Aw(ft):ft.length,vr=iy(4+sr+1),Vr=vr+4;if(M()[vr>>>2>>>0]=sr,Ye&&Nt)wh(ft,Vr,sr+1);else if(Nt)for(Nt=0;Nt<sr;++Nt){var Yr=ft.charCodeAt(Nt);if(255<Yr)throw Al(Vr),new Du("String has UTF-16 code units that do not fit in 8 bits");d()[Vr+Nt>>>0]=Yr}else for(Nt=0;Nt<sr;++Nt)d()[Vr+Nt>>>0]=ft[Nt];return nt!==null&&nt.push(Al,vr),vr},argPackAdvance:Fu,readValueFromPointer:Rw,Eb(nt){Al(nt)}})}var yk=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,FI=(j,Le)=>{for(var Ye=j>>1,nt=Ye+Le/2;!(Ye>=nt)&&g()[Ye>>>0];)++Ye;if(32<(Ye<<=1)-j&&yk)return yk.decode(d().slice(j,Ye));for(Ye="",nt=0;!(nt>=Le/2);++nt){var ft=f()[j+2*nt>>>1>>>0];if(ft==0)break;Ye+=String.fromCharCode(ft)}return Ye},RI=(j,Le,Ye)=>{if(Ye??=2147483647,2>Ye)return 0;var nt=Le;Ye=(Ye-=2)<2*j.length?Ye/2:j.length;for(var ft=0;ft<Ye;++ft){var Nt=j.charCodeAt(ft);f()[Le>>>1>>>0]=Nt,Le+=2}return f()[Le>>>1>>>0]=0,Le-nt},OI=j=>2*j.length,$I=(j,Le)=>{for(var Ye=0,nt="";!(Ye>=Le/4);){var ft=_()[j+4*Ye>>>2>>>0];if(ft==0)break;++Ye,65536<=ft?(ft-=65536,nt+=String.fromCharCode(55296|ft>>10,56320|1023&ft)):nt+=String.fromCharCode(ft)}return nt},LI=(j,Le,Ye)=>{if(Le>>>=0,Ye??=2147483647,4>Ye)return 0;var nt=Le;Ye=nt+Ye-4;for(var ft=0;ft<j.length;++ft){var Nt=j.charCodeAt(ft);if(55296<=Nt&&57343>=Nt&&(Nt=65536+((1023&Nt)<<10)|1023&j.charCodeAt(++ft)),_()[Le>>>2>>>0]=Nt,(Le+=4)+4>Ye)break}return _()[Le>>>2>>>0]=0,Le-nt},NI=j=>{for(var Le=0,Ye=0;Ye<j.length;++Ye){var nt=j.charCodeAt(Ye);55296<=nt&&57343>=nt&&++Ye,Le+=4}return Le};function zI(j,Le,Ye){if(j>>>=0,Le>>>=0,Ye=Sl(Ye>>>=0),Le===2)var nt=FI,ft=RI,Nt=OI,sr=vr=>g()[vr>>>1>>>0];else Le===4&&(nt=$I,ft=LI,Nt=NI,sr=vr=>M()[vr>>>2>>>0]);Kl(j,{name:Ye,fromWireType:vr=>{for(var Vr,Yr=M()[vr>>>2>>>0],co=vr+4,Jo=0;Jo<=Yr;++Jo){var _n=vr+4+Jo*Le;Jo!=Yr&&sr(_n)!=0||(co=nt(co,_n-co),Vr===void 0?Vr=co:(Vr+="\0",Vr+=co),co=_n+Le)}return Al(vr),Vr},toWireType:(vr,Vr)=>{if(typeof Vr!="string")throw new Du(`Cannot pass non-string to C++ string type ${Ye}`);var Yr=Nt(Vr),co=iy(4+Yr+Le);return M()[co>>>2>>>0]=Yr/Le,ft(Vr,co+4,Yr+Le),vr!==null&&vr.push(Al,co),co},argPackAdvance:Fu,readValueFromPointer:Rw,Eb(vr){Al(vr)}})}function jI(j,Le){Kl(j>>>=0,{Ub:!0,name:Le=Sl(Le>>>0),argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})}var VI=()=>1;function UI(j){Vw(j>>>0,!it,1,!dt,131072,!1),YC()}var xk=j=>{if(!jn)try{if(j(),!(0<hf))try{ct?ay(Lo):Pw(Lo)}catch(Le){Le instanceof Tw||Le=="unwind"||jt(0,Le)}}catch(Le){Le instanceof Tw||Le=="unwind"||jt(0,Le)}};function Ow(j){j>>>=0,typeof Atomics.oc=="function"&&(Atomics.oc(_(),j>>>2,j).value.then(Q1),j+=128,Atomics.store(_(),j>>>2,1))}var Q1=()=>{var j=Mh();j&&(Ow(j),xk(Yk))};function WI(j,Le){(j>>>=0)==Le>>>0?setTimeout(Q1):ct?postMessage({targetThread:j,cmd:"checkMailbox"}):(j=El[j])&&j.postMessage({cmd:"checkMailbox"})}var $w=[];function GI(j,Le,Ye,nt,ft){for(Le>>>=0,nt/=2,$w.length=nt,Ye=ft>>>0>>>3,ft=0;ft<nt;ft++)$w[ft]=Bn[Ye+2*ft]?Bn[Ye+2*ft+1]:Se()[Ye+2*ft+1>>>0];return(Le?Mw[Le]:RD[j])(...$w)}function HI(j){j>>>=0,ct?postMessage({cmd:"cleanupThread",thread:j}):QC(El[j])}function KI(j){}var Y1=(j,Le)=>{var Ye=Iw[j];if(Ye===void 0)throw j=Kk(j),Ye=Sl(j),Al(j),new Du(`${Le} has unknown type ${Ye}`);return Ye},wk=(j,Le,Ye)=>{var nt=[];return j=j.toWireType(nt,Ye),nt.length&&(M()[Le>>>2>>>0]=As(nt)),j};function qI(j,Le,Ye){return Le>>>=0,Ye>>>=0,j=us(j>>>0),Le=Y1(Le,"emval::as"),wk(Le,Ye,j)}function XI(j,Le){return Le>>>=0,j=us(j>>>0),(Le=Y1(Le,"emval::as")).toWireType(null,j)}var J1=j=>{try{j()}catch(Le){Bu(Le)}},Ru=0,Pl=null,Ck=0,Z1=[],kk={},Mk={},QI=0,Lw=null,YI=[];function Tk(j){return function(Le){if(!jn){if(Ru===0){var Ye=!1,nt=!1;Le((ft=0)=>{if(!jn&&(Ck=ft,Ye=!0,nt)){Ru=2,J1(()=>rM(Pl)),typeof Browser<"u"&&Browser.Lb.Sb&&Browser.Lb.resume(),ft=!1;try{var Nt=function(){var Vr=_()[Pl+8>>>2>>>0];return Vr=lo[Mk[Vr]],--hf,Vr()}()}catch(Vr){Nt=Vr,ft=!0}var sr=!1;if(!Pl){var vr=Lw;vr&&(Lw=null,(ft?vr.reject:vr.resolve)(Nt),sr=!0)}if(ft&&!sr)throw Nt}}),nt=!0,Ye||(Ru=1,Pl=function(){var ft=iy(65548),Nt=ft+12;M()[ft>>>2>>>0]=Nt,M()[ft+4>>>2>>>0]=Nt+65536,Nt=Z1[0];var sr=kk[Nt];return sr===void 0&&(sr=QI++,kk[Nt]=sr,Mk[sr]=Nt),Nt=sr,_()[ft+8>>>2>>>0]=Nt,ft}(),typeof Browser<"u"&&Browser.Lb.Sb&&Browser.Lb.pause(),J1(()=>eM(Pl)))}else Ru===2?(Ru=0,J1(oM),Al(Pl),Pl=null,YI.forEach(xk)):Bu(`invalid state: ${Ru}`);return Ck}}(Le=>{j().then(Le)})}function JI(j){return j>>>=0,Tk(()=>(j=us(j)).then(As))}var ey=[];function ZI(j,Le,Ye,nt){return Ye>>>=0,nt>>>=0,(j=ey[j>>>0])(null,Le=us(Le>>>0),Ye,nt)}var eD={},ty=j=>{var Le=eD[j];return Le===void 0?Sl(j):Le};function tD(j,Le,Ye,nt,ft){return Ye>>>=0,nt>>>=0,ft>>>=0,(j=ey[j>>>0])(Le=us(Le>>>0),Le[Ye=ty(Ye)],nt,ft)}var Ek=()=>typeof globalThis=="object"?globalThis:Function("return this")();function rD(j){return(j>>>=0)==0?As(Ek()):(j=ty(j),As(Ek()[j]))}var oD=j=>{var Le=ey.length;return ey.push(j),Le},nD=(j,Le)=>{for(var Ye=Array(j),nt=0;nt<j;++nt)Ye[nt]=Y1(M()[Le+4*nt>>>2>>>0],"parameter "+nt);return Ye},Sk=(j,Le)=>Object.defineProperty(Le,"name",{value:j});function iD(j,Le,Ye){var nt=(Le=nD(j,Le>>>0)).shift();j--;var ft=`return function (obj, func, destructorsRef, args) {
`,Nt=0,sr=[];Ye===0&&sr.push("obj");for(var vr=["retType"],Vr=[nt],Yr=0;Yr<j;++Yr)sr.push("arg"+Yr),vr.push("argType"+Yr),Vr.push(Le[Yr]),ft+=`  var arg${Yr} = argType${Yr}.readValueFromPointer(args${Nt?"+"+Nt:""});
`,Nt+=Le[Yr].argPackAdvance;return ft+=`  var rv = ${Ye===1?"new func":"func.call"}(${sr.join(", ")});
`,nt.Ub||(vr.push("emval_returnValue"),Vr.push(wk),ft+=`  return emval_returnValue(retType, destructorsRef, rv);
`),vr.push(ft+`};
`),j=function(co){var Jo=Function;if(!(Jo instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof Jo} which is not a function`);var _n=Sk(Jo.name||"unknownFunctionName",function(){});return _n.prototype=Jo.prototype,_n=new _n,(co=Jo.apply(_n,co))instanceof Object?co:_n}(vr)(...Vr),Ye=`methodCaller<(${Le.map(co=>co.name).join(", ")}) => ${nt.name}>`,oD(Sk(Ye,j))}function aD(j){return j=ty(j>>>0),As(J[j])}function sD(j,Le){return Le>>>=0,j=us(j>>>0),Le=us(Le),As(j[Le])}function lD(j){9<(j>>>=0)&&(ql[j+1]+=1)}function cD(){return As([])}function dD(j){j=us(j>>>0);for(var Le=Array(j.length),Ye=0;Ye<j.length;Ye++)Le[Ye]=j[Ye];return As(Le)}function uD(j){return As(ty(j>>>0))}function pD(){return As({})}function fD(j){for(var Le=us(j>>>=0);Le.length;){var Ye=Le.pop();Le.pop()(Ye)}Fw(j)}function hD(j,Le,Ye){Le>>>=0,Ye>>>=0,j=us(j>>>0),Le=us(Le),Ye=us(Ye),j[Le]=Ye}function mD(j,Le){return Le>>>=0,j=(j=Y1(j>>>0,"_emval_take_value")).readValueFromPointer(Le),As(j)}function gD(j,Le){j=-9007199254740992>j||9007199254740992<j?NaN:Number(j),Le>>>=0,j=new Date(1e3*j),_()[Le>>>2>>>0]=j.getUTCSeconds(),_()[Le+4>>>2>>>0]=j.getUTCMinutes(),_()[Le+8>>>2>>>0]=j.getUTCHours(),_()[Le+12>>>2>>>0]=j.getUTCDate(),_()[Le+16>>>2>>>0]=j.getUTCMonth(),_()[Le+20>>>2>>>0]=j.getUTCFullYear()-1900,_()[Le+24>>>2>>>0]=j.getUTCDay(),j=(j.getTime()-Date.UTC(j.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,_()[Le+28>>>2>>>0]=j}var Ch=j=>j%4==0&&(j%100!=0||j%400==0),Pk=[0,31,60,91,121,152,182,213,244,274,305,335],Ak=[0,31,59,90,120,151,181,212,243,273,304,334];function _D(j,Le){j=-9007199254740992>j||9007199254740992<j?NaN:Number(j),Le>>>=0,j=new Date(1e3*j),_()[Le>>>2>>>0]=j.getSeconds(),_()[Le+4>>>2>>>0]=j.getMinutes(),_()[Le+8>>>2>>>0]=j.getHours(),_()[Le+12>>>2>>>0]=j.getDate(),_()[Le+16>>>2>>>0]=j.getMonth(),_()[Le+20>>>2>>>0]=j.getFullYear()-1900,_()[Le+24>>>2>>>0]=j.getDay();var Ye=(Ch(j.getFullYear())?Pk:Ak)[j.getMonth()]+j.getDate()-1|0;_()[Le+28>>>2>>>0]=Ye,_()[Le+36>>>2>>>0]=-60*j.getTimezoneOffset(),Ye=new Date(j.getFullYear(),6,1).getTimezoneOffset();var nt=new Date(j.getFullYear(),0,1).getTimezoneOffset();j=0|(Ye!=nt&&j.getTimezoneOffset()==Math.min(nt,Ye)),_()[Le+32>>>2>>>0]=j}function bD(j){j>>>=0;var Le=new Date(_()[j+20>>>2>>>0]+1900,_()[j+16>>>2>>>0],_()[j+12>>>2>>>0],_()[j+8>>>2>>>0],_()[j+4>>>2>>>0],_()[j>>>2>>>0],0),Ye=_()[j+32>>>2>>>0],nt=Le.getTimezoneOffset(),ft=new Date(Le.getFullYear(),6,1).getTimezoneOffset(),Nt=new Date(Le.getFullYear(),0,1).getTimezoneOffset(),sr=Math.min(Nt,ft);return 0>Ye?_()[j+32>>>2>>>0]=+(ft!=Nt&&sr==nt):0<Ye!=(sr==nt)&&(ft=Math.max(Nt,ft),Le.setTime(Le.getTime()+6e4*((0<Ye?sr:ft)-nt))),_()[j+24>>>2>>>0]=Le.getDay(),Ye=(Ch(Le.getFullYear())?Pk:Ak)[Le.getMonth()]+Le.getDate()-1|0,_()[j+28>>>2>>>0]=Ye,_()[j>>>2>>>0]=Le.getSeconds(),_()[j+4>>>2>>>0]=Le.getMinutes(),_()[j+8>>>2>>>0]=Le.getHours(),_()[j+12>>>2>>>0]=Le.getDate(),_()[j+16>>>2>>>0]=Le.getMonth(),_()[j+20>>>2>>>0]=Le.getYear(),j=Le.getTime(),BigInt(isNaN(j)?-1:j/1e3)}function Bk(j,Le,Ye,nt,ft,Nt,sr){return ct?Jn(16,1,j,Le,Ye,nt,ft,Nt,sr):-52}function Ik(j,Le,Ye,nt,ft,Nt){if(ct)return Jn(17,1,j,Le,Ye,nt,ft,Nt)}function vD(j,Le,Ye,nt){j>>>=0,Le>>>=0,Ye>>>=0,nt>>>=0;var ft=new Date().getFullYear(),Nt=new Date(ft,0,1),sr=new Date(ft,6,1);ft=Nt.getTimezoneOffset();var vr=sr.getTimezoneOffset(),Vr=Math.max(ft,vr);M()[j>>>2>>>0]=60*Vr,_()[Le>>>2>>>0]=+(ft!=vr),Nt=(j=Yr=>Yr.toLocaleTimeString(void 0,{hour12:!1,timeZoneName:"short"}).split(" ")[1])(Nt),sr=j(sr),vr<ft?(wh(Nt,Ye,17),wh(sr,nt,17)):(wh(Nt,nt,17),wh(sr,Ye,17))}var Nw=[],Dk=(j,Le)=>{Nw.length=0;for(var Ye;Ye=d()[j++>>>0];){var nt=Ye!=105;Le+=(nt&=Ye!=112)&&Le%8?4:0,Nw.push(Ye==112?M()[Le>>>2>>>0]:Ye==106?Bn[Le>>>3]:Ye==105?_()[Le>>>2>>>0]:Se()[Le>>>3>>>0]),Le+=nt?8:4}return Nw};function yD(j,Le,Ye){return j>>>=0,Le=Dk(Le>>>0,Ye>>>0),Mw[j](...Le)}function xD(j,Le,Ye){return j>>>=0,Le=Dk(Le>>>0,Ye>>>0),Mw[j](...Le)}var wD=()=>{},CD=()=>Date.now();function kD(j,Le){return Qr(ai(j>>>0,Le>>>0))}var Fk,MD=()=>{throw hf+=1,"unwind"};function TD(){return 4294901760}Fk=()=>performance.timeOrigin+performance.now();var ED=()=>navigator.hardwareConcurrency;function SD(){return Bu("Cannot use emscripten_pc_get_function without -sUSE_OFFSET_CONVERTER"),0}function PD(j){j>>>=0;var Le=d().length;if(j<=Le||4294901760<j)return!1;for(var Ye=1;4>=Ye;Ye*=2){var nt=Le*(1+.2/Ye);nt=Math.min(nt,j+100663296);var ft=Math;nt=Math.max(j,nt);e:{ft=(ft.min.call(ft,4294901760,nt+(65536-nt%65536)%65536)-mo.buffer.byteLength+65535)/65536;try{mo.grow(ft),Oi();var Nt=1;break e}catch{}Nt=void 0}if(Nt)return!0}return!1}var ry=()=>(Bu("Cannot use convertFrameToPC (needed by __builtin_return_address) without -sUSE_OFFSET_CONVERTER"),0),kh={},Rk=j=>{j.forEach(Le=>{var Ye=ry();Ye&&(kh[Ye]=Le)})};function AD(){var j=Error().stack.toString().split(`
`);return j[0]=="Error"&&j.shift(),Rk(j),kh.Qb=ry(),kh.fc=j,kh.Qb}function BD(j,Le,Ye){if(j>>>=0,Le>>>=0,kh.Qb==j)var nt=kh.fc;else(nt=Error().stack.toString().split(`
`))[0]=="Error"&&nt.shift(),Rk(nt);for(var ft=3;nt[ft]&&ry()!=j;)++ft;for(j=0;j<Ye&&nt[j+ft];++j)_()[Le+4*j>>>2>>>0]=ry();return j}var zw,jw={},Ok=()=>{if(!zw){var j,Le={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:"./this.program"};for(j in jw)jw[j]===void 0?delete Le[j]:Le[j]=jw[j];var Ye=[];for(j in Le)Ye.push(`${j}=${Le[j]}`);zw=Ye}return zw};function $k(j,Le){if(ct)return Jn(18,1,j,Le);j>>>=0,Le>>>=0;var Ye=0;return Ok().forEach((nt,ft)=>{var Nt=Le+Ye;for(ft=M()[j+4*ft>>>2>>>0]=Nt,Nt=0;Nt<nt.length;++Nt)l()[ft++>>>0]=nt.charCodeAt(Nt);l()[ft>>>0]=0,Ye+=nt.length+1}),0}function Lk(j,Le){if(ct)return Jn(19,1,j,Le);j>>>=0,Le>>>=0;var Ye=Ok();M()[j>>>2>>>0]=Ye.length;var nt=0;return Ye.forEach(ft=>nt+=ft.length+1),M()[Le>>>2>>>0]=nt,0}function Nk(j){return ct?Jn(20,1,j):52}function zk(j,Le,Ye,nt){return ct?Jn(21,1,j,Le,Ye,nt):52}function jk(j,Le,Ye,nt){return ct?Jn(22,1,j,Le,Ye,nt):70}var ID=[null,[],[]];function Vk(j,Le,Ye,nt){if(ct)return Jn(23,1,j,Le,Ye,nt);Le>>>=0,Ye>>>=0,nt>>>=0;for(var ft=0,Nt=0;Nt<Ye;Nt++){var sr=M()[Le>>>2>>>0],vr=M()[Le+4>>>2>>>0];Le+=8;for(var Vr=0;Vr<vr;Vr++){var Yr=d()[sr+Vr>>>0],co=ID[j];Yr===0||Yr===10?((j===1?Xr:Qr)(ok(co,0)),co.length=0):co.push(Yr)}ft+=vr}return M()[nt>>>2>>>0]=ft,0}var Uk=[31,29,31,30,31,30,31,31,30,31,30,31],Wk=[31,28,31,30,31,30,31,31,30,31,30,31],DD=(j,Le)=>{l().set(j,Le>>>0)};function Gk(j,Le,Ye,nt){function ft(or,Xo,ri){for(or=typeof or=="number"?or.toString():or||"";or.length<Xo;)or=ri[0]+or;return or}function Nt(or,Xo){return ft(or,Xo,"0")}function sr(or,Xo){function ri(iM){return 0>iM?-1:0<iM?1:0}var gf;return(gf=ri(or.getFullYear()-Xo.getFullYear()))===0&&(gf=ri(or.getMonth()-Xo.getMonth()))===0&&(gf=ri(or.getDate()-Xo.getDate())),gf}function vr(or){switch(or.getDay()){case 0:return new Date(or.getFullYear()-1,11,29);case 1:return or;case 2:return new Date(or.getFullYear(),0,3);case 3:return new Date(or.getFullYear(),0,2);case 4:return new Date(or.getFullYear(),0,1);case 5:return new Date(or.getFullYear()-1,11,31);case 6:return new Date(or.getFullYear()-1,11,30)}}function Vr(or){var Xo=or.Cb;for(or=new Date(new Date(or.Db+1900,0,1).getTime());0<Xo;){var ri=or.getMonth(),gf=(Ch(or.getFullYear())?Uk:Wk)[ri];if(!(Xo>gf-or.getDate())){or.setDate(or.getDate()+Xo);break}Xo-=gf-or.getDate()+1,or.setDate(1),11>ri?or.setMonth(ri+1):(or.setMonth(0),or.setFullYear(or.getFullYear()+1))}return ri=new Date(or.getFullYear()+1,0,4),Xo=vr(new Date(or.getFullYear(),0,4)),ri=vr(ri),0>=sr(Xo,or)?0>=sr(ri,or)?or.getFullYear()+1:or.getFullYear():or.getFullYear()-1}j>>>=0,Le>>>=0,Ye>>>=0,nt>>>=0;var Yr=M()[nt+40>>>2>>>0];for(var co in nt={lc:_()[nt>>>2>>>0],kc:_()[nt+4>>>2>>>0],Ib:_()[nt+8>>>2>>>0],Mb:_()[nt+12>>>2>>>0],Jb:_()[nt+16>>>2>>>0],Db:_()[nt+20>>>2>>>0],vb:_()[nt+24>>>2>>>0],Cb:_()[nt+28>>>2>>>0],sc:_()[nt+32>>>2>>>0],jc:_()[nt+36>>>2>>>0],mc:Yr?ai(Yr):""},Ye=ai(Ye),Yr={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})Ye=Ye.replace(new RegExp(co,"g"),Yr[co]);var Jo="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),_n="January February March April May June July August September October November December".split(" ");for(co in Yr={"%a":or=>Jo[or.vb].substring(0,3),"%A":or=>Jo[or.vb],"%b":or=>_n[or.Jb].substring(0,3),"%B":or=>_n[or.Jb],"%C":or=>Nt((or.Db+1900)/100|0,2),"%d":or=>Nt(or.Mb,2),"%e":or=>ft(or.Mb,2," "),"%g":or=>Vr(or).toString().substring(2),"%G":Vr,"%H":or=>Nt(or.Ib,2),"%I":or=>((or=or.Ib)==0?or=12:12<or&&(or-=12),Nt(or,2)),"%j":or=>{for(var Xo=0,ri=0;ri<=or.Jb-1;Xo+=(Ch(or.Db+1900)?Uk:Wk)[ri++]);return Nt(or.Mb+Xo,3)},"%m":or=>Nt(or.Jb+1,2),"%M":or=>Nt(or.kc,2),"%n":()=>`
`,"%p":or=>0<=or.Ib&&12>or.Ib?"AM":"PM","%S":or=>Nt(or.lc,2),"%t":()=>"	","%u":or=>or.vb||7,"%U":or=>Nt(Math.floor((or.Cb+7-or.vb)/7),2),"%V":or=>{var Xo=Math.floor((or.Cb+7-(or.vb+6)%7)/7);if(2>=(or.vb+371-or.Cb-2)%7&&Xo++,Xo)Xo==53&&((ri=(or.vb+371-or.Cb)%7)==4||ri==3&&Ch(or.Db)||(Xo=1));else{Xo=52;var ri=(or.vb+7-or.Cb-1)%7;(ri==4||ri==5&&Ch(or.Db%400-1))&&Xo++}return Nt(Xo,2)},"%w":or=>or.vb,"%W":or=>Nt(Math.floor((or.Cb+7-(or.vb+6)%7)/7),2),"%y":or=>(or.Db+1900).toString().substring(2),"%Y":or=>or.Db+1900,"%z":or=>{var Xo=0<=(or=or.jc);return or=Math.abs(or)/60,(Xo?"+":"-")+("0000"+(or/60*100+or%60)).slice(-4)},"%Z":or=>or.mc,"%%":()=>"%"},Ye=Ye.replace(/%%/g,"\0\0"),Yr)Ye.includes(co)&&(Ye=Ye.replace(new RegExp(co,"g"),Yr[co](nt)));return co=function(or){var Xo=Array(Aw(or)+1);return ak(or,Xo,0,Xo.length),Xo}(Ye=Ye.replace(/\0\0/g,"%")),co.length>Le?0:(DD(co,j),co.length-1)}function FD(j,Le,Ye,nt){return Gk(j>>>0,Le>>>0,Ye>>>0,nt>>>0)}ct||function(){for(var j=J.numThreads-1;j--;)ZC();q1.unshift(()=>{Z_++,function(Le){ct?Le():Promise.all(Iu.map(JC)).then(Le)}(()=>jC())})}();for(var Hk=Array(256),oy=0;256>oy;++oy)Hk[oy]=String.fromCharCode(oy);bk=Hk,Du=J.BindingError=class extends Error{constructor(j){super(j),this.name="BindingError"}},J.InternalError=class extends Error{constructor(j){super(j),this.name="InternalError"}},ql.push(0,1,void 0,1,null,1,!0,1,!1,1),J.count_emval_handles=()=>ql.length/2-5-Dw.length;var RD=[Sw,qC,ek,nk,ik,sk,lk,ck,dk,uk,pk,fk,hk,mk,gk,_k,Bk,Ik,$k,Lk,Nk,zk,jk,Vk],lo=function(){function j(Ye,nt){return lo=Ye.exports,lo=function(){var ft=lo,Nt={};for(let[sr,vr]of Object.entries(ft))Nt[sr]=typeof vr=="function"?(...Vr)=>{Z1.push(sr);try{return vr(...Vr)}finally{jn||(Z1.pop(),Pl&&Ru===1&&Z1.length===0&&(Ru=0,hf+=1,J1(tM),typeof Fibers<"u"&&Fibers.tc()))}}:vr;return Nt}(),lo=function(){var ft=lo,Nt=vr=>Vr=>vr(Vr)>>>0,sr=vr=>()=>vr()>>>0;return(ft=Object.assign({},ft)).Da=Nt(ft.Da),ft.gb=sr(ft.gb),ft.ib=Nt(ft.ib),ft.emscripten_main_runtime_thread_id=sr(ft.emscripten_main_runtime_thread_id),ft.tb=Nt(ft.tb),ft.ub=sr(ft.ub),ft}(),XC.push(lo.jb),J_.unshift(lo.Ca),to=nt,jC(),lo}var Le=HC();if(Z_++,J.instantiateWasm)try{return J.instantiateWasm(Le,j)}catch(Ye){Qr(`Module.instantiateWasm callback failed with error: ${Ye}`),Je(Ye)}return kw||=J.locateFile?VC("ort-wasm-simd-threaded.jsep.wasm")?"ort-wasm-simd-threaded.jsep.wasm":J.locateFile?J.locateFile("ort-wasm-simd-threaded.jsep.wasm",Yt):Yt+"ort-wasm-simd-threaded.jsep.wasm":new URL(e("./node_modules/onnxruntime-web/dist/ort-wasm-simd-threaded.jsep.wasm"),e.b).href,function(Ye,nt){var ft=kw;return Jt||typeof WebAssembly.instantiateStreaming!="function"||VC(ft)||UC(ft)||typeof fetch!="function"?GC(ft,Ye,nt):fetch(ft,{credentials:"same-origin"}).then(Nt=>WebAssembly.instantiateStreaming(Nt,Ye).then(nt,function(sr){return Qr(`wasm streaming compile failed: ${sr}`),Qr("falling back to ArrayBuffer instantiation"),GC(ft,Ye,nt)}))}(Le,function(Ye){j(Ye.instance,Ye.module)}).catch(Je),{}}(),Kk=j=>(Kk=lo.Da)(j),qk=()=>(qk=lo.Ea)();J._OrtInit=(j,Le)=>(J._OrtInit=lo.Fa)(j,Le),J._OrtGetLastError=(j,Le)=>(J._OrtGetLastError=lo.Ga)(j,Le),J._OrtCreateSessionOptions=(j,Le,Ye,nt,ft,Nt,sr,vr,Vr,Yr)=>(J._OrtCreateSessionOptions=lo.Ha)(j,Le,Ye,nt,ft,Nt,sr,vr,Vr,Yr),J._OrtAppendExecutionProvider=(j,Le)=>(J._OrtAppendExecutionProvider=lo.Ia)(j,Le),J._OrtAddFreeDimensionOverride=(j,Le,Ye)=>(J._OrtAddFreeDimensionOverride=lo.Ja)(j,Le,Ye),J._OrtAddSessionConfigEntry=(j,Le,Ye)=>(J._OrtAddSessionConfigEntry=lo.Ka)(j,Le,Ye),J._OrtReleaseSessionOptions=j=>(J._OrtReleaseSessionOptions=lo.La)(j),J._OrtCreateSession=(j,Le,Ye)=>(J._OrtCreateSession=lo.Ma)(j,Le,Ye),J._OrtReleaseSession=j=>(J._OrtReleaseSession=lo.Na)(j),J._OrtGetInputOutputCount=(j,Le,Ye)=>(J._OrtGetInputOutputCount=lo.Oa)(j,Le,Ye),J._OrtGetInputName=(j,Le)=>(J._OrtGetInputName=lo.Pa)(j,Le),J._OrtGetOutputName=(j,Le)=>(J._OrtGetOutputName=lo.Qa)(j,Le),J._OrtFree=j=>(J._OrtFree=lo.Ra)(j),J._OrtCreateTensor=(j,Le,Ye,nt,ft,Nt)=>(J._OrtCreateTensor=lo.Sa)(j,Le,Ye,nt,ft,Nt),J._OrtGetTensorData=(j,Le,Ye,nt,ft)=>(J._OrtGetTensorData=lo.Ta)(j,Le,Ye,nt,ft),J._OrtReleaseTensor=j=>(J._OrtReleaseTensor=lo.Ua)(j),J._OrtCreateRunOptions=(j,Le,Ye,nt)=>(J._OrtCreateRunOptions=lo.Va)(j,Le,Ye,nt),J._OrtAddRunConfigEntry=(j,Le,Ye)=>(J._OrtAddRunConfigEntry=lo.Wa)(j,Le,Ye),J._OrtReleaseRunOptions=j=>(J._OrtReleaseRunOptions=lo.Xa)(j),J._OrtCreateBinding=j=>(J._OrtCreateBinding=lo.Ya)(j),J._OrtBindInput=(j,Le,Ye)=>(J._OrtBindInput=lo.Za)(j,Le,Ye),J._OrtBindOutput=(j,Le,Ye,nt)=>(J._OrtBindOutput=lo._a)(j,Le,Ye,nt),J._OrtClearBoundOutputs=j=>(J._OrtClearBoundOutputs=lo.$a)(j),J._OrtReleaseBinding=j=>(J._OrtReleaseBinding=lo.ab)(j),J._OrtRunWithBinding=(j,Le,Ye,nt,ft)=>(J._OrtRunWithBinding=lo.bb)(j,Le,Ye,nt,ft),J._OrtRun=(j,Le,Ye,nt,ft,Nt,sr,vr)=>(J._OrtRun=lo.cb)(j,Le,Ye,nt,ft,Nt,sr,vr),J._OrtEndProfiling=j=>(J._OrtEndProfiling=lo.db)(j),J._JsepOutput=(j,Le,Ye)=>(J._JsepOutput=lo.eb)(j,Le,Ye),J._JsepGetNodeName=j=>(J._JsepGetNodeName=lo.fb)(j);var ny,Mh=()=>(Mh=lo.gb)(),Al=J._free=j=>(Al=J._free=lo.hb)(j),iy=J._malloc=j=>(iy=J._malloc=lo.ib)(j),Vw=(j,Le,Ye,nt,ft,Nt)=>(Vw=lo.lb)(j,Le,Ye,nt,ft,Nt),Xk=()=>(Xk=lo.mb)(),Qk=(j,Le,Ye,nt,ft)=>(Qk=lo.nb)(j,Le,Ye,nt,ft),Uw=j=>(Uw=lo.ob)(j),ay=j=>(ay=lo.pb)(j),Yk=()=>(Yk=lo.qb)(),Jk=(j,Le)=>(Jk=lo.rb)(j,Le),sy=j=>(sy=lo.sb)(j),Ww=j=>(Ww=lo.tb)(j),Gw=()=>(Gw=lo.ub)(),Zk=J.dynCall_ii=(j,Le)=>(Zk=J.dynCall_ii=lo.wb)(j,Le),eM=j=>(eM=lo.xb)(j),tM=()=>(tM=lo.yb)(),rM=j=>(rM=lo.zb)(j),oM=()=>(oM=lo.Ab)();function nM(){0<Z_||(ct?($e(J),ct||X1(J_),startWorker(J)):(X1(q1),0<Z_||ny||(ny=!0,J.calledRun=!0,jn||(ct||X1(J_),$e(J),ct||X1(gI)))))}return J.___start_em_js=932469,J.___stop_em_js=932715,J.stackSave=()=>Gw(),J.stackRestore=j=>sy(j),J.stackAlloc=j=>Ww(j),J.setValue=function(j,Le,Ye="i8"){switch(Ye.endsWith("*")&&(Ye="*"),Ye){case"i1":case"i8":l()[j>>>0]=Le;break;case"i16":f()[j>>>1>>>0]=Le;break;case"i32":_()[j>>>2>>>0]=Le;break;case"i64":Bn[j>>>3]=BigInt(Le);break;case"float":Te()[j>>>2>>>0]=Le;break;case"double":Se()[j>>>3>>>0]=Le;break;case"*":M()[j>>>2>>>0]=Le;break;default:Bu(`invalid type for setValue: ${Ye}`)}},J.getValue=function(j,Le="i8"){switch(Le.endsWith("*")&&(Le="*"),Le){case"i1":case"i8":return l()[j>>>0];case"i16":return f()[j>>>1>>>0];case"i32":return _()[j>>>2>>>0];case"i64":return Bn[j>>>3];case"float":return Te()[j>>>2>>>0];case"double":return Se()[j>>>3>>>0];case"*":return M()[j>>>2>>>0];default:Bu(`invalid type for getValue: ${Le}`)}},J.UTF8ToString=ai,J.stringToUTF8=wh,J.lengthBytesUTF8=Aw,_b=function j(){ny||nM(),ny||(_b=j)},nM(),J.PTR_SIZE=4,et})}),pn=Qo,globalThis.self?.name==="em-pthread"&&Qo()}),Bi,Zi,Rn,Hi,ao,ca,Ii,zi,ga,ki,ss,Di,On,ni=p(()=>{"use strict";ur(),Bi=typeof location>"u"?void 0:location.origin,Zi=()=>import.meta.url?.startsWith("file:")?new URL(new URL(e("./node_modules/onnxruntime-web/dist/ort.bundle.min.mjs?46eb"),e.b).href,Bi).href:import.meta.url,Rn=Zi(),Hi=()=>{if(Rn&&!Rn.startsWith("blob:"))return Rn.substring(0,Rn.lastIndexOf("/")+1)},ao=(i,l)=>{try{let d=l??Rn;return(d?new URL(i,d):new URL(i)).origin===Bi}catch{return!1}},ca=(i,l)=>{let d=l??Rn;try{return(d?new URL(i,d):new URL(i)).href}catch{return}},Ii=(i,l)=>`${l??"./"}${i}`,zi=i=>ot(void 0,null,function*(){let l=yield(yield fetch(i,{credentials:"same-origin"})).blob();return URL.createObjectURL(l)}),ga=i=>ot(void 0,null,function*(){return(yield import(i)).default}),ki=($r(),G(kr)).default,ss=()=>ot(void 0,null,function*(){if(!Rn)throw new Error("Failed to load proxy worker: cannot determine the script source URL.");if(ao(Rn))return[void 0,ki()];let i=yield zi(Rn);return[i,ki(i)]}),Di=(Kn(),G(Ur)).default,On=(i,l,d)=>ot(void 0,null,function*(){if(!i&&!l&&Di&&Rn&&ao(Rn))return[void 0,Di];{let f="ort-wasm-simd-threaded.jsep.mjs",g=i??ca(f,l),_=d&&g&&!ao(g,l),M=_?yield zi(g):g??Ii(f,l);return[_?M:void 0,yield ga(M)]}})}),li,xr,Wr,oo,ci,cl,zs,Cn,ls=p(()=>{"use strict";ni(),xr=!1,Wr=!1,oo=!1,ci=()=>{if(typeof SharedArrayBuffer>"u")return!1;try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},cl=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},zs=i=>ot(void 0,null,function*(){if(xr)return Promise.resolve();if(Wr)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(oo)throw new Error("previous call to 'initializeWebAssembly()' failed.");Wr=!0;let l=i.initTimeout,d=i.numThreads;if(!cl())throw new Error("WebAssembly SIMD is not supported in the current environment.");let f=ci();d>1&&!f&&(typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+d+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),console.warn("WebAssembly multi-threading is not supported in the current environment. Falling back to single-threading."),i.numThreads=d=1);let g=i.wasmPaths,_=typeof g=="string"?g:void 0,M=g?.mjs,Te=M?.href??M,Se=g?.wasm,$e=Se?.href??Se,Je=i.wasmBinary,[J,et]=yield On(Te,_,d>1),dt=!1,it=[];if(l>0&&it.push(new Promise(ct=>{setTimeout(()=>{dt=!0,ct()},l)})),it.push(new Promise((ct,Mt)=>{let kt={numThreads:d};if(Je)kt.wasmBinary=Je;else if($e||_)kt.locateFile=pt=>$e??_+pt;else if(Te&&Te.indexOf("blob:")!==0)kt.locateFile=pt=>new URL(pt,Te).href;else if(J){let pt=Hi();pt&&(kt.locateFile=Pt=>pt+Pt)}et(kt).then(pt=>{Wr=!1,xr=!0,li=pt,ct(),J&&URL.revokeObjectURL(J)},pt=>{Wr=!1,oo=!0,Mt(pt)})})),yield Promise.race(it),dt)throw new Error(`WebAssembly backend initializing failed due to timeout: ${l}ms`)}),Cn=()=>{if(xr&&li)return li;throw new Error("WebAssembly is not initialized yet.")}}),Un,vs,$o,js=p(()=>{"use strict";ls(),Un=(i,l)=>{let d=Cn(),f=d.lengthBytesUTF8(i)+1,g=d._malloc(f);return d.stringToUTF8(i,g,f),l.push(g),g},vs=(i,l,d,f)=>{if(typeof i=="object"&&i!==null){if(d.has(i))throw new Error("Circular reference in options");d.add(i)}Object.entries(i).forEach(([g,_])=>{let M=l?l+g:g;if(typeof _=="object")vs(_,M+".",d,f);else if(typeof _=="string"||typeof _=="number")f(M,_.toString());else if(typeof _=="boolean")f(M,_?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof _}`)})},$o=i=>{let l=Cn(),d=l.stackSave();try{let f=l.PTR_SIZE,g=l.stackAlloc(2*f);l._OrtGetLastError(g,g+f);let _=Number(l.getValue(g,f===4?"i32":"i64")),M=l.getValue(g+f,"*"),Te=M?l.UTF8ToString(M):"";throw new Error(`${i} ERROR_CODE: ${_}, ERROR_MESSAGE: ${Te}`)}finally{l.stackRestore(d)}}}),Vs,ap=p(()=>{"use strict";ls(),js(),Vs=i=>{let l=Cn(),d=0,f=[],g=i||{};try{if(i?.logSeverityLevel===void 0)g.logSeverityLevel=2;else if(typeof i.logSeverityLevel!="number"||!Number.isInteger(i.logSeverityLevel)||i.logSeverityLevel<0||i.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${i.logSeverityLevel}`);if(i?.logVerbosityLevel===void 0)g.logVerbosityLevel=0;else if(typeof i.logVerbosityLevel!="number"||!Number.isInteger(i.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${i.logVerbosityLevel}`);i?.terminate===void 0&&(g.terminate=!1);let _=0;return i?.tag!==void 0&&(_=Un(i.tag,f)),d=l._OrtCreateRunOptions(g.logSeverityLevel,g.logVerbosityLevel,!!g.terminate,_),d===0&&$o("Can't create run options."),i?.extra!==void 0&&vs(i.extra,"",new WeakSet,(M,Te)=>{let Se=Un(M,f),$e=Un(Te,f);l._OrtAddRunConfigEntry(d,Se,$e)!==0&&$o(`Can't set a run config entry: ${M} - ${Te}.`)}),[d,f]}catch(_){throw d!==0&&l._OrtReleaseRunOptions(d),f.forEach(M=>l._free(M)),_}}}),dl,ul,pl,Us,lu,Ll=p(()=>{"use strict";ls(),js(),dl=i=>{switch(i){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${i}`)}},ul=i=>{switch(i){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${i}`)}},pl=i=>{i.extra||(i.extra={}),i.extra.session||(i.extra.session={});let l=i.extra.session;l.use_ort_model_bytes_directly||(l.use_ort_model_bytes_directly="1"),i.executionProviders&&i.executionProviders.some(d=>(typeof d=="string"?d:d.name)==="webgpu")&&(i.enableMemPattern=!1)},Us=(i,l,d)=>{for(let f of l){let g=typeof f=="string"?f:f.name;switch(g){case"webnn":if(g="WEBNN",typeof f!="string"){let M=f?.deviceType;if(M){let Te=Un("deviceType",d),Se=Un(M,d);Cn()._OrtAddSessionConfigEntry(i,Te,Se)!==0&&$o(`Can't set a session config entry: 'deviceType' - ${M}.`)}}break;case"webgpu":if(g="JS",typeof f!="string"){let M=f;if(M?.preferredLayout){if(M.preferredLayout!=="NCHW"&&M.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${M.preferredLayout}`);let Te=Un("preferredLayout",d),Se=Un(M.preferredLayout,d);Cn()._OrtAddSessionConfigEntry(i,Te,Se)!==0&&$o(`Can't set a session config entry: 'preferredLayout' - ${M.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${g}`)}let _=Un(g,d);Cn()._OrtAppendExecutionProvider(i,_)!==0&&$o(`Can't append execution provider: ${g}.`)}},lu=i=>{let l=Cn(),d=0,f=[],g=i||{};pl(g);try{let _=dl(g.graphOptimizationLevel??"all"),M=ul(g.executionMode??"sequential"),Te=typeof g.logId=="string"?Un(g.logId,f):0,Se=g.logSeverityLevel??2;if(!Number.isInteger(Se)||Se<0||Se>4)throw new Error(`log serverity level is not valid: ${Se}`);let $e=g.logVerbosityLevel??0;if(!Number.isInteger($e)||$e<0||$e>4)throw new Error(`log verbosity level is not valid: ${$e}`);let Je=typeof g.optimizedModelFilePath=="string"?Un(g.optimizedModelFilePath,f):0;if(d=l._OrtCreateSessionOptions(_,!!g.enableCpuMemArena,!!g.enableMemPattern,M,!!g.enableProfiling,0,Te,Se,$e,Je),d===0&&$o("Can't create session options."),g.executionProviders&&Us(d,g.executionProviders,f),g.enableGraphCapture!==void 0){if(typeof g.enableGraphCapture!="boolean")throw new Error(`enableGraphCapture must be a boolean value: ${g.enableGraphCapture}`);let J=Un("enableGraphCapture",f),et=Un(g.enableGraphCapture.toString(),f);l._OrtAddSessionConfigEntry(d,J,et)!==0&&$o(`Can't set a session config entry: 'enableGraphCapture' - ${g.enableGraphCapture}.`)}if(g.freeDimensionOverrides)for(let[J,et]of Object.entries(g.freeDimensionOverrides)){if(typeof J!="string")throw new Error(`free dimension override name must be a string: ${J}`);if(typeof et!="number"||!Number.isInteger(et)||et<0)throw new Error(`free dimension override value must be a non-negative integer: ${et}`);let dt=Un(J,f);l._OrtAddFreeDimensionOverride(d,dt,et)!==0&&$o(`Can't set a free dimension override: ${J} - ${et}.`)}return g.extra!==void 0&&vs(g.extra,"",new WeakSet,(J,et)=>{let dt=Un(J,f),it=Un(et,f);l._OrtAddSessionConfigEntry(d,dt,it)!==0&&$o(`Can't set a session config entry: ${J} - ${et}.`)}),[d,f]}catch(_){throw d!==0&&l._OrtReleaseSessionOptions(d)!==0&&$o("Can't release session options."),f.forEach(M=>l._free(M)),_}}}),cs,ji,Vi,Nl,ys,Ws,Gs,Hs,io=p(()=>{"use strict";cs=i=>{switch(i){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;case"int4":return 22;case"uint4":return 21;default:throw new Error(`unsupported data type: ${i}`)}},ji=i=>{switch(i){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";case 22:return"int4";case 21:return"uint4";default:throw new Error(`unsupported data type: ${i}`)}},Vi=(i,l)=>{let d=[-1,4,1,1,2,2,4,8,-1,1,2,8,4,8,-1,-1,-1,-1,-1,-1,-1,.5,.5][i],f=typeof l=="number"?l:l.reduce((g,_)=>g*_,1);return d>0?Math.ceil(f*d):void 0},Nl=i=>{switch(i){case"float16":return typeof Float16Array<"u"&&Float16Array.from?Float16Array:Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${i}`)}},ys=i=>{switch(i){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${i}`)}},Ws=i=>i==="float32"||i==="float16"||i==="int32"||i==="int64"||i==="uint32"||i==="uint8"||i==="bool"||i==="uint4"||i==="int4",Gs=i=>i==="float32"||i==="float16"||i==="int32"||i==="int64"||i==="uint32"||i==="uint64"||i==="int8"||i==="uint8"||i==="bool"||i==="uint4"||i==="int4",Hs=i=>{switch(i){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;case"ml-tensor":return 5;default:throw new Error(`unsupported data location: ${i}`)}}}),zl,fl=p(()=>{"use strict";ur(),zl=i=>ot(void 0,null,function*(){if(typeof i=="string"){let l=yield fetch(i);if(!l.ok)throw new Error(`failed to load external data file: ${i}`);let d=l.headers.get("Content-Length"),f=d?parseInt(d,10):0;if(f<1073741824)return new Uint8Array(yield l.arrayBuffer());{if(!l.body)throw new Error(`failed to load external data file: ${i}, no response body.`);let g=l.body.getReader(),_;try{_=new ArrayBuffer(f)}catch(Te){if(Te instanceof RangeError){let Se=Math.ceil(f/65536);_=new WebAssembly.Memory({initial:Se,maximum:Se}).buffer}else throw Te}let M=0;for(;;){let{done:Te,value:Se}=yield g.read();if(Te)break;let $e=Se.byteLength;new Uint8Array(_,M,$e).set(Se),M+=$e}return new Uint8Array(_,0,f)}}else return i instanceof Blob?new Uint8Array(yield i.arrayBuffer()):i instanceof Uint8Array?i:new Uint8Array(i)})}),hl,ml,Ks,cu,qs,gl,Ko,Gt=p(()=>{"use strict";io(),hl=["V","I","W","E","F"],ml=(i,l)=>{console.log(`[${hl[i]},${new Date().toISOString()}]${l}`)},qs=(i,l)=>{Ks=i,cu=l},gl=(i,l)=>{let d=ys(i),f=ys(Ks);d>=f&&ml(d,typeof l=="function"?l():l)},Ko=(...i)=>{cu&&gl(...i)}}),We,wt=p(()=>{"use strict";io(),We=(i,l)=>new(Nl(l))(i)}),Bt=p(()=>{"use strict"}),Ot,er,fr,Rr,zr,Lr,Fr,Wo,uo,mn=p(()=>{"use strict";Gt(),Bt(),Ot=new Map([[64,250],[128,200],[256,200],[512,200],[2048,230],[4096,200],[8192,50],[16384,50],[32768,50],[65536,50],[131072,50],[262144,50],[524288,50],[1048576,50],[2097152,30],[4194304,20],[8388608,10],[12582912,10],[16777216,10],[26214400,15],[33554432,22],[44236800,2],[58982400,6],[67108864,6],[134217728,6],[167772160,6]]),er=[],fr=i=>Math.ceil(Number(i)/16)*16,Rr=i=>{for(let l=0;l<er.length;l++){let d=er[l];if(i<=d)return d}return Math.ceil(i/16)*16},zr=1,Lr=()=>zr++,Fr=(i,l,d,f)=>ot(void 0,null,function*(){let g=fr(d),_=i.device.createBuffer({size:g,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});try{let M=i.getCommandEncoder();i.endComputePass(),M.copyBufferToBuffer(l,0,_,0,g),i.flush(),yield _.mapAsync(GPUMapMode.READ);let Te=_.getMappedRange();if(f){let Se=f();return Se.set(new Uint8Array(Te,0,d)),Se}else return new Uint8Array(Te.slice(0,d))}finally{_.destroy()}}),Wo=class{constructor(i){this.backend=i,this.storageCache=new Map,this.freeBuffers=new Map,this.freeUniformBuffers=new Map,this.buffersPending=[],this.capturedPendingBuffers=new Map;for(let[l]of Ot)er.push(l),this.freeBuffers.set(l,[]),this.freeUniformBuffers.set(l,[]);this.sessionCount=0}upload(i,l){let d=l.buffer,f=l.byteOffset,g=l.byteLength,_=fr(g),M=this.storageCache.get(i);if(!M)throw new Error("gpu data for uploading does not exist");if(Number(M.originalSize)!==g)throw new Error(`inconsistent data size. gpu data size=${M.originalSize}, data size=${g}`);let Te=this.backend.device.createBuffer({mappedAtCreation:!0,size:_,usage:GPUBufferUsage.MAP_WRITE|GPUBufferUsage.COPY_SRC}),Se=Te.getMappedRange();new Uint8Array(Se).set(new Uint8Array(d,f,g)),Te.unmap();let $e=this.backend.device.createCommandEncoder();$e.copyBufferToBuffer(Te,0,M.gpuData.buffer,0,_),this.backend.device.queue.submit([$e.finish()]),Te.destroy(),Ko("verbose",()=>`[WebGPU] GpuDataManager.upload(id=${i})`)}memcpy(i,l){let d=this.storageCache.get(i);if(!d)throw new Error("source gpu data for memcpy does not exist");let f=this.storageCache.get(l);if(!f)throw new Error("destination gpu data for memcpy does not exist");if(d.originalSize!==f.originalSize)throw new Error("inconsistent source and destination gpu data size");let g=fr(d.originalSize),_=this.backend.getCommandEncoder();this.backend.endComputePass(),_.copyBufferToBuffer(d.gpuData.buffer,0,f.gpuData.buffer,0,g)}registerExternalBuffer(i,l,d){let f;if(d){if(f=d[0],i===d[1])return Ko("verbose",()=>`[WebGPU] GpuDataManager.registerExternalBuffer(size=${l}) => id=${f}, buffer is the same, skip.`),f;if(this.backend.capturedCommandList.has(this.backend.currentSessionId))throw new Error(`Registering a different external buffer under graph capture mode is not supported yet.
             Please use the previous external buffer!`)}else f=Lr();return this.storageCache.set(f,{gpuData:{id:f,type:0,buffer:i},originalSize:l}),Ko("verbose",()=>`[WebGPU] GpuDataManager.registerExternalBuffer(size=${l}) => id=${f}, registered.`),f}unregisterExternalBuffer(i){i!==void 0&&(this.storageCache.delete(i),Ko("verbose",()=>`[WebGPU] GpuDataManager.unregisterExternalBuffer() => id=${i}`))}create(i,l=GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST){let d=Rr(i),f,g=(l&GPUBufferUsage.STORAGE)===GPUBufferUsage.STORAGE,_=(l&GPUBufferUsage.UNIFORM)===GPUBufferUsage.UNIFORM;if(g||_){let Te=(g?this.freeBuffers:this.freeUniformBuffers).get(d);Te?Te.length>0?f=Te.pop():f=this.backend.device.createBuffer({size:d,usage:l}):f=this.backend.device.createBuffer({size:d,usage:l})}else f=this.backend.device.createBuffer({size:d,usage:l});let M={id:Lr(),type:0,buffer:f};return this.storageCache.set(M.id,{gpuData:M,originalSize:Number(i)}),Ko("verbose",()=>`[WebGPU] GpuDataManager.create(size=${i}) => id=${M.id}`),M}get(i){return this.storageCache.get(i)?.gpuData}release(i){let l=typeof i=="bigint"?Number(i):i,d=this.storageCache.get(l);if(!d){if(this.storageCache.size===0)return 0;throw new Error("releasing data does not exist")}return Ko("verbose",()=>`[WebGPU] GpuDataManager.release(id=${l}), gpuDataId=${d.gpuData.id}`),this.storageCache.delete(l),this.buffersPending.push(d.gpuData.buffer),d.originalSize}download(i,l){return ot(this,null,function*(){let d=this.storageCache.get(Number(i));if(!d)throw new Error("data does not exist");yield Fr(this.backend,d.gpuData.buffer,d.originalSize,l)})}refreshPendingBuffers(){if(this.buffersPending.length!==0)if(this.backend.sessionStatus==="default"){for(let i of this.buffersPending){let l=Ot.get(i.size);if((i.usage&GPUBufferUsage.STORAGE)===GPUBufferUsage.STORAGE){let d=this.freeBuffers.get(i.size)||[];l===void 0||d.length>=l?i.destroy():d.push(i)}else if((i.usage&GPUBufferUsage.UNIFORM)===GPUBufferUsage.UNIFORM){let d=this.freeUniformBuffers.get(i.size)||[];l===void 0||d.length>=l?i.destroy():d.push(i)}else i.destroy()}this.buffersPending=[]}else{let i=this.capturedPendingBuffers.get(this.backend.currentSessionId);i||(i=[],this.capturedPendingBuffers.set(this.backend.currentSessionId,i));for(let l of this.buffersPending)i.push(l);this.buffersPending=[]}}dispose(){this.freeBuffers.forEach(i=>{i.forEach(l=>{l.destroy()})}),this.freeUniformBuffers.forEach(i=>{i.forEach(l=>{l.destroy()})}),this.storageCache.forEach(i=>{i.gpuData.buffer.destroy()}),this.capturedPendingBuffers.forEach(i=>{i.forEach(l=>{l.destroy()})}),this.storageCache=new Map,this.freeBuffers=new Map,this.freeUniformBuffers=new Map,this.capturedPendingBuffers=new Map}onCreateSession(){this.sessionCount+=1}onReleaseSession(i){let l=this.capturedPendingBuffers.get(i);l&&(l.forEach(d=>{d.destroy()}),this.capturedPendingBuffers.delete(i)),this.sessionCount-=1,this.sessionCount===0&&(Ko("warning",()=>"[WebGPU] Clearing webgpu buffer cache"),this.storageCache.forEach(d=>{d.gpuData.buffer.destroy()}),this.storageCache=new Map)}},uo=(...i)=>new Wo(...i)}),Fi,fo,Ro=p(()=>{"use strict";Fi=class{constructor(i){Object.assign(this,i)}get cacheKey(){return this.key||(this.key=Object.getOwnPropertyNames(this).sort().map(i=>`${this[i]}`).join(";")),this.key}},fo=i=>new Fi(i)}),Mi,mi,Zt,ti,xs,$n,di,ro=p(()=>{"use strict";Mi=class{static calcMatMulShape(i,l){return i[1]!==l[0]?void 0:[i[0],l[1]]}},mi=class{static calcShape(i,l,d=!1){let f=i.length,g=l.length;if(f===0)return l;if(g===0)return i;let _=Math.max(i.length,l.length),M=new Array(_);if(d){if(f<2||g<2)return;let Te=Mi.calcMatMulShape([i[f-2],i[f-1]],[l[g-2],l[g-1]]);if(Te===void 0)return;[M[_-2],M[_-1]]=Te}for(let Te=d?3:1;Te<=_;Te++){let Se=f-Te<0?1:i[f-Te],$e=g-Te<0?1:l[g-Te];if(Se!==$e&&Se>1&&$e>1)return;let Je=Math.max(Se,$e);if(Se&&$e)M[_-Te]=Math.max(Se,$e);else{if(Je>1)return;M[_-Te]=0}}return M}static isValidBroadcast(i,l){let d=i.length,f=l.length;if(d>f)return!1;for(let g=1;g<=d;g++)if(i[d-g]!==1&&i[d-g]!==l[f-g])return!1;return!0}},Zt=class nw{static size(l){return nw.getSizeFromDimensionRange(l,0,l.length)}static convertShape(l,d=4){let f=l.length;if(f===0)return[];let g=new Array(f),_=f-1;for(;_>=0;){if(l[_]%d===0){g[_]=l[_]/d;break}if(d%l[_]!==0)throw new Error("cannot convert shape");g[_]=1,d/=l[_],_--}for(_--;_>=0;_--)g[_]=l[_];return g}static sizeFromDimension(l,d){if(d<0||d>l.length)throw new Error(`invalid dimension of ${d} for sizeFromDimension as Tensor has ${l.length} dimensions.`);return nw.getSizeFromDimensionRange(l,d,l.length)}static sizeToDimension(l,d){if(d<0||d>l.length)throw new Error(`invalid dimension of ${d} for sizeToDimension as Tensor has ${l.length} dimensions.`);return nw.getSizeFromDimensionRange(l,0,d)}static getSizeFromDimensionRange(l,d,f){let g=1;for(let _=d;_<f;_++){if(l[_]<0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains negative values in them.");g*=Number(l[_])}return g}static computeStrides(l){let d=l.length;if(d===0)return[];if(d===1)return[1];let f=new Array(d);f[d-1]=1,f[d-2]=l[d-1];for(let g=d-3;g>=0;--g)f[g]=f[g+1]*l[g+1];return f}static normalizeAxis(l,d){if(l<-d&&l>=d)throw new Error("unsupported axis for this operation.");return l<0?l+d:l}static normalizeAxes(l,d){return l.map(f=>this.normalizeAxis(f,d??l.length))}static sortBasedOnPerm(l,d){return d?d.map(f=>l[f]):l.slice().reverse()}static padShape(l,d){let f=l.length;return l.map((g,_)=>g+d[_]+d[_+f])}static areEqual(l,d){return l.length!==d.length?!1:l.every((f,g)=>f===d[g])}},ti=class Uv{static adjustPoolAttributes(l,d,f,g,_,M){if(!l&&f.length!==d.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(l)for(let Te=0;Te<d.length-2;Te++)Te>=f.length?f.push(d[Te+2]):f[Te]=d[Te+2];for(let Te=0;Te<f.length;Te++)if(Te<g.length){if(g[Te]<0)throw new Error("strides should be greater than or equal to 1")}else g.push(1);for(let Te=0;Te<f.length;Te++)if(Te<_.length){if(_[Te]<0)throw new Error("dilations should be greater than or equal to 1")}else _.push(1);for(let Te=0;Te<f.length*2;Te++)if(Te<M.length){if(M[Te]<0)throw new Error("pad should be greater than or equal to 1")}else M.push(0);for(let Te=0;Te<f.length;Te++){if(f[Te]<=0)throw new Error("kernel shapes need to be greater than 0");if(M[Te]>=f[Te]||M[Te+f.length]>=f[Te])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(l,d,f,g,_,M,Te){if(Te){if(_.length!==2*(l.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(d.length!==l.length-2)throw new Error("length of strides should be the length of data dimensions");if(g.length!==l.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let Se=0;Se<l.length-2;Se++)Uv.adjustPadAndReturnShape(l[Se+(M?1:2)],d[Se],f[Se],g[Se],_,Se,Se+l.length-2,Te)}}static computePoolOutputShape(l,d,f,g,_,M,Te){if(d.length<=0)throw new Error("input shape must be of size greater than 0");let Se=[d[0],d[1]];return Uv.computeShapeHelper(l,d,Se,f,g,_,M,Te),Se}static computeConvOutputShape(l,d,f,g,_,M,Te){if(l.length<=0||d.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");let Se=[l[0],d[0]];return Uv.computeShapeHelper(!1,l,Se,f,g,_,M,Te),Se}static computeShapeHelper(l,d,f,g,_,M,Te,Se){if(l)for(let $e=0;$e<d.length-2;$e++)f.push(1);else for(let $e=0;$e<d.length-2;$e++)f.push(Uv.adjustPadAndReturnShape(d[$e+2],g[$e],_[$e],M[$e],Te,$e,$e+d.length-2,Se))}static adjustPadAndReturnShape(l,d,f,g,_,M,Te,Se){let $e=f*(g-1)+1;if(Se&&Se!=="NOTSET")switch(Se){case"VALID":return _[M]=0,_[Te]=0,Math.floor((l-$e)/d+1);case"SAME_LOWER":case"SAME_UPPER":if(f!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{let Je=((l+d-1)/d-1)*d+g-l;return _[M]=Math.floor(Se==="SAME_LOWER"?(Je+1)/2:Je/2),_[Te]=Je-_[M],Math.floor((l+Je-g)/d+1)}default:throw new Error("Unsupported AutoPad type")}else return Math.floor((l+_[M]+_[Te]-$e)/d+1)}},xs=class{static getShapeOfGemmResult(i,l,d,f,g){if(i.length!==2||d.length!==2)throw new Error("shape need to be of size 2");let _,M,Te;l?(_=i[1],M=i[0]):(_=i[0],M=i[1]);let Se=-1;if(f?(Te=d[0],Se=1):(Te=d[1],Se=0),d[Se]!==M)throw new Error("dimension mismatch");if(_<=0||Te<=0||M<=0)throw new Error("invalid shape specified");if(g&&!mi.isValidBroadcast(g,[_,Te]))throw new Error("gemm: invalid bias shape for broadcast");return[_,Te,M]}},$n=-34028234663852886e22,di=34028234663852886e22}),Ri,Ui,qo,Tn,Nr,xo,qn,En,Xn,Hr,ws,ar,eo,sp,du,lp,cp,wo=p(()=>{"use strict";io(),ro(),Ri=64,Ui=(i,l)=>{if(l===3)throw new Error("vec3 has same alignment as vec4, use vec4 instead");switch(Number(i)){case 10:return l>1?`vec${l}<f16>`:"f16";case 1:return l>1?`vec${l}<f32>`:"f32";case 6:return l>1?`vec${l}<i32>`:"i32";case 12:return l>1?`vec${l}<u32>`:"u32";case 7:if(l>1)throw new Error("currently not supported vecX of uint64 yet");return["vec2<u32>","i32"];case 13:if(l>1)throw new Error("currently not supported vecX of uint64 yet");return["vec2<u32>","u32"];case 9:if(l!==4)throw new Error("bool must be vec4");return["u32","vec4<bool>"];case 22:return"i32";case 21:return"u32";default:throw new Error(`Unknown data type: ${i}`)}},qo=(i,l=1)=>{let d=Ui(i,l);return typeof d=="string"?d:d[0]},Tn=(i,l=1)=>{let d=Ui(i,l);return typeof d=="string"?d:d[1]},Nr=(...i)=>{let l=[];return i.forEach(d=>{d.length!==0&&l.push({type:12,data:d},{type:12,data:Zt.computeStrides(d)})}),l},xo=i=>i%4===0?4:i%2===0?2:1,qn=(i="f32",l,d="0")=>!l||l===1?`${i}(${d})`:`vec${l}<${i}>(${d})`,En=(i,l,d)=>i==="f32"?d:l===1?`f32(${d})`:`vec${l}<f32>(${d})`,Xn=(i,l)=>l===4?`(${i}.x + ${i}.y + ${i}.z + ${i}.w)`:l===2?`(${i}.x + ${i}.y)`:l===3?`(${i}.x + ${i}.y + ${i}.z)`:i,Hr=(i,l,d,f)=>i.startsWith("uniforms.")&&d>4?typeof l=="string"?f==="f16"?`${i}[(${l}) / 8][(${l}) % 8 / 4][(${l}) % 8 % 4]`:`${i}[(${l}) / 4][(${l}) % 4]`:f==="f16"?`${i}[${Math.floor(l/8)}][${Math.floor(l%8/4)}][${l%8%4}]`:`${i}[${Math.floor(l/4)}][${l%4}]`:d>1?`${i}[${l}]`:i,ws=(i,l,d,f,g)=>{let _=typeof d=="number",M=_?d:d.length,Te=[...new Array(M).keys()],Se=M<2?"u32":M<=4?`vec${M}<u32>`:`array<u32, ${M}>`,$e=Ui(l,g),Je=typeof $e=="string"?$e:$e[1],J=typeof $e=="string"?$e:$e[0],et={indices:Se,value:Je,storage:J,tensor:l},dt=Er=>typeof Er=="string"?Er:`${Er}u`,it={offsetToIndices:!1,indicesToOffset:!1,broadcastedIndicesToOffset:!1,set:!1,setByIndices:!1,get:!1,getByIndices:!1},ct=_?"uniforms.":"",Mt=`${ct}${i}_shape`,kt=`${ct}${i}_strides`,pt="";for(let Er=0;Er<M-1;Er++)pt+=`
    let dim${Er} = current / ${Hr(kt,Er,M)};
    let rest${Er} = current % ${Hr(kt,Er,M)};
    indices[${Er}] = dim${Er};
    current = rest${Er};
    `;pt+=`indices[${M-1}] = current;`;let Pt=M<2?"":`
  fn o2i_${i}(offset: u32) -> ${et.indices} {
    var indices: ${et.indices};
    var current = offset;
    ${pt}
    return indices;
  }`,Lt=Er=>(it.offsetToIndices=!0,M<2?Er:`o2i_${i}(${Er})`),jt=[];if(M>=2)for(let Er=M-1;Er>=0;Er--)jt.push(`${Hr(kt,Er,M)} * (indices[${Er}])`);let Yt=M<2?"":`
  fn i2o_${i}(indices: ${et.indices}) -> u32 {
    return ${jt.join("+")};
  }`,Jt=Er=>(it.indicesToOffset=!0,M<2?Er:`i2o_${i}(${Er})`),Mr=(...Er)=>M===0?"0u":`${et.indices}(${Er.map(dt).join(",")})`,Pr=(Er,Kr)=>M<2?`${Er}`:`${Hr(Er,Kr,M)}`,Xr=(Er,Kr,dn)=>M<2?`${Er}=${dn};`:`${Hr(Er,Kr,M)}=${dn};`,Qr={},yo=(Er,Kr)=>{it.broadcastedIndicesToOffset=!0;let dn=`${Kr.name}broadcastedIndicesTo${i}Offset`;if(dn in Qr)return`${dn}(${Er})`;let An=[];for(let Bn=M-1;Bn>=0;Bn--){let Hl=Kr.indicesGet("outputIndices",Bn+Kr.rank-M);An.push(`${Pr(kt,Bn)} * (${Hl} % ${Pr(Mt,Bn)})`)}return Qr[dn]=`fn ${dn}(outputIndices: ${Kr.type.indices}) -> u32 {
             return ${An.length>0?An.join("+"):"0u"};
           }`,`${dn}(${Er})`},Br=(Er,Kr)=>(()=>{if(et.storage===et.value)return`${i}[${Er}]=${Kr};`;if(et.storage==="vec2<u32>"&&et.value==="i32")return`${i}[${Er}]=vec2<u32>(u32(${Kr}), select(0u, 0xFFFFFFFFu, ${Kr} < 0));`;if(et.storage==="vec2<u32>"&&et.value==="u32")return`${i}[${Er}]=vec2<u32>(u32(${Kr}), 0u);`;if(et.storage==="u32"&&et.value==="vec4<bool>")return`${i}[${Er}]=dot(vec4<u32>(0x1, 0x100, 0x10000, 0x1000000), vec4<u32>(${Kr}));`;throw new Error(`not supported combination of storage type ${et.storage} and value type ${et.value} yet`)})(),Do=Er=>(()=>{if(et.storage===et.value)return`${i}[${Er}]`;if(et.storage==="vec2<u32>"&&et.value==="i32")return`i32(${i}[${Er}].x)`;if(et.storage==="vec2<u32>"&&et.value==="u32")return`u32(${i}[${Er}].x)`;if(et.storage==="u32"&&et.value==="vec4<bool>")return`vec4<bool>(bool(${i}[${Er}] & 0xFFu), bool(${i}[${Er}] & 0xFF00u), bool(${i}[${Er}] & 0xFF0000u), bool(${i}[${Er}] & 0xFF000000u))`;throw new Error(`not supported combination of storage type ${et.storage} and value type ${et.value} yet`)})(),mo=M<2?"":`
  fn get_${i}ByIndices(indices: ${et.indices}) -> ${Je} {
    return ${Do(`i2o_${i}(indices)`)};
  }`,to=M<2?"":(()=>{let Er=Te.map(dn=>`d${dn}: u32`).join(", "),Kr=Te.map(dn=>`d${dn}`).join(", ");return`
  fn get_${i}(${Er}) -> ${Je} {
    return get_${i}ByIndices(${Mr(Kr)});
  }`})(),Lo=(...Er)=>{if(Er.length!==M)throw new Error(`indices length must be ${M}`);let Kr=Er.map(dt).join(",");return M===0?Do("0u"):M===1?Do(Kr[0]):(it.get=!0,it.getByIndices=!0,it.indicesToOffset=!0,`get_${i}(${Kr})`)},So=Er=>M<2?Do(Er):(it.getByIndices=!0,it.indicesToOffset=!0,`get_${i}ByIndices(${Er})`),go=M<2?"":`
  fn set_${i}ByIndices(indices: ${et.indices}, value: ${Je}) {
    ${Br(`i2o_${i}(indices)`,"value")}
  }`,Gn=M<2?"":(()=>{let Er=Te.map(dn=>`d${dn}: u32`).join(", "),Kr=Te.map(dn=>`d${dn}`).join(", ");return`
  fn set_${i}(${Er}, value: ${Je}) {
    set_${i}ByIndices(${Mr(Kr)}, value);
  }`})();return{impl:()=>{let Er=[],Kr=!1;return it.offsetToIndices&&(Er.push(Pt),Kr=!0),it.indicesToOffset&&(Er.push(Yt),Kr=!0),it.broadcastedIndicesToOffset&&(Object.values(Qr).forEach(dn=>Er.push(dn)),Kr=!0),it.set&&(Er.push(Gn),Kr=!0),it.setByIndices&&(Er.push(go),Kr=!0),it.get&&(Er.push(to),Kr=!0),it.getByIndices&&(Er.push(mo),Kr=!0),!_&&Kr&&Er.unshift(`const ${Mt} = ${et.indices}(${d.join(",")});`,`const ${kt} = ${et.indices}(${Zt.computeStrides(d).join(",")});`),Er.join(`
`)},type:et,offsetToIndices:Lt,indicesToOffset:Jt,broadcastedIndicesToOffset:yo,indices:Mr,indicesGet:Pr,indicesSet:Xr,set:(...Er)=>{if(Er.length!==M+1)throw new Error(`indices length must be ${M}`);let Kr=Er[M];if(typeof Kr!="string")throw new Error("value must be string");let dn=Er.slice(0,M).map(dt).join(",");return M===0?Br("0u",Kr):M===1?Br(dn[0],Kr):(it.set=!0,it.setByIndices=!0,it.indicesToOffset=!0,`set_${i}(${dn}, ${Kr})`)},setByOffset:Br,setByIndices:(Er,Kr)=>M<2?Br(Er,Kr):(it.setByIndices=!0,it.indicesToOffset=!0,`set_${i}ByIndices(${Er}, ${Kr});`),get:Lo,getByOffset:Do,getByIndices:So,usage:f,name:i,strides:kt,shape:Mt,rank:M}},ar=(i,l,d,f=1)=>ws(i,l,d,"input",f),eo=(i,l,d,f=1)=>ws(i,l,d,"output",f),sp=(i,l,d)=>ws(i,l,d,"atomicOutput",1),du=(i,l,d,f=1)=>ws(i,l,d,"internal",f),lp=class{constructor(i,l){this.normalizedDispatchGroup=i,this.limits=l,this.internalVariables=[],this.variables=[],this.uniforms=[],this.variableIndex=0}guardAgainstOutOfBoundsWorkgroupSizes(i){return`if (global_idx >= ${typeof i=="number"?`${i}u`:i}) { return; }`}mainStart(i=Ri){let l=typeof i=="number"?i:i[0],d=typeof i=="number"?1:i[1],f=typeof i=="number"?1:i[2];if(l>this.limits.maxComputeWorkgroupSizeX||d>this.limits.maxComputeWorkgroupSizeY||f>this.limits.maxComputeWorkgroupSizeZ)throw new Error(`workgroup size [${l}, ${d}, ${f}] exceeds the maximum workgroup size [${this.limits.maxComputeWorkgroupSizeX}, ${this.limits.maxComputeWorkgroupSizeY}, ${this.limits.maxComputeWorkgroupSizeZ}].`);if(l*d*f>this.limits.maxComputeInvocationsPerWorkgroup)throw new Error(`workgroup size [${l}, ${d}, ${f}] exceeds the maximum workgroup invocations ${this.limits.maxComputeInvocationsPerWorkgroup}.`);let g=this.normalizedDispatchGroup[1]===1&&this.normalizedDispatchGroup[2]===1,_=g?`@builtin(global_invocation_id) global_id : vec3<u32>,
    @builtin(workgroup_id) workgroup_id : vec3<u32>,
    @builtin(local_invocation_index) local_idx : u32,
    @builtin(local_invocation_id) local_id : vec3<u32>`:`@builtin(global_invocation_id) global_id : vec3<u32>,
                                             @builtin(local_invocation_id) local_id : vec3<u32>,
    @builtin(local_invocation_index) local_idx : u32,
    @builtin(workgroup_id) workgroup_id : vec3<u32>,
    @builtin(num_workgroups) num_workgroups : vec3<u32>`,M=g?`let global_idx = global_id.x;
         let workgroup_index = workgroup_id.x;`:`let workgroup_index = workgroup_id.z * num_workgroups[0] * num_workgroups[1] +
             workgroup_id.y * num_workgroups[0] + workgroup_id.x;
         let global_idx = workgroup_index * ${l*d*f}u + local_idx;`;return`@compute @workgroup_size(${l}, ${d}, ${f})
  fn main(${_}) {
    ${M}
  `}appendVariableUniforms(i){i.rank!==0&&(i.shape.startsWith("uniforms.")&&this.uniforms.push({name:i.shape.replace("uniforms.",""),type:"u32",length:i.rank}),i.strides.startsWith("uniforms.")&&this.uniforms.push({name:i.strides.replace("uniforms.",""),type:"u32",length:i.rank}))}declareVariable(i,l){if(i.usage==="internal")throw new Error("cannot use internal variable with declareVariable(). use registerInternalVariables() instead.");this.variables.push(i),this.appendVariableUniforms(i);let d=i.usage==="input"?"read":"read_write",f=i.usage==="atomicOutput"?"atomic<i32>":i.type.storage;return`@group(0) @binding(${l}) var<storage, ${d}> ${i.name}: array<${f}>;`}declareVariables(...i){return i.map(l=>this.declareVariable(l,this.variableIndex++)).join(`
`)}registerInternalVariable(i){if(i.usage!=="internal")throw new Error("cannot use input or output variable with registerInternalVariable(). use declareVariables() instead.");this.internalVariables.push(i),this.appendVariableUniforms(i)}registerInternalVariables(...i){return i.forEach(l=>this.registerInternalVariable(l)),this}registerUniform(i,l,d=1){return this.uniforms.push({name:i,type:l,length:d}),this}registerUniforms(i){return this.uniforms=this.uniforms.concat(i),this}uniformDeclaration(){if(this.uniforms.length===0)return"";let i=[];for(let{name:l,type:d,length:f}of this.uniforms)if(f&&f>4)d==="f16"?i.push(`@align(16) ${l}:array<mat2x4<${d}>, ${Math.ceil(f/8)}>`):i.push(`${l}:array<vec4<${d}>, ${Math.ceil(f/4)}>`);else{let g=f==null||f===1?d:`vec${f}<${d}>`;i.push(`${l}:${g}`)}return`
      struct Uniforms { ${i.join(", ")} };
      @group(0) @binding(${this.variableIndex}) var<uniform> uniforms: Uniforms;`}get additionalImplementations(){return this.uniformDeclaration()+this.variables.map(i=>i.impl()).join(`
`)+this.internalVariables.map(i=>i.impl()).join(`
`)}get variablesInfo(){if(this.uniforms.length===0)return;let i=l=>[12,10,1,6][["u32","f16","f32","i32"].indexOf(l)];return this.uniforms.map(l=>[i(l.type),l.length??1])}},cp=(i,l)=>new lp(i,l)}),nm,Af,Bf,im,dp,If,Ki,am,Df,Xs=p(()=>{"use strict";io(),ro(),Ro(),wo(),nm=(i,l)=>{if(!i||i.length!==1)throw new Error("Transpose requires 1 input.");if(l.length!==0&&l.length!==i[0].dims.length)throw new Error(`perm size ${l.length} does not match input rank ${i[0].dims.length}`)},Af=(i,l)=>l.length!==0?l:[...new Array(i).keys()].reverse(),Bf=(i,l)=>Zt.sortBasedOnPerm(i,Af(i.length,l)),im=(i,l,d,f)=>{let g=`fn perm(i: ${f.type.indices}) -> ${d.type.indices} {
    var a: ${d.type.indices};`;for(let _=0;_<l;++_)g+=`a[${i[_]}]=i[${_}];`;return g+="return a;}"},dp=(i,l)=>{let d=[],f=[];for(let g=0;g<i.length;++g)i[g]!==1&&d.push(i[g]),i[l[g]]!==1&&f.push(l[g]);return{newShape:d,newPerm:f}},If=(i,l)=>{let d=0;for(let f=0;f<i.length;++f)if(l[i[f]]!==1){if(i[f]<d)return!1;d=i[f]}return!0},Ki=(i,l)=>{let d=i.dataType,f=i.dims.length,g=Af(f,l),_=Bf(i.dims,g),M=i.dims,Te=_,Se=f<2||If(g,i.dims),$e;if(Se)return $e=it=>{let ct=ar("input",d,M,4),Mt=eo("output",d,Te,4);return`
  ${it.registerUniform("output_size","u32").declareVariables(ct,Mt)}
  ${it.mainStart()}
    ${it.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
    output[global_idx] = input[global_idx];
  }`},{name:"TransposeCopy",shaderCache:{inputDependencies:["type"]},getRunData:()=>{let it=Zt.size(_);return{outputs:[{dims:_,dataType:i.dataType}],dispatchGroup:{x:Math.ceil(it/64/4)},programUniforms:[{type:12,data:Math.ceil(it/4)}]}},getShaderSource:$e};let{newShape:Je,newPerm:J}=dp(i.dims,g),et=Zt.areEqual(J,[2,3,1]),dt=Zt.areEqual(J,[3,1,2]);if(Je.length===2||et||dt){M=et?[Je[0],Je[1]*Je[2]]:dt?[Je[0]*Je[1],Je[2]]:Je,Te=[M[1],M[0]];let it=16;return $e=ct=>{let Mt=ar("a",d,M.length),kt=eo("output",d,Te.length);return`
  ${ct.registerUniform("output_size","u32").declareVariables(Mt,kt)}
  var<workgroup> tile : array<array<${kt.type.value}, ${it+1}>, ${it}>;
  ${ct.mainStart([it,it,1])}
    let stride = (uniforms.output_shape[1] - 1) / ${it} + 1;
    let workgroup_id_x = workgroup_index % stride;
    let workgroup_id_y = workgroup_index / stride;
    let input_col = workgroup_id_y * ${it}u + local_id.x;
    let input_row = workgroup_id_x * ${it}u + local_id.y;
    if (input_row < uniforms.a_shape[0] && input_col < uniforms.a_shape[1]) {
      tile[local_id.y][local_id.x] = ${Mt.getByIndices(`${Mt.type.indices}(input_row, input_col)`)};
    }
    workgroupBarrier();

    let output_col = workgroup_id_x * ${it}u + local_id.x;
    let output_row = workgroup_id_y * ${it}u + local_id.y;
    if (output_row < uniforms.output_shape[0] && output_col < uniforms.output_shape[1]) {
      ${kt.setByIndices(`${kt.type.indices}(output_row, output_col)`,"tile[local_id.x][local_id.y]")}
    }
  }`},{name:"TransposeShared",shaderCache:{inputDependencies:["type"]},getRunData:()=>{let ct=Zt.size(_);return{outputs:[{dims:_,dataType:i.dataType}],dispatchGroup:{x:Math.ceil(Te[1]/it),y:Math.ceil(Te[0]/it)},programUniforms:[{type:12,data:ct},...Nr(M,Te)]}},getShaderSource:$e}}return $e=it=>{let ct=ar("a",d,M.length),Mt=eo("output",d,Te.length);return`
  ${it.registerUniform("output_size","u32").declareVariables(ct,Mt)}

  ${im(g,f,ct,Mt)}

  ${it.mainStart()}
    ${it.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}

    let indices = ${Mt.offsetToIndices("global_idx")};
    let aIndices = perm(indices);

    ${Mt.setByOffset("global_idx",ct.getByIndices("aIndices"))}
  }`},{name:"Transpose",shaderCache:{hint:`${l}`,inputDependencies:["rank"]},getRunData:()=>{let it=Zt.size(_);return{outputs:[{dims:_,dataType:i.dataType}],dispatchGroup:{x:Math.ceil(it/64)},programUniforms:[{type:12,data:it},...Nr(M,Te)]}},getShaderSource:$e}},am=(i,l)=>{nm(i.inputs,l.perm),i.compute(Ki(i.inputs[0],l.perm))},Df=i=>fo({perm:i.perm})}),up,sm,lm,cm,dm,um,pm,fm,Ff,hm,qi,_l,mm,Rf,pp,Of,fp,$f,gm,hp,mp,Kv=p(()=>{"use strict";io(),ro(),wo(),_p(),Xs(),up={max:"select(bestValue, candidate, candidate > bestValue)",min:"select(bestValue, candidate, candidate < bestValue)",mean:"bestValue + candidate",sum:"bestValue + candidate",prod:"bestValue * candidate",sumSquare:"bestValue + candidate * candidate",logSumExp:"bestValue + exp(candidate)",l1:"bestValue + abs(candidate)",l2:"bestValue + candidate * candidate",logSum:"bestValue + candidate"},sm={max:"select(bestValue, candidate, candidate > bestValue)",min:"select(bestValue, candidate, candidate < bestValue)",mean:"bestValue + candidate",sum:"bestValue + candidate",prod:"bestValue * candidate",sumSquare:"bestValue + candidate",logSumExp:"bestValue + candidate",l1:"bestValue + candidate",l2:"bestValue + candidate",logSum:"bestValue + candidate"},lm={max:"_A[offset]",min:"_A[offset]",mean:"0",sum:"0",prod:"1",sumSquare:"0",logSumExp:"0",l1:"0",l2:"0",logSum:"0"},cm={max:"bestValue",min:"bestValue",sum:"bestValue",prod:"bestValue",sumSquare:"bestValue",logSumExp:"log(bestValue)",l1:"bestValue",l2:"sqrt(bestValue)",logSum:"log(bestValue)"},dm=(i,l)=>{let d=[];for(let f=l-i;f<l;++f)d.push(f);return d},um=(i,l)=>{let d=[],f=i.length;for(let _=0;_<f;_++)l.indexOf(_)===-1&&d.push(i[_]);let g=l.map(_=>i[_]);return[d,g]},pm=(i,l)=>{let d=i.length+l.length,f=[],g=0;for(let _=0;_<d;_++)l.indexOf(_)===-1?f.push(i[g++]):f.push(1);return f},fm=(i,l)=>{for(let d=0;d<i.length;++d)if(i[i.length-d-1]!==l-1-d)return!1;return!0},Ff=(i,l)=>{let d=[];if(!fm(i,l)){for(let f=0;f<l;++f)i.indexOf(f)===-1&&d.push(f);i.forEach(f=>d.push(f))}return d},hm=(i,l,d,f,g,_,M)=>{let Te=d[0].dims,Se=Zt.size(_),$e=Zt.size(M),Je=ar("_A",d[0].dataType,Te),J=eo("output",g,_),et=64;Se===1&&(et=256);let dt=`
          var<workgroup> aBestValues : array<f32, ${et}>;
       `,it=ct=>`
        ${ct.registerUniform("reduceSize","u32").declareVariables(Je,J)}
        ${dt}
        fn DIV_CEIL(a : u32, b : u32) -> u32 {
          return ((a - 1u) / b + 1u);
         }
         ${ct.mainStart(et)}

          let outputIndex = global_idx / ${et};
          let offset = outputIndex * uniforms.reduceSize;

          var bestValue = f32(${lm[f]});
          let Length = uniforms.reduceSize;
          for (var k = local_idx; k < Length; k = k + ${et}) {
           let candidate = f32(${Je.getByOffset("offset + k")});
           bestValue = ${up[f]};
          }
          aBestValues[local_idx] = bestValue;
          workgroupBarrier();

         var reduceSize = min(Length, ${et}u);
         for (var currentSize = reduceSize / 2u; reduceSize > 1u;
             currentSize = reduceSize / 2u) {
           let interval = DIV_CEIL(reduceSize, 2u);
           if (local_idx < currentSize) {
            let candidate = aBestValues[local_idx + interval];
            bestValue = ${sm[f]};
            aBestValues[local_idx] = bestValue;
           }
           reduceSize = interval;
           workgroupBarrier();
         }

         if (local_idx == 0u) {
          ${J.setByOffset("outputIndex",`${f==="mean"?`${J.type.storage}(bestValue / f32(uniforms.reduceSize))`:`${J.type.storage}(${cm[f]})`}`)};
         }
        }`;return{name:i,shaderCache:{hint:`${l};${et}`,inputDependencies:["type"]},getShaderSource:it,getRunData:()=>({outputs:[{dims:_,dataType:g}],dispatchGroup:{x:Se},programUniforms:[{type:12,data:$e}]})}},qi=(i,l,d,f)=>{let g=i.inputs.length===1?d:uu(i.inputs,d),_=g.axes;_.length===0&&!g.noopWithEmptyAxes&&(_=i.inputs[0].dims.map((dt,it)=>it));let M=Zt.normalizeAxes(_,i.inputs[0].dims.length),Te=M,Se=i.inputs[0],$e=Ff(Te,i.inputs[0].dims.length);$e.length>0&&(Se=i.compute(Ki(i.inputs[0],$e),{inputs:[0],outputs:[-1]})[0],Te=dm(Te.length,Se.dims.length));let[Je,J]=um(Se.dims,Te),et=Je;g.keepDims&&(et=pm(Je,M)),i.compute(hm(l,g.cacheKey,[Se],f,i.inputs[0].dataType,et,J),{inputs:[Se]})},_l=(i,l)=>{qi(i,"ReduceMeanShared",l,"mean")},mm=(i,l)=>{qi(i,"ReduceL1Shared",l,"l1")},Rf=(i,l)=>{qi(i,"ReduceL2Shared",l,"l2")},pp=(i,l)=>{qi(i,"ReduceLogSumExpShared",l,"logSumExp")},Of=(i,l)=>{qi(i,"ReduceMaxShared",l,"max")},fp=(i,l)=>{qi(i,"ReduceMinShared",l,"min")},$f=(i,l)=>{qi(i,"ReduceProdShared",l,"prod")},gm=(i,l)=>{qi(i,"ReduceSumShared",l,"sum")},hp=(i,l)=>{qi(i,"ReduceSumSquareShared",l,"sumSquare")},mp=(i,l)=>{qi(i,"ReduceLogSumShared",l,"logSum")}}),_a,gp,jl,uu,Wi,Lf,_m,bm,Nf,vm,ym,zf,xm,wm,jf,ba,Cm,Vf,km,Mm,Uf,Tm,Em,Wf,Sm,Pm,_p=p(()=>{"use strict";io(),ro(),Ro(),wo(),Kv(),_a=i=>{if(!i||i.length===0||i.length>2)throw new Error("Reduce op requires 1 or 2 inputs.");if(i.length===2&&i[1].dims.length!==1)throw new Error("Invalid axes input dims.")},gp=i=>["","",`var value = ${i.getByIndices("input_indices")};`,""],jl=(i,l,d,f,g,_,M=!1,Te=!1)=>{let Se=[],$e=d[0].dims,Je=$e.length,J=Zt.normalizeAxes(g,Je),et=!Te&&J.length===0;$e.forEach((ct,Mt)=>{et||J.indexOf(Mt)>=0?M&&Se.push(1):Se.push(ct)});let dt=Se.length,it=Zt.size(Se);return{name:i,shaderCache:l,getShaderSource:ct=>{let Mt=[],kt=ar("_A",d[0].dataType,Je),pt=eo("output",_,dt),Pt=f(kt,pt,J),Lt=Pt[2];for(let jt=0,Yt=0;jt<Je;jt++)et||J.indexOf(jt)>=0?(M&&Yt++,Lt=`for(var j${jt}: u32 = 0; j${jt} < ${$e[jt]}; j${jt}++) {
                  ${Pt[2].includes("last_index")?`let last_index = j${jt};`:""}
                  ${kt.indicesSet("input_indices",jt,`j${jt}`)}
                  ${Lt}
                }`):(Mt.push(`${kt.indicesSet("input_indices",jt,pt.indicesGet("output_indices",Yt))};`),Yt++);return`

        ${ct.registerUniform("output_size","u32").declareVariables(kt,pt)}

        ${ct.mainStart()}
          ${ct.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
          var input_indices: ${kt.type.indices};
          let output_indices = ${pt.offsetToIndices("global_idx")};

          ${Mt.join(`
`)}
          ${Pt[0]}       // init ops for reduce max/min
          ${Pt[1]}
          ${Lt}
          ${Pt[3]}
          ${Pt.length===4?pt.setByOffset("global_idx","value"):Pt.slice(4).join(`
`)}
        }`},getRunData:()=>({outputs:[{dims:Se,dataType:_}],dispatchGroup:{x:Math.ceil(it/64)},programUniforms:[{type:12,data:it},...Nr($e,Se)]})}},uu=(i,l)=>{let d=[];return i[1].dims[0]>0&&i[1].getBigInt64Array().forEach(f=>d.push(Number(f))),fo({axes:d,keepDims:l.keepDims,noopWithEmptyAxes:l.noopWithEmptyAxes})},Wi=(i,l,d,f)=>{let g=i.inputs,_=g.length===1?d:uu(g,d);i.compute(jl(l,{hint:_.cacheKey,inputDependencies:["rank"]},[g[0]],_.noopWithEmptyAxes&&_.axes.length===0?gp:f,_.axes,g[0].dataType,_.keepDims,_.noopWithEmptyAxes),{inputs:[0]})},Lf=(i,l)=>{_a(i.inputs),Wi(i,"ReduceLogSum",l,(d,f)=>[`var value = ${f.type.storage}(0);`,"",`value += ${d.getByIndices("input_indices")};`,"value = log(value);"])},_m=(i,l)=>{_a(i.inputs),Wi(i,"ReduceL1",l,(d,f)=>[`var value = ${f.type.storage}(0);`,"",`value += abs(${d.getByIndices("input_indices")});`,""])},bm=(i,l)=>{_a(i.inputs),Wi(i,"ReduceL2",l,(d,f)=>[`var t = ${f.type.value}(0); var value = ${f.type.value}(0);`,"",`t = ${d.getByIndices("input_indices")}; value += (t * t);`,"value = sqrt(value);"])},Nf=(i,l)=>{_a(i.inputs),Wi(i,"ReduceLogSumExp",l,(d,f)=>[`var value = ${f.type.storage}(0);`,"",`value += exp(${d.getByIndices("input_indices")});`,"value = log(value);"])},vm=(i,l)=>{_a(i.inputs),Wi(i,"ReduceMax",l,(d,f,g)=>{let _=[];for(let M=0;M<d.rank;M++)(g.indexOf(M)>=0||g.length===0)&&_.push(d.indicesSet("input_indices",M,0));return[`${_.join(`
`)}`,`var value = ${d.getByIndices("input_indices")};`,`value = max(value, ${d.getByIndices("input_indices")});`,""]})},ym=(i,l)=>{_a(i.inputs),Wi(i,"ReduceMean",l,(d,f,g)=>{let _=1;for(let M=0;M<d.rank;M++)(g.indexOf(M)>=0||g.length===0)&&(_*=i.inputs[0].dims[M]);return["var sum = f32(0);","",`sum += f32(${d.getByIndices("input_indices")});`,`let value = ${f.type.value}(sum / ${_});`]})},zf=(i,l)=>{_a(i.inputs),Wi(i,"ReduceMin",l,(d,f,g)=>{let _=[];for(let M=0;M<d.rank;M++)(g.indexOf(M)>=0||g.length===0)&&_.push(`input_indices[${M}] = 0;`);return[`${_.join(`
`)}`,`var value = ${d.getByIndices("input_indices")};`,`value = min(value, ${d.getByIndices("input_indices")});`,""]})},xm=(i,l)=>{_a(i.inputs),Wi(i,"ReduceProd",l,(d,f)=>[`var value = ${f.type.storage}(1);`,"",`value *= ${d.getByIndices("input_indices")};`,""])},wm=(i,l)=>{_a(i.inputs),Wi(i,"ReduceSum",l,(d,f)=>[`var value = ${f.type.storage}(0);`,"",`value += ${d.getByIndices("input_indices")};`,""])},jf=(i,l)=>{_a(i.inputs),Wi(i,"ReduceSumSquare",l,(d,f)=>[`var t = ${f.type.value}(0); var value = ${f.type.value}(0);`,"",`t = ${d.getByIndices("input_indices")}; value += t * t;`,""])},ba=(i,l,d)=>{if(l.length===0)return d;let f=1,g=1;for(let _=0;_<l.length;_++)l.indexOf(_)===-1?f*=i[_]:g*=i[_];return g<32&&f>1024},Cm=(i,l)=>{ba(i.inputs[0].dims,l.axes,l.noopWithEmptyAxes)?ym(i,l):_l(i,l)},Vf=(i,l)=>{ba(i.inputs[0].dims,l.axes,l.noopWithEmptyAxes)?_m(i,l):mm(i,l)},km=(i,l)=>{ba(i.inputs[0].dims,l.axes,l.noopWithEmptyAxes)?bm(i,l):Rf(i,l)},Mm=(i,l)=>{ba(i.inputs[0].dims,l.axes,l.noopWithEmptyAxes)?Nf(i,l):pp(i,l)},Uf=(i,l)=>{ba(i.inputs[0].dims,l.axes,l.noopWithEmptyAxes)?vm(i,l):Of(i,l)},Tm=(i,l)=>{ba(i.inputs[0].dims,l.axes,l.noopWithEmptyAxes)?zf(i,l):fp(i,l)},Em=(i,l)=>{ba(i.inputs[0].dims,l.axes,l.noopWithEmptyAxes)?xm(i,l):$f(i,l)},Wf=(i,l)=>{ba(i.inputs[0].dims,l.axes,l.noopWithEmptyAxes)?wm(i,l):gm(i,l)},Sm=(i,l)=>{ba(i.inputs[0].dims,l.axes,l.noopWithEmptyAxes)?jf(i,l):hp(i,l)},Pm=(i,l)=>{ba(i.inputs[0].dims,l.axes,l.noopWithEmptyAxes)?Lf(i,l):mp(i,l)}}),Gf,Am,Hf,Kf,qv=p(()=>{"use strict";io(),Ro(),_p(),Gf=i=>{if(!i||i.length===0||i.length>2)throw new Error("ArgMinMaxOp op requires 1 or 2 inputs.");if(i[0].dataType!==1)throw new Error("Invalid input type.")},Am=(i,l)=>{Gf(i.inputs);let d=(f,g,_)=>{let M=[];for(let Te=0;Te<f.rank;Te++)(_.indexOf(Te)>=0||_.length===0)&&M.push(`input_indices[${Te}] = 0;`);return[`${M.join(`
`)}`,`var value = ${f.getByIndices("input_indices")};
var best_index : i32 = 0;`,`if (${f.getByIndices("input_indices")} ${l.selectLastIndex>0?"<=":"<"} value) {
         value = ${f.getByIndices("input_indices")};
         best_index = i32(last_index);
       }`,"",g.setByOffset("global_idx","best_index")]};i.compute(jl("ArgMin",{hint:l.cacheKey,inputDependencies:["rank"]},[i.inputs[0]],d,[l.axis],7,l.keepDims),{inputs:[0]})},Hf=(i,l)=>{Gf(i.inputs);let d=(f,g,_)=>{let M=[];for(let Te=0;Te<f.rank;Te++)(_.indexOf(Te)>=0||_.length===0)&&M.push(`input_indices[${Te}] = 0;`);return[`${M.join(`
`)}`,`var value = ${f.getByIndices("input_indices")};
var best_index : i32 = 0;`,`if (${f.getByIndices("input_indices")} ${l.selectLastIndex>0?">=":">"} value) {
         value = ${f.getByIndices("input_indices")};
         best_index = i32(last_index);
       }`,"",g.setByOffset("global_idx","best_index")]};i.compute(jl("argMax",{hint:l.cacheKey,inputDependencies:["rank"]},[i.inputs[0]],d,[l.axis],7,l.keepDims),{inputs:[0]})},Kf=i=>fo(i)}),qf,bp,Bm,Xf,Im,pu,Qf,Dm,Yf=p(()=>{"use strict";io(),ro(),Bt(),wo(),qf=(i,l)=>{let d=i[0],f=i[1],g=i[2],_=i[3],M=i[4],Te=i[5];if(M&&Te)throw new Error("Attention cannot have both past and attention_bias");if(d.dims.length!==3)throw new Error('Input "input" must have 3 dimensions');let Se=d.dims[0],$e=d.dims[1],Je=d.dims[2];if(g.dims.length!==1)throw new Error('Input "bias" is expected to have 1 dimensions');if(f.dims.length!==2)throw new Error('Input "weights" is expected to have 2 dimensions');if(f.dims[0]!==Je)throw new Error("Input 1 dimension 0 should have same length as dimension 2 of input 0");if(g.dims[0]!==f.dims[1])throw new Error('Input "bias" dimension 0 should have same length as dimension 1 of input "weights"');let J=g.dims[0]/3,et=J,dt=et;if(l.qkvHiddenSizes.length>0){if(l.qkvHiddenSizes.length!==3)throw new Error("qkv_hidden_sizes attribute should have 3 elements");for(let Pt of l.qkvHiddenSizes)if(Pt%l.numHeads!==0)throw new Error("qkv_hidden_sizes should be divisible by num_heads");J=l.qkvHiddenSizes[0],et=l.qkvHiddenSizes[1],dt=l.qkvHiddenSizes[2]}let it=$e;if(J!==et)throw new Error("qkv_hidden_sizes first element should be same as the second");if(g.dims[0]!==J+et+dt)throw new Error('Input "bias" dimension 0 should have same length as sum of Q/K/V hidden sizes');let ct=0;if(M){if(et!==dt)throw new Error('Input "past" expect k_hidden_size == v_hidden_size');if(M.dims.length!==5)throw new Error('Input "past" must have 5 dimensions');if(M.dims[0]!==2)throw new Error('Input "past" first dimension must be 2');if(M.dims[1]!==Se)throw new Error('Input "past" second dimension must be batch_size');if(M.dims[2]!==l.numHeads)throw new Error('Input "past" third dimension must be num_heads');if(M.dims[4]!==et/l.numHeads)throw new Error('Input "past" fifth dimension must be k_hidden_size / num_heads');l.pastPresentShareBuffer||(ct=M.dims[3])}let Mt=it+ct,kt=-1,pt=0;if(_)throw new Error("Mask not supported");if(M)throw new Error("past is not supported");if(Te){if(Te.dims.length!==4)throw new Error('Input "attention_bias" must have 4 dimensions');if(Te.dims[0]!==Se||Te.dims[1]!==l.numHeads||Te.dims[2]!==$e||Te.dims[3]!==Mt)throw new Error('Expect "attention_bias" shape (batch_size, num_heads, sequence_length, total_sequence_length)')}return{batchSize:Se,sequenceLength:$e,pastSequenceLength:ct,kvSequenceLength:it,totalSequenceLength:Mt,maxSequenceLength:kt,inputHiddenSize:Je,hiddenSize:J,vHiddenSize:dt,headSize:Math.floor(J/l.numHeads),vHeadSize:Math.floor(dt/l.numHeads),numHeads:l.numHeads,isUnidirectional:!1,pastPresentShareBuffer:!1,maskFilterValue:l.maskFilterValue,maskType:pt,scale:l.scale,broadcastResPosBias:!1,passPastInKv:!1,qkvFormat:1}},bp=(i,l,d)=>l&&i?`
      let total_sequence_length_input = u32(${l.getByOffset("0")});
      let present_sequence_length = max(total_sequence_length_input, uniforms.past_sequence_length);
      let is_subsequent_prompt: bool = sequence_length > 1 && sequence_length != total_sequence_length_input;
      let is_first_prompt: bool = is_subsequent_prompt == false && sequence_length == total_sequence_length_input;
      total_sequence_length = u32(${i?.getByOffset("batchIdx")}) + 1;
      var past_sequence_length: u32 = 0;
      if (is_first_prompt == false) {
        past_sequence_length = total_sequence_length - sequence_length;
      }
       `:`
    ${d?"let past_sequence_length = uniforms.past_sequence_length":""};
    let present_sequence_length = total_sequence_length;
    `,Bm=(i,l,d,f,g,_,M,Te)=>{let Se=xo(M?1:_),$e=64,Je=_/Se;Je<$e&&($e=32);let J=Math.ceil(_/Se/$e),et=[{type:12,data:l},{type:12,data:d},{type:12,data:f},{type:12,data:g},{type:12,data:Je},{type:12,data:J}],dt=qo(i.dataType,Se),it=Tn(1,Se),ct=["type"];M&&ct.push("type"),Te&&ct.push("type");let Mt=kt=>{let pt=eo("x",i.dataType,i.dims,Se),Pt=[pt],Lt=M?ar("seq_lens",M.dataType,M.dims):void 0;Lt&&Pt.push(Lt);let jt=Te?ar("total_sequence_length_input",Te.dataType,Te.dims):void 0;jt&&Pt.push(jt);let Yt=Tn(i.dataType),Jt=[{name:"batch_size",type:"u32"},{name:"num_heads",type:"u32"},{name:"past_sequence_length",type:"u32"},{name:"sequence_length",type:"u32"},{name:"total_sequence_length",type:"u32"},{name:"elements_per_thread",type:"u32"}];return`
  var<workgroup> thread_max: array<f32, ${$e}>;
  var<workgroup> thread_sum: array<f32, ${$e}>;
  ${kt.registerUniforms(Jt).declareVariables(...Pt)}
  ${kt.mainStart([$e,1,1])}
    let batchIdx = workgroup_id.z / uniforms.num_heads;
    let headIdx = workgroup_id.z % uniforms.num_heads;
    let sequence_length = uniforms.sequence_length;
    var total_sequence_length = uniforms.total_sequence_length;
    ${bp(Lt,jt,!1)}
    let local_offset = local_idx * uniforms.elements_per_thread;
    let offset = (global_idx / ${$e}) * uniforms.total_sequence_length + local_offset;
    let seq_causal_length = ${M?"u32(past_sequence_length + workgroup_id.y + 1)":"total_sequence_length"};
    var thread_max_vector = ${it}(-3.402823e+38f);
    for (var i: u32 = 0; i < uniforms.elements_per_thread && i + local_offset < seq_causal_length; i++) {
      thread_max_vector = max(${it}(x[offset + i]), thread_max_vector);
    }
    thread_max[local_idx] = ${(()=>{switch(Se){case 1:return"thread_max_vector";case 2:return"max(thread_max_vector.x, thread_max_vector.y)";case 4:return"max(max(thread_max_vector.x, thread_max_vector.y), max(thread_max_vector.z, thread_max_vector.w))";default:throw new Error(`Unsupported components: ${Se}`)}})()};
    workgroupBarrier();

    var max_value =  f32(-3.402823e+38f);
    for (var i = 0u; i < ${$e}; i++) {
      max_value = max(thread_max[i], max_value);
    }

    var sum_vector = ${it}(0);
    for (var i: u32 = 0; i < uniforms.elements_per_thread && i + local_offset < seq_causal_length; i++) {
      sum_vector += exp(${it}(x[offset + i]) - max_value);
    }
    thread_sum[local_idx] = ${(()=>{switch(Se){case 1:return"sum_vector";case 2:return"sum_vector.x + sum_vector.y";case 4:return"sum_vector.x + sum_vector.y + sum_vector.z + sum_vector.w";default:throw new Error(`Unsupported components: ${Se}`)}})()};
    workgroupBarrier();

    var sum: f32 = 0;
    for (var i = 0u; i < ${$e}; i++) {
      sum += thread_sum[i];
    }

    if (sum == 0) {
      for (var i: u32 = 0; i < uniforms.elements_per_thread && i + local_offset < seq_causal_length; i++) {
        x[offset + i] = ${pt.type.value}(${Yt}(1.0) / ${Yt}(seq_causal_length));
      }
    } else {
      for (var i: u32 = 0; i < uniforms.elements_per_thread && i + local_offset < seq_causal_length; i++) {
        var f32input = ${it}(x[offset + i]);
        x[offset + i] = ${pt.type.value}(exp(f32input - max_value) / sum);
      }
    }
      ${M?`
        for (var total_seq_id: u32 = seq_causal_length; total_seq_id + local_offset < uniforms.total_sequence_length; total_seq_id++) {
          x[offset + total_seq_id] = ${pt.type.value}(${Yt}(0));
        }`:""};
  }`};return{name:"AttentionProbsSoftmax",shaderCache:{hint:`${$e};${dt};${Se}`,inputDependencies:ct},getShaderSource:Mt,getRunData:()=>({outputs:[],dispatchGroup:{x:Math.ceil(_/$e),y:g,z:l*d},programUniforms:et})}},Xf=(i,l,d,f,g,_,M,Te,Se)=>{let $e=M+_.kvSequenceLength,Je=[_.batchSize,_.numHeads,_.sequenceLength,$e],J=i>1&&f,et=_.kvNumHeads?_.kvNumHeads:_.numHeads,dt=J?[_.batchSize,et,$e,_.headSize]:void 0,it=_.nReps?_.nReps:1,ct=_.scale===0?1/Math.sqrt(_.headSize):_.scale,Mt=xo(_.headSize),kt=_.headSize/Mt,pt=12,Pt={x:Math.ceil($e/pt),y:Math.ceil(_.sequenceLength/pt),z:_.batchSize*_.numHeads},Lt=[{type:12,data:_.sequenceLength},{type:12,data:kt},{type:12,data:$e},{type:12,data:_.numHeads},{type:12,data:_.headSize},{type:1,data:ct},{type:12,data:M},{type:12,data:_.kvSequenceLength},{type:12,data:it}],jt=J&&f&&Zt.size(f.dims)>0,Yt=["type","type"];jt&&Yt.push("type"),g&&Yt.push("type"),Te&&Yt.push("type"),Se&&Yt.push("type");let Jt=[{dims:Je,dataType:l.dataType,gpuDataType:0}];J&&Jt.push({dims:dt,dataType:l.dataType,gpuDataType:0});let Mr=Pr=>{let Xr=ar("q",l.dataType,l.dims,Mt),Qr=ar("key",d.dataType,d.dims,Mt),yo=[Xr,Qr];if(jt){let go=ar("past_key",f.dataType,f.dims,Mt);yo.push(go)}g&&yo.push(ar("attention_bias",g.dataType,g.dims));let Br=Te?ar("seq_lens",Te.dataType,Te.dims):void 0;Br&&yo.push(Br);let Do=Se?ar("total_sequence_length_input",Se.dataType,Se.dims):void 0;Do&&yo.push(Do);let mo=eo("output",l.dataType,Je),to=[mo];J&&to.push(eo("present_key",l.dataType,dt,Mt));let Lo=Tn(1,Mt),So=[{name:"M",type:"u32"},{name:"K",type:"u32"},{name:"N",type:"u32"},{name:"num_heads",type:"u32"},{name:"head_size",type:"u32"},{name:"alpha",type:"f32"},{name:"past_sequence_length",type:"u32"},{name:"kv_sequence_length",type:"u32"},{name:"n_reps",type:"u32"}];return`
  const TILE_SIZE = ${pt}u;

  var<workgroup> tileQ: array<${Xr.type.storage}, ${pt*pt}>;
  var<workgroup> tileK: array<${Xr.type.storage}, ${pt*pt}>;
  ${Pr.registerUniforms(So).declareVariables(...yo,...to)}
  ${Pr.mainStart([pt,pt,1])}
    // x holds the N and y holds the M
    let headIdx = workgroup_id.z % uniforms.num_heads;
    let kvHeadIdx = ${it===1?"headIdx":"headIdx / uniforms.n_reps"};
    let kv_num_heads = ${it===1?"uniforms.num_heads":"uniforms.num_heads / uniforms.n_reps"};
    let batchIdx = workgroup_id.z / uniforms.num_heads;
    let m = workgroup_id.y * TILE_SIZE;
    let n = workgroup_id.x * TILE_SIZE;
    let sequence_length = uniforms.M;
    var total_sequence_length = uniforms.N;
    ${bp(Br,Do,!0)}
    let absKvHeadIdx = batchIdx * kv_num_heads + kvHeadIdx;
    let qOffset = workgroup_id.z * uniforms.M * uniforms.K + m * uniforms.K;
    ${jt&&J?"let pastKeyOffset = absKvHeadIdx * uniforms.past_sequence_length * uniforms.K;":""};
    let kOffset = absKvHeadIdx * uniforms.kv_sequence_length * uniforms.K;
    ${J?"let presentKeyOffset = absKvHeadIdx * uniforms.N * uniforms.K;":""}
    var value = ${Lo}(0);
    for (var w: u32 = 0u; w < uniforms.K; w += TILE_SIZE) {
      if (global_id.y < uniforms.M && w + local_id.x < uniforms.K) {
        tileQ[TILE_SIZE * local_id.y + local_id.x] = q[qOffset + local_id.y * uniforms.K + w + local_id.x];
      }
      if (n + local_id.y < uniforms.N && w + local_id.x < uniforms.K) {
        var idx = TILE_SIZE * local_id.y + local_id.x;
      ${jt&&J?`
              if (n + local_id.y < past_sequence_length) {
                tileK[idx] = past_key[pastKeyOffset + (n + local_id.y) * uniforms.K + w + local_id.x];
              } else if (n + local_id.y - past_sequence_length < uniforms.kv_sequence_length) {
                tileK[idx] = key[kOffset + (n + local_id.y - past_sequence_length) * uniforms.K + w + local_id.x];
              }`:`
          if (n + local_id.y < uniforms.kv_sequence_length) {
            tileK[idx] = key[kOffset + (n + local_id.y) * uniforms.K + w + local_id.x];
          }`}
      ${J?`if (n + local_id.y < present_sequence_length) {
        present_key[presentKeyOffset + (n + local_id.y) * uniforms.K + w + local_id.x] = tileK[idx];
      }`:""}
      }
      workgroupBarrier();

      for (var k: u32 = 0u; k < TILE_SIZE && w+k < uniforms.K; k++) {
          value += ${Lo}(tileQ[TILE_SIZE * local_id.y + k] * tileK[TILE_SIZE * local_id.x + k]);
      }

      workgroupBarrier();
    }

    if (global_id.y < uniforms.M && global_id.x < total_sequence_length) {
      let headOffset = workgroup_id.z * uniforms.M * uniforms.N;
      let outputIdx = headOffset + global_id.y * uniforms.N + global_id.x;
      var sum: f32 = ${(()=>{switch(Mt){case 1:return"value";case 2:return"value.x + value.y";case 4:return"value.x + value.y + value.z + value.w";default:throw new Error(`Unsupported components: ${Mt}`)}})()};
        output[outputIdx] = ${mo.type.value} (sum * uniforms.alpha) + ${g?"attention_bias[outputIdx]":"0.0"};
    }
  }`};return{name:"AttentionProbs",shaderCache:{hint:`${Mt};${g!==void 0};${f!==void 0};${i}`,inputDependencies:Yt},getRunData:()=>({outputs:Jt,dispatchGroup:Pt,programUniforms:Lt}),getShaderSource:Mr}},Im=(i,l,d,f,g,_,M=void 0,Te=void 0)=>{let Se=_+g.kvSequenceLength,$e=g.nReps?g.nReps:1,Je=g.vHiddenSize*$e,J=i>1&&f,et=g.kvNumHeads?g.kvNumHeads:g.numHeads,dt=J?[g.batchSize,et,Se,g.headSize]:void 0,it=[g.batchSize,g.sequenceLength,Je],ct=12,Mt={x:Math.ceil(g.vHeadSize/ct),y:Math.ceil(g.sequenceLength/ct),z:g.batchSize*g.numHeads},kt=[{type:12,data:g.sequenceLength},{type:12,data:Se},{type:12,data:g.vHeadSize},{type:12,data:g.numHeads},{type:12,data:g.headSize},{type:12,data:Je},{type:12,data:_},{type:12,data:g.kvSequenceLength},{type:12,data:$e}],pt=J&&f&&Zt.size(f.dims)>0,Pt=["type","type"];pt&&Pt.push("type"),M&&Pt.push("type"),Te&&Pt.push("type");let Lt=[{dims:it,dataType:l.dataType,gpuDataType:0}];J&&Lt.push({dims:dt,dataType:l.dataType,gpuDataType:0});let jt=Yt=>{let Jt=ar("probs",l.dataType,l.dims),Mr=ar("v",d.dataType,d.dims),Pr=[Jt,Mr];pt&&Pr.push(ar("past_value",f.dataType,f.dims));let Xr=M?ar("seq_lens",M.dataType,M.dims):void 0;M&&Pr.push(Xr);let Qr=Te?ar("total_sequence_length_input",Te.dataType,Te.dims):void 0;Te&&Pr.push(Qr);let yo=[eo("output",l.dataType,it)];J&&yo.push(eo("present_value",l.dataType,dt));let Br=[{name:"M",type:"u32"},{name:"K",type:"u32"},{name:"N",type:"u32"},{name:"num_heads",type:"u32"},{name:"head_size",type:"u32"},{name:"v_hidden_size",type:"u32"},{name:"past_sequence_length",type:"u32"},{name:"kv_sequence_length",type:"u32"},{name:"n_reps",type:"u32"}];return`
  const TILE_SIZE = ${ct}u;
  var<workgroup> tileQ: array<${Jt.type.value}, ${ct*ct}>;
  var<workgroup> tileV: array<${Jt.type.value}, ${ct*ct}>;
  ${Yt.registerUniforms(Br).declareVariables(...Pr,...yo)}
  ${Yt.mainStart([ct,ct,1])}
   let headIdx = workgroup_id.z % uniforms.num_heads;
   let batchIdx = workgroup_id.z / uniforms.num_heads;
   let kvHeadIdx = ${$e===1?"headIdx":"headIdx / uniforms.n_reps"};
   let kv_num_heads = ${$e===1?"uniforms.num_heads":"uniforms.num_heads / uniforms.n_reps"};
   let m = global_id.y;
   let n = global_id.x;
   let sequence_length = uniforms.M;
   var total_sequence_length = uniforms.K;
   ${bp(Xr,Qr,!0)}
   let offsetA = workgroup_id.z * uniforms.M * uniforms.K + m * uniforms.K;
   let absKvHeadIdx = batchIdx * kv_num_heads + kvHeadIdx; // kvHeadIdx is relative to the batch
   ${pt&&J?"let pastValueOffset = absKvHeadIdx * uniforms.N * uniforms.past_sequence_length + n;":""};
   let vOffset = absKvHeadIdx * uniforms.N * uniforms.kv_sequence_length + n;
   ${J?"let presentValueOffset = absKvHeadIdx * uniforms.N * uniforms.K + n;":""}
   var value = ${Jt.type.storage}(0);
   for (var w: u32 = 0u; w < uniforms.K; w += TILE_SIZE) {
      if (m < uniforms.M && w + local_id.x < uniforms.K) {
        tileQ[TILE_SIZE * local_id.y + local_id.x] = probs[offsetA + w + local_id.x];
      }
      if (n < uniforms.N && w + local_id.y < uniforms.K) {
        var idx = TILE_SIZE * local_id.y + local_id.x;
        ${pt&&J?`
        if (w + local_id.y < past_sequence_length) {
          tileV[idx] = past_value[pastValueOffset + (w + local_id.y) * uniforms.N];
        } else if (w + local_id.y - past_sequence_length < uniforms.kv_sequence_length) {
          tileV[idx] = v[vOffset + (w + local_id.y - past_sequence_length) * uniforms.N];
        }
      `:`
            if (w + local_id.y < uniforms.kv_sequence_length) {
              tileV[idx] = v[vOffset + (w + local_id.y) * uniforms.N];
            }`}
        ${J?`
            if (w + local_id.y < present_sequence_length) {
          present_value[presentValueOffset + (w + local_id.y) * uniforms.N] = tileV[idx];
        }`:""}
      }
     workgroupBarrier();
     for (var k: u32 = 0u; k < TILE_SIZE && w+k < total_sequence_length; k++) {
       value += tileQ[TILE_SIZE * local_id.y + k] * tileV[TILE_SIZE * k + local_id.x];
     }
     workgroupBarrier();
   }

   // we need to transpose output from BNSH_v to BSND_v
   if (m < uniforms.M && n < uniforms.N) {
     let outputIdx = batchIdx * uniforms.M * uniforms.v_hidden_size + m * uniforms.v_hidden_size
       + headIdx * uniforms.N + n;
     output[outputIdx] = value;
   }
  }`};return{name:"AttentionScore",shaderCache:{hint:`${f!==void 0};${i}`,inputDependencies:Pt},getRunData:()=>({outputs:Lt,dispatchGroup:Mt,programUniforms:kt}),getShaderSource:jt}},pu=(i,l,d,f,g,_,M,Te,Se,$e,Je=void 0,J=void 0)=>{let et=Math.min(i.outputCount,1+(M?1:0)+(Te?1:0)),dt=et>1?$e.pastSequenceLength:0,it=dt+$e.kvSequenceLength,ct=Se&&Zt.size(Se.dims)>0?Se:void 0,Mt=[l,d];et>1&&M&&Zt.size(M.dims)>0&&Mt.push(M),ct&&Mt.push(ct),Je&&Mt.push(Je),J&&Mt.push(J);let kt=i.compute(Xf(et,l,d,M,ct,$e,dt,Je,J),{inputs:Mt,outputs:et>1?[-1,1]:[-1]})[0];i.compute(Bm(kt,$e.batchSize,$e.numHeads,dt,$e.sequenceLength,it,Je,J),{inputs:Je&&J?[kt,Je,J]:[kt],outputs:[]});let pt=[kt,f];et>1&&Te&&Zt.size(Te.dims)>0&&pt.push(Te),Je&&pt.push(Je),J&&pt.push(J),i.compute(Im(et,kt,f,Te,$e,dt,Je,J),{inputs:pt,outputs:et>1?[0,2]:[0]})},Qf=(i,l)=>{let d=[l.batchSize,l.numHeads,l.sequenceLength,l.headSize],f=l.sequenceLength,g=l.inputHiddenSize,_=l.headSize,M=12,Te={x:Math.ceil(l.headSize/M),y:Math.ceil(l.sequenceLength/M),z:l.batchSize*l.numHeads},Se=[i.inputs[0],i.inputs[1],i.inputs[2]],$e=[{type:12,data:f},{type:12,data:g},{type:12,data:_},{type:12,data:l.numHeads},{type:12,data:l.headSize},{type:12,data:l.hiddenSize},{type:12,data:l.hiddenSize+l.hiddenSize+l.vHiddenSize}],Je=J=>{let et=eo("output_q",Se[0].dataType,d),dt=eo("output_k",Se[0].dataType,d),it=eo("output_v",Se[0].dataType,d),ct=ar("input",Se[0].dataType,Se[0].dims),Mt=ar("weight",Se[1].dataType,Se[1].dims),kt=ar("bias",Se[2].dataType,Se[2].dims),pt=ct.type.storage,Pt=[{name:"M",type:"u32"},{name:"K",type:"u32"},{name:"N",type:"u32"},{name:"num_heads",type:"u32"},{name:"head_size",type:"u32"},{name:"hidden_size",type:"u32"},{name:"ldb",type:"u32"}];return`
  const TILE_SIZE = ${M}u;
  var<workgroup> tileInput: array<${pt}, ${M*M}>;
  var<workgroup> tileWeightQ: array<${pt}, ${M*M}>;
  var<workgroup> tileWeightK: array<${pt}, ${M*M}>;
  var<workgroup> tileWeightV: array<${pt}, ${M*M}>;
  ${J.registerUniforms(Pt).declareVariables(ct,Mt,kt,et,dt,it)}
  ${J.mainStart([M,M,1])}
    let batchIndex = workgroup_id.z / uniforms.num_heads;
    let headNumber = workgroup_id.z % uniforms.num_heads;
    let m = global_id.y;
    let n = global_id.x;

    let inputOffset = batchIndex * (uniforms.M * uniforms.K) + m * uniforms.K;
    let biasOffsetQ = headNumber * uniforms.head_size;
    let biasOffsetK = uniforms.hidden_size + biasOffsetQ;
    let biasOffsetV = uniforms.hidden_size + biasOffsetK;

    var valueQ = ${pt}(0);
    var valueK = ${pt}(0);
    var valueV = ${pt}(0);
    for (var w: u32 = 0u; w < uniforms.K; w += TILE_SIZE) {
      if (m < uniforms.M && w + local_id.x < uniforms.K) {
        tileInput[TILE_SIZE * local_id.y + local_id.x] = input[inputOffset + w + local_id.x];
      }
      if (n < uniforms.N && w + local_id.y < uniforms.K) {
        let offset = n + (w + local_id.y) * uniforms.ldb;
        tileWeightQ[TILE_SIZE * local_id.y + local_id.x] = weight[biasOffsetQ + offset];
        tileWeightK[TILE_SIZE * local_id.y + local_id.x] = weight[biasOffsetK + offset];
        tileWeightV[TILE_SIZE * local_id.y + local_id.x] = weight[biasOffsetV + offset];
      }
      workgroupBarrier();
      for (var k: u32 = 0u; k<TILE_SIZE && w+k < uniforms.K; k++) {
        let inputTileOffset = TILE_SIZE * local_id.y + k;
        let weightTileOffset = TILE_SIZE * k + local_id.x;
        valueQ += tileInput[inputTileOffset] * tileWeightQ[weightTileOffset];
        valueK += tileInput[inputTileOffset] * tileWeightK[weightTileOffset];
        valueV += tileInput[inputTileOffset] * tileWeightV[weightTileOffset];
      }

      workgroupBarrier();
    }

    let headOffset = (m * uniforms.N + n) % uniforms.head_size;
    valueQ += bias[headOffset + biasOffsetQ];
    valueK += bias[headOffset + biasOffsetK];
    valueV += bias[headOffset + biasOffsetV];

    let offset = workgroup_id.z * uniforms.M * uniforms.N;
    if (m < uniforms.M && n < uniforms.N) {
      let outputIdx = offset + m * uniforms.N + n;
      output_q[outputIdx] = valueQ;
      output_k[outputIdx] = valueK;
      output_v[outputIdx] = valueV;
    }
  }`};return i.compute({name:"AttentionPrepare",shaderCache:{inputDependencies:["type","type","type"]},getRunData:()=>({outputs:[{dims:d,dataType:i.inputs[0].dataType,gpuDataType:0},{dims:d,dataType:i.inputs[0].dataType,gpuDataType:0},{dims:d,dataType:i.inputs[0].dataType,gpuDataType:0}],dispatchGroup:Te,programUniforms:$e}),getShaderSource:Je},{inputs:Se,outputs:[-1,-1,-1]})},Dm=(i,l)=>{let d=qf(i.inputs,l),[f,g,_]=Qf(i,d);return pu(i,f,g,_,i.inputs[4],void 0,void 0,void 0,i.inputs[5],d)}}),Jf,Fm,Rm,Zf,Xv=p(()=>{"use strict";tr(),io(),ro(),Ro(),wo(),Jf=(i,l)=>{if(!i||i.length!==5)throw new Error("BatchNormalization requires 5 inputs");let d=(f,g,_)=>{let M=g.length;if(M!==f.length)throw new Error(`${_}: num dimensions != ${M}`);g.forEach((Te,Se)=>{if(Te!==f[Se])throw new Error(`${_}: dim[${Se}] do not match`)})};if(i[0].dims.length>1){let f=l.format==="NHWC"?l.spatial?i[0].dims.slice(-1):i[0].dims.slice(-1).concat(i[0].dims.slice(1,i[0].dims.length-1)):i[0].dims.slice(1,l.spatial?2:void 0);d(i[1].dims,f,"Invalid input scale"),d(i[2].dims,f,"Invalid input B"),d(i[3].dims,f,"Invalid input mean"),d(i[4].dims,f,"Invalid input var")}else d(i[1].dims,[1],"Invalid input scale"),d(i[2].dims,[1],"Invalid input B"),d(i[3].dims,[1],"Invalid input mean"),d(i[4].dims,[1],"Invalid input var")},Fm=(i,l)=>{let{epsilon:d,spatial:f,format:g}=l,_=i[0].dims,M=f?xo(_[_.length-1]):1,Te=g==="NHWC"&&_.length>1?M:1,Se=Zt.size(_)/M,$e=f,Je=$e?_.length:_,J=ar("x",i[0].dataType,i[0].dims,M),et=ar("scale",i[1].dataType,i[1].dims,Te),dt=ar("bias",i[2].dataType,i[2].dims,Te),it=ar("inputMean",i[3].dataType,i[3].dims,Te),ct=ar("inputVar",i[4].dataType,i[4].dims,Te),Mt=eo("y",i[0].dataType,Je,M),kt=()=>{let Pt="";if(f)Pt=`let cOffset = ${_.length===1?"0u":g==="NHWC"?`outputIndices[${_.length-1}] / ${M}`:"outputIndices[1]"};`;else if(g==="NCHW")Pt=`
            ${Mt.indicesSet("outputIndices","0","0")}
            let cOffset = ${Mt.indicesToOffset("outputIndices")};`;else{Pt=`var cIndices = ${et.type.indices}(0);
                       cIndices[0] = outputIndices[${_.length-1}];`;for(let Lt=1;Lt<et.rank;Lt++)Pt+=`cIndices[${Lt}] = outputIndices[${Lt}];`;Pt+=`let cOffset = ${et.indicesToOffset("cIndices")};`}return Pt},pt=Pt=>`
  const epsilon = ${d};
  ${Pt.registerUniform("outputSize","u32").declareVariables(J,et,dt,it,ct,Mt)}
  ${Pt.mainStart()}
  ${Pt.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
    var outputIndices = ${Mt.offsetToIndices(`global_idx * ${M}`)};
    ${kt()}
    let scale = ${et.getByOffset("cOffset")};
    let bias = ${dt.getByOffset("cOffset")};
    let inputMean = ${it.getByOffset("cOffset")};
    let inputVar = ${ct.getByOffset("cOffset")};
    let x = ${J.getByOffset("global_idx")};
    let value = (x - inputMean) * inverseSqrt(inputVar + epsilon) * scale + bias;
    ${Mt.setByOffset("global_idx","value")}
  }`;return{name:"BatchNormalization",shaderCache:{hint:`${l.epsilon}_${l.format}_${f}_${M}`,inputDependencies:$e?["rank","type","type","type","type"]:void 0},getShaderSource:pt,getRunData:()=>({outputs:[{dims:i[0].dims,dataType:i[0].dataType}],dispatchGroup:{x:Math.ceil(Se/64)},programUniforms:$e?[{type:12,data:Se},...Nr(_)]:[{type:12,data:Se}]})}},Rm=i=>fo(i),Zf=(i,l)=>{let{inputs:d,outputCount:f}=i,g=Rm(Gr(Vt({},l),{outputCount:f}));if(Ue.webgpu.validateInputContent&&Jf(d,g),l.trainingMode)throw new Error("BatchNormalization trainingMode is not supported yet.");i.compute(Fm(d,g))}}),Om,e0,$m,Qv=p(()=>{"use strict";ro(),wo(),Om=i=>{if(i[0].dims.length!==3)throw new Error("input should have 3 dimensions");if(![320,640,1280].includes(i[0].dims[2]))throw new Error("number of channels should be 320, 640 or 1280");if(i[1].dims.length!==1)throw new Error("bias is expected to have 1 dimensions");if(i[0].dims[2]!==i[1].dims[0])throw new Error("last dimension of input and bias are not the same")},e0=i=>{let l=i[0].dims,d=i[0].dims[2],f=Zt.size(l)/4,g=i[0].dataType,_=ar("input",g,l,4),M=ar("bias",g,[d],4),Te=ar("residual",g,l,4),Se=eo("output",g,l,4);return{name:"BiasAdd",getRunData:()=>({outputs:[{dims:l,dataType:i[0].dataType}],dispatchGroup:{x:Math.ceil(f/64)}}),getShaderSource:$e=>`
  const channels = ${d}u / 4;
  ${$e.declareVariables(_,M,Te,Se)}

  ${$e.mainStart()}
    ${$e.guardAgainstOutOfBoundsWorkgroupSizes(f)}
    let value = ${_.getByOffset("global_idx")}
      + ${M.getByOffset("global_idx % channels")} + ${Te.getByOffset("global_idx")};
    ${Se.setByOffset("global_idx","value")}
  }`}},$m=i=>{Om(i.inputs),i.compute(e0(i.inputs))}}),t0,Yo,Lm,r0,Nm,zm,o0,jm,Vm,n0,Um,Wm,i0,Gm,Hm,a0,fu,Km,vp,qm,s0,Xm,Qm,l0,Ym,Jm,c0,Zm,eg,d0,tg,rg,u0,og,ng,yp,ig,hu,xp,ag,wp,sg,lg,p0,cg,mu=p(()=>{"use strict";io(),ro(),Ro(),wo(),t0=(i,l,d,f,g,_,M)=>{let Te=Math.ceil(l/4),Se="";typeof g=="string"?Se=`${g}(a)`:Se=g("a");let $e=ar("inputData",d,[Te],4),Je=eo("outputData",f,[Te],4),J=[{name:"vec_size",type:"u32"}];return M&&J.push(...M),`
      ${i.registerUniforms(J).declareVariables($e,Je)}

  ${_??""}

  ${i.mainStart()}
    ${i.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size")}

    let a = ${$e.getByOffset("global_idx")};
    ${Je.setByOffset("global_idx",Se)}
  }`},Yo=(i,l,d,f,g,_=i.dataType,M,Te)=>{let Se=[{type:12,data:Math.ceil(Zt.size(i.dims)/4)}];return M&&Se.push(...M),{name:l,shaderCache:{hint:g,inputDependencies:["type"]},getShaderSource:$e=>t0($e,Zt.size(i.dims),i.dataType,_,d,f,Te),getRunData:$e=>({outputs:[{dims:i.dims,dataType:_}],dispatchGroup:{x:Math.ceil(Zt.size($e[0].dims)/64/4)},programUniforms:Se})}},Lm=i=>{i.compute(Yo(i.inputs[0],"Abs","abs"))},r0=i=>{i.compute(Yo(i.inputs[0],"Acos","acos"))},Nm=i=>{i.compute(Yo(i.inputs[0],"Acosh","acosh"))},zm=i=>{i.compute(Yo(i.inputs[0],"Asin","asin"))},o0=i=>{i.compute(Yo(i.inputs[0],"Asinh","asinh"))},jm=i=>{i.compute(Yo(i.inputs[0],"Atan","atan"))},Vm=i=>{i.compute(Yo(i.inputs[0],"Atanh","atanh"))},n0=i=>fo(i),Um=(i,l)=>{let d;switch(l.to){case 10:d="vec4<f16>";break;case 1:d="vec4<f32>";break;case 12:d="vec4<u32>";break;case 6:d="vec4<i32>";break;case 9:d="vec4<bool>";break;default:throw new RangeError(`not supported type (specified in attribute 'to' from 'Cast' operator): ${l.to}`)}i.compute(Yo(i.inputs[0],"Cast",d,void 0,l.cacheKey,l.to))},Wm=i=>{let l,d,f=i.length>=2&&i[1].data!==0,g=i.length>=3&&i[2].data!==0;switch(i[0].dataType){case 1:l=f?i[1].getFloat32Array()[0]:-34028234663852886e22,d=g?i[2].getFloat32Array()[0]:34028234663852886e22;break;case 10:l=f?i[1].getUint16Array()[0]:64511,d=g?i[2].getUint16Array()[0]:31743;break;default:throw new Error("Unsupport data type")}return fo({min:l,max:d})},i0=(i,l)=>{let d=l||Wm(i.inputs),f=Tn(i.inputs[0].dataType);i.compute(Yo(i.inputs[0],"Clip",g=>`clamp(${g}, vec4<${f}>(uniforms.min), vec4<${f}>(uniforms.max))`,void 0,d.cacheKey,void 0,[{type:i.inputs[0].dataType,data:d.min},{type:i.inputs[0].dataType,data:d.max}],[{name:"min",type:f},{name:"max",type:f}]),{inputs:[0]})},Gm=i=>{i.compute(Yo(i.inputs[0],"Ceil","ceil"))},Hm=i=>{i.compute(Yo(i.inputs[0],"Cos","cos"))},a0=i=>{i.compute(Yo(i.inputs[0],"Cosh","cosh"))},fu=i=>fo(i),Km=(i,l)=>{let d=Tn(i.inputs[0].dataType);i.compute(Yo(i.inputs[0],"Elu",f=>`elu_vf32(${f})`,`
  const elu_alpha_ = ${d}(${l.alpha});

  fn elu_f32(a: ${d}) -> ${d} {
  return select((exp(a) - 1.0) * elu_alpha_, a, a >= 0.0);
  }

  fn elu_vf32(v: vec4<${d}>) -> vec4<${d}> {
  return vec4(elu_f32(v.x), elu_f32(v.y), elu_f32(v.z), elu_f32(v.w));
  }`,l.cacheKey))},vp=(i="f32")=>`
const r0: ${i} = 0.3275911;
const r1: ${i} = 0.254829592;
const r2: ${i} = -0.284496736;
const r3: ${i} = 1.421413741;
const r4: ${i} = -1.453152027;
const r5: ${i} = 1.061405429;

fn erf_vf32(v: vec4<${i}>) -> vec4<${i}> {
  let absv = abs(v);
  let x = 1.0 / (1.0 + r0 * absv);
  return sign(v) * (1.0 - ((((r5 * x + r4) * x + r3) * x + r2) * x + r1) * x * exp(-absv * absv));
}`,qm=i=>{let l=Tn(i.inputs[0].dataType);i.compute(Yo(i.inputs[0],"Erf",d=>`erf_vf32(${d})`,vp(l)))},s0=i=>{i.compute(Yo(i.inputs[0],"Exp","exp"))},Xm=i=>{i.compute(Yo(i.inputs[0],"Floor","floor"))},Qm=i=>{let l=Tn(i.inputs[0].dataType);i.compute(Yo(i.inputs[0],"Gelu",d=>`0.5 * ${d} * (1.0 + erf_vf32(${d} * 0.7071067811865475))`,vp(l)))},l0=(i,l)=>{let d=Tn(i.inputs[0].dataType);i.compute(Yo(i.inputs[0],"LeakyRelu",f=>`select(leaky_relu_alpha_ * ${f}, ${f}, ${f} >= vec4<${d}>(0.0))`,`const leaky_relu_alpha_ = ${d}(${l.alpha});`,l.cacheKey))},Ym=i=>{i.compute(Yo(i.inputs[0],"Not",l=>`!${l}`))},Jm=i=>{i.compute(Yo(i.inputs[0],"Neg",l=>`-${l}`))},c0=i=>{i.compute(Yo(i.inputs[0],"Reciprocal",l=>`1.0/${l}`))},Zm=i=>{let l=Tn(i.inputs[0].dataType);i.compute(Yo(i.inputs[0],"Relu",d=>`select(vec4<${l}>(0.0), ${d}, ${d} > vec4<${l}>(0.0))`))},eg=i=>{i.compute(Yo(i.inputs[0],"Sigmoid",l=>`(1.0 / (1.0 + exp(-${l})))`))},d0=i=>fo(i),tg=(i,l)=>{let d=Tn(i.inputs[0].dataType);i.compute(Yo(i.inputs[0],"HardSigmoid",f=>`max(vec4<${d}>(0.0), min(vec4<${d}>(1.0), ${l.alpha} * ${f} + vec4<${d}>(${l.beta})))`,void 0,l.cacheKey))},rg=i=>{i.compute(Yo(i.inputs[0],"Sin","sin"))},u0=i=>{i.compute(Yo(i.inputs[0],"Sinh","sinh"))},og=i=>{i.compute(Yo(i.inputs[0],"Sqrt","sqrt"))},ng=i=>{i.compute(Yo(i.inputs[0],"Tan","tan"))},yp=i=>`sign(${i}) * (1 - exp(-2 * abs(${i}))) / (1 + exp(-2 * abs(${i})))`,ig=i=>{i.compute(Yo(i.inputs[0],"Tanh",yp))},hu=(i="f32")=>`
const fast_gelu_a: ${i} = 0.5;
const fast_gelu_b: ${i} = 0.7978845608028654;
const fast_gelu_c: ${i} = 0.035677408136300125;

fn tanh_v(v: vec4<${i}>) -> vec4<${i}> {
  return ${yp("v")};
}
`,xp=i=>`(fast_gelu_a + fast_gelu_a * tanh_v(${i} * (fast_gelu_c * ${i} * ${i} + fast_gelu_b))) * ${i}`,ag=i=>{let l=Tn(i.inputs[0].dataType);i.compute(Yo(i.inputs[0],"FastGelu",xp,hu(l),void 0,i.inputs[0].dataType))},wp=(i,l)=>{let d=Tn(i.inputs[0].dataType);return i.compute(Yo(i.inputs[0],"ThresholdedRelu",f=>`select(vec4<${d}>(0.0), ${f}, ${f} > thresholded_relu_alpha_)`,`const thresholded_relu_alpha_ = vec4<${d}>(${l.alpha});`,l.cacheKey)),0},sg=i=>{i.compute(Yo(i.inputs[0],"Log","log"))},lg=(i,l)=>`
const alpha = vec4<${i}>(${l});
const one = ${i}(1.0);
const zero = ${i}(0.0);

fn quick_gelu_impl(x: vec4<${i}>) -> vec4<${i}> {
  let v = x *alpha;
  var x1 : vec4<${i}>;
  for (var i = 0; i < 4; i = i + 1) {
    if (v[i] >= zero) {
      x1[i] = one / (one + exp(-v[i]));
    } else {
      x1[i] = one - one / (one + exp(v[i]));
    }
  }
  return x * x1;
}
`,p0=i=>`quick_gelu_impl(${i})`,cg=(i,l)=>{let d=Tn(i.inputs[0].dataType);i.compute(Yo(i.inputs[0],"QuickGelu",p0,lg(d,l.alpha),l.cacheKey,i.inputs[0].dataType))}}),dg,ug,f0,Yv=p(()=>{"use strict";ro(),wo(),mu(),dg=i=>{if(i[0].dims.length!==3)throw new Error("input should have 3 dimensions");if(![2560,5120,10240].includes(i[0].dims[2]))throw new Error("hidden state should be 2560, 5120 or 10240");if(i[1].dims.length!==1)throw new Error("bias is expected to have 1 dimensions");if(i[0].dims[2]!==i[1].dims[0])throw new Error("last dimension of input and bias are not the same")},ug=i=>{let l=i[0].dims.slice();l[2]=l[2]/2;let d=ar("input",i[0].dataType,i[0].dims,4),f=ar("bias",i[0].dataType,[i[0].dims[2]],4),g=eo("output",i[0].dataType,l,4),_=Zt.size(l)/4,M=qo(i[0].dataType);return{name:"BiasSplitGelu",getRunData:()=>({outputs:[{dims:l,dataType:i[0].dataType}],dispatchGroup:{x:Math.ceil(_/64)}}),getShaderSource:Te=>`
  const M_SQRT2 = sqrt(2.0);
  const halfChannels = ${i[0].dims[2]/4/2}u;

  ${Te.declareVariables(d,f,g)}

  ${vp(M)}

  ${Te.mainStart()}
    ${Te.guardAgainstOutOfBoundsWorkgroupSizes(_)}
    let biasIdx = global_idx % halfChannels;
    let batchIndex = global_idx / halfChannels;
    let inputOffset = biasIdx + batchIndex * halfChannels * 2;
    let valueLeft = input[inputOffset] + bias[biasIdx];
    let valueRight = input[inputOffset + halfChannels] + bias[biasIdx + halfChannels];
    let geluRight = valueRight * 0.5 * (erf_vf32(valueRight / M_SQRT2) + 1);

    ${g.setByOffset("global_idx","valueLeft * geluRight")}
  }`}},f0=i=>{dg(i.inputs),i.compute(ug(i.inputs))}}),Cp,pg,wa,h0,fg,kp,hg,Mp,m0,mg,Tp,g0,gg,_0=p(()=>{"use strict";io(),ro(),wo(),Cp=(i,l,d,f,g,_,M,Te,Se,$e,Je,J)=>{let et,dt;typeof Te=="string"?et=dt=(pt,Pt)=>`${Te}((${pt}),(${Pt}))`:typeof Te=="function"?et=dt=Te:(et=Te.scalar,dt=Te.vector);let it=eo("outputData",Je,f.length,4),ct=ar("aData",Se,l.length,4),Mt=ar("bData",$e,d.length,4),kt;if(g)if(_){let pt=Zt.size(l)===1,Pt=Zt.size(d)===1,Lt=l.length>0&&l[l.length-1]%4===0,jt=d.length>0&&d[d.length-1]%4===0;pt||Pt?kt=it.setByOffset("global_idx",dt(pt?`${ct.type.value}(${ct.getByOffset("0")}.x)`:ct.getByOffset("global_idx"),Pt?`${Mt.type.value}(${Mt.getByOffset("0")}.x)`:Mt.getByOffset("global_idx"))):kt=`
            let outputIndices = ${it.offsetToIndices("global_idx * 4u")};
            let offsetA = ${ct.broadcastedIndicesToOffset("outputIndices",it)};
            let offsetB = ${Mt.broadcastedIndicesToOffset("outputIndices",it)};
            ${it.setByOffset("global_idx",dt(M||Lt?ct.getByOffset("offsetA / 4u"):`${ct.type.value}(${ct.getByOffset("offsetA / 4u")}[offsetA % 4u])`,M||jt?Mt.getByOffset("offsetB / 4u"):`${Mt.type.value}(${Mt.getByOffset("offsetB / 4u")}[offsetB % 4u])`))}
          `}else kt=it.setByOffset("global_idx",dt(ct.getByOffset("global_idx"),Mt.getByOffset("global_idx")));else{if(!_)throw new Error("no necessary to use scalar implementation for element-wise binary op implementation.");let pt=(Pt,Lt,jt="")=>{let Yt=`aData[indexA${Lt}][componentA${Lt}]`,Jt=`bData[indexB${Lt}][componentB${Lt}]`;return`
            let outputIndices${Lt} = ${it.offsetToIndices(`global_idx * 4u + ${Lt}u`)};
            let offsetA${Lt} = ${ct.broadcastedIndicesToOffset(`outputIndices${Lt}`,it)};
            let offsetB${Lt} = ${Mt.broadcastedIndicesToOffset(`outputIndices${Lt}`,it)};
            let indexA${Lt} = offsetA${Lt} / 4u;
            let indexB${Lt} = offsetB${Lt} / 4u;
            let componentA${Lt} = offsetA${Lt} % 4u;
            let componentB${Lt} = offsetB${Lt} % 4u;
            ${Pt}[${Lt}] = ${jt}(${et(Yt,Jt)});
          `};Je===9?kt=`
            var data = vec4<u32>(0);
            ${pt("data",0,"u32")}
            ${pt("data",1,"u32")}
            ${pt("data",2,"u32")}
            ${pt("data",3,"u32")}
            outputData[global_idx] = dot(vec4<u32>(0x1, 0x100, 0x10000, 0x1000000), vec4<u32>(data));`:kt=`
            ${pt("outputData[global_idx]",0)}
            ${pt("outputData[global_idx]",1)}
            ${pt("outputData[global_idx]",2)}
            ${pt("outputData[global_idx]",3)}
          `}return`
        ${i.registerUniform("vec_size","u32").declareVariables(ct,Mt,it)}

        ${J??""}

        ${i.mainStart()}
        ${i.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size")}
        ${kt}
      }`},pg=(i,l,d,f,g,_,M=d.dataType)=>{let Te=d.dims.map(ct=>Number(ct)??1),Se=f.dims.map(ct=>Number(ct)??1),$e=!Zt.areEqual(Te,Se),Je=Te,J=Zt.size(Te),et=!1,dt=!1,it=[$e];if($e){let ct=mi.calcShape(Te,Se,!1);if(!ct)throw new Error("Can't perform binary op on the given tensors");Je=ct.slice(),J=Zt.size(Je);let Mt=Zt.size(Te)===1,kt=Zt.size(Se)===1,pt=Te.length>0&&Te[Te.length-1]%4===0,Pt=Se.length>0&&Se[Se.length-1]%4===0;it.push(Mt),it.push(kt),it.push(pt),it.push(Pt);let Lt=1;for(let jt=1;jt<Je.length;jt++){let Yt=Te[Te.length-jt],Jt=Se[Se.length-jt];if(Yt===Jt)Lt*=Yt;else break}Lt%4===0?(dt=!0,et=!0):(Mt||kt||pt||Pt)&&(et=!0)}else et=!0;return it.push(et),{name:i,shaderCache:{hint:l+it.map(ct=>ct.toString()).join("_"),inputDependencies:["rank","rank"]},getShaderSource:ct=>Cp(ct,Te,Se,Je,et,$e,dt,g,d.dataType,f.dataType,M,_),getRunData:()=>({outputs:[{dims:Je,dataType:M}],dispatchGroup:{x:Math.ceil(J/64/4)},programUniforms:[{type:12,data:Math.ceil(Zt.size(Je)/4)},...Nr(Te,Se,Je)]})}},wa=(i,l,d,f,g,_)=>{i.compute(pg(l,g??"",i.inputs[0],i.inputs[1],d,f,_))},h0=i=>{wa(i,"Add",(l,d)=>`${l}+${d}`)},fg=i=>{wa(i,"Div",(l,d)=>`${l}/${d}`)},kp=i=>{wa(i,"Equal",{scalar:(l,d)=>`u32(${l}==${d})`,vector:(l,d)=>`vec4<u32>(${l}==${d})`},void 0,void 0,9)},hg=i=>{wa(i,"Mul",(l,d)=>`${l}*${d}`)},Mp=i=>{let l=ar("input",i.inputs[0].dataType,i.inputs[0].dims).type.value;wa(i,"Pow",{scalar:(d,f)=>`pow_custom(${d},${f})`,vector:(d,f)=>`pow_vector_custom(${d},${f})`},`
    fn pow_custom(a : ${l}, b : ${l}) -> ${l} {
      if (b == ${l}(0.0)) {
        return ${l}(1.0);
      } else if (a < ${l}(0.0) && f32(b) != floor(f32(b))) {
        return ${l}(pow(f32(a), f32(b))); // NaN
      }
      return select(sign(a), ${l}(1.0), round(f32(abs(b) % ${l}(2.0))) != 1.0) * ${l}(${l==="i32"?"round":""}(pow(f32(abs(a)), f32(b))));
    }
    fn pow_vector_custom(a : vec4<${l}>, b : vec4<${l}>) -> vec4<${l}> {
      // TODO: implement vectorized pow
      return vec4<${l}>(pow_custom(a.x, b.x), pow_custom(a.y, b.y), pow_custom(a.z, b.z), pow_custom(a.w, b.w));
    }
      `)},m0=i=>{wa(i,"Sub",(l,d)=>`${l}-${d}`)},mg=i=>{wa(i,"Greater",{scalar:(l,d)=>`u32(${l}>${d})`,vector:(l,d)=>`vec4<u32>(${l}>${d})`},void 0,void 0,9)},Tp=i=>{wa(i,"Less",{scalar:(l,d)=>`u32(${l}<${d})`,vector:(l,d)=>`vec4<u32>(${l}<${d})`},void 0,void 0,9)},g0=i=>{wa(i,"GreaterOrEqual",{scalar:(l,d)=>`u32(${l}>=${d})`,vector:(l,d)=>`vec4<u32>(${l}>=${d})`},void 0,void 0,9)},gg=i=>{wa(i,"LessOrEqual",{scalar:(l,d)=>`u32(${l}<=${d})`,vector:(l,d)=>`vec4<u32>(${l}<=${d})`},void 0,void 0,9)}}),b0,_g,bg,v0,vg,yg,xg=p(()=>{"use strict";io(),ro(),Ro(),wo(),b0=(i,l)=>{if(!i||i.length<1)throw new Error("too few inputs");let d=0,f=i[d],g=f.dataType,_=f.dims.length;i.forEach((M,Te)=>{if(Te!==d){if(M.dataType!==g)throw new Error("input tensors should be one type");if(M.dims.length!==_)throw new Error("input tensors should have the same shape");M.dims.forEach((Se,$e)=>{if($e!==l&&Se!==f.dims[$e])throw new Error("non concat dimensions must match")})}})},_g=(i,l)=>`
  fn calculateInputIndex(index: u32) -> u32 {
    let sizeInConcatAxis = array<u32, ${i}u>(${l});
    for (var i: u32 = 0u; i < ${i}; i += 1u ) {
      if (index < sizeInConcatAxis[i]) {
        return i;
      }
    }
    return ${i}u;
  }`,bg=(i,l)=>{let d=i.length,f=[];for(let g=0;g<d;++g){let _=l.setByOffset("global_idx",i[g].getByIndices("indices"));d===1?f.push(_):g===0?f.push(`if (inputIndex == ${g}u) { ${_} }`):g===d-1?f.push(`else { ${_} }`):f.push(`else if (inputIndex == ${g}) { ${_} }`)}return f.join(`
`)},v0=(i,l,d,f)=>{let g=Zt.size(d),_=new Array(i.length),M=new Array(i.length),Te=0,Se=[],$e=[],Je=[{type:12,data:g}];for(let ct=0;ct<i.length;++ct)Te+=i[ct].dims[l],_[ct]=Te,$e.push(i[ct].dims.length),M[ct]=ar(`input${ct}`,f,$e[ct]),Se.push("rank"),Je.push({type:12,data:_[ct]});for(let ct=0;ct<i.length;++ct)Je.push(...Nr(i[ct].dims));Je.push(...Nr(d));let J=eo("output",f,d.length),et=J.indicesGet("indices",l),dt=Array.from(Array(_.length).keys()).map(ct=>`uniforms.sizeInConcatAxis${ct}`).join(","),it=ct=>`

  ${(()=>{ct.registerUniform("outputSize","u32");for(let Mt=0;Mt<i.length;Mt++)ct.registerUniform(`sizeInConcatAxis${Mt}`,"u32");return ct.declareVariables(...M,J)})()}

  ${_g(_.length,dt)}

  ${ct.mainStart()}
    ${ct.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}

    var indices = ${J.offsetToIndices("global_idx")};

    let inputIndex = calculateInputIndex(${et});
    if (inputIndex != 0u) {
      let sizeInConcatAxis = array<u32, ${_.length}u>(${dt});
      ${et} -= sizeInConcatAxis[inputIndex - 1u];
    }

    ${bg(M,J)}
  }`;return{name:"Concat",shaderCache:{hint:`${l}`,inputDependencies:Se},getRunData:()=>({outputs:[{dims:d,dataType:f}],dispatchGroup:{x:Math.ceil(g/64)},programUniforms:Je}),getShaderSource:it}},vg=(i,l)=>{let d=i.inputs,f=d[0].dims,g=Zt.normalizeAxis(l.axis,f.length);b0(d,g);let _=f.slice();_[g]=d.reduce((Te,Se)=>Te+(Se.dims.length>g?Se.dims[g]:0),0);let M=d.filter(Te=>Zt.size(Te.dims)>0);i.compute(v0(M,g,_,d[0].dataType),{inputs:M})},yg=i=>fo({axis:i.axis})}),bl,Cs,ks,y0,Ms=p(()=>{"use strict";io(),ro(),bl=(i,l,d="f32")=>{switch(i.activation){case"Relu":return`value = max(value, ${l}(0.0));`;case"Sigmoid":return`value = (${l}(1.0) / (${l}(1.0) + exp(-value)));`;case"Clip":return`value = clamp(value, ${l}(${d}(uniforms.clip_min)), ${l}(${d}(uniforms.clip_max)));`;case"HardSigmoid":return`value = max(${l}(0.0), min(${l}(1.0), ${d}(uniforms.alpha) * value + ${d}(uniforms.beta)));`;case"LeakyRelu":return`value = select(${d}(uniforms.alpha) * value, value, value >= ${l}(0.0));`;case"Tanh":return`let e2x = exp(-2.0 * abs(value));
              value = sign(value) * (1.0 - e2x) / (1.0 + e2x);
        `;case"":return"";default:throw new Error(`Unsupported activation ${i.activation}`)}},Cs=(i,l)=>{i.activation==="Clip"?l.push({type:1,data:i.clipMax},{type:1,data:i.clipMin}):i.activation==="HardSigmoid"?l.push({type:1,data:i.alpha},{type:1,data:i.beta}):i.activation==="LeakyRelu"&&l.push({type:1,data:i.alpha})},ks=(i,l)=>{i.activation==="Clip"?l.push({name:"clip_max",type:"f32"},{name:"clip_min",type:"f32"}):i.activation==="HardSigmoid"?l.push({name:"alpha",type:"f32"},{name:"beta",type:"f32"}):i.activation==="LeakyRelu"&&l.push({name:"alpha",type:"f32"})},y0=i=>{let l=i?.activation||"";if(l==="HardSigmoid"){let[d,f]=i?.activation_params||[.2,.5];return{activation:l,alpha:d,beta:f}}else if(l==="Clip"){let[d,f]=i?.activation_params||[$n,di];return{activation:l,clipMax:f,clipMin:d}}else if(l==="LeakyRelu"){let[d]=i?.activation_params||[.01];return{activation:l,alpha:d}}return{activation:l}}}),Qn,x0,w0=p(()=>{"use strict";Qn=(i,l)=>{switch(i){case 1:return l;case 2:return`vec2<${l}>`;case 3:return`vec3<${l}>`;case 4:return`vec4<${l}>`;default:throw new Error(`${i}-component is not supported.`)}},x0=i=>`
      ${i?"value = value + getBiasByOutputCoords(coords);":""}
      `}),C0,Jv=p(()=>{"use strict";C0=i=>`
fn getIndexFromCoords4D(coords : vec4<i32>, shape : vec4<i32>) -> i32 {
  return dot(coords, vec4<i32>(
      shape.y * shape.z * shape.w, shape.z * shape.w, shape.w, 1));
}
fn getOutputIndexFromCoords(coords : vec4<i32>) -> i32 {
  return dot(coords, vec4<i32>(
    i32(${i}.x), i32(${i}.y), i32(${i}.z), 1));
}
`}),vl,k0,Ep=p(()=>{"use strict";io(),ro(),wo(),Ms(),vl=(i,l,d,f,g)=>{let _=f-d;return`
      ${Array.from({length:d}).map((M,Te)=>`
      if (${Hr(l.shape,Te,l.rank)} != 1) {
        ${l.indicesSet(i,Te,Hr(g,Te+_,f))}
      } else {
        ${l.indicesSet(i,Te,0)}
      }`).join("")}
`},k0=(i,l,d,f,g=!1,_)=>{let M=i[0].dims,Te=i[1].dims,Se=M[M.length-2],$e=Te[Te.length-1],Je=M[M.length-1],J=xo($e),et=xo(Je),dt=xo(Se),it=Zt.size(d)/J/dt,ct=i.length>2,Mt=f?f.slice(0,-2):d.slice(0,-2),kt=[Zt.size(Mt),Se,$e],pt=[{type:12,data:it},{type:12,data:Se},{type:12,data:$e},{type:12,data:Je}];Cs(l,pt),pt.push(...Nr(Mt,M,Te)),ct&&pt.push(...Nr(i[2].dims)),pt.push(...Nr(kt));let Pt=Lt=>{let jt=du("batch_dims",i[0].dataType,Mt.length),Yt=ar("a",i[0].dataType,M.length,et),Jt=ar("b",i[1].dataType,Te.length,J),Mr=eo("output",i[0].dataType,kt.length,J),Pr=qo(Mr.type.tensor),Xr=bl(l,Mr.type.value,Pr),Qr=[Yt,Jt],yo="";if(ct){let mo=g?J:1;Qr.push(ar("bias",i[2].dataType,i[2].dims.length,mo)),yo=`${g?`value += bias[col / ${mo}];`:`value += ${Mr.type.value}(bias[row + i]);`}`}let Br=[{name:"output_size",type:"u32"},{name:"M",type:"u32"},{name:"N",type:"u32"},{name:"K",type:"u32"}];ks(l,Br);let Do=()=>{let mo=`var a_data: ${Yt.type.value};`;for(let to=0;to<et;to++)mo+=`
              let b_data${to} = b[(b_offset + (k + ${to}) * uniforms.N + col) / ${J}];`;for(let to=0;to<dt;to++){mo+=`a_data = a[(a_offset + (row + ${to}) * uniforms.K + k) / ${et}];`;for(let Lo=0;Lo<et;Lo++)mo+=`
            values[${to}] = fma(${Jt.type.value}(a_data${et===1?"":`[${Lo}]`}), b_data${Lo}, values[${to}]);
`}return mo};return`
  ${Lt.registerUniforms(Br).registerInternalVariables(jt).declareVariables(...Qr,Mr)}
  ${Lt.mainStart()}
    ${Lt.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
    let col = (global_idx % (uniforms.N / ${J})) * ${J};
    var index1 = global_idx / (uniforms.N / ${J});
    let stride1 = uniforms.M / ${dt};
    let row = (index1 % stride1) * ${dt};
    let batch = index1 / stride1;

    ${d.length===2?"":`let batch_indices = ${jt.offsetToIndices("batch")};`}

    var a_indices: ${Yt.type.indices};
    ${vl("a_indices",Yt,Yt.rank-2,jt.rank,"batch_indices")}
    ${Yt.indicesSet("a_indices",Yt.rank-2,0)}
    ${Yt.indicesSet("a_indices",Yt.rank-1,0)}
    let a_offset = ${Yt.indicesToOffset("a_indices")};

    var b_indices: ${Jt.type.indices};
    ${vl("b_indices",Jt,Jt.rank-2,jt.rank,"batch_indices")}
    ${Jt.indicesSet("b_indices",Jt.rank-2,0)}
    ${Jt.indicesSet("b_indices",Jt.rank-1,0)}
    let b_offset = ${Jt.indicesToOffset("b_indices")};
    var values: array<${Mr.type.value}, ${dt}>;
    for (var k: u32 = 0u; k < uniforms.K; k = k + ${et}) {
      ${Do()}
    }
    for (var i = 0u; i < ${dt}u; i++) {
      var value = values[i];
      ${yo}
      ${Xr}
      let cur_indices = ${Mr.type.indices}(batch, row + i, col);
      let offset = ${Mr.indicesToOffset("cur_indices")};
      ${Mr.setByOffset(`offset / ${J}`,"value")};
    }
  }
  `};return{name:"MatMulNaive",shaderCache:{hint:`${l.activation};${J};${et};${dt};${g}`,inputDependencies:ct?["rank","rank","rank"]:["rank","rank"]},getRunData:()=>({outputs:[{dims:_?_(d):d,dataType:i[0].dataType}],dispatchGroup:{x:Math.ceil(it/64)},programUniforms:pt}),getShaderSource:Pt}}}),wg,Sp,M0,Pp,Cg,gu,T0,Ap,_u=p(()=>{"use strict";io(),ro(),wo(),Ms(),Ep(),w0(),wg=(i,l)=>i?`
        mm_Asub[inputRow][inputCol] = mm_readA(batch,
          kStart + inputRow,
          globalRowStart / innerElementSize + inputCol${l?", batchIndices":""});
        `:`
        mm_Asub[inputRow][inputCol] = mm_readA(batch,
          globalRow + innerRow,
          kStart / innerElementSize + inputCol${l?", batchIndices":""});
        `,Sp=(i,l)=>i?`
        let ACached0 = mm_Asub[k * innerElementSize][localRow];
        let ACached1 = mm_Asub[k * innerElementSize + 1][localRow];
        let ACached2 = mm_Asub[k * innerElementSize + 2][localRow];
        ${l===3?"":"let ACached3 = mm_Asub[k * innerElementSize + 3][localRow];"}
        for (var i = 0; i < rowPerThread; i = i + 1) {
          acc[i] = BCached0 * ACached0[i] + acc[i];
          acc[i] = BCached1 * ACached1[i] + acc[i];
          acc[i] = BCached2 * ACached2[i] + acc[i];
          ${l===3?"":"acc[i] = BCached3 * ACached3[i] + acc[i];"}
        }`:`
        for (var i = 0; i < rowPerThread; i = i + 1) {
          let ACached = mm_Asub[tileRow + i][k];
          acc[i] = BCached0 * ACached.x + acc[i];
          acc[i] = BCached1 * ACached.y + acc[i];
          acc[i] = BCached2 * ACached.z + acc[i];
          ${l===3?"":"acc[i] = BCached3 * ACached.w + acc[i];"}
        }`,M0=(i,l,d="f32",f,g=!1,_=32,M=!1,Te=32)=>{let Se=l[1]*i[1],$e=l[0]*i[0],Je=g?Se:_,J=g?_:Se,et=Je/l[0],dt=_/l[1];if(!((g&&et===4&&i[1]===4||!g&&(et===3||et===4))&&Je%l[0]===0&&_%l[1]===0&&i[0]===4))throw new Error(`If transposeA ${g} is true, innerElementSize ${et} and workPerThread[1] ${i[1]} must be 4.
      Otherwise, innerElementSize ${et} must be 3 or 4.
  tileAWidth ${Je} must be divisible by workgroupSize[0]${l[0]}. tileInner ${_} must be divisible by workgroupSize[1] ${l[1]}. colPerThread ${i[0]} must be 4.`);return`
var<workgroup> mm_Asub: array<array<vec${et}<${d}>, ${Je/et}>, ${J}>;
var<workgroup> mm_Bsub: array<array<vec4<${d}>, ${$e/i[0]}>, ${_}>;

const rowPerThread = ${i[1]};
const colPerThread = ${i[0]};
const innerElementSize = ${et};
const tileInner = ${_};

@compute @workgroup_size(${l[0]}, ${l[1]}, ${l[2]})
fn main(@builtin(local_invocation_id) localId : vec3<u32>,
        @builtin(global_invocation_id) globalId : vec3<u32>,
        @builtin(workgroup_id) workgroupId : vec3<u32>) {
  let localRow = i32(localId.y);
  let tileRow = localRow * rowPerThread;
  let tileCol = i32(localId.x);

  let globalRow =i32(globalId.y) * rowPerThread;
  let globalCol = i32(globalId.x);
  let batch = ${M?"0":"i32(globalId.z)"};
  ${f?`let batchIndices = ${f.offsetToIndices("u32(batch)")};`:""}
  let globalRowStart = i32(workgroupId.y) * ${Se};

  let num_tiles = ${M?`${Math.ceil(Te/_)}`:"(uniforms.dim_inner - 1) / tileInner + 1"};
  var kStart = ${M?`i32(globalId.z) * ${Te}`:"0"};

  var acc: array<vec4<${d}>, rowPerThread>;

  // Loop over shared dimension.
  let tileRowB = localRow * ${dt};
  for (var t = 0; t < num_tiles; t = t + 1) {
      // Load one tile of A into local memory.
      for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
          let inputRow = tileRow + innerRow;
          let inputCol = tileCol;
          ${wg(g,f)}
      }

      // Load one tile of B into local memory.
      for (var innerRow = 0; innerRow < ${dt}; innerRow = innerRow + 1) {
          let inputRow = tileRowB + innerRow;
          let inputCol = tileCol;
          mm_Bsub[inputRow][inputCol] = mm_readB(batch, kStart + inputRow, globalCol${f?", batchIndices":""});
      }
      kStart = kStart + tileInner;
      workgroupBarrier();

      // Compute acc values for a single thread.
      for (var k = 0; k < tileInner / innerElementSize; k = k + 1) {
          let BCached0 = mm_Bsub[k * innerElementSize][tileCol];
          let BCached1 = mm_Bsub[k * innerElementSize + 1][tileCol];
          let BCached2 = mm_Bsub[k * innerElementSize + 2][tileCol];
          ${et===3?"":"let BCached3 = mm_Bsub[k * innerElementSize + 3][tileCol];"}

          ${Sp(g,et)}
      }

      workgroupBarrier();
  }

  for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      mm_write(batch, globalRow + innerRow, globalCol, acc[innerRow]);
  }
}`},Pp=(i,l)=>i?`
            mm_Asub[inputRow][inputCol] = mm_readA(batch,
              kStart + inputRow,
              globalRowStart + inputCol${l?", batchIndices":""});
            `:`
            mm_Asub[inputRow][inputCol] = mm_readA(batch,
              globalRowStart + inputRow,
              kStart + inputCol${l?", batchIndices":""});
            `,Cg=i=>i?"let ACached = mm_Asub[k][tileRow + innerRow];":"let ACached = mm_Asub[tileRow + innerRow][k];",gu=(i,l,d="f32",f,g=!1,_=32,M=!1,Te=32,Se=!1)=>{let $e=i[1]*l[1],Je=i[0]*l[0],J=g?$e:_,et=g?_:$e;if(!(et%l[1]===0&&J%l[0]===0&&_%l[1]===0))throw new Error(`tileAHight ${et} must be divisible by workgroupSize[1]${l[1]}, tileAWidth ${J} must be divisible by workgroupSize[0]${l[0]}, tileInner ${_} must be divisible by workgroupSize[1]${l[1]}`);let dt=et/l[1],it=J/l[0],ct=_/l[1],Mt=Se?`
    let localRow = i32(localId.y);
    let localCol = i32(localId.x);
    let globalRowStart = i32(workgroupId.y) * ${$e};
    let globalColStart = i32(workgroupId.x) * ${Je};

    // Loop over shared dimension.
    for (var t = 0; t < num_tiles; t = t + 1) {
      // Load one tile of A into local memory.
      for (var inputRow = localRow; inputRow < ${et}; inputRow = inputRow + ${l[1]}) {
        for (var inputCol = localCol; inputCol < ${J}; inputCol = inputCol + ${l[0]}) {
          ${Pp(g,f)}
        }
      }
      // Load one tile of B into local memory.
      for (var inputRow = localRow; inputRow < ${_}; inputRow = inputRow + ${l[1]}) {
            for (var inputCol = localCol; inputCol < ${Je}; inputCol = inputCol + ${l[0]}) {
          mm_Bsub[inputRow][inputCol] = mm_readB(batch,
            kStart + inputRow,
            globalColStart + inputCol${f?", batchIndices":""});
        }
      }
      kStart = kStart + tileInner;
      workgroupBarrier();

      // Compute acc values for a single thread.
      var BCached : array<${d}, colPerThread>;
      for (var k = 0; k < tileInner; k = k + 1) {
        for (var inner = 0; inner < colPerThread; inner = inner + 1) {
          BCached[inner] = mm_Bsub[k][localCol + inner * ${l[0]}];
        }
        for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
          let ACached = ${g?`mm_Asub[k][localRow + innerRow * ${l[1]}];`:`mm_Asub[localRow + innerRow * ${l[1]}][k];`}
          for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
            acc[innerRow][innerCol] = acc[innerRow][innerCol] +
                ACached * BCached[innerCol];
          }
        }
      }
      workgroupBarrier();
    }
    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      let gRow = globalRowStart + localRow + innerRow * ${l[1]};
      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
        let gCol = globalColStart + localCol + innerCol * ${l[0]};
        mm_write(batch, gRow, gCol, acc[innerRow][innerCol]);
      }
    }
    `:`
let tileRow = i32(localId.y) * rowPerThread;
let tileCol = i32(localId.x) * colPerThread;

let globalRow = i32(globalId.y) * rowPerThread;
let globalCol = i32(globalId.x) * colPerThread;
let globalRowStart = i32(workgroupId.y) * ${$e};

let tileRowA = i32(localId.y) * ${dt};
let tileColA = i32(localId.x) * ${it};
let tileRowB = i32(localId.y) * ${ct};
// Loop over shared dimension.
for (var t = 0; t < num_tiles; t = t + 1) {
  // Load one tile of A into local memory.
  for (var innerRow = 0; innerRow < ${dt}; innerRow = innerRow + 1) {
    for (var innerCol = 0; innerCol < ${it}; innerCol = innerCol + 1) {
      let inputRow = tileRowA + innerRow;
      let inputCol = tileColA + innerCol;
      ${Pp(g,f)}
    }
  }

  // Load one tile of B into local memory.
  for (var innerRow = 0; innerRow < ${ct}; innerRow = innerRow + 1) {
    for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
      let inputRow = tileRowB + innerRow;
      let inputCol = tileCol + innerCol;
      mm_Bsub[inputRow][inputCol] = mm_readB(batch,
        kStart + inputRow,
        globalCol + innerCol${f?", batchIndices":""});
    }
  }
  kStart = kStart + tileInner;
  workgroupBarrier();

  // Compute acc values for a single thread.
  var BCached : array<${d}, colPerThread>;
  for (var k = 0; k < tileInner; k = k + 1) {
    for (var inner = 0; inner < colPerThread; inner = inner + 1) {
      BCached[inner] = mm_Bsub[k][tileCol + inner];
    }

    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      ${Cg(g)}
      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
        acc[innerRow][innerCol] = acc[innerRow][innerCol] + ACached * BCached[innerCol];
      }
    }
  }

  workgroupBarrier();
}

for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
  for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
    mm_write(batch, globalRow + innerRow, globalCol + innerCol,
        acc[innerRow][innerCol]);
  }
}
`;return`
  var<workgroup> mm_Asub : array<array<${d}, ${J}>, ${et}>;
  var<workgroup> mm_Bsub : array<array<${d}, ${Je}>, ${_}>;
  const rowPerThread = ${i[1]};
  const colPerThread = ${i[0]};
  const tileInner = ${_};

@compute @workgroup_size(${l[0]}, ${l[1]}, ${l[2]})
fn main(@builtin(local_invocation_id) localId : vec3<u32>,
        @builtin(global_invocation_id) globalId : vec3<u32>,
        @builtin(workgroup_id) workgroupId : vec3<u32>) {
    let batch = ${M?"0":"i32(globalId.z)"};
    ${f?`let batchIndices = ${f.offsetToIndices("u32(batch)")};`:""}
    let num_tiles = ${M?`${Math.ceil(Te/_)}`:"(uniforms.dim_inner - 1) / tileInner + 1"};
    var kStart = ${M?`i32(globalId.z) * ${Te}`:"0"};

    var acc : array<array<${d}, colPerThread>, rowPerThread>;
    ${Mt}
  }
`},T0=(i,l,d,f,g=!1)=>{let[_,M,Te,Se]=f,$e=qo(f[0].type.tensor);return`
    fn mm_readA(batch: i32, row: i32, colIn: i32, batchIndices: ${_.type.indices}) -> ${Qn(i,$e)} {
      var value = ${Qn(i,$e)}(0.0);
      let col = colIn * ${i};
      if(row < uniforms.dim_a_outer && col < uniforms.dim_inner)
      {
        var aIndices: ${M.type.indices};
        ${vl("aIndices",M,M.rank-2,_.rank,"batchIndices")}
        ${M.indicesSet("aIndices",M.rank-2,"u32(row)")}
        ${M.indicesSet("aIndices",M.rank-1,"u32(colIn)")}
        value = ${M.getByIndices("aIndices")};
      }
      return value;
    }

    fn mm_readB(batch: i32, row: i32, colIn: i32, batchIndices: ${_.type.indices}) -> ${Qn(i,$e)} {
      var value = ${Qn(i,$e)}(0.0);
      let col = colIn * ${i};
      if(row < uniforms.dim_inner && col < uniforms.dim_b_outer)
      {
        var bIndices: ${Te.type.indices};
        ${vl("bIndices",Te,Te.rank-2,_.rank,"batchIndices")}
        ${Te.indicesSet("bIndices",Te.rank-2,"u32(row)")}
        ${Te.indicesSet("bIndices",Te.rank-1,"u32(colIn)")}
        value = ${Te.getByIndices("bIndices")};
      }
      return value;
    }

    fn mm_write(batch: i32, row: i32, colIn: i32, valueIn: ${Qn(i,$e)}) {
      let col = colIn * ${i};
      if (row < uniforms.dim_a_outer && col < uniforms.dim_b_outer) {
        var value = valueIn;
        let coords = vec3<i32>(batch, row, colIn);
        ${l?`value = value + ${g?"bias[colIn]":`${Qn(i,$e)}(bias[row])`};`:""}
        ${d}
        ${Se.setByIndices("vec3<u32>(coords)","value")}
      }
    }
    `},Ap=(i,l,d,f,g=!1,_)=>{let M=i[0].dims,Te=i[1].dims,Se=M.slice(0,-2),$e=Te.slice(0,-2),Je=f?f.slice(0,-2):d.slice(0,-2),J=Zt.size(Je),et=M[M.length-2],dt=M[M.length-1],it=Te[Te.length-1],ct=dt%4===0&&it%4===0,Mt=et<=8?[4,1,1]:[4,4,1],kt=[8,8,1],pt=[Math.ceil(it/kt[0]/Mt[0]),Math.ceil(et/kt[1]/Mt[1]),Math.ceil(J/kt[2]/Mt[2])],Pt=ct?4:1,Lt=[...Se,et,dt/Pt],jt=Lt.length,Yt=[...$e,dt,it/Pt],Jt=Yt.length,Mr=[J,et,it/Pt],Pr=[{type:6,data:et},{type:6,data:it},{type:6,data:dt}];Cs(l,Pr),Pr.push(...Nr(Je,Lt,Yt));let Xr=["rank","rank"],Qr=i.length>2;Qr&&(Pr.push(...Nr(i[2].dims)),Xr.push("rank")),Pr.push(...Nr(Mr));let yo=Br=>{let Do=Je.length,mo=du("batchDims",i[0].dataType,Do,1),to=qo(i[0].dataType),Lo=ar("a",i[0].dataType,jt,Pt),So=ar("b",i[1].dataType,Jt,Pt),go=eo("result",i[0].dataType,Mr.length,Pt),Gn=[Lo,So];if(Qr){let Bn=g?Pt:1;Gn.push(ar("bias",i[2].dataType,i[2].dims.length,Bn))}let Er=[{name:"dim_a_outer",type:"i32"},{name:"dim_b_outer",type:"i32"},{name:"dim_inner",type:"i32"}];ks(l,Er);let Kr=qo(go.type.tensor),dn=bl(l,go.type.value,Kr),An=T0(Pt,Qr,dn,[mo,Lo,So,go],g);return`
  ${Br.registerUniforms(Er).registerInternalVariables(mo).declareVariables(...Gn,go)}
  ${An}
  ${ct?M0(Mt,kt,to,mo):gu(Mt,kt,to,mo)}
                   `};return{name:"MatMul",shaderCache:{hint:`${Mt};${l.activation};${ct};${g}`,inputDependencies:Xr},getRunData:()=>({outputs:[{dims:_?_(d):d,dataType:i[0].dataType}],dispatchGroup:{x:pt[0],y:pt[1],z:pt[2]},programUniforms:Pr}),getShaderSource:yo}}}),E0,kg,S0=p(()=>{"use strict";io(),Gt(),wo(),Ms(),w0(),Jv(),_u(),E0=(i,l,d,f,g=!1,_,M=4,Te=4,Se=4,$e="f32")=>{let Je=Pr=>{switch(Pr){case 1:return"resData = x[xIndex];";case 3:return`resData = vec3<${$e}>(x[xIndex], x[xIndex + 1], x[xIndex + 2]);`;case 4:return"resData = x[xIndex / 4];";default:throw new Error(`innerElementSize ${Pr} is not supported.`)}},J=Pr=>{switch(Pr){case 1:return"return w[row * i32(uniforms.w_shape[3]) + colIn];";case 4:return"return w[row * i32(uniforms.w_shape[3]) / 4 + colIn];";default:throw new Error(`innerElementSize ${Pr} is not supported.`)}},et=i?`
    let coord = vec4<i32>(batch, xRow, xCol, xCh);
    `:`
    let coord = vec4<i32>(batch, xCh, xRow, xCol);
    `,dt=i?`
    let coords = vec4<i32>(
      batch,
      row / outWidth,
      row % outWidth,
      col);
    `:`
    let coords = vec4<i32>(
      batch,
      row,
      col / outWidth,
      col % outWidth);
    `,it=i?"i32(uniforms.x_shape[1])":"i32(uniforms.x_shape[2])",ct=i?"i32(uniforms.x_shape[2])":"i32(uniforms.x_shape[3])",Mt=i?"row":"col",kt=i?"col":"row",pt=`
    let inChannels = i32(uniforms.w_shape[2]);
    let outWidth = ${i?"i32(uniforms.result_shape[2])":"i32(uniforms.result_shape[3])"};
    let outRow = ${Mt} / outWidth;
    let outCol = ${Mt} % outWidth;

    let WRow = ${kt} / (i32(uniforms.w_shape[1]) * inChannels);
    let WCol = ${kt} / inChannels % i32(uniforms.w_shape[1]);
    let xRow = outRow * uniforms.stride[0] + uniforms.dilation[0] * WRow - uniforms.pad[0];
    let xCol = outCol * uniforms.stride[1] + uniforms.dilation[1] * WCol - uniforms.pad[1];
    let xCh = ${kt} % inChannels;
    var resData = ${Qn(M,$e)}(0.0);
    // The bounds checking is always needed since we use it to pad zero for
    // the 'same' padding type.
    if (xRow >= 0 && xRow < ${it} && xCol >= 0 && xCol < ${ct}) {
      ${et}
      let xIndex = getIndexFromCoords4D(coord, vec4<i32>(uniforms.x_shape));
      ${Je(M)}
    }
    return resData;`,Pt=i?l&&f?`
    let col = colIn * ${M};
    ${pt}`:`
    let col = colIn * ${M};
    if (row < uniforms.dim_a_outer && col < uniforms.dim_inner) {
      ${pt}
    }
    return ${Qn(M,$e)}(0.0);`:f&&d?`
    let col = colIn * ${M};
    ${pt}`:`
    let col = colIn * ${M};
    if (row < uniforms.dim_inner && col < uniforms.dim_b_outer) {
      ${pt}
    }
    return ${Qn(M,$e)}(0.0);`,Lt=i?f&&d?J(Te):`
    let col = colIn * ${Te};
    if (row < uniforms.dim_inner && col < uniforms.dim_b_outer) {
      ${J(Te)}
    }
    return ${Qn(Te,$e)}(0.0);`:`
    let col = colIn * ${Te};
    if (row < uniforms.dim_inner && col < uniforms.dim_a_outer) {
      ${J(Te)}
    }
    return ${Qn(Te,$e)}(0.0);`,jt=Qn(Se,$e),Yt=Qn(i?M:Te,$e),Jt=Qn(i?Te:M,$e),Mr=bl(_,jt,$e);return`
    fn mm_readA(batch: i32, row : i32, colIn : i32) -> ${Yt} {
      ${i?Pt:Lt}
    }

    fn mm_readB(batch: i32, row : i32, colIn : i32) -> ${Jt} {
      ${i?Lt:Pt}
    }

    fn mm_write(batch: i32, row : i32, colIn : i32, valueIn : ${jt}) {
      let col = colIn * ${Se};
      if (row < uniforms.dim_a_outer && col < uniforms.dim_b_outer)
      {
      var value = valueIn;
      let outWidth = ${i?"i32(uniforms.result_shape[2])":"i32(uniforms.result_shape[3])"};
      ${dt}
      ${x0(g)}
      ${Mr}
      setOutputAtCoords(coords[0], coords[1], coords[2], coords[3], value);
      }
    }`},kg=(i,l,d,f,g,_,M,Te,Se)=>{let $e=l.format==="NHWC",Je=$e?i[0].dims[3]:i[0].dims[1],J=d[0],et=$e?d[2]:d[3],dt=$e?d[1]:d[2],it=$e?d[3]:d[1],ct=$e&&(Je%4===0||Je%3===0)&&it%4===0,Mt=$e?it:et*dt,kt=$e?et*dt:it,pt=[8,8,1],Pt=f<=8?[4,1,1]:[4,4,1],Lt=[Math.ceil(Mt/pt[0]/Pt[0]),Math.ceil(kt/pt[1]/Pt[1]),Math.ceil(J/pt[2]/Pt[2])];Ko("verbose",()=>`[conv2d_mm_webgpu] dispatch = ${Lt}`);let jt=ct?$e&&Je%4!==0?3:4:1,Yt=pt[1]*Pt[1],Jt=pt[0]*Pt[0],Mr=Math.max(pt[0]*jt,pt[1]),Pr=f%Yt===0,Xr=g%Jt===0,Qr=_%Mr===0,yo=ct?[jt,4,4]:[1,1,1],Br=[{type:6,data:f},{type:6,data:g},{type:6,data:_},{type:6,data:[l.pads[0],l.pads[1]]},{type:6,data:l.strides},{type:6,data:l.dilations}];Cs(l,Br),Br.push(...Nr(i[0].dims,i[1].dims));let Do=["rank","rank"];M&&(Br.push(...Nr(i[2].dims)),Do.push("rank")),Br.push(...Nr(d));let mo=to=>{let Lo=[{name:"dim_a_outer",type:"i32"},{name:"dim_b_outer",type:"i32"},{name:"dim_inner",type:"i32"},{name:"pad",type:"i32",length:2},{name:"stride",type:"i32",length:2},{name:"dilation",type:"i32",length:2}];ks(l,Lo);let So=ct?4:1,go=qo(i[0].dataType),Gn=`
      fn setOutputAtIndex(flatIndex : i32, value : ${ct?`vec4<${go}>`:go}) {
        result[flatIndex] = ${ct?`vec4<${go}>`:go}(value);
      }
      fn setOutputAtCoords(d0 : i32, d1 : i32, d2 : i32, d3 : i32, value : ${ct?`vec4<${go}>`:go}) {
        let flatIndex = getOutputIndexFromCoords(vec4<i32>(d0, d1, d2, d3));
        setOutputAtIndex(flatIndex ${ct?"/ 4":""}, value);
      }`,Er=ar("x",i[0].dataType,i[0].dims.length,jt===3?1:jt),Kr=ar("w",i[1].dataType,i[1].dims.length,So),dn=[Er,Kr],An=eo("result",i[0].dataType,d.length,So);if(M){let Bn=ar("bias",i[2].dataType,i[2].dims.length,So);dn.push(Bn),Gn+=`
        fn getBiasByOutputCoords(coords : vec4<i32>) -> ${ct?`vec4<${go}>`:go} {
          return bias[coords.${$e?"w":"y"}${ct?"/ 4":""}];
        }`}return`
        ${C0("uniforms.result_strides")}
        //struct Uniforms { xShape : vec4<i32>, wShape : vec4<i32>, outShape : vec4<i32>,
        //  outShapeStrides: vec3<i32>, filterDims : vec2<i32>, pad : vec2<i32>, stride : vec2<i32>,
        //  dilation : vec2<i32>, dimAOuter : i32, dimBOuter : i32, dimInner : i32 };
        ${to.registerUniforms(Lo).declareVariables(...dn,An)}
        ${Gn}
        ${E0($e,Pr,Xr,Qr,M,l,yo[0],yo[1],yo[2],go)}
        ${ct?M0(Pt,pt,go,void 0,!$e,Mr):gu(Pt,pt,go,void 0,!$e,Mr,!1,void 0,Te)}`};return{name:"Conv2DMatMul",shaderCache:{hint:`${l.cacheKey};${jt};${ct};${Pr};${Xr};${Qr};${Yt};${Jt};${Mr}`,inputDependencies:Do},getRunData:()=>({outputs:[{dims:Se?Se(d):d,dataType:i[0].dataType}],dispatchGroup:{x:Lt[0],y:Lt[1],z:Lt[2]},programUniforms:Br}),getShaderSource:mo}}}),P0,A0,yl,B0,I0,Mg,D0,Tg,Zv=p(()=>{"use strict";io(),Gt(),ro(),wo(),Ms(),w0(),P0=i=>{let l=1;for(let d=0;d<i.length;d++)l*=i[d];return l},A0=i=>typeof i=="number"?[i,i,i]:i,yl=(i,l)=>l<=1?i:i+(i-1)*(l-1),B0=(i,l,d,f=1)=>{let g=yl(l,f);return Math.floor((i[0]*(d-1)-d+g)/2)},I0=(i,l,d,f,g)=>{g==null&&(g=B0(i,l[0],f[0]));let _=[0,0,0,d];for(let M=0;M<3;M++)i[M]+2*g>=l[M]&&(_[M]=Math.trunc((i[M]-l[M]+2*g)/f[M]+1));return _},Mg=(i,l,d,f,g,_,M,Te,Se,$e)=>{let Je,J,et,dt;if(i==="VALID"&&(i=0),typeof i=="number"){Je={top:i,bottom:i,left:i,right:i,front:i,back:i};let it=I0([l,d,f,1],[Te,Se,$e],1,[g,_,M],i);J=it[0],et=it[1],dt=it[2]}else if(Array.isArray(i)){if(!i.every((ct,Mt,kt)=>ct===kt[0]))throw Error(`Unsupported padding parameter: ${i}`);Je={top:i[0],bottom:i[1],left:i[2],right:i[3],front:i[4],back:i[5]};let it=I0([l,d,f,1],[Te,Se,$e],1,[g,_,M],i[0]);J=it[0],et=it[1],dt=it[2]}else if(i==="SAME_UPPER"){J=Math.ceil(l/g),et=Math.ceil(d/_),dt=Math.ceil(f/M);let it=(J-1)*g+Te-l,ct=(et-1)*_+Se-d,Mt=(dt-1)*M+$e-f,kt=Math.floor(it/2),pt=it-kt,Pt=Math.floor(ct/2),Lt=ct-Pt,jt=Math.floor(Mt/2),Yt=Mt-jt;Je={top:Pt,bottom:Lt,left:jt,right:Yt,front:kt,back:pt}}else throw Error(`Unknown padding parameter: ${i}`);return{padInfo:Je,outDepth:J,outHeight:et,outWidth:dt}},D0=(i,l,d,f,g,_=!1,M="channelsLast")=>{let Te,Se,$e,Je,J;if(M==="channelsLast")[Te,Se,$e,Je,J]=i;else if(M==="channelsFirst")[Te,J,Se,$e,Je]=i;else throw new Error(`Unknown dataFormat ${M}`);let[et,,dt,it,ct]=l,[Mt,kt,pt]=A0(d),[Pt,Lt,jt]=A0(f),Yt=yl(dt,Pt),Jt=yl(it,Lt),Mr=yl(ct,jt),{padInfo:Pr,outDepth:Xr,outHeight:Qr,outWidth:yo}=Mg(g,Se,$e,Je,Mt,kt,pt,Yt,Jt,Mr),Br=_?et*J:et,Do=[0,0,0,0,0];return M==="channelsFirst"?Do=[Te,Br,Xr,Qr,yo]:M==="channelsLast"&&(Do=[Te,Xr,Qr,yo,Br]),{batchSize:Te,dataFormat:M,inDepth:Se,inHeight:$e,inWidth:Je,inChannels:J,outDepth:Xr,outHeight:Qr,outWidth:yo,outChannels:Br,padInfo:Pr,strideDepth:Mt,strideHeight:kt,strideWidth:pt,filterDepth:dt,filterHeight:it,filterWidth:ct,effectiveFilterDepth:Yt,effectiveFilterHeight:Jt,effectiveFilterWidth:Mr,dilationDepth:Pt,dilationHeight:Lt,dilationWidth:jt,inShape:i,outShape:Do,filterShape:l}},Tg=(i,l,d,f,g,_)=>{let M=_==="channelsLast",Te=M?i[0].dims[3]:i[0].dims[1],Se=!1,$e=[64,1,1],Je={x:d.map((pt,Pt)=>Pt)},J=[Math.ceil(P0(Je.x.map(pt=>d[pt]))/$e[0]),1,1];Ko("verbose",()=>`[conv3d_naive_webgpu] dispatch = ${J}`);let et=Se?M&&Te%4!==0?3:4:1,dt=Zt.size(d),it=[{type:12,data:dt},{type:12,data:f},{type:12,data:g},{type:12,data:l.strides},{type:12,data:l.dilations}];Cs(l,it),it.push(...Nr(i[0].dims,i[1].dims));let ct=["rank","rank"],Mt=i.length===3;Mt&&(it.push(...Nr(i[2].dims)),ct.push("rank")),it.push(...Nr(d));let kt=pt=>{let Pt=[{name:"output_size",type:"u32"},{name:"filter_dims",type:"u32",length:f.length},{name:"pads",type:"u32",length:g.length},{name:"strides",type:"u32",length:l.strides.length},{name:"dilations",type:"u32",length:l.dilations.length}];ks(l,Pt);let Lt=Se?4:1,jt=qo(i[0].dataType),Yt=ar("x",i[0].dataType,i[0].dims.length,et===3?1:et),Jt=ar("W",i[1].dataType,i[1].dims.length,Lt),Mr=[Yt,Jt],Pr=eo("result",i[0].dataType,d.length,Lt),Xr="";if(Mt){let Br=ar("bias",i[2].dataType,i[2].dims.length,Lt);Mr.push(Br),Xr+=`
        fn getBiasByOutputCoords(coords : array<u32, 5>) -> ${Se?`vec4<${jt}>`:jt} {
          return bias[${M?Hr("coords",4,5):Hr("coords",1,5)}${Se?"/ 4":""}];
        }`}let Qr=Qn(et,jt),yo=bl(l,Qr,jt);return`
            ${Xr}
            fn getX(d0 : u32, d1 : u32, d2 : u32, d3 : u32, d4 : u32) -> f32 {
              let aIndices = array<u32, 5>(d0, d1, d2, d3, d4);
              return ${Yt.getByIndices("aIndices")};
            }
            fn getW(d0 : u32, d1 : u32, d2 : u32, d3 : u32, d4 : u32) -> f32 {
              let aIndices = array<u32, 5>(d0, d1, d2, d3, d4);
              return ${Jt.getByIndices("aIndices")};
            }
          ${pt.registerUniforms(Pt).declareVariables(...Mr,Pr)}
          ${pt.mainStart()}
          ${pt.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
              let coords = ${Pr.offsetToIndices("global_idx")};
              let batch = ${Hr("coords",0,Yt.rank)};
              let d2 = ${M?Hr("coords",Yt.rank-1,Yt.rank):Hr("coords",1,Yt.rank)};
              let xFRCCorner = vec3<u32>(${M?Hr("coords",1,Yt.rank):Hr("coords",2,Yt.rank)},
              ${M?Hr("coords",2,Yt.rank):Hr("coords",3,Yt.rank)},
              ${M?Hr("coords",3,Yt.rank):Hr("coords",4,Yt.rank)}) * uniforms.strides - uniforms.pads;
              let xFCorner = xFRCCorner.x;
              let xRCorner = xFRCCorner.y;
              let xCCorner = xFRCCorner.z;
              let xShapeY = ${M?Hr("uniforms.x_shape",1,Yt.rank):Hr("uniforms.x_shape",2,Yt.rank)};
              let xShapeZ = ${M?Hr("uniforms.x_shape",2,Yt.rank):Hr("uniforms.x_shape",3,Yt.rank)};
              let xShapeW = ${M?Hr("uniforms.x_shape",3,Yt.rank):Hr("uniforms.x_shape",4,Yt.rank)};
              let xShapeU = ${M?Hr("uniforms.x_shape",4,Yt.rank):Hr("uniforms.x_shape",1,Yt.rank)};
              let inputDepthNearestVec4 = (xShapeU / 4) * 4;
              let inputDepthVec4Remainder = xShapeU % 4;

              var value = 0.0;
              for (var wF = 0u; wF < uniforms.filter_dims[0]; wF++) {
                let xF = xFCorner + wF * uniforms.dilations[0];
                if (xF < 0 || xF >= xShapeY) {
                  continue;
                }

                for (var wR = 0u; wR < uniforms.filter_dims[1]; wR++) {
                  let xR = xRCorner + wR * uniforms.dilations[1];
                  if (xR < 0 || xR >= xShapeZ) {
                    continue;
                  }

                  for (var wC = 0u; wC < uniforms.filter_dims[2]; wC++) {
                    let xC = xCCorner + wC * uniforms.dilations[2];
                    if (xC < 0 || xC >= xShapeW) {
                      continue;
                    }

                    for (var d1 = 0u; d1 < inputDepthNearestVec4; d1 += 4) {
                      ${M?`let xValues = vec4<f32>(
                               getX(batch, xF, xR, xC, d1),
                               getX(batch, xF, xR, xC, d1 + 1),
                               getX(batch, xF, xR, xC, d1 + 2),
                               getX(batch, xF, xR, xC, d1 + 3));
                            `:`let xValues = vec4<f32>(
                               getX(batch, d1, xF, xR, xC),
                               getX(batch, d1 + 1, xF, xR, xC),
                               getX(batch, d1 + 2, xF, xR, xC),
                               getX(batch, d1 + 3, xF, xR, xC));
                            `}
                            let wValues = vec4<f32>(
                              getW(d2, d1, wF, wR, wC),
                              getW(d2, d1 + 1, wF, wR, wC),
                              getW(d2, d1 + 2, wF, wR, wC),
                              getW(d2, d1 + 3, wF, wR, wC));
                      value += dot(xValues, wValues);
                    }
                    if (inputDepthVec4Remainder == 1) {
                        ${M?`value += getX(batch, xF, xR, xC, inputDepthNearestVec4)
                          * getW(d2, inputDepthNearestVec4, wF, wR, wC);`:`value += getX(batch, inputDepthNearestVec4, xF, xR, xC)
                          * getW(d2, inputDepthNearestVec4, wF, wR, wC);`}
                    } else if (inputDepthVec4Remainder == 2) {
                      ${M?`let xValues = vec2<f32>(
                        getX(batch, xF, xR, xC, inputDepthNearestVec4),
                        getX(batch, xF, xR, xC, inputDepthNearestVec4 + 1));
                      `:`let xValues = vec2<f32>(
                        getX(batch, inputDepthNearestVec4, xF, xR, xC),
                        getX(batch, inputDepthNearestVec4 + 1, xF, xR, xC));
                    `}
                    let wValues = vec2<f32>(
                      getW(d2, inputDepthNearestVec4, wF, wR, wC),
                      getW(d2, inputDepthNearestVec4 + 1, wF, wR, wC));
                      value += dot(xValues, wValues);
                    } else if (inputDepthVec4Remainder == 3) {
                      ${M?`let xValues = vec3<f32>(
                        getX(batch, xF, xR, xC, inputDepthNearestVec4),
                        getX(batch, xF, xR, xC, inputDepthNearestVec4 + 1),
                        getX(batch, xF, xR, xC, inputDepthNearestVec4 + 2));
                      `:`let xValues = vec3<f32>(
                        getX(batch, inputDepthNearestVec4, xF, xR, xC),
                        getX(batch, inputDepthNearestVec4 + 1, xF, xR, xC),
                        getX(batch, inputDepthNearestVec4 + 2, xF, xR, xC));
                    `}
                    let wValues = vec3<f32>(
                      getW(d2, inputDepthNearestVec4, wF, wR, wC),
                      getW(d2, inputDepthNearestVec4 + 1, wF, wR, wC),
                      getW(d2, inputDepthNearestVec4 + 2, wF, wR, wC));
                      value += dot(xValues, wValues);
                    }
                  }
                }
              }
              ${Mt?"value = value + getBiasByOutputCoords(coords)":""};
              ${yo}
              result[global_idx] = f32(value);
          }`};return{name:"Conv3DNaive",shaderCache:{hint:`${l.cacheKey};${M};${et};${Mt}`,inputDependencies:ct},getRunData:()=>({outputs:[{dims:d,dataType:i[0].dataType}],dispatchGroup:{x:J[0],y:J[1],z:J[2]},programUniforms:it}),getShaderSource:kt}}}),Eg,Sg,F0=p(()=>{"use strict";io(),ro(),wo(),Ms(),Eg=(i,l,d,f)=>{let g=i.length>2,_=g?"value += b[output_channel];":"",M=i[0].dims,Te=i[1].dims,Se=l.format==="NHWC",$e=Se?d[3]:d[1],Je=$e/l.group,J=Se&&Je>=4?xo($e):1,et=Zt.size(d)/J,dt=[{type:12,data:et},{type:12,data:l.dilations},{type:12,data:[l.strides[0],l.strides[1]]},{type:12,data:[l.pads[0],l.pads[1]]},{type:12,data:Je}];Cs(l,dt),dt.push(...Nr(M,[Te[0],Te[1],Te[2],Te[3]/J]));let it=g?["rank","rank","rank"]:["rank","rank"];dt.push(...Nr([d[0],d[1],d[2],d[3]/J]));let ct=Mt=>{let kt=eo("output",i[0].dataType,d.length,J),pt=qo(kt.type.tensor),Pt=bl(l,kt.type.value,pt),Lt=ar("x",i[0].dataType,M.length),jt=ar("w",i[1].dataType,Te.length,J),Yt=[Lt,jt];g&&Yt.push(ar("b",i[2].dataType,i[2].dims,J));let Jt=[{name:"output_size",type:"u32"},{name:"dilations",type:"u32",length:l.dilations.length},{name:"strides",type:"u32",length:2},{name:"pads",type:"u32",length:2},{name:"output_channels_per_group",type:"u32"}];ks(l,Jt);let Mr=Se?`
      for (var wHeight: u32 = 0u; wHeight < uniforms.w_shape[0]; wHeight++) {
        let xHeight = xRCCorner.x + wHeight * uniforms.dilations[0];

        if (xHeight < 0u || xHeight >= uniforms.x_shape[1]) {
          continue;
        }

        for (var wWidth: u32 = 0u; wWidth < uniforms.w_shape[1]; wWidth++) {
          let xWidth = xRCCorner.y + wWidth * uniforms.dilations[1];
          if (xWidth < 0u || xWidth >= uniforms.x_shape[2]) {
            continue;
          }

          for (var wInChannel: u32 = 0u; wInChannel < uniforms.w_shape[2]; wInChannel++) {
            let input_channel = in_channel_offset + wInChannel;
            let xVal = ${Lt.get("batch","xHeight","xWidth","input_channel")};
            let wVal = ${jt.get("wHeight","wWidth","wInChannel","output_channel")};
            value += xVal * wVal;
          }
        }
      }
      `:`
      for (var wInChannel: u32 = 0u; wInChannel < uniforms.w_shape[1]; wInChannel++) {
        let input_channel = in_channel_offset + wInChannel;
        for (var wHeight: u32 = 0u; wHeight < uniforms.w_shape[2]; wHeight++) {
          let xHeight = xRCCorner.x + wHeight * uniforms.dilations[0];

          if (xHeight < 0u || xHeight >= uniforms.x_shape[2]) {
            continue;
          }

          for (var wWidth: u32 = 0u; wWidth < uniforms.w_shape[3]; wWidth++) {
            let xWidth = xRCCorner.y + wWidth * uniforms.dilations[1];
            if (xWidth < 0u || xWidth >= uniforms.x_shape[3]) {
              continue;
            }

            let xVal = ${Lt.get("batch","input_channel","xHeight","xWidth")};
            let wVal = ${jt.get("output_channel","wInChannel","wHeight","wWidth")};
            value += xVal * wVal;
          }
        }
      }
      `;return`
  ${Mt.registerUniforms(Jt).declareVariables(...Yt,kt)}

  ${Mt.mainStart()}
    ${Mt.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}

    let outputIndices = ${kt.offsetToIndices("global_idx")};
    let batch: u32 = outputIndices[0];
    let output_channel: u32 = outputIndices[${Se?3:1}];
    let xRCCorner: vec2<u32> = vec2<u32>(outputIndices[${Se?1:2}], outputIndices[${Se?2:3}]) * uniforms.strides - uniforms.pads;
    let group_id: u32 = output_channel * ${J} / uniforms.output_channels_per_group;
    var in_channel_offset = group_id * uniforms.w_shape[${Se?2:1}];

    var value: ${kt.type.value} = ${kt.type.value}(0);
    ${Mr}
    ${_}
    ${Pt}
    ${kt.setByOffset("global_idx","value")}
  }`};return{name:"GroupedConv",shaderCache:{hint:`${l.cacheKey}_${J}`,inputDependencies:it},getRunData:()=>({outputs:[{dims:f?f(d):d,dataType:i[0].dataType}],dispatchGroup:{x:Math.ceil(et/64)},programUniforms:dt}),getShaderSource:ct}},Sg=(i,l,d,f)=>{let g=i.length>2,_=xo(d[3]),M=xo(d[2]),Te=Zt.size(d)/_/M,Se=[i[0].dims[0],i[0].dims[1],i[0].dims[2],i[0].dims[3]/_],$e=[i[1].dims[0],i[1].dims[1],i[1].dims[2],i[1].dims[3]/_],Je=[d[0],d[1],d[2],d[3]/_],J=[{type:12,data:Te},{type:6,data:[l.strides[0],l.strides[1]]},{type:6,data:[l.pads[0],l.pads[1]]}];Cs(l,J),J.push(...Nr(Se,$e,Je));let et=(M-1)*l.strides[1]+$e[1],dt=it=>{let ct=eo("output",i[0].dataType,Je.length,_),Mt=qo(ct.type.tensor),kt=bl(l,ct.type.value,Mt),pt=ar("x",i[0].dataType,Se.length,_),Pt=ar("w",i[1].dataType,$e.length,_),Lt=[pt,Pt];g&&Lt.push(ar("b",i[2].dataType,i[2].dims,_));let jt=g?"value += b[output_channel];":"",Yt=[{name:"output_size",type:"u32"},{name:"strides",type:"i32",length:2},{name:"pads",type:"i32",length:2}];return ks(l,Yt),`
  ${it.registerUniforms(Yt).declareVariables(...Lt,ct)}
  ${it.mainStart()}
    ${it.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
    let width0 = uniforms.output_shape[3];
    let output_channel = global_idx % width0;
    var index1 = global_idx / width0;
    let width1 = uniforms.output_shape[2] / ${M}u;
    let col = (index1 % width1) * ${M}u;
    index1 = index1 / width1;
    let row = index1 % uniforms.output_shape[1];
    let batch = index1 / uniforms.output_shape[1];

    let x_corner = vec2<i32>(i32(row), i32(col)) * uniforms.strides - uniforms.pads;

    var x_vals: array<${pt.type.value}, ${et}>;
    var values: array<${ct.type.value}, ${M}>;
    let input_channel = output_channel;
    // Use constant instead of uniform can give better performance for w's height/width.
    for (var w_height: u32 = 0u; w_height < ${$e[0]}; w_height++) {
      let x_height = x_corner.x + i32(w_height);
      if (x_height >= 0 && u32(x_height) < uniforms.x_shape[1]) {
        for (var i = 0; i < ${et}; i++) {
          let x_width = x_corner.y + i;
          if (x_width >= 0 && u32(x_width) < uniforms.x_shape[2]) {
            x_vals[i] = ${pt.get("batch","u32(x_height)","u32(x_width)","input_channel")};
          } else {
            x_vals[i] = ${pt.type.value}(0);
          }
        }
        for (var w_width: u32 = 0u; w_width < ${$e[1]}; w_width++) {
          let w_val = ${Pt.get("w_height","w_width","0","output_channel")};
          for (var i = 0u; i < ${M}u; i++) {
            values[i] = fma(x_vals[i * u32(uniforms.strides[1]) + w_width], w_val, values[i]);
          }
        }
      }
    }

    for (var i = 0u; i < ${M}u; i++) {
      var value = values[i];
      ${jt}
      ${kt}
      ${ct.set("batch","row","col + i","output_channel","value")};
    }
  }`};return{name:"GroupedConv-Vectorize",shaderCache:{hint:`${l.cacheKey};${_};${M};${et};${$e[0]};${$e[1]}`,inputDependencies:g?["rank","rank","type"]:["rank","rank"]},getRunData:()=>({outputs:[{dims:f?f(d):d,dataType:i[0].dataType}],dispatchGroup:{x:Math.ceil(Te/64)},programUniforms:J}),getShaderSource:dt}}}),Pg,Bp,Ag,Ip,R0,Dp,Bg,Ig,Fp,e1=p(()=>{"use strict";ro(),S0(),Zv(),_u(),F0(),Ms(),Ep(),Xs(),Pg=(i,l,d,f,g,_)=>{let M=i[0],Te=i.slice(_?1:2,_?3:4),Se=Te.length,$e=l[0],Je=l.slice(2).map((et,dt)=>et+(et-1)*(d[dt]-1)),J=Te.map((et,dt)=>et+f[dt]+f[dt+Se]).map((et,dt)=>Math.floor((et-Je[dt]+g[dt])/g[dt]));return J.splice(0,0,M),J.splice(_?3:1,0,$e),J},Bp=[2,3,1,0],Ag=(i,l)=>{if(!i||i.length!==2&&i.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(i[0].dims.length>5)throw new Error("greater than 5D is not supported");if(i[0].dims.length!==i[1].dims.length)throw new Error("filter does not have same dimension as input");let d=i[0].dims[l.format==="NHWC"?i[0].dims.length-1:1],f=i[1].dims[1]*l.group;if(d!==f)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(i.length===3&&(i[2].dims.length!==1||i[1].dims[0]!==i[2].dims[0]))throw new Error("invalid bias");let g=i[0].dims.length-2;if(l.dilations.length!==g)throw new Error(`dilations should be ${g}D`);if(l.strides.length!==g)throw new Error(`strides should be ${g}D`);if(l.pads.length!==g*2)throw new Error(`pads should be ${g*2}D`);if(l.kernelShape.length!==0&&l.kernelShape.length!==i[1].dims.length-2)throw new Error("invalid kernel shape")},Ip=(i,l)=>{let d=i.kernelShape.slice();d.length<l[1].dims.length-2&&d.push(...Array(l[1].dims.length-2-d.length).fill(0));for(let _=2;_<l[1].dims.length;++_)d[_-2]===0&&(d[_-2]=l[1].dims[_]);let f=i.pads.slice();ti.adjustPadsBasedOnAutoPad(l[0].dims,i.strides,i.dilations,d,f,i.format==="NHWC",i.autoPad);let g=Object.assign({},i);return Object.assign(g,{kernelShape:d,pads:f}),g},R0=i=>{let l=y0(i),d=i.format,f=["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][i.auto_pad],g=i.dilations,_=i.group,M=i.kernel_shape,Te=i.pads,Se=i.strides,$e=i.w_is_const();return Gr(Vt({autoPad:f,format:d,dilations:g,group:_,kernelShape:M,pads:Te,strides:Se,wIsConst:$e},l),{cacheKey:`${i.format};${l.activation};`})},Dp=(i,l,d,f)=>{let g=d.format==="NHWC",_=Pg(l[0].dims,l[1].dims,d.dilations,d.pads,d.strides,g);if(d.group!==1){let Yt=[l[0]];if(g){let Jt=i.kernelCustomData.wT??i.compute(Ki(l[1],Bp),{inputs:[1],outputs:[d.wIsConst?-2:-1]})[0];d.wIsConst&&!i.kernelCustomData.wT&&(i.kernelCustomData.wT=Jt),Yt.push(Jt)}else Yt.push(l[1]);l.length===3&&Yt.push(l[2]),!i.adapterInfo.isArchitecture("ampere")&&g&&l[1].dims[0]===d.group&&l[1].dims[1]===1&&d.dilations[0]===1&&d.dilations[1]===1?i.compute(Sg(Yt,d,_,f),{inputs:Yt}):i.compute(Eg(Yt,d,_,f),{inputs:Yt});return}let M=l.length===3,Te=l[0].dims[g?1:2],Se=l[0].dims[g?2:3],$e=l[0].dims[g?3:1],Je=l[1].dims[2],J=l[1].dims[3],et=_[g?1:2],dt=_[g?2:3],it=_[g?3:1],ct=g&&Je===Te&&J===Se&&d.pads[0]===0&&d.pads[1]===0;if(ct||Je===1&&J===1&&d.dilations[0]===1&&d.dilations[1]===1&&d.strides[0]===1&&d.strides[1]===1&&d.pads[0]===0&&d.pads[1]===0){let Yt=_[0],Jt,Mr,Pr,Xr=[];if(g){let Br=i.kernelCustomData.wT??i.compute(Ki(l[1],Bp),{inputs:[1],outputs:[d.wIsConst?-2:-1]})[0];if(d.wIsConst&&!i.kernelCustomData.wT&&(i.kernelCustomData.wT=Br),ct){let Do=Te*Se*$e;Jt=l[0].reshape([1,Yt,Do]),Mr=Br.reshape([1,Do,it]),Pr=[1,Yt,it]}else Jt=l[0].reshape([Yt,Te*Se,$e]),Mr=Br.reshape([1,$e,it]),Pr=[Yt,et*dt,it];Xr.push(Jt),Xr.push(Mr)}else Jt=l[0].reshape([Yt,$e,Te*Se]),Mr=l[1].reshape([1,it,$e]),Pr=[Yt,it,et*dt],Xr.push(Mr),Xr.push(Jt);M&&Xr.push(l[2]);let Qr=Pr[2],yo=Xr[0].dims[Xr[0].dims.length-1];Qr<8&&yo<8?i.compute(k0(Xr,d,_,Pr,g,f),{inputs:Xr}):i.compute(Ap(Xr,d,_,Pr,g,f),{inputs:Xr});return}let Mt=!0,kt=i.kernelCustomData.wT??i.compute(Ki(l[1],Bp),{inputs:[1],outputs:[d.wIsConst?-2:-1]})[0];d.wIsConst&&!i.kernelCustomData.wT&&(i.kernelCustomData.wT=kt);let pt=[l[0],kt];M&&pt.push(l[2]);let Pt=g?et*dt:it,Lt=g?it:et*dt,jt=Je*J*$e;i.compute(kg(pt,d,_,Pt,Lt,jt,M,Mt,f),{inputs:pt})},Bg=(i,l)=>{let d=l.format==="NHWC",f=[i.inputs[0].reshape(d?[i.inputs[0].dims[0],1,i.inputs[0].dims[1],i.inputs[0].dims[2]]:[i.inputs[0].dims[0],i.inputs[0].dims[1],1,i.inputs[0].dims[2]]),i.inputs[1].reshape([i.inputs[1].dims[0],i.inputs[1].dims[1],1,i.inputs[1].dims[2]])];i.inputs.length===3&&f.push(i.inputs[2]);let g=[0,l.pads[0],0,l.pads[1]],_=[1].concat(l.strides),M=[1].concat(l.dilations),Te=[1].concat(l.kernelShape),Se=Ip(Gr(Vt({},l),{pads:g,strides:_,dilations:M,kernelShape:Te}),f);Dp(i,f,Se,$e=>d?[$e[0],$e[2],$e[3]]:[$e[0],$e[1],$e[3]])},Ig=(i,l,d)=>{let f=d.format==="NHWC"?"channelsLast":"channelsFirst",g=Ip(d,l),_=d.autoPad==="NOTSET"?d.pads:d.autoPad,M=D0(l[0].dims,l[1].dims,d.strides,d.dilations,_,!1,f);i.compute(Tg(l,g,M.outShape,[M.filterDepth,M.filterHeight,M.filterWidth],[M.padInfo.front,M.padInfo.top,M.padInfo.left],f))},Fp=(i,l)=>{if(Ag(i.inputs,l),i.inputs[0].dims.length===3)Bg(i,l);else if(i.inputs[0].dims.length===5)Ig(i,i.inputs,l);else{let d=Ip(l,i.inputs);Dp(i,i.inputs,d)}}}),Dg,t1=p(()=>{"use strict";io(),Gt(),ro(),wo(),Dg=(i,l,d)=>{let f=i.length>2,g=l.outputShape,_=l.format==="NHWC",M=l.group,Te=i[1].dims,Se=Te[2]/M,$e=Te[3],Je=_?xo(Se):1,J=_?xo($e):1,et=_?$e===1?Je:J:1,dt=Zt.size(g)/J,it=[Math.ceil(dt/64),1,1];Ko("verbose",()=>`[conv2d_backprop_webgpu] dispatch = ${it}`);let ct=["rank","rank"],Mt=[l.strides[0],l.strides[1]],kt=[l.kernelShape[_?1:2],l.kernelShape[_?2:3]],pt=[l.dilations[0],l.dilations[1]],Pt=[kt[0]+(l.dilations[0]<=1?0:(l.kernelShape[_?1:2]-1)*(l.dilations[0]-1)),kt[1]+(l.dilations[1]<=1?0:(l.kernelShape[_?2:3]-1)*(l.dilations[1]-1))],Lt=[Pt[0]-1-Math.floor((l.pads[0]+l.pads[2])/2),Pt[1]-1-Math.floor((l.pads[1]+l.pads[3])/2)],jt=[{type:12,data:dt},{type:12,data:Mt},{type:12,data:kt},{type:12,data:pt},{type:12,data:Pt},{type:6,data:Lt},{type:12,data:Se},{type:12,data:$e},...Nr(i[0].dims,i[1].dims)];f&&(jt.push(...Nr(i[2].dims)),ct.push("rank")),jt.push(...Nr(g));let Yt=Jt=>{let Mr=[{name:"output_size",type:"u32"},{name:"strides",type:"u32",length:Mt.length},{name:"filter_dims",type:"u32",length:kt.length},{name:"dilations",type:"u32",length:kt.length},{name:"effective_filter_dims",type:"u32",length:Pt.length},{name:"pads",type:"i32",length:Lt.length},{name:"input_channels_per_group",type:"u32"},{name:"output_channels_per_group",type:"u32"}],Pr=qo(i[0].dataType),Xr=_?1:2,Qr=_?2:3,yo=_?3:1,Br=ar("W",i[1].dataType,i[1].dims.length,et),Do=ar("Dy",i[0].dataType,i[0].dims.length,Je),mo=[Do,Br];f&&mo.push(ar("bias",i[2].dataType,[g[yo]].length,J));let to=eo("result",i[0].dataType,g.length,J),Lo=()=>{let go="";if(Je===1)go+=`
        let w_offset = ${Br.indicesToOffset(`${Br.type.indices}(u32(wRPerm), u32(wCPerm), inputChannel, wOutChannel)`)};
        let wValue = ${Br.getByOffset(`w_offset / ${et}`)};
        dotProd = dotProd + xValue * wValue;`;else if($e===1)go+=`
          let wValue = ${Br.getByOffset(`${Br.indicesToOffset(`${Br.type.indices}(u32(wRPerm), u32(wCPerm), inputChannel, wOutChannel)`)} / ${et}`)};
          dotProd = dotProd + dot(xValue, wValue);`;else for(let Gn=0;Gn<Je;Gn++)go+=`
            let wValue${Gn} = ${Br.getByOffset(`${Br.indicesToOffset(`${Br.type.indices}(u32(wRPerm), u32(wCPerm), inputChannel + ${Gn}, wOutChannel)`)} / ${et}`)};
            dotProd = dotProd + xValue[${Gn}] * wValue${Gn};`;return go},So=`
            let outputIndices = ${to.offsetToIndices(`global_idx * ${J}`)};
            let batch = ${to.indicesGet("outputIndices",0)};
            let d1 = ${to.indicesGet("outputIndices",yo)};
            let r = ${to.indicesGet("outputIndices",Xr)};
            let c = ${to.indicesGet("outputIndices",Qr)};
            let dyCorner = vec2<i32>(i32(r), i32(c)) - uniforms.pads;
            let dyRCorner = dyCorner.x;
            let dyCCorner = dyCorner.y;
            let groupId = d1 / uniforms.output_channels_per_group;
            let wOutChannel = d1 - groupId * uniforms.output_channels_per_group;
            // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
            // ? = to be determined. : = across all values in that axis.
            var dotProd = ${to.type.value}(0.0);
            var wR: u32 = 0;
            if (uniforms.dilations.x == 1) {
              // Minimum wR >= 0 that satisfies (dyRCorner + wR) % (uniforms.strides.x) == 0
              wR = u32(((dyRCorner + i32(uniforms.strides.x) - 1) / i32(uniforms.strides.x)) * i32(uniforms.strides.x) - dyRCorner);
            }
            for (; wR < uniforms.effective_filter_dims.x; wR = wR + 1) {
              if (wR % uniforms.dilations.x != 0) {
                continue;
              }
              let dyR = (${Pr}(dyRCorner) + ${Pr}(wR)) / ${Pr}(uniforms.strides[0]);
              let wRPerm = uniforms.filter_dims.x - 1 - wR / uniforms.dilations.x;
              if (dyR < 0.0 || dyR >= ${Pr}(uniforms.Dy_shape[${Xr}]) || fract(dyR) > 0.0 ||
                  wRPerm < 0) {
                continue;
              }
              let idyR: u32 = u32(dyR);
              var wC: u32 = 0;
              if (uniforms.dilations.y == 1) {
                // Minimum wC >= 0 that satisfies (dyCCorner + wC) % (uniforms.strides.y) == 0
                wC = u32(((dyCCorner + i32(uniforms.strides.y) - 1) / i32(uniforms.strides.y)) * i32(uniforms.strides.y) - dyCCorner);
              }

              for (; wC < uniforms.effective_filter_dims.y; wC = wC + 1) {
                if (wC % uniforms.dilations.y != 0) {
                  continue;
                }
                let dyC = (${Pr}(dyCCorner) + ${Pr}(wC)) / ${Pr}(uniforms.strides.y);
                let wCPerm = uniforms.filter_dims.y - 1 - wC / uniforms.dilations.y;
                if (dyC < 0.0 || dyC >= ${Pr}(uniforms.Dy_shape[${Qr}]) ||
                    fract(dyC) > 0.0 || wCPerm < 0) {
                  continue;
                }
                let idyC: u32 = u32(dyC);
                var inputChannel = groupId * uniforms.input_channels_per_group;
                for (var d2: u32 = 0; d2 < uniforms.input_channels_per_group; d2 = d2 + ${Je}) {
                  let xValue = ${_?Do.getByOffset(`${Do.indicesToOffset(`${Do.type.indices}(batch, idyR, idyC, inputChannel)`)} / ${Je}`):Do.get("batch","inputChannel","idyR","idyC")};
                  ${Lo()}
                  inputChannel = inputChannel + ${Je};
                }
                wC = wC + uniforms.strides.y - 1;
              }
              wR = wR + uniforms.strides[0] - 1;
            }
            let value = dotProd${f?` + bias[d1 / ${J}]`:""};
            ${to.setByOffset("global_idx","value")};
          `;return`
    ${Jt.registerUniforms(Mr).declareVariables(...mo,to)}
      ${Jt.mainStart()}
      ${Jt.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")};
    ${So}}`};return{name:"ConvTranspose2D",shaderCache:{hint:`${l.cacheKey};${Je}${et}${J}${$e===1}`,inputDependencies:ct},getRunData:()=>({dispatchGroup:{x:it[0],y:it[1],z:it[2]},outputs:[{dims:d?d(g):g,dataType:i[0].dataType}],programUniforms:jt}),getShaderSource:Yt}}}),Fg,O0,Rg,bu,$0,Og,vu,L0,$g,N0=p(()=>{"use strict";t1(),Ms(),Xs(),Fg=(i,l,d,f,g,_)=>(i-1)*l+d+(f-1)*g+1-_,O0=(i,l,d,f,g)=>{let _=Math.floor(i/2);l==="SAME_UPPER"?(d[f]=_,d[g]=i-_):l==="SAME_LOWER"&&(d[f]=i-_,d[g]=_)},Rg=(i,l,d,f,g,_,M,Te,Se,$e)=>{let Je=i.length-2,J=$e.length===0;Se.length<Je&&Se.push(...Array(Je-Se.length).fill(0));let et=i[0],dt=l[Te?3:1]*g;for(let it=0,ct=i.length-Je-(Te?1:0);it<Je;++it,++ct){let Mt=i[ct],kt=J?Mt*M[it]:$e[it],pt=Fg(Mt,M[it],_[it],l[ct],d[it],kt);O0(pt,f,_,it,it+Je),J&&$e.push(M[it]*(Mt-1)+Se[it]+(l[ct]-1)*d[it]+1-_[it]-_[it+Je])}$e.splice(0,0,et),$e.splice(Te?3:1,0,dt)},bu=(i,l)=>{let d=i.kernelShape.slice();if(i.kernelShape.length===0||i.kernelShape.reduce((J,et)=>J*et,1)===0){d.length=0;for(let J=2;J<l[1].dims.length;++J)d.push(l[1].dims[J])}let f=i.format==="NHWC";d.splice(0,0,l[1].dims[0]),d.splice(f?3:1,0,l[1].dims[1]);let g=i.pads.slice(),_=i.outputShape.slice(),M=i.outputPadding.slice(),Te=l[0].dims,Se=i.dilations.slice();if(Se.reduce((J,et)=>J+et,0)===0){let J=l[0].dims.length-2;Se=new Array(J).fill(1)}let $e=i.strides.slice();if($e.reduce((J,et)=>J+et,0)===0){let J=l[0].dims.length-2;$e=new Array(J).fill(1)}Rg(Te,d,Se,i.autoPad,i.group,g,$e,f,M,_);let Je=Object.assign({},i);return Object.assign(Je,{kernelShape:d,pads:g,outputPadding:M,outputShape:_,dilations:Se,strides:$e}),Je},$0=i=>{let l=y0(i),d=i.format,f=["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][typeof i.autoPad>"u"?0:i.autoPad],g=i.dilations,_=i.group,M=i.kernelShape,Te=i.pads,Se=i.strides,$e=i.wIsConst(),Je=i.outputPadding,J=i.outputShape;return Gr(Vt({autoPad:f,format:d,dilations:g,group:_,kernelShape:M,outputPadding:Je,outputShape:J,pads:Te,strides:Se,wIsConst:$e},l),{cacheKey:`${i.format};${l.activation};`})},Og=(i,l)=>{if(!i||i.length!==2&&i.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(i[0].dims.length!==4&&i[0].dims.length!==3)throw new Error("currently only support 2-dimensional conv");if(i[0].dims.length!==i[1].dims.length)throw new Error("filter does not have same dimension as input");let d=i[0].dims[l.format==="NHWC"?i[0].dims.length-1:1],f=i[1].dims[0];if(d!==f)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");let g=i[1].dims[1]*l.group;if(i.length===3&&(i[2].dims.length!==1||i[2].dims[0]!==g))throw new Error("invalid bias");let _=i[0].dims.length-2;if(l.dilations.reduce((M,Te)=>M+Te,0)>0&&l.dilations.length!==_)throw new Error(`dilations should be ${_}D`);if(l.strides.reduce((M,Te)=>M+Te,0)>0&&l.strides.length!==_)throw new Error(`strides should be ${_}D`);if(l.pads.reduce((M,Te)=>M+Te,0)>0&&l.pads.length!==_*2)throw new Error(`pads should be ${_*2}D`);if(l.outputPadding.length!==_&&l.outputPadding.length!==0)throw new Error(`output_padding should be ${_}D`);if(l.kernelShape.reduce((M,Te)=>M+Te,0)>0&&l.kernelShape.length!==0&&l.kernelShape.length!==i[1].dims.length-2)throw new Error("invalid kernel shape");if(l.outputShape.length!==0&&l.outputShape.length!==i[0].dims.length-2)throw new Error("invalid output shape")},vu=(i,l,d,f)=>{let g=i.kernelCustomData.wT??i.compute(Ki(l[1],[2,3,0,1]),{inputs:[1],outputs:[d.wIsConst?-2:-1]})[0];d.wIsConst&&!i.kernelCustomData.wT&&(i.kernelCustomData.wT=g);let _=[l[0],g];l.length===3&&_.push(l[2]),i.compute(Dg(_,d,f),{inputs:_})},L0=(i,l)=>{let d=l.format==="NHWC",f=[i.inputs[0].reshape(d?[i.inputs[0].dims[0],1,i.inputs[0].dims[1],i.inputs[0].dims[2]]:[i.inputs[0].dims[0],i.inputs[0].dims[1],1,i.inputs[0].dims[2]]),i.inputs[1].reshape([i.inputs[1].dims[0],i.inputs[1].dims[1],1,i.inputs[1].dims[2]])];i.inputs.length===3&&f.push(i.inputs[2]);let g=l.kernelShape;(g.length===0||g[0]===0)&&(g=[i.inputs[1].dims[2]]);let _=l.dilations;(_.length===0||_[0]===0)&&(_=[1]);let M=l.strides;(M.length===0||M[0]===0)&&(M=[1]);let Te=l.pads;Te.length===0&&(Te=[0,0]),Te=[0,Te[0],0,Te[1]],M=[1].concat(M),_=[1].concat(_),g=[1].concat(g);let Se=l.outputPadding;Se=[0].concat(Se);let $e=bu(Gr(Vt({},l),{pads:Te,strides:M,dilations:_,kernelShape:g,outputPadding:Se}),f);vu(i,f,$e,Je=>d?[Je[0],Je[2],Je[3]]:[Je[0],Je[1],Je[3]])},$g=(i,l)=>{if(Og(i.inputs,l),i.inputs[0].dims.length===3)L0(i,l);else{let d=bu(l,i.inputs);vu(i,i.inputs,d)}}}),z0,Lg,Rp,r1=p(()=>{"use strict";io(),ro(),Ro(),wo(),z0=(i,l,d,f)=>{let g=Zt.size(l),_=l.length,M=ar("input",i,_),Te=eo("output",i,_),Se=d.dataType===6?d.getInt32Array()[0]:Number(d.getBigInt64Array()[0]),$e=Zt.normalizeAxis(Se,_),Je=J=>{let et=` i32(${M.indicesGet("inputIndices","uniforms.axis")}) `,dt=Hr("uniforms.input_shape","uniforms.axis",_),it=f.reverse?et+(f.exclusive?" + 1":""):"0",ct=f.reverse?dt:et+(f.exclusive?"":" + 1");return`
                ${J.registerUniform("outputSize","u32").registerUniform("axis","u32").declareVariables(M,Te)}
                ${J.mainStart()}
                  ${J.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
                  var inputIndices = ${Te.offsetToIndices("global_idx")};
                  var sum = ${Te.type.value}(0);
                  let first : i32 = ${it};
                  let last : i32 = ${ct};
                  for (var i : i32 = first; i < last; i++) {
                    ${M.indicesSet("inputIndices","uniforms.axis","u32(i)")};
                    sum = sum + ${M.getByIndices("inputIndices")};
                  }
                  ${Te.setByOffset("global_idx","sum")};
                }`};return{name:"CumSum",shaderCache:{hint:f.cacheKey,inputDependencies:["rank"]},getRunData:()=>({outputs:[{dims:l,dataType:i}],dispatchGroup:{x:Math.ceil(g/64)},programUniforms:[{type:12,data:g},{type:12,data:$e},...Nr(l,l)]}),getShaderSource:Je}},Lg=(i,l)=>{let d=i.inputs[0].dims,f=i.inputs[0].dataType,g=i.inputs[1];i.compute(z0(f,d,g,l),{inputs:[0]})},Rp=i=>{let l=i.exclusive===1,d=i.reverse===1;return fo({exclusive:l,reverse:d})}}),Ng,j0,zg,Op,jg,o1=p(()=>{"use strict";io(),ro(),Ro(),wo(),Ng=i=>{if(!i||i.length!==1)throw new Error("DepthToSpace requires 1 input.");if(i[0].dims.length!==4)throw new Error("DepthToSpace requires 4D input.")},j0=(i,l,d,f)=>{let g=[];g.push(`fn perm(i: ${f.type.indices}) -> ${d.type.indices} {
    var a: ${d.type.indices};`);for(let _=0;_<l;++_)g.push(d.indicesSet("a",i[_],`i[${_}]`));return g.push("return a;}"),g.join(`
`)},zg=(i,l)=>{let d,f,g,_,M,Te,Se=l.format==="NHWC",$e=l.blocksize,Je=l.mode==="DCR";Se?([d,f,g,_]=i.dims,M=Je?[d,f,g,$e,$e,_/$e**2]:[d,f,g,_/$e**2,$e,$e],Te=Je?[0,1,3,2,4,5]:[0,1,4,2,5,3]):([d,f,g,_]=[i.dims[0],i.dims[2],i.dims[3],i.dims[1]],M=Je?[d,$e,$e,_/$e**2,f,g]:[d,_/$e**2,$e,$e,f,g],Te=Je?[0,3,4,1,5,2]:[0,1,4,2,5,3]);let J=i.reshape(M),et=J.dims.length,dt=i.dataType,it=ar("a",dt,et),ct=eo("output",dt,et),Mt=kt=>`
  ${kt.registerUniform("output_size","u32").declareVariables(it,ct)}

  ${j0(Te,et,it,ct)}

  ${kt.mainStart()}
    ${kt.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}

    let indices = ${ct.offsetToIndices("global_idx")};
    let aIndices = perm(indices);

    ${ct.setByOffset("global_idx",it.getByIndices("aIndices"))}
  }`;return{name:"DepthToSpace",shaderCache:{hint:`${i.dims};${l.blocksize};${l.mode}`,inputDependencies:["rank"]},getRunData:kt=>{let pt=Se?[d,f*$e,g*$e,_/$e**2]:[d,_/$e**2,f*$e,g*$e],Pt=Zt.size(pt),Lt=J.dims,jt=Zt.sortBasedOnPerm(Lt,Te);return{outputs:[{dims:pt,dataType:kt[0].dataType}],dispatchGroup:{x:Math.ceil(Pt/64)},programUniforms:[{type:12,data:Pt},...Nr(Lt,jt)]}},getShaderSource:Mt}},Op=(i,l)=>{Ng(i.inputs),i.compute(zg(i.inputs[0],l))},jg=i=>fo({blocksize:i.blocksize,mode:i.mode,format:i.format})}),Vl,yu,$p,Vg,Ug,V0,Wg,U0,Qs,Gg,Lp,W0=p(()=>{"use strict";io(),ro(),Ro(),wo(),Vl="[a-zA-Z]|\\.\\.\\.",yu="("+Vl+")+",$p="^"+yu+"$",Vg="("+yu+",)*"+yu,Ug="^"+Vg+"$",V0=class{constructor(i=-1){this.symbolToIndices=new Map,this.inputIndex=i}addSymbol(i,l){let d=this.symbolToIndices.get(i);d===void 0?d=[l]:d.push(l),this.symbolToIndices.set(i,d)}},Wg=class{constructor(i,l){this.equation=l,this.hasEllipsis=!1,this.symbolToInfo=new Map,this.lhs=new Array,this.outputDims=[];let[d,f]=l.includes("->")?l.split("->",2):[l,""];if(!d.match(RegExp(Ug)))throw new Error("Invalid LHS term");if(d.split(",").forEach((g,_)=>{let M=i[_].dims.slice();if(!g.match(RegExp($p)))throw new Error("Invalid LHS term");let Te=this.processTerm(g,!0,M,_);this.lhs.push(Te)}),f==="")f+=[...this.symbolToInfo.entries()].filter(([g,_])=>_.count===1||g==="...").map(([g])=>g).join("");else if(!f.match(RegExp(yu)))throw new Error("Invalid RHS");f.match(RegExp(Vl,"g"))?.forEach(g=>{if(g==="...")this.outputDims=this.outputDims.concat(this.ellipsisDims);else{let _=this.symbolToInfo.get(g);if(_===void 0)throw new Error("Invalid RHS symbol");this.outputDims.push(_.dimValue)}}),this.rhs=this.processTerm(f,!1,this.outputDims)}addSymbol(i,l,d){let f=this.symbolToInfo.get(i);if(f!==void 0){if(f.dimValue!==l&&f.count!==1)throw new Error("Dimension mismatch");f.count++,f.inputIndices.push(d)}else f={count:1,dimValue:l,inputIndices:[d]};this.symbolToInfo.set(i,f)}processTerm(i,l,d,f=-1){let g=d.length,_=!1,M=[],Te=0;if(!i.match(RegExp($p))&&!l&&i!=="")throw new Error("Invalid LHS term");let Se=i.match(RegExp(Vl,"g")),$e=new V0(f);return Se?.forEach((Je,J)=>{if(Je==="..."){if(_)throw new Error("Only one ellipsis is allowed per input term");_=!0;let et=g-Se.length+1;if(et<0)throw new Error("Ellipsis out of bounds");if(M=d.slice(Te,Te+et),this.hasEllipsis){if(this.ellipsisDims.length!==M.length||this.ellipsisDims.toString()!==M.toString())throw new Error("Ellipsis dimensions mismatch")}else if(l)this.hasEllipsis=!0,this.ellipsisDims=M;else throw new Error("Ellipsis must be specified in the LHS");for(let dt=0;dt<M.length;dt++){let it=String.fromCharCode(48+dt);$e.addSymbol(it,J+dt),this.addSymbol(it,d[Te++],f)}}else $e.addSymbol(Je,J+(this.hasEllipsis?this.ellipsisDims.length-1:0)),this.addSymbol(Je,d[Te++],f)}),$e}},U0=i=>i+"_max",Qs=(i,l,d,f)=>{let g=i.map($e=>$e.length).map(($e,Je)=>ar(`input${Je}`,l,$e)),_=Zt.size(f),M=eo("output",l,f.length),Te=[...d.symbolToInfo.keys()].filter($e=>!d.rhs.symbolToIndices.has($e)),Se=$e=>{let Je=[],J="var prod = 1.0;",et="var sum = 0.0;",dt="sum += prod;",it=[],ct=[],Mt=[],kt=[],pt=d.symbolToInfo.size===d.rhs.symbolToIndices.size;d.symbolToInfo.forEach((Lt,jt)=>{if(d.rhs.symbolToIndices.has(jt)){let Yt=d.rhs.symbolToIndices.get(jt)?.[0];Yt!==void 0&&d.lhs.forEach((Jt,Mr)=>{if(Lt.inputIndices.includes(Mr)){let Pr=Jt.symbolToIndices.get(jt);if(Pr===void 0)throw new Error("Invalid symbol error");Pr.forEach(Xr=>{Je.push(`${g[Mr].indicesSet(`input${Mr}Indices`,Xr,M.indicesGet("outputIndices",Yt))}`)})}})}else d.lhs.forEach((Yt,Jt)=>{if(Lt.inputIndices.includes(Jt)){let Mr=Yt.symbolToIndices.get(jt);if(Mr===void 0)throw new Error("Invalid symbol error");Mr.forEach(Pr=>{it.push(`${g[Jt].indicesSet(`input${Jt}Indices`,Pr,`${jt}`)}`)}),kt.push(`prod *= ${g[Jt].getByIndices(`input${Jt}Indices`)};`)}}),ct.push(`for(var ${jt}: u32 = 0; ${jt} < uniforms.${U0(jt)}; ${jt}++) {`),Mt.push("}")});let Pt=pt?[...Je,`let sum = ${g.map((Lt,jt)=>Lt.getByIndices(`input${jt}Indices`)).join(" * ")};`]:[...Je,et,...ct,...it,J,...kt,dt,...Mt];return`
            ${$e.registerUniforms(Te.map(Lt=>({name:`${U0(Lt)}`,type:"u32"}))).registerUniform("outputSize","u32").declareVariables(...g,M)}

            ${$e.mainStart()}
            ${$e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
            var outputIndices = ${M.offsetToIndices("global_idx")};
            ${g.map((Lt,jt)=>`var input${jt}Indices: ${g[jt].type.indices};`).join(`
`)}
            ${Pt.join(`
`)};
            ${M.setByOffset("global_idx","sum")};
          }`};return{name:"Einsum",shaderCache:{hint:d.equation,inputDependencies:i.map(()=>"rank")},getRunData:()=>{let $e=Te.filter(J=>d.symbolToInfo.has(J)).map(J=>({type:12,data:d.symbolToInfo.get(J)?.dimValue||0}));$e.push({type:12,data:_});let Je=i.map((J,et)=>[...Nr(J)]).reduce((J,et)=>J.concat(et),$e);return Je.push(...Nr(f)),{outputs:[{dims:f,dataType:l}],dispatchGroup:{x:Math.ceil(_/64)},programUniforms:Je}},getShaderSource:Se}},Gg=(i,l)=>{let d=new Wg(i.inputs,l.equation),f=d.outputDims,g=i.inputs.map((_,M)=>_.dims);i.compute(Qs(g,i.inputs[0].dataType,d,f))},Lp=i=>{let l=i.equation.replace(/\s+/g,"");return fo({equation:l})}}),Np,zp,Hg,jp,Kg,n1=p(()=>{"use strict";io(),ro(),wo(),Np=i=>{if(!i||i.length!==2)throw new Error("Expand requires 2 input.");let l=i[0].dims,d=Array.from(i[1].getBigInt64Array(),Number),f=d.length<l.length?0:d.length-l.length,g=l.length<d.length?0:l.length-d.length;for(;f<d.length&&g<l.length;++f,++g)if(d[f]!==l[g]&&d[f]!==1&&l[g]!==1)throw new Error("Expand requires shape to be broadcastable to input")},zp=(i,l)=>{let d=i.length-l.length,f=[];for(let g=0;g<d;++g)f.push(i[g]);for(let g=0;g<l.length;++g)f.push(l[g]===1?i[g+d]:l[g]);return f},Hg=(i,l)=>i.length>l.length?zp(i,l):zp(l,i),jp=i=>{let l=i[0].dims,d=Array.from(i[1].getBigInt64Array(),Number),f=Hg(l,d),g=i[0].dataType,_=g===9||Zt.size(l)===1,M=g===9||l.length>0&&l[l.length-1]%4===0?4:1,Te=_||f.length>0&&f[f.length-1]%4===0?4:1,Se=Math.ceil(Zt.size(f)/Te),$e=J=>{let et=ar("input",g,l.length,M),dt=eo("output",g,f.length,Te),it;if(g===9){let ct=(Mt,kt,pt="")=>`
          let outputIndices${kt} = ${dt.offsetToIndices(`outputOffset + ${kt}u`)};
          let offset${kt} = ${et.broadcastedIndicesToOffset(`outputIndices${kt}`,dt)};
          let index${kt} = offset${kt} / 4u;
          let component${kt} = offset${kt} % 4u;
          ${Mt}[${kt}] = ${pt}(${et.getByOffset(`index${kt}`)}[component${kt}]);
        `;it=`
        let outputOffset = global_idx * ${Te};
        var data = vec4<u32>(0);
        ${ct("data",0,"u32")}
        ${ct("data",1,"u32")}
        ${ct("data",2,"u32")}
        ${ct("data",3,"u32")}
        ${dt.setByOffset("global_idx","data")}
      }`}else it=`
        let outputIndices = ${dt.offsetToIndices(`global_idx * ${Te}`)};
        let inputOffset = ${et.broadcastedIndicesToOffset("outputIndices",dt)};
        let data = ${dt.type.value}(${et.getByOffset(`inputOffset / ${M}`)});
        ${dt.setByOffset("global_idx","data")}
      }`;return`
    ${J.registerUniform("vec_size","u32").declareVariables(et,dt)}
    ${J.mainStart()}
    ${J.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size")}
    ${it}`},Je=[{type:12,data:Se},...Nr(l,f)];return{name:"Expand",shaderCache:{hint:`${f.length};${M}${Te}`,inputDependencies:["rank"]},getShaderSource:$e,getRunData:()=>({outputs:[{dims:f,dataType:i[0].dataType}],dispatchGroup:{x:Math.ceil(Se/64)},programUniforms:Je})}},Kg=i=>{Np(i.inputs),i.compute(jp(i.inputs),{inputs:[0]})}}),Vp,qg,G0=p(()=>{"use strict";io(),ro(),wo(),mu(),Vp=i=>{let l=i[0].dataType,d=Zt.size(i[0].dims),f=Zt.size(i[1].dims),g=f%4===0,_=M=>{let Te=ar("x",l,[1],4),Se=ar("bias",l,[1],4),$e=eo("y",l,[1],4),Je=[{name:"output_vec_size",type:"u32"},{name:"bias_size",type:"u32"}],J=dt=>`
      let bias${dt}_offset: u32 = (global_idx * 4 + ${dt}) % uniforms.bias_size;
      let bias${dt} = ${Se.getByOffset(`bias${dt}_offset / 4`)}[bias${dt}_offset % 4];`,et=g?`
      let bias = ${Se.getByOffset("global_idx % (uniforms.bias_size / 4)")};`:`${J(0)}${J(1)}${J(2)}${J(3)}
      let bias = ${Te.type.value}(bias0, bias1, bias2, bias3);`;return`${M.registerUniforms(Je).declareVariables(Te,Se,$e)}

    ${hu(Tn(l))}

    ${M.mainStart(Ri)}
      ${M.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_vec_size")}

      let x = ${Te.getByOffset("global_idx")};
      ${et}
      let x_in = x + bias;
      ${$e.setByOffset("global_idx",xp("x_in"))}
    }`};return{name:"FastGeluWithBias",shaderCache:{hint:`${g}`,inputDependencies:["type","type"]},getShaderSource:_,getRunData:M=>({outputs:[{dims:M[0].dims,dataType:M[0].dataType}],programUniforms:[{type:12,data:Math.ceil(d/4)},{type:12,data:f}],dispatchGroup:{x:Math.ceil(d/Ri/4)}})}},qg=i=>{i.inputs.length<2||Zt.size(i.inputs[1].dims)===0?ag(i):i.compute(Vp(i.inputs))}}),Up,xu,Xg,Wp,H0=p(()=>{"use strict";io(),ro(),Ro(),wo(),Up=i=>{if(!i||i.length!==2)throw new Error("Gather requires 2 inputs.")},xu=(i,l)=>{let d=i[0].dims,f=i[1].dims,g=d.length,_=Zt.normalizeAxis(l.axis,g),M=d.slice(0);M.splice(_,1,...f);let Te=d[_],Se=i[0].dataType===9?4:1,$e=Math.ceil(Zt.size(M)/Se),Je=[{type:12,data:$e},{type:6,data:Te},{type:12,data:_},...Nr(i[0].dims,i[1].dims,M)],J=et=>{let dt=ar("data",i[0].dataType,i[0].dims.length,Se),it=ar("inputIndices",i[1].dataType,i[1].dims.length),ct=eo("output",i[0].dataType,M.length,Se),Mt=pt=>{let Pt=f.length,Lt=`var indicesIndices${pt}  = ${it.type.indices}(0);`;for(let jt=0;jt<Pt;jt++)Lt+=`${Pt>1?`indicesIndices${pt}[${jt}]`:`indicesIndices${pt}`} = ${M.length>1?`outputIndices${pt}[uniforms.axis + ${jt}]`:`outputIndices${pt}`};`;Lt+=`
          var idx${pt} = ${it.getByIndices(`indicesIndices${pt}`)};
          if (idx${pt} < 0) {
            idx${pt} = idx${pt} + uniforms.axisDimLimit;
          }
          var dataIndices${pt} : ${dt.type.indices};
        `;for(let jt=0,Yt=0;jt<g;jt++)jt===_?(Lt+=`${g>1?`dataIndices${pt}[${jt}]`:`dataIndices${pt}`} = u32(idx${pt});`,Yt+=Pt):(Lt+=`${g>1?`dataIndices${pt}[${jt}]`:`dataIndices${pt}`} = ${M.length>1?`outputIndices${pt}[${Yt}]`:`outputIndices${pt}`};`,Yt++);return Lt},kt;if(i[0].dataType===9){let pt=(Pt,Lt,jt="")=>`
          let outputIndices${Lt} = ${ct.offsetToIndices(`outputOffset + ${Lt}u`)};
          ${Mt(Lt)};
          let offset${Lt} = ${dt.indicesToOffset(`dataIndices${Lt}`)};
          let index${Lt} = offset${Lt} / 4u;
          let component${Lt} = offset${Lt} % 4u;
          ${Pt}[${Lt}] = ${jt}(${dt.getByOffset(`index${Lt}`)}[component${Lt}]);
        `;kt=`
        let outputOffset = global_idx * ${Se};
        var value = vec4<u32>(0);
        ${pt("value",0,"u32")}
        ${pt("value",1,"u32")}
        ${pt("value",2,"u32")}
        ${pt("value",3,"u32")}
        ${ct.setByOffset("global_idx","value")}
      `}else kt=`
      let outputIndices = ${ct.offsetToIndices("global_idx")};
      ${Mt("")};
      let value = ${dt.getByIndices("dataIndices")};
      ${ct.setByOffset("global_idx","value")};
      `;return`
      ${et.registerUniform("outputSize","u32").registerUniform("axisDimLimit","i32").registerUniform("axis","u32").declareVariables(dt,it,ct)}
      ${et.mainStart()}
        ${et.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
        ${kt}
      }`};return{name:"Gather",shaderCache:{hint:l.cacheKey,inputDependencies:["rank","rank"]},getRunData:()=>({outputs:[{dims:M,dataType:i[0].dataType}],dispatchGroup:{x:Math.ceil($e/64)},programUniforms:Je}),getShaderSource:J}},Xg=i=>fo({axis:i.axis}),Wp=(i,l)=>{let d=i.inputs;Up(d),i.compute(xu(i.inputs,l))}}),Gp,Hp,Qg,K0=p(()=>{"use strict";io(),ro(),wo(),Gp=(i,l,d,f,g,_,M,Te,Se)=>{let $e=[{type:12,data:_},{type:12,data:f},{type:12,data:g},{type:12,data:d},{type:12,data:M},{type:12,data:Te},{type:12,data:Se}],Je=[_];$e.push(...Nr(l.dims,Je));let J=et=>{let dt=ar("indices_data",l.dataType,l.dims.length),it=eo("input_slice_offsets_data",12,1,1),ct=[dt,it],Mt=[{name:"output_size",type:"u32"},{name:"batch_dims",type:"u32"},{name:"input_dims",type:"u32",length:g.length},{name:"sizes_from_slice_dims_data",type:"u32",length:d.length},{name:"num_slices_per_batch",type:"u32"},{name:"input_batch_stride",type:"u32"},{name:"num_slice_dims",type:"u32"}];return`
  ${et.registerUniforms(Mt).declareVariables(...ct)}
  ${et.mainStart()}
    ${et.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
    let batch_idx = global_idx / uniforms.num_slices_per_batch;
    let base_offset = batch_idx * uniforms.input_batch_stride;

    let slice_indices_base_offset = global_idx * uniforms.num_slice_dims;
    var relative_slice_offset = 0;
    for (var dim_idx = 0u; dim_idx < uniforms.num_slice_dims; dim_idx ++) {
      var index = i32(indices_data[dim_idx + slice_indices_base_offset].x);
      let input_dim_idx = uniforms.batch_dims + dim_idx;
      if (index < 0) {
        ${g.length===1?"index += i32(uniforms.input_dims);":"index += i32(uniforms.input_dims[input_dim_idx]);"}
      }
      ${d.length===1?"relative_slice_offset += index * i32(uniforms.sizes_from_slice_dims_data);":"relative_slice_offset += index * i32(uniforms.sizes_from_slice_dims_data[dim_idx]);"}
    }

    input_slice_offsets_data[global_idx] =  base_offset + u32(relative_slice_offset);
  }`};return i.compute({name:"computeSliceOffsets",shaderCache:{hint:`${g.length}_${d.length}`,inputDependencies:["rank"]},getRunData:()=>({outputs:[{dims:Je,dataType:i.inputs[1].dataType}],dispatchGroup:{x:Math.ceil(_/64)},programUniforms:$e}),getShaderSource:J},{inputs:[l],outputs:[-1]})[0]},Hp=(i,l)=>{let d=i.inputs,f=d[0].dims,g=d[0].dataType,_=d[1].dims,M=_[_.length-1],Te=Zt.sizeToDimension(_,_.length-1),Se=Zt.sizeFromDimension(f,l.batchDims+M),$e=Zt.sizeToDimension(f,l.batchDims),Je=Zt.sizeFromDimension(f,l.batchDims),J=Te/$e,et=new Array(M),dt=Se;for(let Lt=0;Lt<M;++Lt)et[M-1-Lt]=dt,dt*=f[l.batchDims+M-1-Lt];let it=Gp(i,d[1],et,l.batchDims,f,Te,J,Je,M),ct=l.batchDims+M;if(ct>f.length)throw new Error("last dimension of indices must not be larger than rank of input tensor");let Mt=_.slice(0,-1).concat(f.slice(ct)),kt=Zt.size(Mt),pt=[{type:12,data:kt},{type:12,data:Se},...Nr(d[0].dims,it.dims,Mt)],Pt=Lt=>{let jt=ar("data",d[0].dataType,d[0].dims.length),Yt=ar("slice_offsets",12,it.dims.length),Jt=eo("output",d[0].dataType,Mt.length);return`
          ${Lt.registerUniform("output_size","u32").registerUniform("slice_size","u32").declareVariables(jt,Yt,Jt)}
            ${Lt.mainStart()}
            ${Lt.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
          let slice_offset = slice_offsets[global_idx / uniforms.slice_size];
          output[global_idx] = data[u32(slice_offset) + global_idx % uniforms.slice_size];
        }`};i.compute({name:"GatherND",shaderCache:{hint:l.cacheKey,inputDependencies:["rank","rank"]},getRunData:()=>({outputs:[{dims:Mt,dataType:g}],dispatchGroup:{x:Math.ceil(kt/64)},programUniforms:pt}),getShaderSource:Pt},{inputs:[d[0],it]})},Qg=i=>({batchDims:i.batch_dims,cacheKey:""})}),Kp,i1,Yg,qp,q0=p(()=>{"use strict";io(),ro(),Ro(),wo(),Kp=(i,l)=>{if(i.length<3||i.length>4)throw new Error("GatherBlockQuantized requires 3 or 4 inputs.");let d=Zt.normalizeAxis(l.quantizeAxis,i[0].dims.length),f=l.blockSize,g=i[0],_=i[2],M=i.length===4?i[3]:void 0;if(_.dims.length!==g.dims.length||!g.dims.map((Te,Se)=>Se===d?Math.ceil(Te/f)===_.dims[Se]:Te===_.dims[Se]).reduce((Te,Se)=>Te&&Se,!0))throw new Error("Scales must have the same rank as the input tensor and the dims should match except on gatherAxis.");if(M){if(M.dataType!==g.dataType)throw new Error("Zero point must have the same data type as the input tensor.");if(M.dims.length!==_.dims.length||!M.dims.map((Te,Se)=>Te===_.dims[Se]).reduce((Te,Se)=>Te&&Se,!0))throw new Error("Zero point must have the same rank as the input tensor and the dims should match except on quantizeAxis.")}},i1=(i,l)=>{let d=i[0].dims,f=i[1].dims,g=d.length,_=Zt.normalizeAxis(l.gatherAxis,g),M=Zt.normalizeAxis(l.quantizeAxis,g),Te=d.slice(0);Te.splice(_,1,...f);let Se=Zt.size(Te),$e=i[2].dataType,Je=i[0].dataType===22,J=[{type:12,data:Se},{type:12,data:M},{type:12,data:_},{type:12,data:l.blockSize},...Nr(...i.map((dt,it)=>dt.dims),Te)],et=dt=>{let it=ar("data",i[0].dataType,i[0].dims.length),ct=ar("inputIndices",i[1].dataType,i[1].dims.length),Mt=ar("scales",i[2].dataType,i[2].dims.length),kt=i.length>3?ar("zeroPoint",i[3].dataType,i[3].dims.length):void 0,pt=eo("output",$e,Te.length),Pt=[it,ct,Mt];kt&&Pt.push(kt);let Lt=[{name:"output_size",type:"u32"},{name:"quantize_axis",type:"u32"},{name:"gather_axis",type:"u32"},{name:"block_size",type:"u32"}];return`
        ${dt.registerUniforms(Lt).declareVariables(...Pt,pt)}
        ${dt.mainStart()}
        let output_indices = ${pt.offsetToIndices("global_idx")};
        var indices_indices = ${ct.type.indices}(0);
        ${f.length>1?`
          for (var i: u32 = 0; i < ${f.length}; i++) {
            let index = ${pt.indicesGet("output_indices","uniforms.gather_axis + i")};
            ${ct.indicesSet("indices_indices","i","index")};
          }`:`indices_indices = ${pt.indicesGet("output_indices","uniforms.gather_axis")};`};
        var data_indices = ${it.type.indices}(0);
        for (var i: u32 = 0; i < uniforms.gather_axis; i++) {
          let index = ${pt.indicesGet("output_indices","i")};
          ${it.indicesSet("data_indices","i","index")};
        }
        var index_from_indices = ${ct.getByIndices("indices_indices")};
        if (index_from_indices < 0) {
          index_from_indices += ${d[_]};
        }
        ${it.indicesSet("data_indices","uniforms.gather_axis","u32(index_from_indices)")};
        for (var i = uniforms.gather_axis + 1; i < ${Te.length}; i++) {
          let index = ${pt.indicesGet("output_indices",`i + ${f.length} - 1`)};
          ${it.indicesSet("data_indices","i","index")};
        }
        let data_offset = ${it.indicesToOffset("data_indices")};
        let data_index = data_offset % 8;
        // Convert 4-bit packed data to 8-bit packed data.
        let packed_4bit_quantized_data = ${it.getByOffset("data_offset / 8")};
        let packed_8bit_quantized_data = (packed_4bit_quantized_data >> (4 * (data_index % 2))) & 0x0f0f0f0f;
        let quantized_data_vec = ${Je?"unpack4xI8":"unpack4xU8"}(u32(packed_8bit_quantized_data));
        let quantized_data = quantized_data_vec[data_index / 2];
        var scale_indices = data_indices;
        let quantize_axis_index = ${Mt.indicesGet("data_indices","uniforms.quantize_axis")} / uniforms.block_size;
        ${Mt.indicesSet("scale_indices","uniforms.quantize_axis","quantize_axis_index")};
        var scale = ${Mt.getByIndices("scale_indices")};
        ${kt?`
              let zero_point_indices = scale_indices;
              let zero_point_offset = ${kt.indicesToOffset("zero_point_indices")};
              let zero_point_index = zero_point_offset % 8;
              let packed_4bit_zero_points = ${kt.getByOffset("zero_point_offset / 8")};
              let packed_8bit_zero_points = (packed_4bit_zero_points >> (4 * (zero_point_index % 2))) & 0x0f0f0f0f;
              let zero_point_vec = ${Je?"unpack4xI8":"unpack4xU8"}(u32(packed_8bit_zero_points));
              let zero_point = zero_point_vec[zero_point_index / 2];`:"var zero_point = 0"};
        let dequantized_data = ${Tn($e)}(quantized_data - zero_point) * scale;
        ${pt.setByOffset("global_idx","dequantized_data")};
    }`};return{name:"GatherBlockQuantized",shaderCache:{hint:`${l.cacheKey};${i.filter((dt,it)=>it!==1).map(dt=>dt.dims.join("_")).join(";")}`,inputDependencies:Array.from({length:i.length},(dt,it)=>"rank")},getRunData:()=>({outputs:[{dims:Te,dataType:$e}],dispatchGroup:{x:Math.ceil(Se/64)},programUniforms:J}),getShaderSource:et}},Yg=(i,l)=>{let d=i.inputs;Kp(d,l),i.compute(i1(i.inputs,l))},qp=i=>fo({blockSize:i.blockSize,gatherAxis:i.gatherAxis,quantizeAxis:i.quantizeAxis})}),Ul,Jg,Xp,Qp,X0=p(()=>{"use strict";io(),ro(),Ro(),wo(),Ul=i=>{if(!i||i.length!==2)throw new Error("GatherElements requires 2 inputs.");if(i[0].dims.length<1)throw new Error("GatherElements requires that the data input be rank >= 1.");if(i[0].dims.length!==i[1].dims.length)throw new Error(`GatherElements requires that the data input and
                     indices input tensors be of same rank.`)},Jg=(i,l)=>{let d=i[0].dims,f=i[0].dataType,g=d.length,_=i[1].dims,M=i[1].dataType,Te=Zt.normalizeAxis(l.axis,g),Se=d[Te],$e=_.slice(0),Je=Zt.size($e),J=ar("input",f,g),et=ar("indicesInput",M,_.length),dt=eo("output",f,$e.length),it=[{type:12,data:Je},{type:6,data:Se},{type:12,data:Te}];return it.push(...Nr(d,_,$e)),{name:"GatherElements",shaderCache:{inputDependencies:["rank","rank"]},getRunData:()=>({outputs:[{dims:$e,dataType:i[0].dataType}],dispatchGroup:{x:Math.ceil(Je/64)},programUniforms:it}),getShaderSource:ct=>`
      ${ct.registerUniform("outputSize","u32").registerUniform("axisDimLimit","i32").registerUniform("axis","u32").declareVariables(J,et,dt)}
      ${ct.mainStart()}
      ${ct.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}

      let outputIndices = ${dt.offsetToIndices("global_idx")};

      var idx = ${et.getByOffset("global_idx")};
      if (idx < 0) {
        idx = idx + uniforms.axisDimLimit;
      }
      var inputIndices = ${J.type.indices}(outputIndices);
      ${J.indicesSet("inputIndices","uniforms.axis","u32(idx)")};
      let value = ${J.getByIndices("inputIndices")};

      ${dt.setByOffset("global_idx","value")};
  }`}},Xp=i=>fo({axis:i.axis}),Qp=(i,l)=>{let d=i.inputs;Ul(d),i.compute(Jg(i.inputs,l))}}),Yp,Zg,e_,Jp,pw=p(()=>{"use strict";io(),ro(),wo(),Yp=i=>{if(!i)throw new Error("Input is missing");if(i.length<2||i.length>3)throw new Error("Invaid input number.");if(i.length===3&&i[2].dims.length>2)throw new Error("Invalid input shape of C");if(i[0].dataType!==i[1].dataType||i.length===3&&i[0].dataType!==i[2].dataType)throw new Error("Input types are mismatched")},Zg=(i,l)=>{let d=i[0].dims.slice(),f=i[1].dims.slice(),[g,_,M]=xs.getShapeOfGemmResult(d,l.transA,f,l.transB,i.length===3?i[2].dims:void 0),Te=[g,_];if(!Te)throw new Error("Can't use gemm on the given tensors");let Se=16,$e=Math.ceil(_/Se),Je=Math.ceil(g/Se),J=!0,et=Zt.size(Te),dt=[{type:12,data:J?$e:et},{type:12,data:g},{type:12,data:_},{type:12,data:M},{type:1,data:l.alpha},{type:1,data:l.beta}],it=["type","type"];i.length===3&&(dt.push(...Nr(i[2].dims)),it.push("rank")),dt.push(...Nr(Te));let ct=kt=>{let pt="";l.transA&&l.transB?pt="value += a[k * uniforms.M + m] * b[n * uniforms.K + k];":l.transA&&!l.transB?pt="value += a[k * uniforms.M + m] * b[k * uniforms.N + n];":!l.transA&&l.transB?pt="value += a[m * uniforms.K + k] * b[n * uniforms.K + k];":!l.transA&&!l.transB&&(pt="value += a[m * uniforms.K + k] * b[k * uniforms.N + n];");let Pt=l.alpha===1?"":"value *= uniforms.alpha;",Lt=ar("a",i[0].dataType,i[0].dims),jt=ar("b",i[1].dataType,i[1].dims),Yt=Lt.type.value,Jt=null,Mr=[Lt,jt];i.length===3&&(Jt=ar("c",i[2].dataType,i[2].dims.length),Mr.push(Jt));let Pr=eo("output",i[0].dataType,Te.length);Mr.push(Pr);let Xr=[{name:"output_size",type:"u32"},{name:"M",type:"u32"},{name:"N",type:"u32"},{name:"K",type:"u32"},{name:"alpha",type:"f32"},{name:"beta",type:"f32"}];return`
  ${kt.registerUniforms(Xr).declareVariables(...Mr)}

  ${kt.mainStart()}
    ${kt.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}

    let m = global_idx / uniforms.N;
    let n = global_idx % uniforms.N;

    var value = ${Yt}(0);
    for (var k: u32 = 0u; k < uniforms.K; k++) {
      ${pt}
    }

    ${Pt}
    ${Jt!=null?`let cOffset = ${Jt.broadcastedIndicesToOffset("vec2(m, n)",Pr)}; value += ${Yt}(uniforms.beta) * ${Jt.getByOffset("cOffset")};`:""}
    output[global_idx] = value;
  }`},Mt=kt=>{let pt=ar("a",i[0].dataType,i[0].dims),Pt=ar("b",i[1].dataType,i[1].dims),Lt=null,jt=[pt,Pt];i.length===3&&(Lt=ar("c",i[2].dataType,i[2].dims.length),jt.push(Lt));let Yt=eo("output",i[0].dataType,Te.length);jt.push(Yt);let Jt=[{name:"num_tile_n",type:"u32"},{name:"M",type:"u32"},{name:"N",type:"u32"},{name:"K",type:"u32"},{name:"alpha",type:"f32"},{name:"beta",type:"f32"}],Mr="",Pr="";l.transA&&l.transB?(Pr=`
      var col = tile_row_start + local_id.x;
      var row = k_start + local_id.y;
      if (col < uniforms.M && row < uniforms.K) {
        tile_a[local_id.y][local_id.x] = a[row * uniforms.M + col];
      } else {
        tile_a[local_id.y][local_id.x] = ${pt.type.value}(0);
      }

      col = k_start + local_id.x;
      row = tile_col_start + local_id.y;
      if (col < uniforms.K && row < uniforms.N) {
        tile_b[local_id.y][local_id.x] = b[row * uniforms.K + col];
      } else {
        tile_b[local_id.y][local_id.x] = ${Pt.type.value}(0);
      }
      `,Mr="value += tile_a[k][local_id.y] * tile_b[local_id.x][k];"):l.transA&&!l.transB?(Pr=`
      var col = tile_row_start + local_id.x;
      var row = k_start + local_id.y;
      if (col < uniforms.M && row < uniforms.K) {
        tile_a[local_id.y][local_id.x] = a[row * uniforms.M + col];
      } else {
        tile_a[local_id.y][local_id.x] = ${pt.type.value}(0);
      }

      col = tile_col_start + local_id.x;
      row = k_start + local_id.y;
      if (col < uniforms.N && row < uniforms.K) {
        tile_b[local_id.y][local_id.x] = b[row * uniforms.N + col];
      } else {
        tile_b[local_id.y][local_id.x] = ${Pt.type.value}(0);
      }
      `,Mr="value += tile_a[k][local_id.y] * tile_b[k][local_id.x];"):!l.transA&&l.transB?(Pr=`
      var col = k_start + local_id.x;
      var row = tile_row_start + local_id.y;
      if (col < uniforms.K && row < uniforms.M) {
        tile_a[local_id.y][local_id.x] = a[row * uniforms.K + col];
      } else {
        tile_a[local_id.y][local_id.x] = ${pt.type.value}(0);
      }

      col = k_start + local_id.x;
      row = tile_col_start + local_id.y;
      if (col < uniforms.K && row < uniforms.N) {
        tile_b[local_id.y][local_id.x] = b[row * uniforms.K + col];
      } else {
        tile_b[local_id.y][local_id.x] = ${Pt.type.value}(0);
      }
      `,Mr="value += tile_a[local_id.y][k] * tile_b[local_id.x][k];"):!l.transA&&!l.transB&&(Pr=`
      var col = k_start + local_id.x;
      var row = tile_row_start + local_id.y;
      if (col < uniforms.K && row < uniforms.M) {
        tile_a[local_id.y][local_id.x] = a[row * uniforms.K + col];
      } else {
        tile_a[local_id.y][local_id.x] = ${pt.type.value}(0);
      }

      col = tile_col_start + local_id.x;
      row = k_start + local_id.y;
      if (col < uniforms.N && row < uniforms.K) {
        tile_b[local_id.y][local_id.x] = b[row * uniforms.N + col];
      } else {
        tile_b[local_id.y][local_id.x] = ${Pt.type.value}(0);
      }
      `,Mr="value += tile_a[local_id.y][k] * tile_b[k][local_id.x];");let Xr=l.alpha===1?"":"value *= uniforms.alpha;";return`
  ${kt.registerUniforms(Jt).declareVariables(...jt)}
  var<workgroup> tile_a: array<array<${pt.type.storage}, ${Se}>, ${Se}>;
  var<workgroup> tile_b: array<array<${Pt.type.storage}, ${Se}>, ${Se}>;
  ${kt.mainStart([Se,Se,1])}
    let tile_col_start = (workgroup_index % uniforms.num_tile_n) * ${Se};
    let tile_row_start = (workgroup_index / uniforms.num_tile_n) * ${Se};
    let num_tiles = (uniforms.K - 1) / ${Se} + 1;
    var k_start = 0u;
    var value = ${Yt.type.value}(0);
    for (var t: u32 = 0u; t < num_tiles; t++) {
      ${Pr}
      k_start = k_start + ${Se};
      workgroupBarrier();

      for (var k: u32 = 0u; k < ${Se}; k++) {
        ${Mr}
      }
      workgroupBarrier();
    }

    ${Xr}
    let m = tile_row_start + local_id.y;
    let n = tile_col_start + local_id.x;
    ${Lt!=null?`let cOffset = ${Lt.broadcastedIndicesToOffset("vec2(m, n)",Yt)}; value += ${Yt.type.value}(uniforms.beta) * ${Lt.getByOffset("cOffset")};`:""}
    if (m < uniforms.M && n < uniforms.N) {
      output[m * uniforms.N + n] = value;
    }
  }`};return J?{name:"GemmShared",shaderCache:{hint:`${l.cacheKey}`,inputDependencies:it},getRunData:()=>({outputs:[{dims:Te,dataType:i[0].dataType}],dispatchGroup:{x:$e*Je},programUniforms:dt}),getShaderSource:Mt}:{name:"Gemm",shaderCache:{hint:`${l.cacheKey}`,inputDependencies:it},getRunData:()=>({outputs:[{dims:Te,dataType:i[0].dataType}],dispatchGroup:{x:Math.ceil(et/64)},programUniforms:dt}),getShaderSource:ct}},e_=i=>{let l=i.transA,d=i.transB,f=i.alpha,g=i.beta;return{transA:l,transB:d,alpha:f,beta:g,cacheKey:`${i.transA};${i.transB};${i.alpha===1}`}},Jp=(i,l)=>{Yp(i.inputs),i.compute(Zg(i.inputs,l))}}),ds,Ts,xl,wl,t_,Q0,r_,o_,Y0,n_,i_,J0,a_,s_,Z0=p(()=>{"use strict";io(),ro(),Ro(),wo(),[ds,Ts,xl,wl]=[0,1,2,3],t_=i=>{if(i[0].dims.length!==4)throw new Error("only 4-D tensor is supported.");if(i[0].dims.length!==i[1].dims.length)throw new Error("input dimensions must be equal to grid dimensions");if(i[0].dims.length-2!==i[1].dims[i[1].dims.length-1])throw new Error(`last dimension of grid must be equal to ${i[0].dims.length-2}`);if(i[0].dims[0]!==i[1].dims[0])throw new Error("grid batch size must match input batch size")},Q0=`
  fn gs_get_cubic_coeffs(x: f32) -> vec4<f32> {
    let cubic_alpha = -0.75f;
    let x_abs = abs(x);
    var coeffs: vec4<f32>;
    coeffs[0] = (((cubic_alpha * (x_abs + 1) - 5 * cubic_alpha) * (x_abs + 1) + 8 * cubic_alpha) * (x_abs + 1) - 4 * cubic_alpha);
    coeffs[1] = (((cubic_alpha + 2) * x_abs - (cubic_alpha + 3)) * x_abs * x_abs + 1);
    coeffs[2] = (((cubic_alpha + 2) * (1 - x_abs) - (cubic_alpha + 3)) * (1 - x_abs) * (1 - x_abs) + 1);
    coeffs[3] = (((cubic_alpha * (2 - x_abs) - 5 * cubic_alpha) * (2 - x_abs) + 8 * cubic_alpha) * (2 - x_abs) - 4 * cubic_alpha);
    return coeffs;
  }
`,r_=i=>`
  fn gs_bicubic_interpolate(p: mat4x4<${i}>, x: f32, y: f32) -> ${i} {
    var v: vec4<f32>;
    var coeffs = gs_get_cubic_coeffs(x);
    for (var i = 0; i < 4; i++) {
      v[i] = coeffs[0] * p[i][0] + coeffs[1] * p[i][1] + coeffs[2] * p[i][2] + coeffs[3] * p[i][3];
    }
    coeffs = gs_get_cubic_coeffs(y);
    let pixel = ${i}(coeffs[0] * v[0] + coeffs[1] * v[1] + coeffs[2] * v[2] + coeffs[3] * v[3]);
    return pixel;
  }
`,o_=i=>`
  fn gs_denormalize(n: f32, length: i32) -> f32 {
    ${i.alignCorners===0?`
    // alignCorners: false => [-1, 1] to [-0.5, length - 0.5]
    return ((n + 1.0) * f32(length) - 1.0) / 2.0;
    `:`
    // alignCorners: true => [-1, 1] to [0, length - 1]
    return (n + 1.0) / 2.0 * (f32(length - 1));
    `}
  }
`,Y0=i=>`
  ${i.paddingMode==="reflection"?`
      fn gs_reflect(x: i32, x_min: f32, x_max: f32) -> u32 {
        var dx = 0.0;
        var fx = f32(x);
        let range = x_max - x_min;
        if (fx < x_min) {
          dx = x_min - fx;
          let n = u32(dx / range);
          let r = dx - f32(n) * range;
          if (n % 2 == 0) {
            fx = x_min + r;
          } else {
            fx = x_max - r;
          }
        } else if (fx > x_max) {
          dx = fx - x_max;
          let n = u32(dx / range);
          let r = dx - f32(n) * range;
          if (n % 2 == 0) {
            fx = x_max - r;
          } else {
            fx = x_min + r;
          }
        }
        return u32(fx);
      }`:""}
`,n_=(i,l,d)=>`
  fn pixel_at_grid(r: i32, c: i32, H: i32, W: i32, batch: u32, channel: u32, border: vec4<f32>) -> ${l} {
     var pixel = ${l}(0);
     var indices = vec4<u32>(0);
     indices[${ds}] = batch;
     indices[${Ts}] = channel;`+(()=>{switch(d.paddingMode){case"zeros":return`
          if (r >= 0 && r < H && c >=0 && c < W) {
            indices[${xl}] = u32(r);
            indices[${wl}] = u32(c);
          }
        `;case"border":return`
          indices[${xl}] = u32(clamp(r, 0, H - 1));
          indices[${wl}] = u32(clamp(c, 0, W - 1));
        `;case"reflection":return`
          indices[${xl}] = gs_reflect(r, border[1], border[3]);
          indices[${wl}] = gs_reflect(c, border[0], border[2]);
        `;default:throw new Error(`padding mode ${d.paddingMode} is not supported`)}})()+`
    return ${i.getByIndices("indices")};
  }
`,i_=(i,l,d)=>(()=>{switch(d.mode){case"nearest":return`
          let result = pixel_at_grid(i32(round(y)), i32(round(x)), H_in, W_in, indices[${ds}], indices[${Ts}], border);
        `;case"bilinear":return`
          let x1 = i32(floor(x));
          let y1 = i32(floor(y));
          let x2 = x1 + 1;
          let y2 = y1 + 1;

          let p11 = pixel_at_grid(y1, x1, H_in, W_in, indices[${ds}], indices[${Ts}], border);
          let p12 = pixel_at_grid(y1, x2, H_in, W_in, indices[${ds}], indices[${Ts}], border);
          let p21 = pixel_at_grid(y2, x1, H_in, W_in, indices[${ds}], indices[${Ts}], border);
          let p22 = pixel_at_grid(y2, x2, H_in, W_in, indices[${ds}], indices[${Ts}], border);

          let dx2 = ${l}(f32(x2) - x);
          let dx1 = ${l}(x - f32(x1));
          let dy2 = ${l}(f32(y2) - y);
          let dy1 = ${l}(y - f32(y1));
          let result = dy2 * (dx2 * p11 + dx1 * p12) + dy1 * (dx2 * p21 + dx1 * p22);
        `;case"bicubic":return`
          let x0 = i32(floor(x)) - 1;
          let y0 = i32(floor(y)) - 1;
          var p: mat4x4<${l}>;
          for (var h = 0; h < 4; h++) {
            for (var w = 0; w < 4; w++) {
              p[h][w] = pixel_at_grid(h + y0, w + x0, H_in, W_in, indices[${ds}], indices[${Ts}], border);
            }
          }

          let dx = x - f32(x0 + 1);
          let dy = y - f32(y0 + 1);
          let result = gs_bicubic_interpolate(p, dx, dy);
        `;default:throw new Error(`mode ${d.mode} is not supported`)}})()+`${i.setByOffset("global_idx","result")}`,J0=(i,l)=>{let d=ar("x",i[0].dataType,i[0].dims.length),f=[i[1].dims[0],i[1].dims[1],i[1].dims[2]],g=ar("grid",i[1].dataType,f.length,2),_=[i[0].dims[0],i[0].dims[1],i[1].dims[1],i[1].dims[2]];l.format==="NHWC"&&(_=[i[0].dims[0],i[1].dims[1],i[1].dims[2],i[0].dims[3]],[ds,Ts,xl,wl]=[0,3,1,2]);let M=eo("output",i[0].dataType,_.length),Te=d.type.value,Se=Zt.size(_),$e=[{type:12,data:Se},...Nr(i[0].dims,f,_)],Je=J=>`
  ${J.registerUniform("output_size","u32").declareVariables(d,g,M)}
  ${Q0}
  ${r_(Te)}
  ${o_(l)}
  ${Y0(l)}
  ${n_(d,Te,l)}

  ${J.mainStart()}
    ${J.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
      let H_in = i32(uniforms.x_shape[${xl}]);
      let W_in = i32(uniforms.x_shape[${wl}]);

      ${l.alignCorners===0?`
      let x_min = -0.5;
      let x_max = f32(W_in) - 0.5;
      let y_min = -0.5;
      let y_max = f32(H_in) - 0.5;
      `:`
      let x_min = 0.0;
      let x_max = f32(W_in) - 1.0;
      let y_min = 0.0;
      let y_max = f32(H_in) - 1.0;
      `};
      let border = vec4<f32>(x_min, y_min, x_max, y_max);

      let indices = ${M.offsetToIndices("global_idx")};
      var grid_indices = vec3<u32>(indices[${ds}], indices[${xl}], indices[${wl}]);
      let nxy = ${g.getByIndices("grid_indices")};
      var x = gs_denormalize(f32(nxy[0]), W_in);
      var y = gs_denormalize(f32(nxy[1]), H_in);

      ${i_(M,Te,l)}
  }`;return{name:"GridSample",shaderCache:{hint:`${l.cacheKey}`,inputDependencies:["type","type"]},getRunData:J=>{let et=Zt.size(_);return{outputs:[{dims:_,dataType:J[0].dataType}],dispatchGroup:{x:Math.ceil(et/64)},programUniforms:$e}},getShaderSource:Je}},a_=(i,l)=>{t_(i.inputs),i.compute(J0(i.inputs,l))},s_=i=>fo({alignCorners:i.align_corners,mode:i.mode,paddingMode:i.padding_mode,format:i.format})}),Ti,Zp,ef,eh,wu,Cl,a1,l_=p(()=>{"use strict";io(),ro(),Ro(),Bt(),Yf(),wo(),Xs(),Ti=(i,l)=>i.length>l&&i[l].dims.length>0?i[l]:void 0,Zp=(i,l)=>{let d=i[0],f=Ti(i,1),g=Ti(i,2),_=Ti(i,3),M=Ti(i,4),Te=Ti(i,5),Se=Ti(i,6),$e=Ti(i,7);if(d.dims.length!==3&&d.dims.length!==5)throw new Error("Input query is expected to have 3 or 5 dimensions");let Je=d.dims[0],J=d.dims[1],et=d.dims.length===3?d.dims[2]:l.numHeads*d.dims[4],dt=J,it=0,ct=0,Mt=Math.floor(et/l.numHeads);if(Se&&$e&&Zt.size(Se.dims)&&Zt.size($e.dims)){if(Se.dims.length!==4)throw new Error('Input "past_key" is expected to have 4 dimensions');if(Se.dims[0]!==Je||Se.dims[1]!==l.numHeads||Se.dims[3]!==Mt)throw new Error('Input "past_key" shape (batch_size, num_heads, past_sequence_length, head_size)');if($e.dims[0]!==Je||$e.dims[1]!==l.numHeads||$e.dims[3]!==Mt)throw new Error('Input "past_value" shape (batch_size, num_heads, past_sequence_length, head_size)');if(Se.dims[2]!==$e.dims[2])throw new Error('Input "past_key" and "past_value" shall have same dim 2 (past_sequence_length)');if($e.dims.length!==4)throw new Error('Input "past_value" is expected to have 4 dimensions');it=Se.dims[2],ct=Se.dims[2]}else if(Se&&Zt.size(Se.dims)||$e&&Zt.size($e.dims))throw new Error('Input "past_key" and "past_value" shall be both present or both absent');let kt;if(f&&Zt.size(f.dims)>0){if(d.dims.length!==3)throw new Error('Input "query" is expected to have 3 dimensions when key is given');if(f.dims.length<3||f.dims.length>5)throw new Error('Input "key" is expected to have 3, 4, or 5 dimensions');if(d.dims[0]!==f.dims[0])throw new Error('Input "query" and "key" shall have same dim 0 (batch size)');if(f.dims.length===3){if(f.dims[2]!==d.dims[2])throw new Error('Input "query" and "key" shall have same dim 2 (hidden_size)');kt=2,dt=f.dims[1]}else if(f.dims.length===5){if(f.dims[2]!==l.numHeads||f.dims[3]!==2||f.dims[4]!==Mt)throw new Error('Expect "key" shape (batch_size, kv_sequence_length, num_heads, 2, head_size) for packed kv');if(g)throw new Error('Expect "value" be none when "key" has packed kv format.');kt=5,dt=f.dims[1]}else{if(f.dims[1]!==l.numHeads||f.dims[3]!==Mt)throw new Error('Expect "key" shape (batch_size, num_heads, kv_sequence_length, head_size) for past_key');kt=0,dt=f.dims[2]}}else{if(d.dims.length!==5)throw new Error('Input "query" is expected to have 5 dimensions when key is empty');if(d.dims[2]!==l.numHeads||d.dims[3]!==3)throw new Error('Expect "query" shape (batch_size, kv_sequence_length, num_heads, 3, head_size) for packed kv');kt=3}if(_&&Zt.size(_.dims)>0){if(_.dims.length!==1)throw new Error('Input "bias" is expected to have 1 dimension');if(f&&f.dims.length===5&&f.dims[3]===2)throw new Error("bias is not allowed for packed kv.")}let pt=it+dt,Pt=0;if(M&&Zt.size(M.dims)>0){Pt=8;let Jt=M.dims;throw Jt.length===1?Jt[0]===Je?Pt=1:Jt[0]===3*Je+2&&(Pt=3):Jt.length===2&&Jt[0]===Je&&Jt[1]===pt&&(Pt=5),Pt===8?new Error('Input "key_padding_mask" shape shall be (batch_size) or (batch_size, total_sequence_length)'):new Error("Mask not supported")}let Lt=!1,jt=et;if(g&&Zt.size(g.dims)>0){if(g.dims.length!==3&&g.dims.length!==4)throw new Error('Input "value" is expected to have 3 or 4 dimensions');if(d.dims[0]!==g.dims[0])throw new Error('Input "query" and "value" shall have same dim 0 (batch_size)');if(g.dims.length===3){if(dt!==g.dims[1])throw new Error('Input "key" and "value" shall have the same dim 1 (kv_sequence_length)');jt=g.dims[2]}else{if(dt!==g.dims[2])throw new Error('Input "key" and "value" shall have the same dim 2 (kv_sequence_length)');jt=g.dims[1]*g.dims[3],Lt=!0}}let Yt=!1;if(M&&Zt.size(M.dims)>0)throw new Error("Key padding mask is not supported");if(Te&&Zt.size(Te.dims)>0){if(Te.dims.length!==4)throw new Error('Input "attention_bias" is expected to have 4 dimensions');if(Te.dims[0]!==Je||Te.dims[1]!==l.numHeads||Te.dims[2]!==J||Te.dims[3]!==pt)throw new Error('Expect "attention_bias" shape (batch_size, num_heads, sequence_length, total_sequence_length)')}return{batchSize:Je,sequenceLength:J,pastSequenceLength:it,kvSequenceLength:dt,totalSequenceLength:pt,maxSequenceLength:ct,inputHiddenSize:0,hiddenSize:et,vHiddenSize:jt,headSize:Mt,vHeadSize:Math.floor(jt/l.numHeads),numHeads:l.numHeads,isUnidirectional:!1,pastPresentShareBuffer:!1,maskFilterValue:l.maskFilterValue,maskType:Pt,scale:l.scale,broadcastResPosBias:Yt,passPastInKv:Lt,qkvFormat:kt}},ef=i=>fo(Vt({},i)),eh=fo({perm:[0,2,1,3]}),wu=(i,l,d,f,g,_,M)=>{let Te=[f,g,_],Se=Zt.size(Te),$e=[{type:12,data:Se},{type:12,data:M},{type:12,data:_}],Je=J=>{let et=eo("qkv_with_bias",l.dataType,Te),dt=ar("qkv",l.dataType,Te),it=ar("bias",d.dataType,Te),ct=[{name:"output_size",type:"u32"},{name:"bias_offset",type:"u32"},{name:"hidden_size",type:"u32"}];return`
  ${J.registerUniforms(ct).declareVariables(dt,it,et)}
  ${J.mainStart()}
    ${J.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
    let bias_offset_idx = (global_idx % uniforms.hidden_size) + uniforms.bias_offset;

    qkv_with_bias[global_idx] = qkv[global_idx] + bias[bias_offset_idx];
  }`};return i.compute({name:"MultiHeadAttentionAddBias",shaderCache:{inputDependencies:["type","type"]},getRunData:()=>({outputs:[{dims:Te,dataType:l.dataType,gpuDataType:0}],dispatchGroup:{x:Math.ceil(Se/64)},programUniforms:$e}),getShaderSource:Je},{inputs:[l,d],outputs:[-1]})[0]},Cl=(i,l,d,f,g,_,M,Te)=>{let Se=_;if(M&&Zt.size(M.dims)>0){if(f===1)throw new Error("AddBiasReshape is not implemented. Please export your model with packed QKV or KV");return Se=wu(i,_,M,l,f,d*g,Te),Se=Se.reshape([l,f,d,g]),d===1||f===1?Se:i.compute(Ki(Se,eh.perm),{inputs:[Se],outputs:[-1]})[0]}else return _.dims.length===3&&(Se=_.reshape([l,f,d,g])),d===1||f===1?Se:i.compute(Ki(Se,eh.perm),{inputs:[Se],outputs:[-1]})[0]},a1=(i,l)=>{let d=Zp(i.inputs,l),f=i.inputs[0],g=Ti(i.inputs,1),_=Ti(i.inputs,2),M=Ti(i.inputs,3),Te=Ti(i.inputs,4),Se=Ti(i.inputs,5),$e=Ti(i.inputs,6),Je=Ti(i.inputs,7);if(f.dims.length===5)throw new Error("Packed QKV is not implemented");if(g?.dims.length===5)throw new Error("Packed KV is not implemented");let J=g&&_&&g.dims.length===4&&_.dims.length===4,et=Cl(i,d.batchSize,d.numHeads,d.sequenceLength,d.headSize,f,M,0);if(J)return pu(i,et,g,_,Te,void 0,$e,Je,Se,d);if(!g||!_)throw new Error("key and value must be provided");let dt=Cl(i,d.batchSize,d.numHeads,d.kvSequenceLength,d.headSize,g,M,d.hiddenSize),it=Cl(i,d.batchSize,d.numHeads,d.kvSequenceLength,d.vHeadSize,_,M,2*d.hiddenSize);pu(i,et,dt,it,Te,void 0,$e,Je,Se,d)}}),c_,th,d_,u_,tf,p_,rf,rh=p(()=>{"use strict";io(),ro(),Ro(),wo(),c_=i=>{if(!i||i.length<1)throw new Error("too few inputs")},th=(i,l)=>{let d=[],f=l.numOutputs;return i[1].dims[0]>0&&(i[1].getBigInt64Array().forEach(g=>d.push(Number(g))),f=d.length),fo({numOutputs:f,axis:l.axis,splitSizes:d})},d_=i=>`
fn calculateOutputIndex(index: u32) -> u32 {
    for (var i: u32 = 0u; i < ${i}u; i += 1u ) {
    if (index < ${Hr("uniforms.size_in_split_axis","i",i)}) {
        return i;
    }
    }
    return ${i}u;
}`,u_=i=>{let l=i.length,d=[];for(let f=0;f<l;++f){let g=i[f].setByIndices("indices","input[global_idx]");l===1?d.push(g):f===0?d.push(`if (output_number == ${f}u) { ${g} }`):f===l-1?d.push(`else { ${g} }`):d.push(`else if (output_number == ${f}) { ${g} }`)}return`
      fn writeBufferData(output_number: u32, indices: ${i[0].type.indices}, global_idx: u32) {
        ${d.join(`
`)}
      }`},tf=(i,l)=>{let d=i[0].dims,f=Zt.size(d),g=i[0].dataType,_=Zt.normalizeAxis(l.axis,d.length),M=new Array(l.numOutputs),Te=ar("input",g,d.length),Se=new Array(l.numOutputs),$e=[],Je=[],J=0,et=[{type:12,data:f}];for(let it=0;it<l.numOutputs;it++){J+=l.splitSizes[it],Se[it]=J;let ct=d.slice();ct[_]=l.splitSizes[it],Je.push(ct),M[it]=eo(`output${it}`,g,ct.length),$e.push({dims:Je[it],dataType:i[0].dataType})}et.push({type:12,data:Se},...Nr(d,...Je));let dt=it=>`
  ${it.registerUniform("input_size","u32").registerUniform("size_in_split_axis","u32",Se.length).declareVariables(Te,...M)}
  ${d_(Se.length)}
  ${u_(M)}

  ${it.mainStart()}
    ${it.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.input_size")}

    var indices = ${Te.offsetToIndices("global_idx")};
    var index = ${Te.indicesGet("indices",_)};
    let output_number = calculateOutputIndex(index);
    if (output_number != 0) {
      index -= ${Hr("uniforms.size_in_split_axis","output_number - 1u",Se.length)};
      ${Te.indicesSet("indices",_,"index")};
    }
    writeBufferData(output_number, indices, global_idx);
  }`;return{name:"Split",shaderCache:{hint:l.cacheKey,inputDependencies:["rank"]},getShaderSource:dt,getRunData:()=>({outputs:$e,dispatchGroup:{x:Math.ceil(f/64)},programUniforms:et})}},p_=(i,l)=>{c_(i.inputs);let d=i.inputs.length===1?l:th(i.inputs,l);i.compute(tf(i.inputs,d),{inputs:[0]})},rf=i=>{let l=i.axis,d=i.splitSizes,f=i.numOutputs<0?d.length:i.numOutputs;if(f!==d.length)throw new Error("numOutputs and splitSizes lengh must be equal");return fo({axis:l,numOutputs:f,splitSizes:d})}}),s1,l1,Wl,oh,c1=p(()=>{"use strict";Ro(),Yf(),l_(),rh(),Xs(),s1=(i,l)=>{if(l.doRotary)throw new Error("GroupQuerryAttention do_rotary attribute is not supported");if(l.doRotary&&i.length<=7)throw new Error("cos_cache and sin_cache inputs are required if do_rotary is specified");let d=i[0],f=i[1],g=i[2],_=i[3],M=i[4];if(l.localWindowSize!==-1)throw new Error("Local attention is not supported");if(l.softcap!==0)throw new Error("Softcap is not supported");if(l.rotaryInterleaved!==0)throw new Error("Rotary interleaved is not supported");if(l.smoothSoftmax)throw new Error("Smooth softmax is not supported");if(d.dims.length!==3&&d.dims.length!==5)throw new Error("Input query is expected to have 3 or 5 dimensions");let Te=!1,Se=d.dims[0],$e=d.dims[1],Je=d.dims.length===3?Te?d.dims[2]/3:d.dims[2]:l.numHeads*d.dims[4],J=$e,et=0,dt=!f||f.dims.length===0,it=Math.floor(dt?Je/(l.numHeads+2*l.kvNumHeads):Je/l.numHeads);dt&&(Je=it*l.numHeads);let ct=_&&_.dims.length!==0,Mt=M&&M.dims.length!==0;if(ct&&_.dims.length===4&&_.dims[0]===Se&&_.dims[1]!==l.kvNumHeads&&_.dims[2]===l.kvNumHeads&&_.dims[3]===it)throw new Error("BSNH pastKey/pastValue is not supported");if(ct&&Mt){if(_.dims.length!==4)throw new Error('Input "past_key" is expected to have 4 dimensions');if(M.dims.length!==4)throw new Error('Input "past_value" is expected to have 4 dimensions');et=_.dims[2]}else if(ct||Mt)throw new Error('Input "past_key" and "past_value" shall be both present or both absent');let kt=1;if(f&&f.dims.length>0){if(d.dims.length!==3)throw new Error('Input "query" is expected to have 3 dimensions when key is given');if(f.dims.length<3||f.dims.length>5)throw new Error('Input "key" is expected to have 3, 4, or 5 dimensions');if(d.dims[0]!==f.dims[0])throw new Error('Input "query" and "key" shall have same dim 0 (batch size)');if(f.dims.length===3){if(d.dims[2]%f.dims[2]!==0)throw new Error('Dimension 2 of "query" should be a multiple of "key"');J=f.dims[1]}else if(f.dims.length===5){if(f.dims[2]!==l.numHeads||f.dims[3]!==2||f.dims[4]!==it)throw new Error('Expect "key" shape (batch_size, kv_sequence_length, num_heads, 2, head_size) for packed kv');if(g)throw new Error('Expect "value" be none when "key" has packed kv format.');J=f.dims[1]}else{if(f.dims[1]!==l.numHeads||f.dims[3]!==it)throw new Error('Expect "key" shape (batch_size, num_heads, kv_sequence_length, head_size) for past_key');J=f.dims[2]}}else{if(d.dims.length!==3&&d.dims.length!==5)throw new Error('Input "query" is expected to have 3 or 5 dimensions when key is empty');if(d.dims.length===5&&(d.dims[2]!==l.numHeads||d.dims[3]!==3))throw new Error('Expect "query" shape (batch_size, kv_sequence_length, num_heads, 3, head_size) for packed kv');kt=3}let pt=0,Pt=!1,Lt=l.kvNumHeads?it*l.kvNumHeads:Je;if(g&&g.dims.length>0){if(g.dims.length!==3&&g.dims.length!==4)throw new Error('Input "value" is expected to have 3 or 4 dimensions');if(d.dims[0]!==g.dims[0])throw new Error('Input "query" and "value" shall have same dim 0 (batch_size)');if(g.dims.length===3){if(J!==g.dims[1])throw new Error('Input "key" and "value" shall have the same dim 1 (kv_sequence_length)');Lt=g.dims[2]}else{if(J!==g.dims[2])throw new Error('Input "past_key" and "past_value" shall have the same dim 2 (kv_sequence_length)');Lt=g.dims[1]*g.dims[3],Pt=!0}}let jt=i.length>4?i[5]:void 0;if(jt&&jt.dims.length!==1&&jt.dims[0]!==Se)throw new Error('Input "seqlens" is expected to have 1 dimension and the same dim 0 as batch_size');return{batchSize:Se,sequenceLength:$e,pastSequenceLength:et,kvSequenceLength:J,totalSequenceLength:-1,maxSequenceLength:-1,inputHiddenSize:0,hiddenSize:Je,vHiddenSize:Lt,headSize:it,vHeadSize:Math.floor(Lt/l.kvNumHeads),numHeads:l.numHeads,kvNumHeads:l.kvNumHeads,nReps:l.numHeads/l.kvNumHeads,pastPresentShareBuffer:!1,maskType:pt,scale:l.scale,broadcastResPosBias:!1,passPastInKv:Pt,qkvFormat:kt}},l1=fo({perm:[0,2,1,3]}),Wl=(i,l,d)=>{let f=l,g=d.kvNumHeads;return l.dims.length===3&&d.kvSequenceLength!==0&&(f=l.reshape([d.batchSize,d.kvSequenceLength,g,d.headSize]),f=i.compute(Ki(f,l1.perm),{inputs:[f],outputs:[-1]})[0]),f},oh=(i,l)=>{let d=s1(i.inputs,l);if(i.inputs[0].dims.length===5)throw new Error("Packed QKV is not implemented");if(i.inputs[1]?.dims.length===5)throw new Error("Packed KV is not implemented");let f=i.inputs[0],g=i.inputs[1]&&i.inputs[1].dims.length>0?i.inputs[1]:void 0,_=i.inputs[2]&&i.inputs[2].dims.length>0?i.inputs[2]:void 0,M=i.inputs[3]&&i.inputs[3].dims.length!==0?i.inputs[3]:void 0,Te=i.inputs[4]&&i.inputs[4].dims.length!==0?i.inputs[4]:void 0,Se=i.inputs.length>4?i.inputs[5]:void 0,$e=i.inputs.length>5?i.inputs[6]:void 0,Je=d.kvNumHeads?d.kvNumHeads:d.numHeads,J=fo({axis:2,numOutputs:3,splitSizes:[d.numHeads*d.headSize,Je*d.headSize,Je*d.headSize]}),[et,dt,it]=!g&&!_?i.compute(tf([f],J),{inputs:[f],outputs:[-1,-1,-1]}):[f,g,_],ct=Cl(i,d.batchSize,d.numHeads,d.sequenceLength,d.headSize,et,void 0,0);pu(i,ct,Wl(i,dt,d),Wl(i,it,d),void 0,void 0,M,Te,void 0,d,Se,$e)}}),Cu,nh,f_,of,h_=p(()=>{"use strict";io(),ro(),Xs(),wo(),Cu=(i,l,d,f,g,_,M,Te)=>{let Se=xo(_),$e=Se===1?"f32":`vec${Se}f`,Je=Se===1?"vec2f":`mat2x${Se}f`,J=g*M,et=64;J===1&&(et=256);let dt=[g,M,_/Se],it=[g,M,2],ct=["rank","type","type"],Mt=[];Mt.push(...Nr(dt,it));let kt=pt=>{let Pt=ar("x",l.dataType,3,Se),Lt=ar("scale",d.dataType,d.dims),jt=ar("bias",f.dataType,f.dims),Yt=eo("output",1,3,2),Jt=[Pt,Lt,jt,Yt];return`
  var<workgroup> workgroup_shared : array<${Je}, ${et}>;
  const workgroup_size = ${et}u;
  ${pt.declareVariables(...Jt)}
  ${pt.mainStart(et)}
    let batch = workgroup_index / uniforms.x_shape[1];
    let channel = workgroup_index % uniforms.x_shape[1];
    let hight = uniforms.x_shape[2];
    // initialize workgroup memory
    var sum = ${$e}(0);
    var squared_sum = ${$e}(0);
    for (var h = local_idx; h < hight; h += workgroup_size) {
      let value = ${$e}(${Pt.get("batch","channel","h")});
      sum += value;
      squared_sum += value * value;
    }
    workgroup_shared[local_idx] = ${Je}(sum, squared_sum);
    workgroupBarrier();

    for (var currSize = workgroup_size >> 1;  currSize > 0; currSize = currSize >> 1) {
      if (local_idx < currSize) {
        workgroup_shared[local_idx] = workgroup_shared[local_idx] + workgroup_shared[local_idx + currSize];
      }
      workgroupBarrier();
    }
    if (local_idx == 0) {
      let sum_final = ${Xn("workgroup_shared[0][0]",Se)} / f32(hight * ${Se});
      let squared_sum_final = ${Xn("workgroup_shared[0][1]",Se)} / f32(hight * ${Se});

      let inv_std_dev = inverseSqrt(squared_sum_final - sum_final * sum_final + f32(${Te}));
      let channel_scale = inv_std_dev * f32(scale[channel]);
      let channel_shift = f32(bias[channel]) - sum_final * channel_scale;
      output[workgroup_index] = vec2f(channel_scale, channel_shift);
    }
  }`};return i.compute({name:"InstanceNormComputeChannelScaleShift",shaderCache:{hint:`${Se};${Te};${et}`,inputDependencies:ct},getRunData:()=>({outputs:[{dims:it,dataType:1}],dispatchGroup:{x:J},programUniforms:Mt}),getShaderSource:kt},{inputs:[l,d,f],outputs:[-1]})[0]},nh=(i,l,d)=>{let f=l[0].dims,g=f,_=2,M=f[0],Te=f[1],Se=Zt.sizeFromDimension(f,_),$e=xo(Se),Je=Zt.size(g)/$e,J=Cu(i,l[0],l[1],l[2],M,Se,Te,d.epsilon),et=[M,Te,Se/$e],dt=[M,Te],it=["type","none"],ct=Mt=>{let kt=ar("x",l[0].dataType,et.length,$e),pt=ar("scale_shift",1,dt.length,2),Pt=eo("output",l[0].dataType,et.length,$e),Lt=[kt,pt,Pt];return`
  ${Mt.registerUniform("output_size","u32").declareVariables(...Lt)}
  ${Mt.mainStart()}
  ${Mt.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
      let outputIndices = ${Pt.offsetToIndices("global_idx")};
      let batch = outputIndices[0];
      let channel = outputIndices[1];
      let scale_shift = ${pt.getByIndices("vec2<u32>(batch, channel)")};
      let value = ${kt.getByOffset("global_idx")} * ${Pt.type.value}(scale_shift.x) + ${Pt.type.value}(scale_shift.y);
      ${Pt.setByOffset("global_idx","value")};
  }`};i.compute({name:"InstanceNormalization",shaderCache:{hint:`${$e}`,inputDependencies:it},getRunData:()=>({outputs:[{dims:g,dataType:l[0].dataType}],dispatchGroup:{x:Math.ceil(Je/64)},programUniforms:[{type:12,data:Je},...Nr(et,dt,et)]}),getShaderSource:ct},{inputs:[l[0],J]})},f_=(i,l,d)=>{let f=l[0].dims,g=f,_=f[0],M=f[f.length-1],Te=Zt.sizeFromDimension(f,1)/M,Se=xo(M),$e=Zt.size(g)/Se,Je=[{type:12,data:Te},{type:12,data:Math.floor(M/Se)}],J=["type","type"],et=!1,dt=[0,f.length-1];for(let kt=0;kt<f.length-2;kt++)et=et||f[kt+1]!==1,dt.push(kt+1);et=et&&f[f.length-1]!==1;let it=et?i.compute(Ki(i.inputs[0],dt),{inputs:[i.inputs[0]],outputs:[-1]})[0]:i.inputs[0].reshape(Array.from({length:f.length},(kt,pt)=>f[dt[pt]])),ct=Cu(i,it,l[1],l[2],_,Te,M,d.epsilon),Mt=kt=>{let pt=qo(l[0].dataType),Pt=Se===1?"vec2f":`mat${Se}x2f`,Lt=Jt=>{let Mr=Jt===0?"x":"y",Pr=Se===1?"f32":`vec${Se}f`;switch(Se){case 1:return`${pt}(${Pr}(scale.${Mr}))`;case 2:return`vec2<${pt}>(${Pr}(scale[0].${Mr}, scale[1].${Mr}))`;case 4:return`vec4<${pt}>(${Pr}(scale[0].${Mr}, scale[1].${Mr}, scale[2].${Mr}, scale[3].${Mr}))`;default:throw new Error(`Not supported compoents ${Se}`)}},jt=ar("input",l[0].dataType,l[0].dims,Se),Yt=eo("output",l[0].dataType,g,Se);return`
  @group(0) @binding(0) var<storage, read> input : array<${jt.type.storage}>;
  @group(0) @binding(1) var<storage, read> scale_input : array<${Pt}>;
  @group(0) @binding(2) var<storage, read_write> output : array<${Yt.type.storage}>;
  struct Uniforms {H: u32, C : u32};
  @group(0) @binding(3) var<uniform> uniforms: Uniforms;

  ${kt.mainStart()}
    let current_image_number = global_idx / (uniforms.C * uniforms.H);
    let current_channel_number = global_idx % uniforms.C;

    let scale_offset = current_image_number * uniforms.C + current_channel_number;
    let scale = scale_input[scale_offset];
    output[global_idx] = fma(input[global_idx], ${Lt(0)}, ${Lt(1)});
  }`};i.compute({name:"InstanceNormalizationNHWC",shaderCache:{hint:`${Se}`,inputDependencies:J},getRunData:()=>({outputs:[{dims:g,dataType:l[0].dataType}],dispatchGroup:{x:Math.ceil($e/64)},programUniforms:Je}),getShaderSource:Mt},{inputs:[l[0],ct]})},of=(i,l)=>{l.format==="NHWC"?f_(i,i.inputs,l):nh(i,i.inputs,l)}}),m_,nf,ih,d1=p(()=>{"use strict";io(),ro(),wo(),m_=i=>{if(!i||i.length<2)throw new Error("layerNorm requires at least 2 inputs.")},nf=(i,l,d)=>{let f=l.simplified,g=i[0].dims,_=i[1],M=!f&&i[2],Te=g,Se=Zt.normalizeAxis(l.axis,g.length),$e=Zt.sizeToDimension(g,Se),Je=Zt.sizeFromDimension(g,Se),J=Zt.size(_.dims),et=M?Zt.size(M.dims):0;if(J!==Je||M&&et!==Je)throw new Error(`Size of X.shape()[axis:] == ${Je}.
       Size of scale and bias (if provided) must match this.
       Got scale size of ${J} and bias size of ${et}`);let dt=[];for(let jt=0;jt<g.length;++jt)jt<Se?dt.push(g[jt]):dt.push(1);let it=xo(Je),ct=["type","type"],Mt=[{type:12,data:$e},{type:1,data:Je},{type:12,data:Math.floor(Je/it)},{type:1,data:l.epsilon}];M&&ct.push("type");let kt=d>1,pt=d>2,Pt=jt=>{let Yt=qo(i[0].dataType),Jt=[ar("x",i[0].dataType,i[0].dims,it),ar("scale",_.dataType,_.dims,it)];M&&Jt.push(ar("bias",M.dataType,M.dims,it)),Jt.push(eo("output",i[0].dataType,Te,it)),kt&&Jt.push(eo("mean_data_output",1,dt)),pt&&Jt.push(eo("inv_std_output",1,dt));let Mr=[{name:"norm_count",type:"u32"},{name:"norm_size",type:"f32"},{name:"norm_size_vectorized",type:"u32"},{name:"epsilon",type:"f32"}];return`
  ${jt.registerUniforms(Mr).declareVariables(...Jt)}
  ${jt.mainStart()}
    ${jt.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.norm_count")}
    let offset = global_idx * uniforms.norm_size_vectorized;
    var mean_vector = ${qn("f32",it)};
    var mean_square_vector = ${qn("f32",it)};

    for (var h: u32 = 0u; h < uniforms.norm_size_vectorized; h++) {
      let value = ${En(Yt,it,"x[h + offset]")};
      mean_vector += value;
      mean_square_vector += value * value;
    }
    let mean = ${Xn("mean_vector",it)} / uniforms.norm_size;
    let inv_std_dev = inverseSqrt(${Xn("mean_square_vector",it)} / uniforms.norm_size ${f?"":"- mean * mean"} + uniforms.epsilon);

    for (var j: u32 = 0; j < uniforms.norm_size_vectorized; j++) {
      let f32input = ${En(Yt,it,"x[j + offset]")};
      let f32scale = ${En(Yt,it,"scale[j]")};
      output[j + offset] = ${Jt[0].type.value}((f32input ${f?"":"- mean"}) * inv_std_dev * f32scale
        ${M?`+ ${En(Yt,it,"bias[j]")}`:""}
      );
    }

    ${kt?"mean_data_output[global_idx] = mean":""};
    ${pt?"inv_std_output[global_idx] = inv_std_dev":""};
  }`},Lt=[{dims:Te,dataType:i[0].dataType}];return kt&&Lt.push({dims:dt,dataType:1}),pt&&Lt.push({dims:dt,dataType:1}),{name:"LayerNormalization",shaderCache:{hint:`${it};${d};${f}`,inputDependencies:ct},getRunData:()=>({outputs:Lt,dispatchGroup:{x:Math.ceil($e/64)},programUniforms:Mt}),getShaderSource:Pt}},ih=(i,l)=>{m_(i.inputs),i.compute(nf(i.inputs,l,i.outputCount))}}),af,g_,u1=p(()=>{"use strict";ro(),Ep(),_u(),af=i=>{if(!i||i.length!==2)throw new Error("MatMul requires 2 inputs.");if(i[0].dims[i[0].dims.length-1]!==i[1].dims[i[1].dims.length-2])throw new Error("shared dimension does not match.")},g_=i=>{af(i.inputs);let l=mi.calcShape(i.inputs[0].dims,i.inputs[1].dims,!0);if(!l)throw new Error("Can't use matmul on the given tensors");let d=l[l.length-1],f=i.inputs[0].dims[i.inputs[0].dims.length-1];if(d<8&&f<8)i.compute(k0(i.inputs,{activation:""},l));else{let g=l[l.length-2],_=Zt.size(i.inputs[0].dims.slice(0,-2)),M=Zt.size(i.inputs[1].dims.slice(0,-2));if(_!==1&&g===1&&M===1){let Te=i.inputs[0].reshape([1,_,f]),Se=i.inputs[1].reshape([1,f,d]),$e=[1,_,d],Je=[Te,Se];i.compute(Ap(Je,{activation:""},l,$e),{inputs:Je})}else i.compute(Ap(i.inputs,{activation:""},l))}}}),__,ku,b_,v_,sf,y_=p(()=>{"use strict";io(),ro(),Ro(),wo(),__=(i,l)=>{if(i.length<3||i.length>4)throw new Error("MatMulNBits requires 3 or 4 inputs");let d=i[0],f=d.dims.length;if(d.dims[f-1]!==l.k)throw new Error("The last dim of input shape does not match the k value");let g=Math.floor((l.k+l.blockSize-1)/l.blockSize),_=l.blockSize/8*l.bits,M=i[1];if(!Zt.areEqual(M.dims,[l.n,g,_]))throw new Error("The second inputs must be 3D tensor with shape N X nBlocksPerCol X blobSize");let Te=i[2].dims;if(Zt.size(Te)!==l.n*g)throw new Error("scales input size error.");if(i.length===4){let Se=i[3].dims,$e=l.bits>4?l.n*g:l.n*Math.floor((g+1)/2);if(Zt.size(Se)!==$e)throw new Error("zeroPoints input size error.")}},ku=(i,l)=>{let d=i[0].dims,f=d.length,g=d[f-2],_=l.k,M=l.n,Te=d.slice(0,f-2),Se=Zt.size(Te),$e=i[1].dims[2]/4,Je=i[0].dataType,J=xo(l.k),et=xo($e),dt=xo(M),it=Te.concat([g,M]),ct=g>1&&M/dt%2===0?2:1,Mt=Zt.size(it)/dt/ct,kt=64,pt=[],Pt=[Se,g,_/J],Lt=Zt.convertShape(i[1].dims).slice();Lt.splice(-1,1,$e/et),pt.push(...Nr(Pt)),pt.push(...Nr(Lt)),pt.push(...Nr(i[2].dims)),i.length===4&&pt.push(...Nr(Zt.convertShape(i[3].dims)));let jt=[Se,g,M/dt];pt.push(...Nr(jt));let Yt=Jt=>{let Mr=Pt.length,Pr=ar("a",i[0].dataType,Mr,J),Xr=ar("b",12,Lt.length,et),Qr=ar("scales",i[2].dataType,i[2].dims.length),yo=[Pr,Xr,Qr],Br=i.length===4?ar("zero_points",12,i[3].dims.length):void 0;Br&&yo.push(Br);let Do=jt.length,mo=eo("output",i[0].dataType,Do,dt),to=qo(i[0].dataType),Lo=(()=>{switch(J){case 1:return`array<${to}, 8>`;case 2:return`mat4x2<${to}>`;case 4:return`mat2x4<${to}>`;default:throw new Error(`${J}-component is not supported.`)}})(),So=()=>{let Er=`
          // reuse a data
            var input_offset = ${Pr.indicesToOffset(`${Pr.type.indices}(batch, row, word_offset)`)};
            var a_data: ${Lo};
            for (var j: u32 = 0; j < ${8/J}; j++) {
              a_data[j] = ${Pr.getByOffset("input_offset")};
              input_offset++;
            }
          `;for(let Kr=0;Kr<dt*ct;Kr++)Er+=`
            b_value = ${et===1?`b${Kr}_data`:`b${Kr}_data[i]`};
            b_value_lower = unpack4xU8(b_value & b_mask);
            b_value_upper = unpack4xU8((b_value >> 4) & b_mask);
            b_quantized_values = ${Lo}(${Array.from({length:4},(dn,An)=>`${to}(b_value_lower[${An}]), ${to}(b_value_upper[${An}])`).join(", ")});
            b_dequantized_values = ${J===1?`${Lo}(${Array.from({length:8},(dn,An)=>`(b_quantized_values[${An}] - ${Br?`zero_point${Kr}`:"zero_point"}) * scale${Kr}`).join(", ")});`:`(b_quantized_values - ${Lo}(${Array(8).fill(`${Br?`zero_point${Kr}`:"zero_point"}`).join(",")})) * scale${Kr};`};
            workgroup_shared[local_id.x * ${ct} + ${Math.floor(Kr/dt)}]${dt>1?`[${Kr%dt}]`:""} += ${Array.from({length:8/J},(dn,An)=>`${J===1?`a_data[${An}] * b_dequantized_values[${An}]`:`dot(a_data[${An}], b_dequantized_values[${An}])`}`).join(" + ")};
          `;return Er},go=()=>{let Er=`
            var col_index = col * ${dt};
            ${Br?`
            let zero_point_bytes_per_col = (nBlocksPerCol + 1) / 2;
            var zero_point_byte_count: u32;
            var zero_point_word_index: u32;
            var zero_point_byte_offset: u32;
            let zero_point_nibble_offset: u32 = block & 0x1u;
            var zero_point_bits_offset: u32;
            var zero_point_word: u32;`:`
            // The default zero point is 8 for unsigned 4-bit quantization.
            let zero_point = ${to}(8);`}
            `;for(let Kr=0;Kr<dt*ct;Kr++)Er+=`
            let scale${Kr} = ${Qr.getByOffset("col_index * nBlocksPerCol + block")};
            ${Br?`
            zero_point_byte_count = col_index * zero_point_bytes_per_col + (block >> 0x1u);
            zero_point_word_index = zero_point_byte_count >> 0x2u;
            zero_point_byte_offset = zero_point_byte_count & 0x3u;
            zero_point_bits_offset = (zero_point_byte_offset << 3) + (zero_point_nibble_offset << 2);
            zero_point_word = ${Br.getByOffset("zero_point_word_index")} >> zero_point_bits_offset;
            let zero_point${Kr} = ${to}((zero_point_word) & 0xFu);`:""}
            col_index += 1;`;return Er},Gn=()=>{let Er=`col_index = col * ${dt};`;for(let Kr=0;Kr<dt*ct;Kr++)Er+=`
            let b${Kr}_data = ${Xr.getByIndices(`${Xr.type.indices}(col_index, block, word)`)};
            col_index += 1;`;return Er+=`
            var b_value: u32;
            let b_mask: u32 = 0x0F0F0F0Fu;
            var b_value_lower: vec4<u32>;
            var b_value_upper: vec4<u32>;
            var b_quantized_values: ${Lo};
            var b_dequantized_values: ${Lo};`,Er};return`
        var<workgroup> workgroup_shared: array<${mo.type.value}, ${ct*kt}>;
        ${Jt.declareVariables(...yo,mo)}
        ${Jt.mainStart([kt,1,1])}
          let output_indices = ${mo.offsetToIndices(`(global_idx / ${kt}) * ${ct}`)};
          let col = output_indices[2];
          let row = output_indices[1];
          let batch = output_indices[0];
          let nBlocksPerCol = uniforms.b_shape[1];

          for (var block = local_id.x; block < nBlocksPerCol; block += ${kt}) {
            //process one block
            var word_offset: u32 = block * ${l.blockSize/J};
            ${go()}
            for (var word: u32 = 0; word < ${$e}; word += ${et}) {
              ${Gn()}
              for (var i: u32 = 0; i < ${et}; i++) {
                ${So()}
                word_offset += ${8/J};
              }
            }
          }
          workgroupBarrier();

          if (local_id.x < ${ct}) {
            var output_value: ${mo.type.value} = ${mo.type.value}(0);
            var workgroup_shared_offset: u32 = local_id.x;
            for (var b: u32 = 0u; b < ${kt}u; b++) {
              output_value += workgroup_shared[workgroup_shared_offset];
              workgroup_shared_offset += ${ct};
            }
            ${mo.setByIndices(`${mo.type.indices}(batch, row, col + local_id.x)`,"output_value")};
          }
        }`};return{name:"MatMulNBits",shaderCache:{hint:`${l.blockSize};${l.bits};${J};${et};${dt};${ct};${kt}`,inputDependencies:Array(i.length).fill("rank")},getRunData:()=>({outputs:[{dims:it,dataType:Je}],dispatchGroup:{x:Mt},programUniforms:pt}),getShaderSource:Yt}},b_=(i,l)=>{let d=i[0].dims,f=d.length,g=d[f-2],_=l.k,M=l.n,Te=d.slice(0,f-2),Se=Zt.size(Te),$e=i[1].dims[2]/4,Je=i[0].dataType,J=xo(l.k),et=xo($e),dt=Te.concat([g,M]),it=128,ct=M%8===0?8:M%4===0?4:1,Mt=it/ct,kt=Mt*et*8,pt=kt/J,Pt=kt/l.blockSize,Lt=Zt.size(dt)/ct,jt=[],Yt=[Se,g,_/J],Jt=Zt.convertShape(i[1].dims).slice();Jt.splice(-1,1,$e/et),jt.push(...Nr(Yt)),jt.push(...Nr(Jt)),jt.push(...Nr(i[2].dims)),i.length===4&&jt.push(...Nr(Zt.convertShape(i[3].dims)));let Mr=[Se,g,M];jt.push(...Nr(Mr));let Pr=Xr=>{let Qr=Yt.length,yo=ar("a",i[0].dataType,Qr,J),Br=ar("b",12,Jt.length,et),Do=ar("scales",i[2].dataType,i[2].dims.length),mo=[yo,Br,Do],to=i.length===4?ar("zero_points",12,i[3].dims.length):void 0;to&&mo.push(to);let Lo=Mr.length,So=eo("output",i[0].dataType,Lo),go=qo(i[0].dataType),Gn=()=>{switch(J){case 1:return`
          let a_data0 = vec4<${go}>(sub_a[word_offset], sub_a[word_offset + 1], sub_a[word_offset + 2], sub_a[word_offset + 3]);
          let a_data1 = vec4<${go}>(sub_a[word_offset + 4], sub_a[word_offset + 5], sub_a[word_offset + 6], sub_a[word_offset + 7]);`;case 2:return`
          let a_data0 = vec4<${go}>(sub_a[word_offset], sub_a[word_offset + 1]);
          let a_data1 = vec4<${go}>(sub_a[word_offset + 2], sub_a[word_offset + 3]);`;case 4:return`
          let a_data0 = sub_a[word_offset];
          let a_data1 = sub_a[word_offset + 1];`;default:throw new Error(`${J}-component is not supported.`)}};return`
        var<workgroup> sub_a: array<${yo.type.value}, ${pt}>;
        var<workgroup> inter_results: array<array<${So.type.value}, ${Mt}>, ${ct}>;
        ${Xr.declareVariables(...mo,So)}
        ${Xr.mainStart([Mt,ct,1])}
          let output_indices = ${So.offsetToIndices(`workgroup_index * ${ct}`)};
          let col = output_indices[2];
          let row = output_indices[1];
          let batch = output_indices[0];
          let n_blocks_per_col = uniforms.b_shape[1];
          let num_tiles =  (n_blocks_per_col - 1) / ${Pt} + 1;

          // Loop over shared dimension.
          for (var tile: u32 = 0; tile < num_tiles; tile += 1) {
            let a_col_start = tile * ${pt};
            // load one tile A data into shared memory.
            for (var a_offset = local_idx; a_offset < ${pt}; a_offset += ${it})
            {
              let a_col = a_col_start + a_offset;
              if (a_col < uniforms.a_shape[2])
              {
                sub_a[a_offset] = ${yo.getByIndices(`${yo.type.indices}(batch, row, a_col)`)};
              } else {
                sub_a[a_offset] = ${yo.type.value}(0);
              }
            }
            workgroupBarrier();

            // each thread process one block
            let b_row = col + local_id.y;
            let block = tile * ${Pt} + local_id.x;
            ${to?`
            let zero_point_bytes_per_col = (n_blocks_per_col + 1) / 2;
            let zero_point_byte_count = b_row * zero_point_bytes_per_col + (block >> 0x1u);
            let zero_point_word_index = zero_point_byte_count >> 0x2u;
            let zero_point_byte_offset = zero_point_byte_count & 0x3u;
            let zero_point_nibble_offset: u32 = block & 0x1u;
            let zero_point_bits_offset = (zero_point_byte_offset << 3) + (zero_point_nibble_offset << 2);
            let zero_point_word = ${to.getByOffset("zero_point_word_index")} >> zero_point_bits_offset;
            let zero_point = ${go}((zero_point_word) & 0xFu);`:`
            // The default zero point is 8 for unsigned 4-bit quantization.
            let zero_point = ${go}(8);`}
            let scale = ${Do.getByOffset("b_row * n_blocks_per_col + block")};
            let b_data = ${Br.getByIndices(`${Br.type.indices}(b_row, block, 0)`)};
            var word_offset = local_id.x * ${l.blockSize/J};
            for (var i: u32 = 0; i < ${et}; i++) {
              ${Gn()}
              let b_value = ${et===1?"b_data":"b_data[i]"};
              let b_value_lower = unpack4xU8(b_value & 0x0F0F0F0Fu);
              let b_value_upper = unpack4xU8((b_value >> 4) & 0x0F0F0F0Fu);
              let b_quantized_values = mat2x4<${go}>(${Array.from({length:4},(Er,Kr)=>`${go}(b_value_lower[${Kr}]), ${go}(b_value_upper[${Kr}])`).join(", ")});
              let b_dequantized_values = (b_quantized_values - mat2x4<${go}>(${Array(8).fill("zero_point").join(",")})) * scale;
              inter_results[local_id.y][local_id.x] += ${Array.from({length:2},(Er,Kr)=>`${`dot(a_data${Kr}, b_dequantized_values[${Kr}])`}`).join(" + ")};
              word_offset += ${8/J};
            }
            workgroupBarrier();
          }

          if (local_idx < ${ct}) {
            var output_value: ${So.type.value} = ${So.type.value}(0);
            for (var b = 0u; b < ${Mt}; b++) {
              output_value += inter_results[local_idx][b];
            }
            if (col + local_idx < uniforms.output_shape[2])
            {
              ${So.setByIndices(`${So.type.indices}(batch, row, col + local_idx)`,"output_value")}
            }
          }
        }`};return{name:"BlockwiseMatMulNBits32",shaderCache:{hint:`${l.blockSize};${J};${et};${Mt};${ct}`,inputDependencies:Array(i.length).fill("rank")},getRunData:()=>({outputs:[{dims:dt,dataType:Je}],dispatchGroup:{x:Lt},programUniforms:jt}),getShaderSource:Pr}},v_=(i,l)=>{__(i.inputs,l),l.blockSize===32&&i.adapterInfo.isVendor("intel")&&i.adapterInfo.isArchitecture("gen-12lp")?i.compute(b_(i.inputs,l)):i.compute(ku(i.inputs,l))},sf=i=>fo(i)}),x_,w_,ah,C_,k_,fn,p1,f1,h1,M_=p(()=>{"use strict";io(),ro(),wo(),x_=i=>{if(!i||i.length<1)throw new Error("Too few inputs");if(i[0].dataType!==1&&i[0].dataType!==10)throw new Error("Input type must be float or float16.");if(i.length>=2){let l=i[0].dims.length*2===i[1].dims[0];if(i.length===4&&(l=i[3].dims[0]*2===i[1].dims[0]),!l)throw new Error("The pads should be a 1D tensor of shape [2 * input_rank] or [2 * num_axes].")}},w_=(i,l,d)=>{let f="";for(let g=l-1;g>=0;--g)f+=`
            k = i32(${i.indicesGet("indices",g)}) - ${Hr("uniforms.pads",g,d)};
            if (k < 0) {
              break;
            }
            if (k >= i32(${Hr("uniforms.x_shape",g,l)})) {
              break;
            }
            offset += k * i32(${Hr("uniforms.x_strides",g,l)});
        `;return`
          value = ${i.type.value}(uniforms.constant_value);
          for (var i = 0; i < 1; i++) {
            var offset = 0;
            var k = 0;
            ${f}
            value = x[offset];
          }
      `},ah=(i,l,d)=>{let f="";for(let g=l-1;g>=0;--g)f+=`
                k = i32(${i.indicesGet("indices",g)}) - ${Hr("uniforms.pads",g,d)};
                if (k < 0) {
                  k = -k;
                }
                {
                  let _2n_1 = 2 * (i32(${Hr("uniforms.x_shape",g,l)}) - 1);
                  k = k % _2n_1;
                  if(k >= i32(${Hr("uniforms.x_shape",g,l)})) {
                    k = _2n_1 - k;
                  }
                }
                offset += k * i32(${Hr("uniforms.x_strides",g,l)});
            `;return`
              var offset = 0;
              var k = 0;
              ${f}
              value = x[offset];
          `},C_=(i,l,d)=>{let f="";for(let g=l-1;g>=0;--g)f+=`
                k = i32(${i.indicesGet("indices",g)}) - ${Hr("uniforms.pads",g,d)};
                if (k < 0) {
                  k = 0;
                }
                if (k >= i32(${Hr("uniforms.x_shape",g,l)})) {
                  k = i32(${Hr("uniforms.x_shape",g,l)}) - 1;
                }
                offset += k * i32(${Hr("uniforms.x_strides",g,l)});
            `;return`
              var offset = 0;
              var k = 0;
              ${f}
              value = x[offset];
          `},k_=(i,l,d)=>{let f="";for(let g=l-1;g>=0;--g)f+=`
                k = i32(${i.indicesGet("indices",g)}) - ${Hr("uniforms.pads",g,d)};
                if (k < 0)  {
                  k += i32(${Hr("uniforms.x_shape",g,l)}]);
                }
                if (k >= i32(${Hr("uniforms.x_shape",g,l)})) {
                  k -= i32(${Hr("uniforms.x_shape",g,l)});
                }
                offset += k * i32(${Hr("uniforms.x_strides",g,l)});
            `;return`
              var offset = 0;
              var k = 0;
              ${f}
              value = x[offset];
          `},fn=(i,l,d)=>{switch(d.mode){case 0:return w_(i,l,d.pads.length);case 1:return ah(i,l,d.pads.length);case 2:return C_(i,l,d.pads.length);case 3:return k_(i,l,d.pads.length);default:throw new Error("Invalid mode")}},p1=(i,l)=>{let d=Zt.padShape(i[0].dims.slice(),l.pads),f=i[0].dims,g=Zt.size(d),_=[{type:12,data:g},{type:6,data:l.pads}],M=i.length>=3&&i[2].data;l.mode===0&&_.push({type:M?i[2].dataType:1,data:l.value}),_.push(...Nr(i[0].dims,d));let Te=["rank"],Se=$e=>{let Je=eo("output",i[0].dataType,d.length),J=ar("x",i[0].dataType,f.length),et=J.type.value,dt=fn(Je,f.length,l),it=[{name:"output_size",type:"u32"},{name:"pads",type:"i32",length:l.pads.length}];return l.mode===0&&it.push({name:"constant_value",type:M?et:"f32"}),`
            ${$e.registerUniforms(it).declareVariables(J,Je)}
            ${$e.mainStart()}
            ${$e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}

            let indices = ${Je.offsetToIndices("global_idx")};

            var value = ${et}(0);
            ${dt}
            output[global_idx] = value;
        }`};return{name:"Pad",shaderCache:{hint:`${l.mode}${M}`,inputDependencies:Te},getRunData:()=>({outputs:[{dims:d,dataType:i[0].dataType}],dispatchGroup:{x:Math.ceil(Zt.size(d)/64)},programUniforms:_}),getShaderSource:Se}},f1=(i,l)=>{if(i.length>1){let d=i[1].getBigInt64Array(),f=i.length>=3&&i[2].data?i[2].dataType===10?i[2].getUint16Array()[0]:i[2].getFloat32Array()[0]:0,g=i[0].dims.length,_=new Int32Array(2*g).fill(0);if(i.length>=4){let Te=i[3].getBigInt64Array();for(let Se=0;Se<Te.length;Se++)_[Number(Te[Se])]=Number(d[Se]),_[Number(Te[Se])+g]=Number(d[Se+Te.length])}else d.forEach((Te,Se)=>_[Number(Se)]=Number(Te));let M=[];return _.forEach(Te=>M.push(Te)),{mode:l.mode,value:f,pads:M}}else return l},h1=(i,l)=>{x_(i.inputs);let d=f1(i.inputs,l);i.compute(p1(i.inputs,d),{inputs:[0]})}}),Mu,sh,lh,ch,lf,dh,m1,uh,ph,fh,g1,T_,E_,S_,hh,P_,A_,B_,I_,_1=p(()=>{"use strict";tr(),io(),ro(),wo(),Mu=i=>{if(Ue.webgpu.validateInputContent&&(!i||i.length!==1))throw new Error("Pool ops requires 1 input.")},sh=(i,l,d)=>{let f=l.format==="NHWC",g=i.dims.slice();f&&g.splice(1,0,g.pop());let _=Object.hasOwnProperty.call(l,"dilations"),M=l.kernelShape.slice(),Te=l.strides.slice(),Se=_?l.dilations.slice():[],$e=l.pads.slice();ti.adjustPoolAttributes(d,g,M,Te,Se,$e);let Je=ti.computePoolOutputShape(d,g,Te,Se,M,$e,l.autoPad),J=Object.assign({},l);_?Object.assign(J,{kernelShape:M,strides:Te,pads:$e,dilations:Se,cacheKey:l.cacheKey}):Object.assign(J,{kernelShape:M,strides:Te,pads:$e,cacheKey:l.cacheKey});let et=Je.slice();return et.push(et.splice(1,1)[0]),[J,f?et:Je]},lh=(i,l)=>{let d=l.format==="NHWC",f=Zt.size(i),g=Zt.size(l.kernelShape),_=[{type:12,data:f},{type:12,data:g}],M=[{name:"outputSize",type:"u32"},{name:"kernelSize",type:"u32"}];if(l.kernelShape.length<=2){let Te=l.kernelShape[l.kernelShape.length-1],Se=l.strides[l.strides.length-1],$e=l.pads[l.pads.length/2-1],Je=l.pads[l.pads.length-1],J=!!($e+Je);_.push({type:12,data:Te},{type:12,data:Se},{type:12,data:$e},{type:12,data:Je}),M.push({name:"kw",type:"u32"},{name:"sw",type:"u32"},{name:"pwStart",type:"u32"},{name:"pwEnd",type:"u32"});let et=!1;if(l.kernelShape.length===2){let dt=l.kernelShape[l.kernelShape.length-2],it=l.strides[l.strides.length-2],ct=l.pads[l.pads.length/2-2],Mt=l.pads[l.pads.length-2];et=!!(ct+Mt),_.push({type:12,data:dt},{type:12,data:it},{type:12,data:ct},{type:12,data:Mt}),M.push({name:"kh",type:"u32"},{name:"sh",type:"u32"},{name:"phStart",type:"u32"},{name:"phEnd",type:"u32"})}return[_,M,!0,J,et]}else{if(d)throw new Error("Pooling with kernelShape.length > 2 is not supported for NHWC format.");let Te=Zt.computeStrides(l.kernelShape);_.push({type:12,data:Te},{type:12,data:l.pads},{type:12,data:l.strides}),M.push({name:"kernelStrides",type:"u32",length:Te.length},{name:"pads",type:"u32",length:l.pads.length},{name:"strides",type:"u32",length:l.strides.length});let Se=l.pads.reduce(($e,Je)=>$e+Je);return[_,M,!!Se,!1,!1]}},ch=(i,l,d,f,g,_,M,Te,Se,$e,Je,J)=>{let et=g.format==="NHWC",dt=l.type.value,it=eo("output",l.type.tensor,f);if(g.kernelShape.length<=2){let ct="",Mt="",kt="",pt=d-(et?2:1);if(Je?ct=`
                for (var i: u32 = 0u; i < uniforms.kw; i++) {
                  xIndices[${pt}] = indices[${pt}] * uniforms.sw - uniforms.pwStart + i;
                  if (xIndices[${pt}] < 0 || xIndices[${pt}]
                      >= uniforms.x_shape[${pt}]) {
                    pad++;
                    continue;
                  }
                  let x_val = x[${l.indicesToOffset("xIndices")}];
                  ${_}
                }`:ct=`
                for (var i: u32 = 0u; i < uniforms.kw; i++) {
                  xIndices[${pt}] = indices[${pt}] * uniforms.sw - uniforms.pwStart + i;
                  let x_val = x[${l.indicesToOffset("xIndices")}];
                  ${_}
                }`,g.kernelShape.length===2){let Pt=d-(et?3:2);J?Mt=`
                for (var j: u32 = 0u; j < uniforms.kh; j++) {
                  xIndices[${Pt}] = indices[${Pt}] * uniforms.sh - uniforms.phStart + j;
                  if (xIndices[${Pt}] < 0 || xIndices[${Pt}] >= uniforms.x_shape[${Pt}]) {
                    pad += i32(uniforms.kw);
                    continue;
                  }
              `:Mt=`
                for (var j: u32 = 0u; j < uniforms.kh; j++) {
                  xIndices[${Pt}] = indices[${Pt}] * uniforms.sh - uniforms.phStart + j;
                `,kt=`
              }
            `}return`
            ${i.registerUniforms(Se).declareVariables(l,it)}

            ${i.mainStart()}
              ${i.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}

              let indices = ${it.offsetToIndices("global_idx")};
              var xIndices = ${it.offsetToIndices("global_idx")};

              var value = ${dt}(${Te});
              var pad = 0;
              ${Mt}
              ${ct}
              ${kt}
              ${M}

              output[global_idx] = value;
            }`}else{if(et)throw new Error("Pooling with kernelShape.length > 2 is not supported for NHWC format.");let ct=g.kernelShape.length,Mt=g.pads.length,kt="";return $e?kt=`
                if (xIndices[j] >= uniforms.x_shape[j]) {
                  pad++;
                  isPad = true;
                  break;
                }
              }
              if (!isPad) {
                let x_val = x[${l.indicesToOffset("xIndices")}];
                ${_}
              }`:kt=`
              }
              let x_val = x[${l.indicesToOffset("xIndices")}];
              ${_}
            `,`
            ${i.registerUniforms(Se).declareVariables(l,it)}

            ${i.mainStart()}
              ${i.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
              let indices = ${it.offsetToIndices("global_idx")};
              var xIndices = ${it.offsetToIndices("global_idx")};

              var offsets: array<u32, ${ct}>;

              var value = ${dt}(${Te});
              var pad = 0;
              var isPad = false;

              for (var i: u32 = 0u; i < uniforms.kernelSize; i++) {
                var offset = i;
                for (var j = 0u; j < ${ct-1}u; j++) {
                  offsets[j] = offset / ${Hr("uniforms.kernelStrides","j",ct)};
                  offset -= offsets[j] * ${Hr("uniforms.kernelStrides","j",ct)};
                }
                offsets[${ct-1}] = offset;

                isPad = false;
                for (var j = ${d-ct}u; j < ${d}u; j++) {
                  xIndices[j] = indices[j] * ${Hr("uniforms.strides",`j - ${d-ct}u`,ct)}
                    + offsets[j - ${d-ct}u] - ${Hr("uniforms.pads","j - 2u",Mt)};
                  ${kt}
              }
              ${M}

              output[global_idx] = value;
            }`}},lf=i=>`${i.format};${i.ceilMode};${i.autoPad};${i.kernelShape.length}`,dh=i=>`${lf(i)};${i.countIncludePad}`,m1=i=>`${lf(i)};${i.storageOrder};${i.dilations}`,uh=i=>({format:i.format,autoPad:["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][i.auto_pad],ceilMode:i.ceil_mode,kernelShape:i.kernel_shape,strides:i.strides,pads:i.pads}),ph=(i,l,d,f)=>{let[g,_]=sh(l,f,d),M=ar("x",l.dataType,l.dims.length),Te=M.type.value,Se="value += x_val;",$e="";g.countIncludePad?$e+=`value /= ${Te}(uniforms.kernelSize);`:$e+=`value /= ${Te}(i32(uniforms.kernelSize) - pad);`;let[Je,J,et,dt,it]=lh(_,g);Je.push(...Nr(l.dims,_));let ct=["rank"];return{name:i,shaderCache:{hint:`${f.cacheKey};${et};${dt};${it}`,inputDependencies:ct},getRunData:()=>({outputs:[{dims:_,dataType:l.dataType}],dispatchGroup:{x:Math.ceil(Zt.size(_)/64)},programUniforms:Je}),getShaderSource:Mt=>ch(Mt,M,l.dims.length,_.length,g,Se,$e,0,J,et,dt,it)}},fh=i=>{let l=i.count_include_pad!==0,d=uh(i);if(d.ceilMode!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");let f=Gr(Vt({countIncludePad:l},d),{cacheKey:""});return Gr(Vt({},f),{cacheKey:dh(f)})},g1=(i,l)=>{Mu(i.inputs),i.compute(ph("AveragePool",i.inputs[0],!1,l))},T_={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[]},E_=i=>{let l=i.format;return Gr(Vt({format:l},T_),{cacheKey:l})},S_=(i,l)=>{Mu(i.inputs),i.compute(ph("GlobalAveragePool",i.inputs[0],!0,l))},hh=(i,l,d,f)=>{let[g,_]=sh(l,f,d),M=`
      value = max(x_val, value);
    `,Te="",Se=ar("x",l.dataType,l.dims.length),$e=["rank"],[Je,J,et,dt,it]=lh(_,g);return Je.push(...Nr(l.dims,_)),{name:i,shaderCache:{hint:`${f.cacheKey};${et};${dt};${it}`,inputDependencies:$e},getRunData:()=>({outputs:[{dims:_,dataType:l.dataType}],dispatchGroup:{x:Math.ceil(Zt.size(_)/64)},programUniforms:Je}),getShaderSource:ct=>ch(ct,Se,l.dims.length,_.length,g,M,Te,l.dataType===10?-65504:-1e5,J,et,dt,it)}},P_=(i,l)=>{Mu(i.inputs),i.compute(hh("MaxPool",i.inputs[0],!1,l))},A_=i=>{let l=i.storage_order,d=i.dilations,f=uh(i);if(l!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(f.ceilMode!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");let g=Gr(Vt({storageOrder:l,dilations:d},f),{cacheKey:""});return Gr(Vt({},g),{cacheKey:m1(g)})},B_=i=>{let l=i.format;return Gr(Vt({format:l},T_),{cacheKey:l})},I_=(i,l)=>{Mu(i.inputs),i.compute(hh("GlobalMaxPool",i.inputs[0],!0,l))}}),D_,F_,R_,O_,fw=p(()=>{"use strict";io(),ro(),Ro(),wo(),D_=(i,l)=>{if(i.length<2||i.length>3)throw new Error("DequantizeLinear requires 2 or 3 inputs.");if(i.length===3&&i[1].dims===i[2].dims)throw new Error("x-scale and x-zero-point must have the same shape.");if(i.length===3&&i[0].dataType!==i[2].dataType)throw new Error("x and x-zero-point must have the same data type.");if(i[0].dataType===6&&i.length>2)throw new Error("In the case of dequantizing int32 there is no zero point.");if(i[1].dims.length!==0&&i[1].dims.length!==1&&i[1].dims.length!==i[0].dims.length)throw new Error("scale input must be a scalar, a 1D tensor, or have the same rank as the input tensor.");if(i.length>2){if(i[0].dataType!==i[2].dataType)throw new Error("x and x-zero-point must have the same data type.");if(i[1].dims.length!==i[2].dims.length)throw new Error("scale and zero-point inputs must have the same rank.");if(!i[1].dims.map((d,f)=>d===i[2].dims[f]).reduce((d,f)=>d&&f,!0))throw new Error("scale and zero-point inputs must have the same shape.")}if(l.blockSize>0){if(i[1].dims.length===0||i[1].dims.length===1&&i[1].dims[0]===1)throw new Error("blockSize must be set only for block quantization.");if(!i[1].dims.map((g,_)=>_===l.axis||g===i[0].dims[_]).reduce((g,_)=>g&&_,!0))throw new Error("For block qunatization, scale input shape to match the input shape except for the axis");if(i[1].dims.length!==i[0].dims.length)throw new Error("For block qunatization the scale input rank must be the same as the x rank.");let d=i[0].dims[l.axis],f=i[1].dims[l.axis];if(l.blockSize<Math.ceil(d/f)||l.blockSize>Math.ceil(d/(f-1)-1))throw new Error("blockSize must be with in the range [ceil(dI / Si), ceil(dI / (Si - 1) - 1)].")}},F_=(i,l)=>{let d=Zt.normalizeAxis(l.axis,i[0].dims.length),f=i[0].dataType,g=f===3,_=i[0].dims,M=i[1].dataType,Te=Zt.size(_),Se=f===3||f===2,$e=Se?[Math.ceil(Zt.size(i[0].dims)/4)]:i[0].dims,Je=i[1].dims,J=i.length>2?i[2]:void 0,et=J?Se?[Math.ceil(Zt.size(J.dims)/4)]:J.dims:void 0,dt=Je.length===0||Je.length===1&&Je[0]===1,it=dt===!1&&Je.length===1,ct=xo(Te),Mt=dt&&(!Se||ct===4),kt=Mt?ct:1,pt=Mt&&!Se?ct:1,Pt=ar("input",Se?12:f,$e.length,pt),Lt=ar("scale",M,Je.length),jt=J?ar("zero_point",Se?12:f,et.length):void 0,Yt=eo("output",M,_.length,kt),Jt=[Pt,Lt];jt&&Jt.push(jt);let Mr=[$e,Je];J&&Mr.push(et);let Pr=[{type:12,data:Te/kt},{type:12,data:d},{type:12,data:l.blockSize},...Nr(...Mr,_)],Xr=Qr=>{let yo=[{name:"output_size",type:"u32"},{name:"axis",type:"u32"},{name:"block_size",type:"u32"}];return`
      ${Qr.registerUniforms(yo).declareVariables(...Jt,Yt)}
      ${Qr.mainStart()}
          ${Qr.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
          let output_indices = ${Yt.offsetToIndices("global_idx")};

          // Set input x
          ${Se?`
            let input = ${Pt.getByOffset("global_idx / 4")};
            let x_vec = ${g?"unpack4xI8(input)":"unpack4xU8(input)"};
            let x_value = ${kt===1?"x_vec[global_idx % 4]":"x_vec"};`:`let x_value = ${Pt.getByOffset("global_idx")};`};

          // Set scale input
          ${dt?`let scale_value= ${Lt.getByOffset("0")}`:it?`
            let scale_index = ${Yt.indicesGet("output_indices","uniforms.axis")};
            let scale_value= ${Lt.getByOffset("scale_index")};`:`
            var scale_indices: ${Lt.type.indices} = output_indices;
            let index = ${Lt.indicesGet("scale_indices","uniforms.axis")} / uniforms.block_size;
            ${Lt.indicesSet("scale_indices","uniforms.axis","index")};
            let scale_value= ${Lt.getByIndices("scale_indices")};`};

          // Set zero-point input
          ${jt?dt?Se?`
                let zero_point_input = ${jt.getByOffset("0")};
                let zero_point_vec =  ${g?"unpack4xI8(zero_point_input)":"unpack4xU8(zero_point_input)"};
                let zero_point_value= zero_point_vec[0]`:`let zero_point_value = ${jt.getByOffset("0")}`:it?Se?`
                let zero_point_index = ${Yt.indicesGet("output_indices","uniforms.axis")};
                let zero_point_input = ${jt.getByOffset("zero_point_index / 4")};
                let zero_point_vec =  ${g?"unpack4xI8(zero_point_input)":"unpack4xU8(zero_point_input)"};
                let zero_point_value = zero_point_vec[zero_point_index % 4]`:`
                let zero_point_index = ${Yt.indicesGet("output_indices","uniforms.axis")};
                let zero_point_value = ${jt.getByOffset("zero_point_index")};`:Se?`
                let zero_point_offset = ${Lt.indicesToOffset("scale_indices")};
                let zero_point_input = ${jt.getByOffset("zero_point_offset / 4")};
                let zero_point_vec = ${g?"unpack4xI8(zero_point_input)":"unpack4xU8(zero_point_input)"};
                let zero_point_value = zero_point_vec[zero_point_offset % 4];`:`let zero_point_value = ${jt.getByIndices("scale_indices")};`:`let zero_point_value = ${Se?g?"i32":"u32":Pt.type.value}(0);`};
      // Compute and write output
      ${Yt.setByOffset("global_idx",`${Yt.type.value}(x_value - zero_point_value) * scale_value`)};
      }`};return{name:"DequantizeLinear",shaderCache:{hint:l.cacheKey,inputDependencies:jt?["rank","rank","rank"]:["rank","rank"]},getShaderSource:Xr,getRunData:()=>({outputs:[{dims:_,dataType:M}],dispatchGroup:{x:Math.ceil(Te/kt/64),y:1,z:1},programUniforms:Pr})}},R_=(i,l)=>{D_(i.inputs,l),i.compute(F_(i.inputs,l))},O_=i=>fo({axis:i.axis,blockSize:i.blockSize})}),$_,L_,N_,b1=p(()=>{"use strict";tr(),io(),wo(),$_=(i,l,d)=>{let f=i===l,g=i<l&&d<0,_=i>l&&d>0;if(f||g||_)throw new Error("Range these inputs' contents are invalid.")},L_=(i,l,d,f)=>{let g=Math.abs(Math.ceil((l-i)/d)),_=[g],M=g,Te=[{type:12,data:M},{type:f,data:i},{type:f,data:d},...Nr(_)],Se=$e=>{let Je=eo("output",f,_.length),J=Je.type.value,et=[{name:"outputSize",type:"u32"},{name:"start",type:J},{name:"delta",type:J}];return`
        ${$e.registerUniforms(et).declareVariables(Je)}
        ${$e.mainStart()}
        ${$e.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
        output[global_idx] = uniforms.start + ${J}(global_idx) * uniforms.delta;
      }`};return{name:"Range",shaderCache:{hint:`${f}`},getShaderSource:Se,getRunData:()=>({outputs:[{dims:_,dataType:f}],dispatchGroup:{x:Math.ceil(M/64)},programUniforms:Te})}},N_=i=>{let l=0,d=0,f=0;i.inputs[0].dataType===6?(l=i.inputs[0].getInt32Array()[0],d=i.inputs[1].getInt32Array()[0],f=i.inputs[2].getInt32Array()[0]):i.inputs[0].dataType===1&&(l=i.inputs[0].getFloat32Array()[0],d=i.inputs[1].getFloat32Array()[0],f=i.inputs[2].getFloat32Array()[0]),Ue.webgpu.validateInputContent&&$_(l,d,f),i.compute(L_(l,d,f,i.inputs[0].dataType),{inputs:[]})}}),z_,j_,v1,y1,hw=p(()=>{"use strict";io(),ro(),Ro(),wo(),z_=(i,l,d,f)=>{if(i!=="none"&&f!=="i32"&&f!=="u32"&&f!=="f32")throw new Error(`Input ${f} is not supported with reduction ${i}.`);let g=`{
                var oldValue = 0;
                loop {
                  let newValueF32 =`,_=`;
                  let newValue = bitcast<i32>(newValueF32);
                  let res = atomicCompareExchangeWeak(&${l}, oldValue, newValue);
                  if res.exchanged {
                    break;
                  }
                  oldValue = res.old_value;
                }
              }`;switch(i){case"none":return`${l}=${d};`;case"add":return f==="i32"||f==="u32"?`atomicAdd(&${l}, bitcast<${f}>(${d}));`:`
              ${g}bitcast<${f}>(oldValue) + (${d})${_}`;case"max":return f==="i32"||f==="u32"?`atomicMax(&${l}, bitcast<${f}>(${d}));`:`
                ${g}max(bitcast<f32>(oldValue), (${d}))${_}`;case"min":return f==="i32"||f==="u32"?`atomicMin(&${l}, bitcast<${f}>(${d}));`:`${g}min(bitcast<${f}>(oldValue), (${d}))${_}`;case"mul":return`${g}(bitcast<${f}>(oldValue) * (${d}))${_}`;default:throw new Error(`Reduction ${i} is not supported.`)}},j_=(i,l)=>{let d=i[0].dims,f=i[1].dims,g=d,_=1,M=Math.ceil(Zt.size(f)/_),Te=f[f.length-1],Se=Zt.sizeFromDimension(d,Te),$e=[{type:12,data:M},{type:12,data:Te},{type:12,data:Se},...Nr(i[1].dims,i[2].dims,g)],Je=J=>{let et=ar("indices",i[1].dataType,i[1].dims.length),dt=ar("updates",i[2].dataType,i[2].dims.length,_),it=l.reduction!=="none"&&l.reduction!==""?sp("output",i[0].dataType,g.length):eo("output",i[0].dataType,g.length,_);return`
      ${J.registerUniform("output_size","u32").registerUniform("last_index_dimension","u32").registerUniform("num_updates_elements","u32").declareVariables(et,dt,it)}
      ${J.mainStart()}
        ${J.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
  var data_offset = 0u;
  let indices_start = uniforms.last_index_dimension * global_idx;
  let indices_end = indices_start + uniforms.last_index_dimension;
  for (var i = indices_start; i < indices_end; i++) {
    var index = i32(indices[i].x);
    ${i[0].dims.length===1?`
    let element_count_dim = uniforms.output_strides;
    let dim_value = uniforms.output_shape;`:`
    let element_count_dim = uniforms.output_strides[i - indices_start];
    let dim_value = uniforms.output_shape[i - indices_start + uniforms.last_index_dimension];`}
    if (index >= 0) {
      if (index >= i32(dim_value)) {
        index = i32(dim_value - 1);
      }
    } else {
      if (index < -i32(dim_value)) {
        index = 0;
      } else {
        index += i32(dim_value);
      }
    }
    data_offset += u32((u32(index) * element_count_dim));
  }

  for (var i = 0u; i < uniforms.num_updates_elements; i++) {
    let value = updates[uniforms.num_updates_elements * global_idx + i];
    ${z_(l.reduction,"output[data_offset + i]","value",it.type.value)}
  }

      }`};return{name:"ScatterND",shaderCache:{hint:`${l.cacheKey}_${l.reduction}`,inputDependencies:["rank","rank"]},getRunData:()=>({outputs:[{dims:g,dataType:i[0].dataType}],dispatchGroup:{x:Math.ceil(M/64)},programUniforms:$e}),getShaderSource:Je}},v1=i=>fo({reduction:i.reduction}),y1=(i,l)=>{i.compute(j_(i.inputs,l),{inputs:[i.inputs[1],i.inputs[2]],outputs:[]})}}),x1,w1,C1,V_,k1,M1,T1,E1,S1,P1,A1,B1,U_,I1,D1,F1,R1,O1,$1,L1,mw=p(()=>{"use strict";io(),ro(),Ro(),wo(),x1=(i,l)=>{if(i.every(d=>d>0||(()=>{throw new Error("Resize requires scales input values to be positive")})),i.length>0){if(l.mode==="linear"){if(!(i.length===2||i.length===3||i.length===4&&i[0]===1&&i[1]===1||i.length===4&&i[0]===1&&i[3]===1||i.length===5&&i[0]===1&&i[1]===1))throw new Error(`For linear mode, Resize requires scales to be 2D, 3D, 4D with either two outermost or one innermost and
            one outermost scale values equal to 1, or 5D with two outermost scale values equal to 1`)}else if(l.mode==="cubic"&&!(i.length===2||i.length===4&&i[0]===1&&i[1]===1||i.length===4&&i[0]===1&&i[3]===1))throw new Error("Resize requires scales input size to be 2 or 4 for cubic mode")}},w1=(i,l,d)=>{l.every(g=>g>=0&&g<d||(()=>{throw new Error("Resize requires axes input values to be positive and less than rank")}));let f=new Array(d).fill(1);return l.forEach((g,_)=>f[g]=i[_]),f},C1=(i,l,d,f,g,_)=>{let[M,Te,Se]=d>10?[1,2,3]:[-1,i.length>1?1:-1,-1],$e=i[0].dims.length;if(M>0&&i.length>M&&i[M].dims.length>0)i[M].getFloat32Array().forEach(Je=>_.push(Je));else if(l.coordinateTransformMode==="tf_crop_and_resize")throw new Error("Resize requires RoI input to be specified when coordinateTransformMode is tfCropAndResize");if(Te>0&&i.length>Te&&i[Te].dims.length===1&&i[Te].dims[0]>0){if(i[Te].getFloat32Array().forEach(Je=>f.push(Je)),f.length!==0&&f.length!==$e&&d>=18&&f.length!==l.axes.length)throw new Error("Resize requires scales input size to be same as input rank or axes size for opset 18 and up");x1(f,l),l.axes.length>0&&w1(f,l.axes,$e).forEach((Je,J)=>f[J]=Je)}if(Se>0&&i.length>Se&&i[Se].dims.length===1&&i[Se].dims[0]>0&&(i[Se].getBigInt64Array().forEach(Je=>g.push(Number(Je))),g.length!==0&&g.length!==$e&&d>=18&&g.length!==l.axes.length))throw new Error("Resize requires sizes input size to be same as input rank or axes size for opset 18 and up");if(l.axes.length>0){if(f.length!==0&&f.length!==l.axes.length)throw new Error('Resize requires "scales" input size to be of axes rank when axes attributes is specified');if(g.length!==0&&g.length!==l.axes.length)throw new Error('Resize requires "sizes" input size to be of rank axes rank when axes attributes is specified')}if(typeof f<"u"&&typeof g<"u"&&f.length>0&&g.length>$e)throw new Error("Resize requires only of scales or sizes to be specified")},V_=(i,l,d,f)=>`
  // The whole part and the fractional part are calculated separately due to inaccuracy of floating
  // point division. As an example, f32(21) / f32(7) may evaluate to 2.99... instead of 3, causing an
  // offset-by-one error later in floor().
  let big = (${i}) * (${l});
  let whole = ${f}(big / (${d}));
  let fract = ${f}(big % (${d})) / ${f}(${d});
  return whole + fract;
`,k1=(i,l)=>`fn getOriginalCoordinateFromResizedCoordinate(xResized: u32, xScale: f32, lengthResized: u32,
     lengthOriginal: u32, roiStart: f32, roiEnd: f32) -> ${l} { `+(()=>{switch(i){case"asymmetric":return`
          if (xScale < 1.0 || floor(xScale) != xScale) {
            return ${l}(xResized) / ${l}(xScale);
          } else {
            ${V_("xResized","lengthOriginal","lengthResized",l)}
          }
        `;case"pytorch_half_pixel":return`if (lengthResized > 1) {
                    return (${l}(xResized) + 0.5) / ${l}(xScale) - 0.5;
                  } else {
                    return 0.0;
                  }`;case"tf_half_pixel_for_nn":return`return (${l}(xResized) + 0.5) / ${l}(xScale);`;case"align_corners":return`if (lengthResized == 1) {
                    return 0.0;
                  } else {
                    ${V_("xResized","lengthOriginal - 1","lengthResized - 1",l)}
                  }`;case"tf_crop_and_resize":return`if (lengthResized > 1) {
                    return ${l}(roiStart) * ${l}(lengthOriginal - 1) +
                        (${l}(xResized) * ${l}(roiEnd - roiStart) * ${l}(lengthOriginal - 1)) /
                        ${l}(lengthResized - 1);
                  } else {
                    return 0.5 * ${l}(roiStart + roiEnd) * ${l}(lengthOriginal - 1);
                  }`;case"half_pixel_symmetric":return`const outputWidth = ${l}xScale * ${l}(lengthResized);
                  const adjustment = ${l}(lengthResized) / outputWidth;
                  const center = ${l}(lengthOriginal) / 2;
                  const offset = center * (1 - adjustment);
                  return offset + ((${l}(xResized) + 0.5) / ${l}(xScale)) - 0.5;`;case"half_pixel":return`return ((${l}(xResized) + 0.5) / ${l}(xScale)) - 0.5;`;default:throw new Error(`Coordinate transform mode ${i} is not supported`)}})()+"}",M1=(i,l,d)=>`fn getNearestPixelFromOriginal(xOriginal: ${d}, isDownSample: bool) -> ${d} {`+(()=>{switch(i){case"round_prefer_ceil":return"if (fract(xOriginal) == 0.5) {             return ceil(xOriginal);           } else {             return round(xOriginal);           }";case"floor":return"return floor(xOriginal);";case"ceil":return"return ceil(xOriginal);";case"round_prefer_floor":return"if (fract(xOriginal) == 0.5) {                     return floor(xOriginal);                   } else {                     return round(xOriginal);                   }";case"simple":default:if(l<11)return"if (isDownSample)                     {                       return ceil(xOriginal);                     } else {                       return xOriginal;                     }";throw new Error(`Nearest mode ${i} is not supported`)}})()+"}",T1=(i,l,d)=>{let f=new Array(d).fill(0).concat(new Array(d).fill(1)),g=i.length===0?f:i.slice();return l.length>0?(l.forEach((_,M)=>{f[_]=g[M],f[M+d]=g[l.length+M]}),f):g},E1=(i,l,d,f)=>{let g=[];if(d.length>0)if(f.length>0){if(i.forEach(_=>g.push(_)),Math.max(...f)>i.length)throw new Error("axes is out of bound");f.forEach((_,M)=>g[_]=d[M])}else d.forEach(_=>g.push(_));else{if(l.length===0)throw new Error("Resize requires either scales or sizes.");g=i.map((_,M)=>Math.round(_*l[M]))}return g},S1=(i,l,d)=>{let f=(()=>{switch(d.keepAspectRatioPolicy){case"not_larger":return d.axes.length>0?Math.min(...d.axes.map(_=>l[_]),Number.MAX_VALUE):Math.min(...l,Number.MAX_VALUE);case"not_smaller":return d.axes.length>0?Math.max(...d.axes.map(_=>l[_]),Number.MIN_VALUE):Math.max(...l,Number.MIN_VALUE);default:throw new Error(`Keep aspect ratio policy ${d.keepAspectRatioPolicy} is not supported`)}})();l.fill(1,0,l.length);let g=i.slice();return d.axes.length>0?(d.axes.forEach(_=>l[_]=f),d.axes.forEach(_=>g[_]=Math.round(i[_]*l[_]))):(l.fill(f,0,l.length),g.forEach((_,M)=>g[M]=Math.round(_*l[M]))),g},P1=(i,l,d,f,g)=>`
    fn calculateOriginalIndicesFromOutputIndices(output_indices: ${i.type.indices}) -> array<${i.type.value}, ${d.length}> {
      var original_indices: array<${i.type.value}, ${d.length}>;
      for (var i:u32 = 0; i < ${d.length}; i++) {
        var output_index = ${i.indicesGet("output_indices","i")};
        var scale = ${Hr("uniforms.scales","i",f)};
        var roi_low = ${Hr("uniforms.roi","i",g)};
        var roi_hi = ${Hr("uniforms.roi",`i + ${l.length}`,g)};
        if (scale == 1.0) {
          original_indices[i] = ${i.type.value}(output_index);
        } else {
          var input_shape_i = ${Hr("uniforms.input_shape","i",l.length)};
          var output_shape_i = ${Hr("uniforms.output_shape","i",d.length)};
          original_indices[i] = getOriginalCoordinateFromResizedCoordinate(output_index, scale, output_shape_i,
                                                                           input_shape_i, roi_low, roi_hi);
        }
      }
      return original_indices;
    }`,A1=(i,l,d,f,g,_,M)=>`
    fn calculateInputIndicesFromOutputIndices(output_indices: ${l.type.indices}) -> ${i.type.indices} {
      var input_indices: ${i.type.indices};
      for (var i:u32 = 0; i < ${f.length}; i++) {
        var output_index = ${l.indicesGet("output_indices","i")};
        var input_index: u32;
        var scale = ${Hr("uniforms.scales","i",g)};
        if (scale == 1.0) {
          input_index = output_index;
        } else {
          var roi_low = ${Hr("uniforms.roi","i",_)};
          var roi_hi = ${Hr("uniforms.roi",`i + ${d.length}`,_)};
          var input_shape_i = ${Hr("uniforms.input_shape","i",d.length)};
          var output_shape_i = ${Hr("uniforms.output_shape","i",f.length)};
          var original_idx = getOriginalCoordinateFromResizedCoordinate(output_index, scale, output_shape_i,
                                                                        input_shape_i, roi_low, roi_hi);
          if (!${M} || (original_idx >= 0 && original_idx < ${l.type.value}(input_shape_i))) {
            if (original_idx < 0) {
              input_index = 0;
            } else if (original_idx > ${l.type.value}(input_shape_i - 1)) {
              input_index = input_shape_i - 1;
            } else {
              input_index = u32(getNearestPixelFromOriginal(original_idx, scale < 1));
            }
          } else {
            input_index = u32(original_idx);
          }
        }
        ${i.indicesSet("input_indices","i","input_index")}
      }
      return input_indices;
    }`,B1=(i,l)=>`
    fn checkInputIndices(input_indices: ${i.type.indices}) -> bool {
      for (var i:u32 = 0; i < ${l.length}; i++) {
        var input_index = ${i.indicesGet("input_indices","i")};
        if (input_index < 0 || input_index >= ${Hr("uniforms.input_shape","i",l.length)}) {
          return false;
        }
      }
      return true;
    }`,U_=(i,l,d,f)=>i.rank>f?`
    ${i.indicesSet("input_indices",l,"channel")};
    ${i.indicesSet("input_indices",d,"batch")};
`:"",I1=(i,l,d,f,g)=>{let[_,M,Te,Se]=d.length===2?[-1,0,1,-1]:[0,2,3,1],$e=i.type.value;return`
    fn getInputValue(batch: u32, channel: u32, row: u32, col: u32) -> ${$e} {
      var input_indices: ${i.type.indices};
      ${i.indicesSet("input_indices",M,`max(0, min(row, ${d[M]} - 1))`)};
      ${i.indicesSet("input_indices",Te,`max(0, min(col, ${d[Te]} - 1))`)};
      ${U_(i,Se,_,2)}
      return ${i.getByIndices("input_indices")};
    }

    fn bilinearInterpolation(output_indices: ${l.type.indices}) -> ${$e} {
      var originalIndices = calculateOriginalIndicesFromOutputIndices(output_indices);
      var row:${$e} = originalIndices[${M}];
      var col:${$e} = originalIndices[${Te}];
      ${f?`if (row < 0 || row > (${d[M]} - 1) || col < 0 || col > (${d[Te]} - 1)) {
        return ${g};
      }`:""};
      row = max(0, min(row, ${d[M]} - 1));
      col = max(0, min(col, ${d[Te]} - 1));
      var row1: u32 = u32(row);
      var col1: u32 = u32(col);
      var row2: u32 = u32(row + 1);
      var col2: u32 = u32(col + 1);
      var channel: u32 = ${d.length>2?`u32(originalIndices[${Se}])`:"0"};
      var batch: u32 =  ${d.length>2?`u32(originalIndices[${_}])`:"0"};
      var x11: ${$e} = getInputValue(batch, channel, row1, col1);
      var x12: ${$e} = getInputValue(batch, channel, row1, col2);
      var x21: ${$e} = getInputValue(batch, channel, row2, col1);
      var x22: ${$e} = getInputValue(batch, channel, row2, col2);
      var dx1: ${$e} = abs(row - ${$e}(row1));
      var dx2: ${$e} = abs(${$e}(row2) - row);
      var dy1: ${$e} = abs(col - ${$e}(col1));
      var dy2: ${$e} = abs(${$e}(col2) - col);
      if (row1 == row2) {
        dx1 = 0.5;
        dx2 = 0.5;
      }
      if (col1 == col2) {
        dy1 = 0.5;
        dy2 = 0.5;
      }
      return (x11 * dx2 * dy2 + x12 * dx2 * dy1 + x21 * dx1 * dy2 + x22 * dx1 * dy1);
    }`},D1=(i,l,d,f,g,_,M,Te,Se,$e)=>{let Je=d.length===2,J=!0,[et,dt]=Je?[0,1]:J?[2,3]:[1,2],it=i.type.value,ct=Mt=>{let kt=Mt===et?"row":"col";return`
      fn ${kt}CubicInterpolation(input_indices: ${i.type.indices}, output_indices: ${l.type.indices}) -> ${it} {
        var output_index = ${l.indicesGet("output_indices",Mt)};
        var originalIdx: ${it} = getOriginalCoordinateFromResizedCoordinate(output_index, ${g[Mt]},
        ${f[Mt]}, ${d[Mt]}, ${_[Mt]}, ${_[Mt]} + ${d.length});
        var fractOriginalIdx: ${it} = originalIdx - floor(originalIdx);
        var coefs = getCubicInterpolationCoefs(fractOriginalIdx);

        if (${Te} && (originalIdx < 0 || originalIdx > (${d[Mt]} - 1))) {
          return ${Se};
        }
        var data: array<${it}, 4> = array<${it}, 4>(0.0, 0.0, 0.0, 0.0);
        for (var i: i32 = -1; i < 3; i++) {
          var ${kt}: ${it} = originalIdx + ${it}(i);
          if (${kt} < 0 || ${kt} >= ${d[Mt]}) {
            ${$e?`coefs[i + 1] = 0.0;
                        continue;`:Te?`return ${Se};`:`${kt} = max(0, min(${kt}, ${d[Mt]} - 1));`};
          }
        var input_indices_copy: ${i.type.indices} = input_indices;
          ${i.indicesSet("input_indices_copy",Mt,`u32(${kt})`)};
          data[i + 1] = ${Mt===et?i.getByIndices("input_indices_copy"):"rowCubicInterpolation(input_indices_copy, output_indices)"};
        }
        return cubicInterpolation1D(data, coefs);
      }`};return`
    ${ct(et)};
    ${ct(dt)};
  fn getCubicInterpolationCoefs(s: ${it}) -> array<${it}, 4> {
    var absS = abs(s);
    var coeffs: array<${it}, 4> = array<${it}, 4>(0.0, 0.0, 0.0, 0.0);
    var oneMinusAbsS: ${it} = 1.0 - absS;
    var twoMinusAbsS: ${it} = 2.0 - absS;
    var onePlusAbsS: ${it} = 1.0 + absS;
    coeffs[0] = ((${M} * onePlusAbsS - 5 * ${M}) * onePlusAbsS + 8 * ${M}) * onePlusAbsS - 4 * ${M};
    coeffs[1] = ((${M} + 2) * absS - (${M} + 3)) * absS * absS + 1;
    coeffs[2] = ((${M} + 2) * oneMinusAbsS - (${M} + 3)) * oneMinusAbsS * oneMinusAbsS + 1;
    coeffs[3] = ((${M} * twoMinusAbsS - 5 * ${M}) * twoMinusAbsS + 8 * ${M}) * twoMinusAbsS - 4 * ${M};
    return coeffs;
  }

  fn cubicInterpolation1D(x: array<${it}, 4>, coefs: array<${it}, 4>) -> ${it} {
    var coefsSum: ${it} = coefs[0] + coefs[1] + coefs[2] + coefs[3];
    return (x[0] * coefs[0] + x[1] * coefs[1]+ x[2] * coefs[2]+ x[3] * coefs[3]) / coefsSum;
  }

  fn bicubicInterpolation(output_indices: ${l.type.indices}) -> ${it} {
    var input_indices: ${i.type.indices} = output_indices;
    return colCubicInterpolation(input_indices, output_indices);
  }
    `},F1=(i,l,d,f,g)=>{let[_,M,Te,Se,$e]=d.length===3?[-1,0,1,2,-1]:[0,2,3,4,1],Je=i.type.value;return`
    fn getInputValue(batch: u32, channel: u32, depth:u32, height: u32, width: u32) -> ${Je} {
      var input_indices: ${i.type.indices};
      ${i.indicesSet("input_indices",M,`max(0, min(depth, ${d[M]} - 1))`)};
      ${i.indicesSet("input_indices",Te,`max(0, min(height, ${d[Te]} - 1))`)};
      ${i.indicesSet("input_indices",Se,`max(0, min(width, ${d[Se]} - 1))`)};
      ${U_(i,$e,_,3)}
      return ${i.getByIndices("input_indices")};
    }

    fn trilinearInterpolation(output_indices: ${l.type.indices}) -> ${Je} {
      var originalIndices = calculateOriginalIndicesFromOutputIndices(output_indices);
      var depth:${Je} = originalIndices[${M}];
      var height:${Je} = originalIndices[${Te}];
      var width:${Je} = originalIndices[${Se}];
      ${f?`if (depth < 0 || depth > (${d[M]} - 1) || height < 0 || height > (${d[Te]} - 1) || width < 0 || (width > ${d[Se]} - 1)) {
      return ${g};
        }`:""};

    depth = max(0, min(depth, ${d[M]} - 1));
      height = max(0, min(height, ${d[Te]} - 1));
      width = max(0, min(width, ${d[Se]} - 1));
      var depth1: u32 = u32(depth);
      var height1: u32 = u32(height);
      var width1: u32 = u32(width);
      var depth2: u32 = u32(depth + 1);
      var height2: u32 = u32(height + 1);
      var width2: u32 = u32(width + 1);
      var channel: u32 = ${d.length>3?`u32(originalIndices[${$e}])`:"0"};
      var batch: u32 =  ${d.length>3?`u32(originalIndices[${_}])`:"0"};

      var x111: ${Je} = getInputValue(batch, channel, depth1, height1, width1);
      var x112: ${Je} = getInputValue(batch, channel, depth1, height1, width2);
      var x121: ${Je} = getInputValue(batch, channel, depth1, height2, width1);
      var x122: ${Je} = getInputValue(batch, channel, depth1, height2, width2);
      var x211: ${Je} = getInputValue(batch, channel, depth2, height1, width1);
      var x212: ${Je} = getInputValue(batch, channel, depth2, height1, width2);
      var x221: ${Je} = getInputValue(batch, channel, depth2, height2, width1);
      var x222: ${Je} = getInputValue(batch, channel, depth2, height2, width2);
      var dx1: ${Je} = abs(depth - ${Je}(depth1));
      var dx2: ${Je} = abs(${Je}(depth2) - depth);
      var dy1: ${Je} = abs(height - ${Je}(height1));
      var dy2: ${Je} = abs(${Je}(height2) - height);
      var dz1: ${Je} = abs(width - ${Je}(width1));
      var dz2: ${Je} = abs(${Je}(width2) - width);
      if (depth1 == depth2) {
        dx1 = 0.5;
        dx2 = 0.5;
      }
      if (height1 == height2) {
        dy1 = 0.5;
        dy2 = 0.5;
      }
      if (width1 == width2) {
        dz1 = 0.5;
        dz2 = 0.5;
      }
      return (x111 * dx2 * dy2 * dz2 + x112 * dx2 * dy2 * dz1 + x121 * dx2 * dy1 *dz2 + x122 * dx2 * dy1 * dz1 +
              x211 * dx1 * dy2 * dz2 + x212 * dx1 * dy2 * dz1 + x221 * dx1 * dy1 *dz2 + x222 * dx1 * dy1 * dz1);
    }`},R1=(i,l,d,f,g,_)=>{let M=i.dims,Te=T1(_,l.axes,M.length),Se=E1(M,f,g,l.axes),$e=f.slice();f.length===0&&($e=M.map((pt,Pt)=>pt===0?1:Se[Pt]/pt),l.keepAspectRatioPolicy!=="stretch"&&(Se=S1(M,$e,l)));let Je=eo("output",i.dataType,Se.length),J=ar("input",i.dataType,M.length),et=Zt.size(Se),dt=M.length===Se.length&&M.every((pt,Pt)=>pt===Se[Pt]),it=l.coordinateTransformMode==="tf_crop_and_resize",ct=l.extrapolationValue,Mt=J.type.value,kt=pt=>`
      ${dt?"":`
      ${k1(l.coordinateTransformMode,Mt)};
      ${(()=>{switch(l.mode){case"nearest":return`
              ${B1(J,M)};
              ${M1(l.nearestMode,d,Mt)};
              ${A1(J,Je,M,Se,$e.length,Te.length,it)};
              `;case"linear":return`
              ${P1(Je,M,Se,$e.length,Te.length)};
              ${(()=>{if(M.length===2||M.length===4)return`${I1(J,Je,M,it,ct)}`;if(M.length===3||M.length===5)return`${F1(J,Je,M,it,ct)}`;throw Error("Linear mode only supports input dims 2, 3, 4 and 5 are supported in linear mode.")})()};
            `;case"cubic":return`
            ${(()=>{if(M.length===2||M.length===4)return`${D1(J,Je,M,Se,$e,Te,l.cubicCoeffA,it,l.extrapolationValue,l.excludeOutside)}`;throw Error("Cubic mode only supports input dims 2 and 4 are supported in linear mode.")})()};
            `;default:throw Error("Invalid resize mode")}})()};
      `}
      ${pt.registerUniform("output_size","u32").registerUniform("scales","f32",$e.length).registerUniform("roi","f32",Te.length).declareVariables(J,Je)}
      ${pt.mainStart()}
        ${pt.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
        ${dt?"output[global_idx] = input[global_idx];":`
        let output_indices = ${Je.offsetToIndices("global_idx")};
        var input_indices: ${J.type.indices};
        ${(()=>{switch(l.mode){case"nearest":return`input_indices = calculateInputIndicesFromOutputIndices(output_indices);
                if (checkInputIndices(input_indices)) {
                  output[global_idx] = ${J.getByIndices("input_indices")};
                } else {
                  output[global_idx] = ${l.extrapolationValue};
                }`;case"linear":return`output[global_idx] = ${M.length===2||M.length===4?"bilinearInterpolation":"trilinearInterpolation"}(output_indices);`;case"cubic":return"output[global_idx] = bicubicInterpolation(output_indices);";default:throw Error(`Unsupported resize mode: ${l.mode}`)}})()};
`}
      }`;return{name:"Resize",shaderCache:{hint:`${l.cacheKey}|${d}|${$e.length>0?l.mode==="cubic"?$e:$e.length:""}|${g.length>0?g:""}|${Te.length>0?Te:""}|${dt}|${l.mode==="nearest"?M.length:M}`,inputDependencies:["rank"]},getShaderSource:kt,getRunData:()=>({outputs:[{dims:Se,dataType:i.dataType}],dispatchGroup:{x:Math.ceil(et/64)},programUniforms:[{type:12,data:et},{type:1,data:$e},{type:1,data:Te},...Nr(M,Se)]})}},O1=i=>{let l=i.customDataBuffer;return new Uint32Array(l,l.byteOffset,1)[0]},$1=(i,l)=>{let d=[],f=[],g=[],_=O1(i);if(l.antialias!==0)throw Error("Only default value (0) for Antialias attribute is supported");C1(i.inputs,l,_,d,f,g),i.compute(R1(i.inputs[0],l,_,d,f,g),{inputs:[0]})},L1=i=>{let l=i.antialias,d=i.axes,f=i.coordinateTransformMode,g=i.cubicCoeffA,_=i.excludeOutside!==0,M=i.extrapolationValue,Te=i.keepAspectRatioPolicy,Se=i.mode,$e=i.nearestMode===""?"simple":i.nearestMode;return fo({antialias:l,axes:d,coordinateTransformMode:f,cubicCoeffA:g,excludeOutside:_,extrapolationValue:M,keepAspectRatioPolicy:Te,mode:Se,nearestMode:$e})}}),N1,z1,j1,gw=p(()=>{"use strict";io(),ro(),Ro(),wo(),N1=(i,l)=>{let[d,f,g,_]=i,{numHeads:M,rotaryEmbeddingDim:Te}=l;if(d.dims.length!==3&&d.dims.length!==4)throw new Error(`Input 'x' is expected to have 3 or 4 dimensions, got ${d.dims.length}`);if(!Zt.areEqual(f.dims,[])&&!Zt.areEqual(f.dims,[1])&&f.dims.length!==2)throw new Error(`Input 'position_ids' is expected to have 0, 1, or 2 dimensions, got ${f.dims.length}`);if(g.dims.length!==2)throw new Error(`Input 'cos_cache' is expected to have 2 dimensions, got ${g.dims.length}`);if(_.dims.length!==2)throw new Error(`Input 'sin_cache' is expected to have 2 dimensions, got ${_.dims.length}`);if(!Zt.areEqual(g.dims,_.dims))throw new Error("Inputs 'cos_cache' and 'sin_cache' are expected to have the same shape");if(Te>0&&M===0)throw new Error("num_heads must be provided if rotary_embedding_dim is specified");let Se=d.dims[0],$e=d.dims[d.dims.length-2],Je=g.dims[0],J=Zt.sizeFromDimension(d.dims,1)/$e,et=Te===0?g.dims[1]*2:J/M;if(Te>et)throw new Error("rotary_embedding_dim must be less than or equal to head_size");if(f.dims.length===2){if(Se!==f.dims[0])throw new Error(`Input 'position_ids' dimension 0 should be of size batch_size, got ${f.dims[0]}`);if($e!==f.dims[1])throw new Error(`Input 'position_ids' dimension 1 should be of size sequence_length, got ${f.dims[1]}`)}if(et/2!==g.dims[1]&&Te/2!==g.dims[1])throw new Error(`Input 'cos_cache' dimension 1 should be same as head_size / 2 or rotary_embedding_dim / 2, got ${g.dims[1]}`);if($e>Je)throw new Error("Updating cos_cache and sin_cache in RotaryEmbedding is not currently supported")},z1=(i,l)=>{let{interleaved:d,numHeads:f,rotaryEmbeddingDim:g,scale:_}=l,M=i[0].dims[0],Te=Zt.sizeFromDimension(i[0].dims,1),Se=i[0].dims[i[0].dims.length-2],$e=Te/Se,Je=i[2].dims[1],J=g===0?Je*2:$e/f,et=new Array(M,Se,$e/J,J-Je),dt=Zt.computeStrides(et),it=[{type:1,data:_},{type:12,data:et},{type:12,data:dt},...i[0].dims.length===3?new Array({type:12,data:[Te,$e,J,1]}):[],...i[0].dims.length===4?new Array({type:12,data:[Te,J,Se*J,1]}):[],...Nr(i[0].dims,i[1].dims,i[2].dims,i[3].dims,i[0].dims)],ct=Mt=>{let kt=ar("input",i[0].dataType,i[0].dims.length),pt=ar("position_ids",i[1].dataType,i[1].dims.length),Pt=ar("cos_cache",i[2].dataType,i[2].dims.length),Lt=ar("sin_cache",i[3].dataType,i[3].dims.length),jt=eo("output",i[0].dataType,i[0].dims.length);return Mt.registerUniforms([{name:"scale",type:"f32"},{name:"global_shape",type:"u32",length:et.length},{name:"global_strides",type:"u32",length:dt.length},{name:"input_output_strides",type:"u32",length:dt.length}]),`
        ${Mt.declareVariables(kt,pt,Pt,Lt,jt)}

        ${Mt.mainStart(Ri)}
          let half_rotary_emb_dim = uniforms.${Pt.name}_shape[1];
          let bsnh = global_idx / uniforms.global_strides % uniforms.global_shape;
          let size = uniforms.global_shape[0] * uniforms.global_strides[0];
          ${Mt.guardAgainstOutOfBoundsWorkgroupSizes("size")}

          if (bsnh[3] < half_rotary_emb_dim) {
            let position_ids_idx =
                ${pt.broadcastedIndicesToOffset("bsnh.xy",eo("",pt.type.tensor,2))};
            let position_id =
                u32(${pt.getByOffset("position_ids_idx")}) + select(0, bsnh[1], position_ids_idx == 0);
            let i = dot(bsnh, uniforms.input_output_strides) + select(0, bsnh[3], ${d});
            let j = i + select(half_rotary_emb_dim, 1, ${d});
            let re = ${kt.getByOffset("i")} * ${Pt.get("position_id","bsnh[3]")} -
                ${kt.getByOffset("j")} * ${Lt.get("position_id","bsnh[3]")};
            ${jt.setByOffset("i","re")}
            let im = ${kt.getByOffset("i")} * ${Lt.get("position_id","bsnh[3]")} +
                ${kt.getByOffset("j")} * ${Pt.get("position_id","bsnh[3]")};
            ${jt.setByOffset("j","im")}
          } else {
            let k = dot(bsnh, uniforms.input_output_strides) + half_rotary_emb_dim;
            ${jt.setByOffset("k",kt.getByOffset("k"))}
          }
        }`};return{name:"RotaryEmbedding",shaderCache:{hint:fo({interleaved:d}).cacheKey,inputDependencies:["rank","rank","rank","rank"]},getShaderSource:ct,getRunData:()=>({outputs:[{dims:i[0].dims,dataType:i[0].dataType}],dispatchGroup:{x:Math.ceil(Zt.size(et)/Ri)},programUniforms:it})}},j1=(i,l)=>{N1(i.inputs,l),i.compute(z1(i.inputs,l))}}),V1,U1,W1,Co=p(()=>{"use strict";io(),ro(),wo(),V1=i=>{if(!i||i.length<3)throw new Error("layerNorm requires at least 3 inputs.");let l=i[0],d=i[1],f=i[2];if(l.dataType!==d.dataType||l.dataType!==f.dataType)throw new Error("All inputs must have the same data type");if(l.dims.length!==3&&l.dims.length!==2)throw new Error("Input must be 2D or 3D");if(d.dims.length!==3&&d.dims.length!==2)throw new Error("Skip must be 2D or 3D");let g=l.dims[l.dims.length-1],_=l.dims[l.dims.length-2];if(d.dims[d.dims.length-1]!==g)throw new Error("Skip must have the same hidden size as input");if(d.dims[d.dims.length-2]!==_)throw new Error("Skip must have the same sequence length as input");if(f.dims.length!==1)throw new Error("Gamma must be 1D");if(f.dims[f.dims.length-1]!==g)throw new Error("Gamma must have the same hidden size as input");if(i.length>3){let M=i[3];if(M.dims.length!==1)throw new Error("Beta must be 1D");if(M.dims[M.dims.length-1]!==g)throw new Error("Beta must have the same hidden size as input")}if(i.length>4){let M=i[4];if(M.dims.length!==1)throw new Error("Bias must be 1D");if(M.dims[M.dims.length-1]!==g)throw new Error("Bias must have the same hidden size as input")}},U1=(i,l,d,f)=>{let g=l.simplified,_=i[0].dims,M=Zt.size(_),Te=_,Se=M,$e=_.slice(-1)[0],Je=f?_.slice(0,-1).concat(1):[],J=!g&&i.length>3,et=i.length>4,dt=f&&d>1,it=f&&d>2,ct=d>3,Mt=64,kt=xo($e),pt=[{type:12,data:Se},{type:12,data:kt},{type:12,data:$e},{type:1,data:l.epsilon}],Pt=jt=>{let Yt=[{name:"output_size",type:"u32"},{name:"components",type:"u32"},{name:"hidden_size",type:"u32"},{name:"epsilon",type:"f32"}],Jt=[ar("x",i[0].dataType,i[0].dims,kt),ar("skip",i[1].dataType,i[1].dims,kt),ar("gamma",i[2].dataType,i[2].dims,kt)];J&&Jt.push(ar("beta",i[3].dataType,i[3].dims,kt)),et&&Jt.push(ar("bias",i[4].dataType,i[4].dims,kt)),Jt.push(eo("output",i[0].dataType,Te,kt)),dt&&Jt.push(eo("mean_output",1,Je)),it&&Jt.push(eo("inv_std_output",1,Je)),ct&&Jt.push(eo("input_skip_bias_sum",i[0].dataType,Te,kt));let Mr=qo(i[0].dataType),Pr=qo(1,kt);return`

      ${jt.registerUniforms(Yt).declareVariables(...Jt)}
      var<workgroup> sum_shared : array<${Pr}, ${Mt}>;
      var<workgroup> sum_squared_shared : array<${Pr}, ${Mt}>;

      ${jt.mainStart([Mt,1,1])}
        let ix = local_id.x;
        let iy = global_id.x / ${Mt};

        let hidden_size_vectorized: u32 = uniforms.hidden_size / uniforms.components;
        var stride = hidden_size_vectorized / ${Mt};
        let offset = ix * stride + iy * hidden_size_vectorized;
        let offset1d = stride * ix;
        if (ix == ${Mt-1}) {
          stride = hidden_size_vectorized - stride * ix;
        }
        for (var i: u32 = 0; i < stride; i++) {
          let skip_value = skip[offset + i];
          let bias_value = ${et?"bias[offset1d + i]":Mr+"(0.0)"};
          let input_value = x[offset + i];
          let value = input_value + skip_value + bias_value;
          ${ct?"input_skip_bias_sum[offset + i] = value;":""}
          output[offset + i] = value;
          let f32_value = ${En(Mr,kt,"value")};
          sum_shared[ix] += f32_value;
          sum_squared_shared[ix] += f32_value * f32_value;
        }
        workgroupBarrier();

        var reduce_size : u32 = ${Mt};
        for (var curr_size = reduce_size >> 1;  curr_size > 0; curr_size = reduce_size >> 1) {
          reduce_size = curr_size + (reduce_size & 1);
          if (ix < curr_size) {
            sum_shared[ix] += sum_shared[ix + reduce_size];
            sum_squared_shared[ix] += sum_squared_shared[ix + reduce_size];
          }
          workgroupBarrier();
        }

        let sum = sum_shared[0];
        let square_sum = sum_squared_shared[0];
        let mean = ${Xn("sum",kt)} / f32(uniforms.hidden_size);
        let inv_std_dev = inverseSqrt(${Xn("square_sum",kt)} / f32(uniforms.hidden_size) ${g?"":"- mean * mean"} + uniforms.epsilon);
        ${dt?"mean_output[global_idx] = mean;":""}
        ${it?"inv_std_output[global_idx] = inv_std_dev;":""}

        for (var i: u32 = 0; i < stride; i++) {
          output[offset + i] = (output[offset + i] ${g?"":`- ${Mr}(mean)`}) *
            ${Mr}(inv_std_dev) * gamma[offset1d + i]
            ${J?"+ beta[offset1d + i]":""};
        }
      }`},Lt=[{dims:Te,dataType:i[0].dataType}];return d>1&&Lt.push({dims:Je,dataType:1}),d>2&&Lt.push({dims:Je,dataType:1}),d>3&&Lt.push({dims:_,dataType:i[0].dataType}),{name:"SkipLayerNormalization",shaderCache:{hint:`${kt};${dt};${it};${ct}`,inputDependencies:i.map((jt,Yt)=>"type")},getShaderSource:Pt,getRunData:()=>({outputs:Lt,dispatchGroup:{x:Math.ceil(Se/$e)},programUniforms:pt})}},W1=(i,l)=>{V1(i.inputs);let d=[0];i.outputCount>1&&d.push(-3),i.outputCount>2&&d.push(-3),i.outputCount>3&&d.push(3),i.compute(U1(i.inputs,l,i.outputCount,!1),{outputs:d})}}),W_,Wn,ui,pi,kl,G1,G_,H_,Qe=p(()=>{"use strict";io(),ro(),Ro(),wo(),W_=(i,l)=>{if(!i||i.length<1)throw new Error("too few inputs");if(l.axes.length!==0){if(l.axes.length!==l.starts.length||l.axes.length!==l.ends.length)throw new Error("axes, starts and ends must have the same length")}else if(l.starts.length!==l.ends.length)throw new Error("starts and ends must have the same length");i.slice(1).forEach((d,f)=>{if(i[f+1].dataType!==6&&i[f+1].dataType!==7)throw new Error(`Input ${f} must be an array of int32 or int64`)})},Wn=(i,l)=>{let d=[];if(i.length>l)if(i[l].dataType===7)i[l].getBigInt64Array().forEach(f=>d.push(Number(f)));else if(i[l].dataType===6)i[l].getInt32Array().forEach(f=>d.push(Number(f)));else throw new Error(`Input ${l} must be an array of int32 or int64`);return d},ui=(i,l)=>{if(i.length>1){let d=Wn(i,1),f=Wn(i,2),g=Wn(i,3);return g.length===0&&(g=[...Array(i[0].dims.length).keys()]),fo({starts:d,ends:f,axes:g})}else return l},pi=(i,l,d,f,g)=>{let _=i;return i<0&&(_+=d[f[l]]),g[l]<0?Math.max(0,Math.min(_,d[f[l]]-1)):Math.max(0,Math.min(_,d[f[l]]))},kl=(i,l,d)=>`fn calculateInputIndices(output_indices: ${l.type.indices}) -> ${i.type.indices} {
          var input_indices: ${i.type.indices};
          var carry = 0u;
          for (var i = ${d.length}; i >= 0; i--) {
            let input_shape_i = ${Hr("uniforms.input_shape","i",d.length)};
            let steps_i = ${Hr("uniforms.steps","i",d.length)};
            let signs_i = ${Hr("uniforms.signs","i",d.length)};
            let starts_i = ${Hr("uniforms.starts","i",d.length)};
            var output_index = ${l.indicesGet("output_indices","i")};
            var input_index = output_index * steps_i + starts_i + carry;
            carry = input_index / input_shape_i;
            input_index = input_index % input_shape_i;
            if (signs_i < 0) {
              input_index = input_shape_i - input_index - 1u + starts_i;
            }
            ${i.indicesSet("input_indices","i","input_index")};
          }
          return input_indices;
      }`,G1=(i,l)=>{let d=i[0].dims,f=Zt.size(d),g=l.axes.length>0?Zt.normalizeAxes(l.axes,d.length):[...Array(d.length).keys()],_=Wn(i,4);_.forEach(kt=>kt!==0||(()=>{throw new Error("step cannot be 0")})),_.length===0&&(_=Array(g.length).fill(1));let M=l.starts.map((kt,pt)=>pi(kt,pt,d,g,_)),Te=l.ends.map((kt,pt)=>pi(kt,pt,d,g,_));if(g.length!==M.length||g.length!==Te.length)throw new Error("start, ends and axes should have the same number of elements");if(g.length!==d.length)for(let kt=0;kt<d.length;++kt)g.includes(kt)||(M.splice(kt,0,0),Te.splice(kt,0,d[kt]),_.splice(kt,0,1));let Se=_.map(kt=>Math.sign(kt));_.forEach((kt,pt,Pt)=>{if(kt<0){let Lt=(Te[pt]-M[pt])/kt,jt=M[pt],Yt=jt+Lt*_[pt];M[pt]=Yt,Te[pt]=jt,Pt[pt]=-kt}});let $e=d.slice(0);g.forEach((kt,pt)=>{$e[kt]=Math.ceil((Te[kt]-M[kt])/_[kt])});let Je={dims:$e,dataType:i[0].dataType},J=eo("output",i[0].dataType,$e.length),et=ar("input",i[0].dataType,i[0].dims.length),dt=Zt.size($e),it=[{name:"outputSize",type:"u32"},{name:"starts",type:"u32",length:M.length},{name:"signs",type:"i32",length:Se.length},{name:"steps",type:"u32",length:_.length}],ct=[{type:12,data:dt},{type:12,data:M},{type:6,data:Se},{type:12,data:_},...Nr(i[0].dims,$e)],Mt=kt=>`
      ${kt.registerUniforms(it).declareVariables(et,J)}
        ${kl(et,J,d)}
        ${kt.mainStart()}
          ${kt.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.outputSize")}
          let output_indices = ${J.offsetToIndices("global_idx")};
          let input_indices = calculateInputIndices(output_indices);
          ${J.setByOffset("global_idx",et.getByIndices("input_indices"))}
      }`;return{name:"Slice",shaderCache:{hint:`${Se.length}_${M.length}_${_.length}`,inputDependencies:["rank"]},getShaderSource:Mt,getRunData:()=>({outputs:[Je],dispatchGroup:{x:Math.ceil(f/64)},programUniforms:ct})}},G_=(i,l)=>{W_(i.inputs,l);let d=ui(i.inputs,l);i.compute(G1(i.inputs,d),{inputs:[0]})},H_=i=>{let l=i.starts,d=i.ends,f=i.axes;return fo({starts:l,ends:d,axes:f})}}),Fe,yt,Wt,Xt,ir=p(()=>{"use strict";io(),ro(),Ro(),Xs(),wo(),Fe=i=>{if(!i||i.length!==1)throw new Error("Softmax op requires 1 input.")},yt=(i,l)=>{let d=i.inputs[0],f=d.dims,g=Zt.size(f),_=f.length,M=Zt.normalizeAxis(l.axis,_),Te=M<f.length-1,Se,$e=[];Te?($e=Array.from({length:_},(Jt,Mr)=>Mr),$e[M]=_-1,$e[_-1]=M,Se=i.compute(Ki(d,$e),{inputs:[d],outputs:[-1]})[0]):Se=d;let Je=Se.dims,J=Je[_-1],et=g/J,dt=xo(J),it=J/dt,ct=64;et===1&&(ct=256);let Mt=(Jt,Mr)=>Mr===4?`max(max(${Jt}.x, ${Jt}.y), max(${Jt}.z, ${Jt}.w))`:Mr===2?`max(${Jt}.x, ${Jt}.y)`:Mr===3?`max(max(${Jt}.x, ${Jt}.y), ${Jt}.z)`:Jt,kt=ar("x",Se.dataType,Se.dims,dt),pt=eo("result",Se.dataType,Se.dims,dt),Pt=kt.type.value,Lt=qo(Se.dataType)==="f32"?`var threadMax = ${Pt}(-3.402823e+38f);`:`var threadMax = ${Pt}(-65504.0h);`,jt=Jt=>`
      var<workgroup> rowMaxShared : ${Pt};
      var<workgroup> rowSumShared : ${Pt};
      var<workgroup> threadShared : array<${Pt}, ${ct}>;

      fn getValue(row: i32, col: i32, row_stride: i32) -> ${Pt} {
        let index = row * row_stride + col;
        return x[index];
      }

      fn setValue(row: i32, col: i32, row_stride: i32, value: ${Pt}) {
        let index = row * row_stride + col;
        result[index] = value;
      }
      ${Jt.registerUniform("packedCols","i32").declareVariables(kt,pt)}
      ${Jt.mainStart(ct)}
        let gindex = i32(global_idx);
        let lindex = i32(local_idx);
        const wg = ${ct};
        let row = gindex / wg;
        let cols = uniforms.packedCols;
        let row_stride : i32 = uniforms.packedCols;

        // find the rows max
        ${Lt}
        for (var col = lindex; col < cols; col += wg) {
          let value = getValue(row, col, row_stride);
          threadMax = max(threadMax, value);
        }
        if (lindex < cols) {
          threadShared[lindex] = threadMax;
        }
        workgroupBarrier();

        var reduceSize = min(cols, wg);
        for (var currSize = reduceSize >> 1;  currSize > 0; currSize = reduceSize >> 1) {
          reduceSize = currSize + (reduceSize & 1);
          if (lindex < currSize) {
            threadShared[lindex] = max(threadShared[lindex], threadShared[lindex + reduceSize]);
          }
          workgroupBarrier();
        }
        if (lindex == 0) {
          rowMaxShared = ${Pt}(${Mt("threadShared[0]",dt)});
        }
        workgroupBarrier();

        // find the rows sum
        var threadSum = ${Pt}(0.0);
        for (var col = lindex; col < cols; col += wg) {
          let subExp = exp(getValue(row, col, row_stride) - rowMaxShared);
          threadSum += subExp;
        }
        threadShared[lindex] = threadSum;
        workgroupBarrier();

        for (var currSize = wg >> 1;  currSize > 0; currSize = currSize >> 1) {
          if (lindex < currSize) {
            threadShared[lindex] = threadShared[lindex] + threadShared[lindex + currSize];
          }
          workgroupBarrier();
        }
        if (lindex == 0) {
          rowSumShared = ${Pt}(${Xn("threadShared[0]",dt)});
        }
        workgroupBarrier();

        // calculate final value for each element in the row
        for (var col = lindex; col < cols; col += wg) {
          let value = exp(getValue(row, col, row_stride) - rowMaxShared) / rowSumShared;
          setValue(row, col, row_stride, value);
        }
      }`,Yt=i.compute({name:"Softmax",shaderCache:{hint:`${dt};${ct}`,inputDependencies:["type"]},getRunData:()=>({outputs:[{dims:Je,dataType:Se.dataType}],dispatchGroup:{x:et},programUniforms:[{type:6,data:it}]}),getShaderSource:jt},{inputs:[Se],outputs:[Te?-1:0]})[0];Te&&i.compute(Ki(Yt,$e),{inputs:[Yt]})},Wt=(i,l)=>{Fe(i.inputs),yt(i,l)},Xt=i=>fo({axis:i.axis})}),br,yr,Or,Jr,po,ko=p(()=>{"use strict";io(),ro(),wo(),br=i=>Array.from(i.getBigInt64Array(),Number),yr=i=>{if(!i||i.length!==2)throw new Error("Tile requires 2 inputs.");if(i[0].dataType!==1&&i[0].dataType!==10&&i[0].dataType!==6&&i[0].dataType!==12)throw new Error("Tile only support float, float16, int32, and uint32 data types");if(i[1].dataType!==7)throw new Error("Tile `repeats` input should be of int64 data type");if(i[1].dims.length!==1)throw new Error("Tile `repeats` input should be 1-D");if(br(i[1]).length!==i[0].dims.length)throw new Error("Tile `repeats` input should have same number of elements as rank of input data tensor")},Or=(i,l)=>{let d=[];for(let f=0;f<i.length;++f)d.push(i[f]*l[f]);return d},Jr=(i,l)=>{let d=i[0].dims,f=l??br(i[1]),g=Or(d,f),_=Zt.size(g),M=i[0].dataType,Te=ar("input",M,d.length),Se=eo("output",M,g.length),$e=Je=>`
      const inputShape = ${Te.indices(...d)};
      ${Je.registerUniform("output_size","u32").declareVariables(Te,Se)}
      ${Je.mainStart()}
      ${Je.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.output_size")}
      let output_indices = ${Se.offsetToIndices("global_idx")};
      var input_indices: ${Te.type.indices};
      for (var i = 0; i < ${d.length}; i++) {
        let input_dim_i = ${Te.indicesGet("uniforms.input_shape","i")};
        let input_dim_value = ${Se.indicesGet("output_indices","i")}  % input_dim_i;

        ${Te.indicesSet("input_indices","i","input_dim_value")}
      }
      ${Se.setByOffset("global_idx",Te.getByIndices("input_indices"))}
    }`;return{name:"Tile",shaderCache:{hint:`${f}`,inputDependencies:["rank"]},getRunData:()=>({outputs:[{dims:g,dataType:i[0].dataType}],dispatchGroup:{x:Math.ceil(_/64)},programUniforms:[{type:12,data:_},...Nr(i[0].dims,g)]}),getShaderSource:$e}},po=i=>{yr(i.inputs),i.compute(Jr(i.inputs),{inputs:[0]})}}),so,To,vo,Po=p(()=>{"use strict";io(),ro(),wo(),so=(i,l,d,f,g)=>{let _=eo("output_data",g,d.length,4),M=ar("a_data",l[1].dataType,l[1].dims.length,4),Te=ar("b_data",l[2].dataType,l[2].dims.length,4),Se=ar("c_data",l[0].dataType,l[0].dims.length,4),$e,Je=(J,et,dt)=>`select(${et}, ${J}, ${dt})`;if(!f)$e=_.setByOffset("global_idx",Je(M.getByOffset("global_idx"),Te.getByOffset("global_idx"),Se.getByOffset("global_idx")));else{let J=(et,dt,it="")=>{let ct=`a_data[index_a${dt}][component_a${dt}]`,Mt=`b_data[index_b${dt}][component_b${dt}]`,kt=`bool(c_data[index_c${dt}] & (0xffu << (component_c${dt} * 8)))`;return`
            let output_indices${dt} = ${_.offsetToIndices(`global_idx * 4u + ${dt}u`)};
            let offset_a${dt} = ${M.broadcastedIndicesToOffset(`output_indices${dt}`,_)};
            let offset_b${dt} = ${Te.broadcastedIndicesToOffset(`output_indices${dt}`,_)};
            let offset_c${dt} = ${Se.broadcastedIndicesToOffset(`output_indices${dt}`,_)};
            let index_a${dt} = offset_a${dt} / 4u;
            let index_b${dt} = offset_b${dt} / 4u;
            let index_c${dt} = offset_c${dt} / 4u;
            let component_a${dt} = offset_a${dt} % 4u;
            let component_b${dt} = offset_b${dt} % 4u;
            let component_c${dt} = offset_c${dt} % 4u;
            ${et}[${dt}] = ${it}(${Je(ct,Mt,kt)});
          `};g===9?$e=`
            var data = vec4<u32>(0);
            ${J("data",0,"u32")}
            ${J("data",1,"u32")}
            ${J("data",2,"u32")}
            ${J("data",3,"u32")}
            output_data[global_idx] = dot(vec4<u32>(0x1, 0x100, 0x10000, 0x1000000), vec4<u32>(data));`:$e=`
            ${J("output_data[global_idx]",0)}
            ${J("output_data[global_idx]",1)}
            ${J("output_data[global_idx]",2)}
            ${J("output_data[global_idx]",3)}
          `}return`
        ${i.registerUniform("vec_size","u32").declareVariables(Se,M,Te,_)}
        ${i.mainStart()}
        ${i.guardAgainstOutOfBoundsWorkgroupSizes("uniforms.vec_size")}
        ${$e}
      }`},To=i=>{let l=i[1].dims,d=i[2].dims,f=i[0].dims,g=i[1].dataType,_=!(Zt.areEqual(l,d)&&Zt.areEqual(d,f)),M=l,Te=Zt.size(l);if(_){let $e=mi.calcShape(mi.calcShape(l,d,!1),f,!1);if(!$e)throw new Error("Can't perform where op on the given tensors");M=$e,Te=Zt.size(M)}let Se=Math.ceil(Te/4);return{name:"Where",shaderCache:{inputDependencies:["rank","rank","rank"]},getShaderSource:$e=>so($e,i,M,_,g),getRunData:()=>({outputs:[{dims:M,dataType:g}],dispatchGroup:{x:Math.ceil(Te/64/4)},programUniforms:[{type:12,data:Se},...Nr(f,l,d,M)]})}},vo=i=>{i.compute(To(i.inputs))}}),Eo,zo=p(()=>{"use strict";qv(),Yf(),Xv(),Qv(),Yv(),_0(),xg(),e1(),N0(),r1(),o1(),W0(),n1(),G0(),H0(),K0(),q0(),X0(),pw(),Z0(),c1(),h_(),d1(),u1(),y_(),l_(),M_(),_1(),fw(),b1(),hw(),_p(),mw(),gw(),Co(),Qe(),ir(),rh(),ko(),Xs(),mu(),Po(),Eo=new Map([["Abs",[Lm]],["Acos",[r0]],["Acosh",[Nm]],["Add",[h0]],["ArgMax",[Hf,Kf]],["ArgMin",[Am,Kf]],["Asin",[zm]],["Asinh",[o0]],["Atan",[jm]],["Atanh",[Vm]],["Attention",[Dm]],["AveragePool",[g1,fh]],["BatchNormalization",[Zf]],["BiasAdd",[$m]],["BiasSplitGelu",[f0]],["Cast",[Um,n0]],["Ceil",[Gm]],["Clip",[i0]],["Concat",[vg,yg]],["Conv",[Fp,R0]],["ConvTranspose",[$g,$0]],["Cos",[Hm]],["Cosh",[a0]],["CumSum",[Lg,Rp]],["DepthToSpace",[Op,jg]],["DequantizeLinear",[R_,O_]],["Div",[fg]],["Einsum",[Gg,Lp]],["Elu",[Km,fu]],["Equal",[kp]],["Erf",[qm]],["Exp",[s0]],["Expand",[Kg]],["FastGelu",[qg]],["Floor",[Xm]],["FusedConv",[Fp,R0]],["Gather",[Wp,Xg]],["GatherElements",[Qp,Xp]],["GatherBlockQuantized",[Yg,qp]],["GatherND",[Hp,Qg]],["Gelu",[Qm]],["Gemm",[Jp,e_]],["GlobalAveragePool",[S_,E_]],["GlobalMaxPool",[I_,B_]],["Greater",[mg]],["GreaterOrEqual",[g0]],["GridSample",[a_,s_]],["GroupQueryAttention",[oh]],["HardSigmoid",[tg,d0]],["InstanceNormalization",[of]],["LayerNormalization",[ih]],["LeakyRelu",[l0,fu]],["Less",[Tp]],["LessOrEqual",[gg]],["Log",[sg]],["MatMul",[g_]],["MatMulNBits",[v_,sf]],["MaxPool",[P_,A_]],["Mul",[hg]],["MultiHeadAttention",[a1,ef]],["Neg",[Jm]],["Not",[Ym]],["Pad",[h1]],["Pow",[Mp]],["QuickGelu",[cg,fu]],["Range",[N_]],["Reciprocal",[c0]],["ReduceMin",[Tm]],["ReduceMean",[Cm]],["ReduceMax",[Uf]],["ReduceSum",[Wf]],["ReduceProd",[Em]],["ReduceL1",[Vf]],["ReduceL2",[km]],["ReduceLogSum",[Pm]],["ReduceLogSumExp",[Mm]],["ReduceSumSquare",[Sm]],["Relu",[Zm]],["Resize",[$1,L1]],["RotaryEmbedding",[j1]],["ScatterND",[y1,v1]],["Sigmoid",[eg]],["Sin",[rg]],["Sinh",[u0]],["Slice",[G_,H_]],["SkipLayerNormalization",[W1]],["Split",[p_,rf]],["Sqrt",[og]],["Softmax",[Wt,Xt]],["Sub",[m0]],["Tan",[ng]],["Tanh",[ig]],["ThresholdedRelu",[wp,fu]],["Tile",[po]],["Transpose",[am,Df]],["Where",[vo]]])}),gn,Go=p(()=>{"use strict";tr(),Gt(),wo(),gn=class{constructor(i){this.backend=i,this.repo=new Map,this.attributesBound=!1}getArtifact(i){return this.repo.get(i)}setArtifact(i,l){this.repo.set(i,l)}run(i,l,d,f,g){nr(i.programInfo.name);let _=this.backend.device,M=this.backend.getComputePassEncoder();this.backend.writeTimestamp(this.backend.pendingDispatchNumber*2);let Te=[];for(let $e of l)Te.push({binding:Te.length,resource:{buffer:$e.buffer}});for(let $e of d)Te.push({binding:Te.length,resource:{buffer:$e.buffer}});g&&Te.push({binding:Te.length,resource:g});let Se=_.createBindGroup({layout:i.computePipeline.getBindGroupLayout(0),entries:Te,label:i.programInfo.name});if(this.backend.sessionStatus==="capturing"){let $e={kernelId:this.backend.currentKernelId,computePipeline:i.computePipeline,bindGroup:Se,dispatchGroup:f};this.backend.capturedCommandList.get(this.backend.currentSessionId).push($e)}M.setPipeline(i.computePipeline),M.setBindGroup(0,Se),M.dispatchWorkgroups(...f),this.backend.writeTimestamp(this.backend.pendingDispatchNumber*2+1),this.backend.pendingDispatchNumber++,(this.backend.pendingDispatchNumber>=this.backend.maxDispatchNumber||this.backend.queryType==="at-passes")&&this.backend.endComputePass(),this.backend.pendingDispatchNumber>=this.backend.maxDispatchNumber&&this.backend.flush(),cr(i.programInfo.name)}dispose(){}build(i,l){nr(i.name);let d=this.backend.device,f=[];[{feature:"shader-f16",extension:"f16"},{feature:"subgroups",extension:"subgroups"},{feature:"subgroups-f16",extension:"subgroups_f16"}].forEach($e=>{d.features.has($e.feature)&&f.push(`enable ${$e.extension};`)});let g=cp(l,this.backend.device.limits),_=i.getShaderSource(g),M=`${f.join(`
`)}
${g.additionalImplementations}
${_}`,Te=d.createShaderModule({code:M,label:i.name});Ko("verbose",()=>`[WebGPU] ${i.name} shader code: ${M}`);let Se=d.createComputePipeline({compute:{module:Te,entryPoint:"main"},layout:"auto",label:i.name});return cr(i.name),{programInfo:i,computePipeline:Se,uniformVariablesInfo:g.variablesInfo}}normalizeDispatchGroupSize(i){let l=typeof i=="number"?i:i.x,d=typeof i=="number"?1:i.y||1,f=typeof i=="number"?1:i.z||1,g=this.backend.device.limits.maxComputeWorkgroupsPerDimension;if(l<=g&&d<=g&&f<=g)return[l,d,f];let _=l*d*f,M=Math.ceil(Math.sqrt(_));if(M>g){if(M=Math.ceil(Math.cbrt(_)),M>g)throw new Error("Total dispatch size exceeds WebGPU maximum.");return[M,M,M]}else return[M,M,1]}}}),Pn,Nn,zn,ii,gi,Xi=p(()=>{"use strict";tr(),io(),Gt(),wt(),mn(),zo(),Go(),Pn=(i,l)=>{if(l.length!==i.length)throw new Error(`inputDependencies length ${l.length} is not equal to inputTensors length ${i.length}.`);let d=[];for(let f=0;f<i.length;++f){let g=i[f].dataType;switch(l[f]){case"none":{d.push("");break}case"type":{d.push(`${g}`);break}case"rank":{let _=i[f].dims.length;d.push(`${g};${_}`);break}case"dims":{let _=i[f].dims.join(",");d.push(`${g};${_}`);break}default:throw new Error(`unsupported input dependency: ${l[f]}`)}}return d.join("|")},Nn=(i,l,d)=>{let f=i.name;return i.shaderCache?.hint&&(f+="["+i.shaderCache.hint+"]"),f+=":"+d+`:${Pn(l,i.shaderCache?.inputDependencies??new Array(l.length).fill("dims"))}`,f},zn=class{constructor(i){i&&(this.architecture=i.architecture,this.vendor=i.vendor)}isArchitecture(i){return this.architecture===i}isVendor(i){return this.vendor===i}},ii=class{constructor(i){this.subgroupsSupported=i.features.has("subgroups"),this.subgroupsF16Supported=i.features.has("subgroups");let l=i.limits;!this.subgroupsSupported||!l.minSubgroupSize||!l.maxSubgroupSize?this.subgroupSizeRange=void 0:this.subgroupSizeRange=[l.minSubgroupSize,l.maxSubgroupSize]}},gi=class{constructor(){this.currentSessionId=null,this.currentKernelId=null,this.commandEncoder=null,this.computePassEncoder=null,this.maxDispatchNumber=16,this.pendingDispatchNumber=0,this.pendingKernels=[],this.pendingQueries=new Map,this.sessionStatus="default",this.capturedCommandList=new Map,this.capturedPendingKernels=new Map,this.sessionExternalDataMapping=new Map}get currentKernelCustomData(){if(this.currentKernelId===null)throw new Error("currentKernelCustomData(): currentKernelId is null. (should not happen)");let i=this.kernelCustomData.get(this.currentKernelId);return i||(i={},this.kernelCustomData.set(this.currentKernelId,i)),i}initialize(i,l){return ot(this,null,function*(){this.env=i;let d=[],f={requiredLimits:{maxComputeWorkgroupStorageSize:l.limits.maxComputeWorkgroupStorageSize,maxComputeWorkgroupsPerDimension:l.limits.maxComputeWorkgroupsPerDimension,maxStorageBufferBindingSize:l.limits.maxStorageBufferBindingSize,maxBufferSize:l.limits.maxBufferSize,maxComputeInvocationsPerWorkgroup:l.limits.maxComputeInvocationsPerWorkgroup,maxComputeWorkgroupSizeX:l.limits.maxComputeWorkgroupSizeX,maxComputeWorkgroupSizeY:l.limits.maxComputeWorkgroupSizeY,maxComputeWorkgroupSizeZ:l.limits.maxComputeWorkgroupSizeZ},requiredFeatures:d},g=_=>l.features.has(_)&&d.push(_)&&!0;g("chromium-experimental-timestamp-query-inside-passes")||g("timestamp-query"),g("shader-f16"),g("subgroups")&&g("subgroups-f16"),this.device=yield l.requestDevice(f),this.deviceInfo=new ii(this.device),this.adapterInfo=new zn(l.info||(yield l.requestAdapterInfo())),this.gpuDataManager=uo(this),this.programManager=new gn(this),this.kernels=new Map,this.kernelPersistentData=new Map,this.kernelCustomData=new Map,qs(i.logLevel,!!i.debug),this.device.onuncapturederror=_=>{_.error instanceof GPUValidationError&&console.error(`An uncaught WebGPU validation error was raised: ${_.error.message}`)},Object.defineProperty(this.env.webgpu,"device",{value:this.device,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(this.env.webgpu,"adapter",{value:l,writable:!1,enumerable:!0,configurable:!1}),this.setQueryType()})}dispose(){typeof this.querySet<"u"&&this.querySet.destroy(),this.gpuDataManager.dispose()}getCommandEncoder(){return this.commandEncoder||(this.commandEncoder=this.device.createCommandEncoder()),this.commandEncoder}getComputePassEncoder(){if(!this.computePassEncoder){let i=this.getCommandEncoder(),l={};this.queryType==="at-passes"&&(l.timestampWrites={querySet:this.querySet,beginningOfPassWriteIndex:this.pendingDispatchNumber*2,endOfPassWriteIndex:this.pendingDispatchNumber*2+1}),this.computePassEncoder=i.beginComputePass(l)}return this.computePassEncoder}endComputePass(){this.computePassEncoder&&(this.computePassEncoder.end(),this.computePassEncoder=null)}flush(){if(!this.commandEncoder)return;nr(),this.endComputePass();let i;this.queryType!=="none"&&(this.commandEncoder.resolveQuerySet(this.querySet,0,this.pendingDispatchNumber*2,this.queryResolveBuffer,0),i=this.device.createBuffer({size:this.pendingDispatchNumber*2*8,usage:GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST}),this.pendingQueries.set(i,this.pendingKernels),this.pendingKernels=[],this.commandEncoder.copyBufferToBuffer(this.queryResolveBuffer,0,i,0,this.pendingDispatchNumber*2*8)),this.device.queue.submit([this.commandEncoder.finish()]),this.gpuDataManager.refreshPendingBuffers(),this.commandEncoder=null,this.pendingDispatchNumber=0,this.queryType!=="none"&&i.mapAsync(GPUMapMode.READ).then(()=>{let l=new BigUint64Array(i.getMappedRange()),d=this.pendingQueries.get(i);for(let f=0;f<l.length/2;f++){let g=d[f],_=g.kernelId,M=this.kernels.get(_),Te=M.kernelType,Se=M.kernelName,$e=g.programName,Je=g.inputTensorViews,J=g.outputTensorViews,et=l[f*2],dt=l[f*2+1];typeof this.queryTimeBase>"u"&&(this.queryTimeBase=et);let it=Number(et-this.queryTimeBase),ct=Number(dt-this.queryTimeBase);if(!Number.isSafeInteger(it)||!Number.isSafeInteger(ct))throw new RangeError("incorrect timestamp range");if(this.env.webgpu.profiling?.ondata)this.env.webgpu.profiling.ondata({version:1,inputsMetadata:Je.map(Mt=>({dims:Mt.dims,dataType:ji(Mt.dataType)})),outputsMetadata:J.map(Mt=>({dims:Mt.dims,dataType:ji(Mt.dataType)})),kernelId:_,kernelType:Te,kernelName:Se,programName:$e,startTime:it,endTime:ct});else{let Mt="";Je.forEach((pt,Pt)=>{Mt+=`input[${Pt}]: [${pt.dims}] | ${ji(pt.dataType)}, `});let kt="";J.forEach((pt,Pt)=>{kt+=`output[${Pt}]: [${pt.dims}] | ${ji(pt.dataType)}, `}),console.log(`[profiling] kernel "${_}|${Te}|${Se}|${$e}" ${Mt}${kt}execution time: ${ct-it} ns`)}Ut("GPU",`${$e}::${et}::${dt}`)}i.unmap(),this.pendingQueries.delete(i)}),cr()}run(i,l,d,f,g,_){nr(i.name);let M=[];for(let pt=0;pt<l.length;++pt){let Pt=l[pt].data;if(Pt===0)continue;let Lt=this.gpuDataManager.get(Pt);if(!Lt)throw new Error(`no GPU data for input: ${Pt}`);M.push(Lt)}let{outputs:Te,dispatchGroup:Se,programUniforms:$e}=i.getRunData(l),Je=d.length===0?Te.map((pt,Pt)=>Pt):d;if(Je.length!==Te.length)throw new Error(`Output size ${Je.length} must be equal to ${Te.length}.`);let J=[],et=[];for(let pt=0;pt<Te.length;++pt){if(!Number.isInteger(Je[pt])||Je[pt]<-3||Je[pt]>=_)throw new Error(`Invalid output index: ${Je[pt]}`);if(Je[pt]===-3)continue;let Pt=Je[pt]===-1,Lt=Je[pt]===-2,jt=Pt||Lt?g(Te[pt].dataType,Te[pt].dims):f(Je[pt],Te[pt].dataType,Te[pt].dims);if(J.push(jt),jt.data===0)continue;let Yt=this.gpuDataManager.get(jt.data);if(!Yt)throw new Error(`no GPU data for output: ${jt.data}`);if(Pt&&this.temporaryData.push(Yt),Lt){let Jt=this.kernelPersistentData.get(this.currentKernelId);Jt||(Jt=[],this.kernelPersistentData.set(this.currentKernelId,Jt)),Jt.push(Yt)}et.push(Yt)}if(M.length!==l.length||et.length!==J.length){if(et.length===0)return cr(i.name),J;throw new Error(`Program ${i.name} has zero-sized tensor(s) in inputs or outputs. This is not supported now.`)}let dt;if($e){let pt=0,Pt=[];$e.forEach(Jt=>{let Mr=typeof Jt.data=="number"?[Jt.data]:Jt.data;if(Mr.length===0)return;let Pr=Jt.type===10?2:4,Xr,Qr;Jt.type===10?(Qr=Mr.length>4?16:Mr.length>2?8:Mr.length*Pr,Xr=Mr.length>4?16:Pr*Mr.length):(Qr=Mr.length<=2?Mr.length*Pr:16,Xr=16),pt=Math.ceil(pt/Qr)*Qr,Pt.push(pt);let yo=Jt.type===10?8:4;pt+=Mr.length>4?Math.ceil(Mr.length/yo)*Xr:Mr.length*Pr});let Lt=16;pt=Math.ceil(pt/Lt)*Lt;let jt=new ArrayBuffer(pt);$e.forEach((Jt,Mr)=>{let Pr=Pt[Mr],Xr=typeof Jt.data=="number"?[Jt.data]:Jt.data;if(Jt.type===6)new Int32Array(jt,Pr,Xr.length).set(Xr);else if(Jt.type===12)new Uint32Array(jt,Pr,Xr.length).set(Xr);else if(Jt.type===10)new Uint16Array(jt,Pr,Xr.length).set(Xr);else if(Jt.type===1)new Float32Array(jt,Pr,Xr.length).set(Xr);else throw new Error(`Unsupported uniform type: ${ji(Jt.type)}`)});let Yt=this.gpuDataManager.create(pt,GPUBufferUsage.COPY_DST|GPUBufferUsage.UNIFORM);this.device.queue.writeBuffer(Yt.buffer,0,jt,0,pt),this.gpuDataManager.release(Yt.id),dt={offset:0,size:pt,buffer:Yt.buffer}}let it=this.programManager.normalizeDispatchGroupSize(Se),ct=it[1]===1&&it[2]===1,Mt=Nn(i,l,ct),kt=this.programManager.getArtifact(Mt);if(kt||(kt=this.programManager.build(i,it),this.programManager.setArtifact(Mt,kt),Ko("info",()=>`[artifact] key: ${Mt}, programName: ${i.name}`)),$e&&kt.uniformVariablesInfo){if($e.length!==kt.uniformVariablesInfo.length)throw new Error(`Uniform variables count mismatch: expect ${kt.uniformVariablesInfo.length}, got ${$e.length} in program "${kt.programInfo.name}".`);for(let pt=0;pt<$e.length;pt++){let Pt=$e[pt],Lt=Pt.type,jt=typeof Pt.data=="number"?1:Pt.data.length,[Yt,Jt]=kt.uniformVariablesInfo[pt];if(Lt!==Yt||jt!==Jt)throw new Error(`Uniform variable ${pt} mismatch: expect type ${Yt} with size ${Jt}, got type ${Lt} with size ${jt} in program "${kt.programInfo.name}".`)}}if(Ko("info",()=>`[ProgramManager] run "${i.name}" (key=${Mt}) with ${it[0]}x${it[1]}x${it[2]}`),this.queryType!=="none"||this.sessionStatus==="capturing"){let pt={kernelId:this.currentKernelId,programName:kt.programInfo.name,inputTensorViews:l,outputTensorViews:J};this.pendingKernels.push(pt),this.sessionStatus==="capturing"&&this.capturedPendingKernels.get(this.currentSessionId).push(pt)}return this.programManager.run(kt,M,et,it,dt),cr(i.name),J}upload(i,l){this.gpuDataManager.upload(i,l)}memcpy(i,l){this.gpuDataManager.memcpy(i,l)}download(i,l){return ot(this,null,function*(){yield this.gpuDataManager.download(i,l)})}alloc(i){return this.gpuDataManager.create(i).id}free(i){return this.gpuDataManager.release(i)}createKernel(i,l,d,f){let g=Eo.get(i);if(!g)throw new Error(`kernel not implemented: ${i}`);let _={kernelType:i,kernelName:f,kernelEntry:g[0],attributes:[g[1],d]};this.kernels.set(l,_)}releaseKernel(i){let l=this.kernelPersistentData.get(i);if(l){for(let d of l)this.gpuDataManager.release(d.id);this.kernelPersistentData.delete(i)}this.kernelCustomData.delete(i),this.kernels.delete(i)}computeKernel(i,l,d){let f=this.kernels.get(i);if(!f)throw new Error(`kernel not created: ${i}`);let g=f.kernelType,_=f.kernelName,M=f.kernelEntry,Te=f.attributes;if(this.currentKernelId!==null)throw new Error(`kernel "[${g}] ${_}" is not allowed to be called recursively`);this.currentKernelId=i,Te[0]&&(Te[1]=Te[0](Te[1]),Te[0]=void 0),Ko("info",()=>`[WebGPU] Start to run kernel "[${g}] ${_}"...`);let Se=this.env.debug;this.temporaryData=[];try{return Se&&this.device.pushErrorScope("validation"),M(l,Te[1]),0}catch($e){return d.push(Promise.resolve(`[WebGPU] Kernel "[${g}] ${_}" failed. ${$e}`)),1}finally{Se&&d.push(this.device.popErrorScope().then($e=>$e?`GPU validation error for kernel "[${g}] ${_}": ${$e.message}`:null));for(let $e of this.temporaryData)this.gpuDataManager.release($e.id);this.temporaryData=[],this.currentKernelId=null}}registerBuffer(i,l,d,f){let g=this.sessionExternalDataMapping.get(i);g||(g=new Map,this.sessionExternalDataMapping.set(i,g));let _=g.get(l),M=this.gpuDataManager.registerExternalBuffer(d,f,_);return g.set(l,[M,d]),M}unregisterBuffers(i){let l=this.sessionExternalDataMapping.get(i);l&&(l.forEach(d=>this.gpuDataManager.unregisterExternalBuffer(d[0])),this.sessionExternalDataMapping.delete(i))}getBuffer(i){let l=this.gpuDataManager.get(i);if(!l)throw new Error(`no GPU data for buffer: ${i}`);return l.buffer}createDownloader(i,l,d){return()=>ot(this,null,function*(){let f=yield Fr(this,i,l);return We(f.buffer,d)})}writeTimestamp(i){this.queryType==="inside-passes"&&this.computePassEncoder.writeTimestamp(this.querySet,i)}setQueryType(){this.queryType="none",(this.env.webgpu.profiling?.mode==="default"||(typeof this.env.trace>"u"?this.env.wasm.trace:this.env.trace))&&(this.device.features.has("chromium-experimental-timestamp-query-inside-passes")?this.queryType="inside-passes":this.device.features.has("timestamp-query")&&(this.queryType="at-passes"),this.queryType!=="none"&&typeof this.querySet>"u"&&(this.querySet=this.device.createQuerySet({type:"timestamp",count:this.maxDispatchNumber*2}),this.queryResolveBuffer=this.device.createBuffer({size:this.maxDispatchNumber*2*8,usage:GPUBufferUsage.COPY_SRC|GPUBufferUsage.QUERY_RESOLVE})))}captureBegin(){Ko("info","captureBegin"),this.capturedCommandList.get(this.currentSessionId)||this.capturedCommandList.set(this.currentSessionId,[]),this.capturedPendingKernels.get(this.currentSessionId)||this.capturedPendingKernels.set(this.currentSessionId,[]),this.flush(),this.sessionStatus="capturing"}captureEnd(){Ko("info","captureEnd"),this.flush(),this.sessionStatus="default"}replay(){Ko("info","replay"),this.sessionStatus="replaying";let i=this.capturedCommandList.get(this.currentSessionId),l=this.capturedPendingKernels.get(this.currentSessionId),d=i.length;this.pendingKernels=[];for(let f=0;f<d;f++){let g=this.getComputePassEncoder(),_=i[f];this.writeTimestamp(this.pendingDispatchNumber*2),g.setPipeline(_.computePipeline),g.setBindGroup(0,_.bindGroup),g.dispatchWorkgroups(..._.dispatchGroup),this.writeTimestamp(this.pendingDispatchNumber*2+1),this.pendingDispatchNumber++,this.queryType!=="none"&&this.pendingKernels.push(l[f]),(this.pendingDispatchNumber>=this.maxDispatchNumber||this.queryType==="at-passes")&&this.endComputePass(),this.pendingDispatchNumber>=this.maxDispatchNumber&&this.flush()}this.flush(),this.sessionStatus="default"}onCreateSession(){this.gpuDataManager.onCreateSession()}onReleaseSession(i){this.unregisterBuffers(i),this.capturedCommandList.has(i)&&this.capturedCommandList.delete(i),this.capturedPendingKernels.has(i)&&this.capturedPendingKernels.delete(i),this.gpuDataManager.onReleaseSession(i)}onRunStart(i){this.currentSessionId=i,this.setQueryType()}}}),Ml,Es,mh,Ei,Ss,Tu,cf,gh,yn=p(()=>{"use strict";Gt(),Ml=1,Es=()=>Ml++,mh=new Map([["float32",32],["float16",16],["int32",32],["uint32",32],["int64",64],["uint64",64],["int8",8],["uint8",8],["int4",4],["uint4",4]]),Ei=(i,l)=>{let d=mh.get(i);if(!d)throw new Error("Unsupported data type.");return l.length>0?Math.ceil(l.reduce((f,g)=>f*g)*d/8):0},Ss=class{constructor(i){this.sessionId=i.sessionId,this.mlContext=i.context,this.mlTensor=i.tensor,this.dataType=i.dataType,this.tensorShape=i.shape}get tensor(){return this.mlTensor}get type(){return this.dataType}get shape(){return this.tensorShape}get byteLength(){return Ei(this.dataType,this.tensorShape)}destroy(){Ko("verbose",()=>"[WebNN] TensorWrapper.destroy"),this.mlTensor.destroy()}write(i){this.mlContext.writeTensor(this.mlTensor,i)}read(i){return ot(this,null,function*(){return i?this.mlContext.readTensor(this.mlTensor,i):this.mlContext.readTensor(this.mlTensor)})}canReuseTensor(i,l,d){return this.mlContext===i&&this.dataType===l&&this.tensorShape.length===d.length&&this.tensorShape.every((f,g)=>f===d[g])}},Tu=class{constructor(i,l){this.tensorManager=i,this.wrapper=l}get tensorWrapper(){return this.wrapper}releaseTensor(){this.tensorWrapper&&(this.tensorManager.releaseTensor(this.tensorWrapper),this.wrapper=void 0)}ensureTensor(i,l,d,f){return ot(this,null,function*(){if(this.wrapper){if(this.wrapper.canReuseTensor(i,l,d))return this.wrapper.tensor;if(f){if(this.wrapper.byteLength!==Ei(l,d))throw new Error("Unable to copy data to tensor with different size.");this.activeUpload=new Uint8Array(yield this.wrapper.read())}this.tensorManager.releaseTensor(this.wrapper)}let g=typeof MLTensorUsage>"u"?void 0:MLTensorUsage.READ|MLTensorUsage.WRITE;return this.wrapper=yield this.tensorManager.getCachedTensor(l,d,g,!0,!0),f&&this.activeUpload&&(this.wrapper.write(this.activeUpload),this.activeUpload=void 0),this.wrapper.tensor})}upload(i){if(this.wrapper)if(i.byteLength===this.wrapper.byteLength){this.wrapper.write(i);return}else Ko("verbose",()=>"Data size does not match tensor size. Releasing tensor."),this.releaseTensor();this.activeUpload?this.activeUpload.set(i):this.activeUpload=new Uint8Array(i)}download(i){return ot(this,null,function*(){if(this.activeUpload)if(i){i instanceof ArrayBuffer?new Uint8Array(i).set(this.activeUpload):new Uint8Array(i.buffer,i.byteOffset,i.byteLength).set(this.activeUpload);return}else return this.activeUpload.buffer;if(!this.wrapper)throw new Error("Tensor has not been created.");return i?this.wrapper.read(i):this.wrapper.read()})}},cf=class{constructor(i){this.backend=i,this.tensorTrackersById=new Map,this.freeTensors=[],this.externalTensors=new Set}reserveTensorId(){let i=Es();return this.tensorTrackersById.set(i,new Tu(this)),i}releaseTensorId(i){let l=this.tensorTrackersById.get(i);l&&(this.tensorTrackersById.delete(i),l.tensorWrapper&&this.releaseTensor(l.tensorWrapper))}ensureTensor(i,l,d,f){return ot(this,null,function*(){Ko("verbose",()=>`[WebNN] TensorManager.ensureTensor {tensorId: ${i}, dataType: ${l}, shape: ${d}, copyOld: ${f}}`);let g=this.tensorTrackersById.get(i);if(!g)throw new Error("Tensor not found.");return g.ensureTensor(this.backend.currentContext,l,d,f)})}upload(i,l){let d=this.tensorTrackersById.get(i);if(!d)throw new Error("Tensor not found.");d.upload(l)}download(i,l){return ot(this,null,function*(){Ko("verbose",()=>`[WebNN] TensorManager.download {tensorId: ${i}, dstBuffer: ${l?.byteLength}}`);let d=this.tensorTrackersById.get(i);if(!d)throw new Error("Tensor not found.");return d.download(l)})}releaseTensorsForSession(i){for(let l of this.freeTensors)l.sessionId===i&&l.destroy();this.freeTensors=this.freeTensors.filter(l=>l.sessionId!==i)}registerTensor(i,l,d,f){let g=Es(),_=new Ss({sessionId:this.backend.currentSessionId,context:i,tensor:l,dataType:d,shape:f});return this.tensorTrackersById.set(g,new Tu(this,_)),this.externalTensors.add(_),g}getCachedTensor(i,l,d,f,g){return ot(this,null,function*(){let _=this.backend.currentSessionId,M=this.backend.currentContext;for(let[Se,$e]of this.freeTensors.entries())if($e.canReuseTensor(M,i,l)){Ko("verbose",()=>`[WebNN] Reusing tensor {dataType: ${i}, shape: ${l}}`);let Je=this.freeTensors.splice(Se,1)[0];return Je.sessionId=_,Je}Ko("verbose",()=>`[WebNN] MLContext.createTensor {dataType: ${i}, shape: ${l}}`);let Te=yield M.createTensor({dataType:i,shape:l,dimensions:l,usage:d,writable:f,readable:g});return new Ss({sessionId:_,context:M,tensor:Te,dataType:i,shape:l})})}releaseTensor(i){this.externalTensors.has(i)&&this.externalTensors.delete(i),this.freeTensors.push(i)}},gh=(...i)=>new cf(...i)}),Yn,Ys,Tl,Eu=p(()=>{"use strict";io(),ls(),wt(),yn(),Gt(),Yn=new Map([[1,"float32"],[10,"float16"],[6,"int32"],[12,"uint32"],[7,"int64"],[13,"uint64"],[22,"int4"],[21,"uint4"],[3,"int8"],[2,"uint8"],[9,"uint8"]]),Ys=(i,l)=>{if(i===l)return!0;if(i===void 0||l===void 0)return!1;let d=Object.keys(i).sort(),f=Object.keys(l).sort();return d.length===f.length&&d.every((g,_)=>g===f[_]&&i[g]===l[g])},Tl=class{constructor(i){this.tensorManager=gh(this),this.mlContextBySessionId=new Map,this.sessionIdsByMLContext=new Map,this.mlContextCache=[],qs(i.logLevel,!!i.debug)}get currentSessionId(){if(this.activeSessionId===void 0)throw new Error("No active session");return this.activeSessionId}onRunStart(i){this.activeSessionId=i}createMLContext(i){return ot(this,null,function*(){if(i instanceof GPUDevice){let d=this.mlContextCache.findIndex(f=>f.gpuDevice===i);if(d!==-1)return this.mlContextCache[d].mlContext;{let f=yield navigator.ml.createContext(i);return this.mlContextCache.push({gpuDevice:i,mlContext:f}),f}}else if(i===void 0){let d=this.mlContextCache.findIndex(f=>f.options===void 0&&f.gpuDevice===void 0);if(d!==-1)return this.mlContextCache[d].mlContext;{let f=yield navigator.ml.createContext();return this.mlContextCache.push({mlContext:f}),f}}let l=this.mlContextCache.findIndex(d=>Ys(d.options,i));if(l!==-1)return this.mlContextCache[l].mlContext;{let d=yield navigator.ml.createContext(i);return this.mlContextCache.push({options:i,mlContext:d}),d}})}get currentContext(){let i=this.getMLContext(this.currentSessionId);if(!i)throw new Error(`No MLContext found for session ${this.currentSessionId}`);return i}registerMLContext(i,l){this.mlContextBySessionId.set(i,l);let d=this.sessionIdsByMLContext.get(l);d||(d=new Set,this.sessionIdsByMLContext.set(l,d)),d.add(i)}onReleaseSession(i){let l=this.mlContextBySessionId.get(i);if(!l)return;this.tensorManager.releaseTensorsForSession(i),this.mlContextBySessionId.delete(i);let d=this.sessionIdsByMLContext.get(l);if(d.delete(i),d.size===0){this.sessionIdsByMLContext.delete(l);let f=this.mlContextCache.findIndex(g=>g.mlContext===l);f!==-1&&this.mlContextCache.splice(f,1)}}getMLContext(i){return this.mlContextBySessionId.get(i)}reserveTensorId(){return this.tensorManager.reserveTensorId()}releaseTensorId(i){Ko("verbose",()=>`[WebNN] releaseTensorId {tensorId: ${i}}`),this.tensorManager.releaseTensorId(i)}ensureTensor(i,l,d,f){return ot(this,null,function*(){let g=Yn.get(l);if(!g)throw new Error(`Unsupported ONNX data type: ${l}`);return this.tensorManager.ensureTensor(i,g,d,f)})}uploadTensor(i,l){if(!Cn().shouldTransferToMLTensor)throw new Error("Trying to upload to a MLTensor while shouldTransferToMLTensor is false");Ko("verbose",()=>`[WebNN] uploadTensor {tensorId: ${i}, data: ${l.byteLength}}`),this.tensorManager.upload(i,l)}downloadTensor(i,l){return ot(this,null,function*(){return this.tensorManager.download(i,l)})}createMLTensorDownloader(i,l){return()=>ot(this,null,function*(){let d=yield this.tensorManager.download(i);return We(d,l)})}registerMLTensor(i,l,d){let f=Yn.get(l);if(!f)throw new Error(`Unsupported ONNX data type: ${l}`);let g=this.tensorManager.registerTensor(this.currentContext,i,f,d);return Ko("verbose",()=>`[WebNN] registerMLTensor {tensor: ${i}, dataType: ${f}, dimensions: ${d}} -> {tensorId: ${g}}`),g}registerMLConstant(i,l,d,f,g,_){if(!_)throw new Error("External mounted files are not available.");let M=i;i.startsWith("./")&&(M=i.substring(2));let Te=_.get(M);if(!Te)throw new Error(`File with name ${M} not found in preloaded files.`);if(l+d>Te.byteLength)throw new Error("Out of bounds: data offset and length exceed the external file data size.");let Se=Te.slice(l,l+d).buffer,$e;switch(g.dataType){case"float32":$e=new Float32Array(Se);break;case"float16":$e=new Uint16Array(Se);break;case"int32":$e=new Int32Array(Se);break;case"uint32":$e=new Uint32Array(Se);break;case"int64":$e=new BigInt64Array(Se);break;case"uint64":$e=new BigUint64Array(Se);break;case"int8":$e=new Int8Array(Se);break;case"int4":case"uint4":case"uint8":$e=new Uint8Array(Se);break;default:throw new Error(`Unsupported data type: ${g.dataType} in creating WebNN Constant from external data.`)}return Ko("verbose",()=>`[WebNN] registerMLConstant {dataType: ${g.dataType}, shape: ${g.shape}}}`),f.constant(g,$e)}flush(){}}}),df={};y(df,{init:()=>bh});var Su,_h,bh,_w=p(()=>{"use strict";io(),Xi(),Gt(),ro(),Eu(),Su=class G5{constructor(l,d,f,g){this.module=l,this.dataType=d,this.data=f,this.dims=g}getFloat32Array(){if(this.dataType!==1)throw new Error("Invalid data type");let l=Zt.size(this.dims);return l===0?new Float32Array:new Float32Array(this.module.HEAP8.buffer,this.data,l)}getBigInt64Array(){if(this.dataType!==7)throw new Error("Invalid data type");let l=Zt.size(this.dims);return l===0?new BigInt64Array:new BigInt64Array(this.module.HEAP8.buffer,this.data,l)}getInt32Array(){if(this.dataType!==6)throw new Error("Invalid data type");let l=Zt.size(this.dims);return l===0?new Int32Array:new Int32Array(this.module.HEAP8.buffer,this.data,l)}getUint16Array(){if(this.dataType!==10&&this.dataType!==4)throw new Error("Invalid data type");let l=Zt.size(this.dims);return l===0?new Uint16Array:new Uint16Array(this.module.HEAP8.buffer,this.data,l)}reshape(l){if(Zt.size(l)!==Zt.size(this.dims))throw new Error("Invalid new shape");return new G5(this.module,this.dataType,this.data,l)}},_h=class{constructor(i,l,d){this.module=i,this.backend=l,this.customDataOffset=0,this.customDataSize=0,this.adapterInfo=l.adapterInfo,this.deviceInfo=l.deviceInfo;let f=i.PTR_SIZE,g=d/i.PTR_SIZE,_=f===4?"i32":"i64";this.opKernelContext=Number(i.getValue(f*g++,_));let M=Number(i.getValue(f*g++,_));this.outputCount=Number(i.getValue(f*g++,_)),this.customDataOffset=Number(i.getValue(f*g++,"*")),this.customDataSize=Number(i.getValue(f*g++,_));let Te=[];for(let Se=0;Se<M;Se++){let $e=Number(i.getValue(f*g++,_)),Je=Number(i.getValue(f*g++,"*")),J=Number(i.getValue(f*g++,_)),et=[];for(let dt=0;dt<J;dt++)et.push(Number(i.getValue(f*g++,_)));Te.push(new Su(i,$e,Je,et))}this.inputs=Te}get kernelCustomData(){return this.backend.currentKernelCustomData}get customDataBuffer(){return this.module.HEAPU8.subarray(this.customDataOffset,this.customDataOffset+this.customDataSize)}compute(i,l){let d=l?.inputs?.map(M=>typeof M=="number"?this.inputs[M]:M)??this.inputs,f=l?.outputs??[],g=(M,Te,Se)=>new Su(this.module,Te,this.output(M,Se),Se),_=(M,Te)=>{let Se=Vi(M,Te);if(!Se)throw new Error(`Unsupported data type: ${M}`);let $e=Se>0?this.backend.gpuDataManager.create(Se).id:0;return new Su(this.module,M,$e,Te)};return this.backend.run(i,d,f,g,_,this.outputCount)}output(i,l){let d=this.module.stackSave();try{let f=this.module.PTR_SIZE,g=f===4?"i32":"i64",_=this.module.stackAlloc((1+l.length)*f);this.module.setValue(_,l.length,g);for(let M=0;M<l.length;M++)this.module.setValue(_+f*(M+1),l[M],g);return this.module._JsepOutput(this.opKernelContext,i,_)}catch(f){throw new Error(`Failed to generate kernel's output[${i}] with dims [${l}]. If you are running with pre-allocated output, please make sure the output type/dims are correct. Error: ${f}`)}finally{this.module.stackRestore(d)}}},bh=(i,l,d,f)=>ot(void 0,null,function*(){let g=l.jsepInit;if(!g)throw new Error("Failed to initialize JSEP. The WebAssembly module is not built with JSEP support.");if(i==="webgpu"){let _=new gi;yield _.initialize(d,f),g("webgpu",[_,M=>_.alloc(Number(M)),M=>_.free(M),(M,Te,Se,$e=!1)=>{if($e)Ko("verbose",()=>`[WebGPU] jsepCopyGpuToGpu: src=${Number(M)}, dst=${Number(Te)}, size=${Number(Se)}`),_.memcpy(Number(M),Number(Te));else{Ko("verbose",()=>`[WebGPU] jsepCopyCpuToGpu: dataOffset=${Number(M)}, gpuDataId=${Number(Te)}, size=${Number(Se)}`);let Je=l.HEAPU8.subarray(Number(M>>>0),Number(M>>>0)+Number(Se));_.upload(Number(Te),Je)}},(M,Te,Se)=>ot(void 0,null,function*(){Ko("verbose",()=>`[WebGPU] jsepCopyGpuToCpu: gpuDataId=${M}, dataOffset=${Te}, size=${Se}`),yield _.download(Number(M),()=>l.HEAPU8.subarray(Number(Te)>>>0,Number(Te+Se)>>>0))}),(M,Te,Se)=>_.createKernel(M,Number(Te),Se,l.UTF8ToString(l._JsepGetNodeName(Number(Te)))),M=>_.releaseKernel(M),(M,Te,Se,$e)=>{Ko("verbose",()=>`[WebGPU] jsepRun: sessionHandle=${Se}, kernel=${M}, contextDataOffset=${Te}`);let Je=new _h(l,_,Number(Te));return _.computeKernel(Number(M),Je,$e)},()=>_.captureBegin(),()=>_.captureEnd(),()=>_.replay()])}else{let _=new Tl(d);g("webnn",[_,()=>_.reserveTensorId(),M=>_.releaseTensorId(M),(M,Te,Se,$e)=>ot(void 0,null,function*(){return _.ensureTensor(M,Te,Se,$e)}),(M,Te)=>{_.uploadTensor(M,Te)},(M,Te)=>ot(void 0,null,function*(){return _.downloadTensor(M,Te)})])}})}),vh,Pu,uf,Js,yh,Gl,K_,q_,X_,Zs,Qi,bw,EC=p(()=>{"use strict";ap(),Ll(),io(),ls(),js(),fl(),vh=(i,l)=>{Cn()._OrtInit(i,l)!==0&&$o("Can't initialize onnxruntime.")},Pu=i=>ot(void 0,null,function*(){vh(i.wasm.numThreads,ys(i.logLevel))}),uf=(i,l)=>ot(void 0,null,function*(){{let d=(_w(),G(df)).init;if(l==="webgpu"){if(typeof navigator>"u"||!navigator.gpu)throw new Error("WebGPU is not supported in current environment");let f=i.webgpu.adapter;if(f){if(typeof f.limits!="object"||typeof f.features!="object"||typeof f.requestDevice!="function")throw new Error("Invalid GPU adapter set in `env.webgpu.adapter`. It must be a GPUAdapter object.")}else{let g=i.webgpu.powerPreference;if(g!==void 0&&g!=="low-power"&&g!=="high-performance")throw new Error(`Invalid powerPreference setting: "${g}"`);let _=i.webgpu.forceFallbackAdapter;if(_!==void 0&&typeof _!="boolean")throw new Error(`Invalid forceFallbackAdapter setting: "${_}"`);if(f=yield navigator.gpu.requestAdapter({powerPreference:g,forceFallbackAdapter:_}),!f)throw new Error('Failed to get GPU adapter. You may need to enable flag "--enable-unsafe-webgpu" if you are using Chrome.')}yield d("webgpu",Cn(),i,f)}if(l==="webnn"){if(typeof navigator>"u"||!navigator.ml)throw new Error("WebNN is not supported in current environment");yield d("webnn",Cn(),i)}}}),Js=new Map,yh=i=>{let l=Cn(),d=l.stackSave();try{let f=l.PTR_SIZE,g=l.stackAlloc(2*f);l._OrtGetInputOutputCount(i,g,g+f)!==0&&$o("Can't get session input/output count.");let _=f===4?"i32":"i64";return[Number(l.getValue(g,_)),Number(l.getValue(g+f,_))]}finally{l.stackRestore(d)}},Gl=i=>{let l=Cn(),d=l._malloc(i.byteLength);if(d===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${i.byteLength}.`);return l.HEAPU8.set(i,d),[d,i.byteLength]},K_=(i,l)=>ot(void 0,null,function*(){let d,f,g=Cn();Array.isArray(i)?[d,f]=i:i.buffer===g.HEAPU8.buffer?[d,f]=[i.byteOffset,i.byteLength]:[d,f]=Gl(i);let _=0,M=0,Te=0,Se=[],$e=[],Je=[];try{if([M,Se]=lu(l),l?.externalData&&g.mountExternalData){let pt=[];for(let Pt of l.externalData){let Lt=typeof Pt=="string"?Pt:Pt.path;pt.push(zl(typeof Pt=="string"?Pt:Pt.data).then(jt=>{g.mountExternalData(Lt,jt)}))}yield Promise.all(pt)}for(let pt of l?.executionProviders??[])if((typeof pt=="string"?pt:pt.name)==="webnn"){if(g.shouldTransferToMLTensor=!1,typeof pt!="string"){let Pt=pt,Lt=Pt?.context,jt=Pt?.gpuDevice,Yt=Pt?.deviceType,Jt=Pt?.powerPreference;Lt?g.currentContext=Lt:jt?g.currentContext=yield g.jsepCreateMLContext(jt):g.currentContext=yield g.jsepCreateMLContext({deviceType:Yt,powerPreference:Jt})}else g.currentContext=yield g.jsepCreateMLContext();break}_=yield g._OrtCreateSession(d,f,M),_===0&&$o("Can't create a session."),g.jsepOnCreateSession?.(),g.currentContext&&(g.jsepRegisterMLContext(_,g.currentContext),g.currentContext=void 0,g.shouldTransferToMLTensor=!0);let[J,et]=yh(_),dt=!!l?.enableGraphCapture,it=[],ct=[],Mt=[];for(let pt=0;pt<J;pt++){let Pt=g._OrtGetInputName(_,pt);Pt===0&&$o("Can't get an input name."),$e.push(Pt),it.push(g.UTF8ToString(Pt))}for(let pt=0;pt<et;pt++){let Pt=g._OrtGetOutputName(_,pt);Pt===0&&$o("Can't get an output name."),Je.push(Pt);let Lt=g.UTF8ToString(Pt);ct.push(Lt);{if(dt&&l?.preferredOutputLocation===void 0){Mt.push("gpu-buffer");continue}let jt=typeof l?.preferredOutputLocation=="string"?l.preferredOutputLocation:l?.preferredOutputLocation?.[Lt]??"cpu";if(jt!=="cpu"&&jt!=="cpu-pinned"&&jt!=="gpu-buffer"&&jt!=="ml-tensor")throw new Error(`Not supported preferred output location: ${jt}.`);if(dt&&jt!=="gpu-buffer")throw new Error(`Not supported preferred output location: ${jt}. Only 'gpu-buffer' location is supported when enableGraphCapture is true.`);Mt.push(jt)}}let kt=null;return Mt.some(pt=>pt==="gpu-buffer"||pt==="ml-tensor")&&(Te=g._OrtCreateBinding(_),Te===0&&$o("Can't create IO binding."),kt={handle:Te,outputPreferredLocations:Mt,outputPreferredLocationsEncoded:Mt.map(pt=>Hs(pt))}),Js.set(_,[_,$e,Je,kt,dt,!1]),[_,it,ct]}catch(J){throw $e.forEach(et=>g._OrtFree(et)),Je.forEach(et=>g._OrtFree(et)),Te!==0&&g._OrtReleaseBinding(Te)!==0&&$o("Can't release IO binding."),_!==0&&g._OrtReleaseSession(_)!==0&&$o("Can't release session."),J}finally{g._free(d),M!==0&&g._OrtReleaseSessionOptions(M)!==0&&$o("Can't release session options."),Se.forEach(J=>g._free(J)),g.unmountExternalData?.()}}),q_=i=>{let l=Cn(),d=Js.get(i);if(!d)throw new Error(`cannot release session. invalid session id: ${i}`);let[f,g,_,M,Te]=d;M&&(Te&&l._OrtClearBoundOutputs(M.handle)!==0&&$o("Can't clear bound outputs."),l._OrtReleaseBinding(M.handle)!==0&&$o("Can't release IO binding.")),l.jsepOnReleaseSession?.(i),g.forEach(Se=>l._OrtFree(Se)),_.forEach(Se=>l._OrtFree(Se)),l._OrtReleaseSession(f)!==0&&$o("Can't release session."),Js.delete(i)},X_=(i,l,d,f,g,_=!1)=>{if(!i){l.push(0);return}let M=Cn(),Te=M.PTR_SIZE,Se=i[0],$e=i[1],Je=i[3],J,et;if(Se==="string"&&(Je==="gpu-buffer"||Je==="ml-tensor"))throw new Error("String tensor is not supported on GPU.");if(_&&Je!=="gpu-buffer")throw new Error(`External buffer must be provided for input/output index ${g} when enableGraphCapture is true.`);if(Je==="gpu-buffer"){let ct=i[2].gpuBuffer;et=Vi(cs(Se),$e);let Mt=M.jsepRegisterBuffer;if(!Mt)throw new Error('Tensor location "gpu-buffer" is not supported without using WebGPU.');J=Mt(f,g,ct,et)}else if(Je==="ml-tensor"){let ct=i[2].mlTensor;et=Vi(cs(Se),$e);let Mt=M.jsepRegisterMLTensor;if(!Mt)throw new Error('Tensor location "ml-tensor" is not supported without using WebNN.');J=Mt(ct,cs(Se),$e)}else{let ct=i[2];if(Array.isArray(ct)){et=Te*ct.length,J=M._malloc(et),d.push(J);for(let Mt=0;Mt<ct.length;Mt++){if(typeof ct[Mt]!="string")throw new TypeError(`tensor data at index ${Mt} is not a string`);M.setValue(J+Mt*Te,Un(ct[Mt],d),"*")}}else et=ct.byteLength,J=M._malloc(et),d.push(J),M.HEAPU8.set(new Uint8Array(ct.buffer,ct.byteOffset,et),J)}let dt=M.stackSave(),it=M.stackAlloc(4*$e.length);try{$e.forEach((Mt,kt)=>M.setValue(it+kt*Te,Mt,Te===4?"i32":"i64"));let ct=M._OrtCreateTensor(cs(Se),J,et,it,$e.length,Hs(Je));ct===0&&$o(`Can't create tensor for input/output. session=${f}, index=${g}.`),l.push(ct)}finally{M.stackRestore(dt)}},Zs=(i,l,d,f,g,_)=>ot(void 0,null,function*(){let M=Cn(),Te=M.PTR_SIZE,Se=Js.get(i);if(!Se)throw new Error(`cannot run inference. invalid session id: ${i}`);let $e=Se[0],Je=Se[1],J=Se[2],et=Se[3],dt=Se[4],it=Se[5],ct=l.length,Mt=f.length,kt=0,pt=[],Pt=[],Lt=[],jt=[],Yt=M.stackSave(),Jt=M.stackAlloc(ct*Te),Mr=M.stackAlloc(ct*Te),Pr=M.stackAlloc(Mt*Te),Xr=M.stackAlloc(Mt*Te);try{M.jsepOnRunStart?.($e),[kt,pt]=Vs(_);for(let Br=0;Br<ct;Br++)X_(d[Br],Pt,jt,i,l[Br],dt);for(let Br=0;Br<Mt;Br++)X_(g[Br],Lt,jt,i,ct+f[Br],dt);for(let Br=0;Br<ct;Br++)M.setValue(Jt+Br*Te,Pt[Br],"*"),M.setValue(Mr+Br*Te,Je[l[Br]],"*");for(let Br=0;Br<Mt;Br++)M.setValue(Pr+Br*Te,Lt[Br],"*"),M.setValue(Xr+Br*Te,J[f[Br]],"*");if(et&&!it){let{handle:Br,outputPreferredLocations:Do,outputPreferredLocationsEncoded:mo}=et;if(Je.length!==ct)throw new Error(`input count from feeds (${ct}) is expected to be always equal to model's input count (${Je.length}).`);for(let to=0;to<ct;to++){let Lo=l[to];(yield M._OrtBindInput(Br,Je[Lo],Pt[to]))!==0&&$o(`Can't bind input[${to}] for session=${i}.`)}for(let to=0;to<Mt;to++){let Lo=f[to];g[to]?.[3]?M._OrtBindOutput(Br,J[Lo],Lt[to],0)!==0&&$o(`Can't bind pre-allocated output[${to}] for session=${i}.`):M._OrtBindOutput(Br,J[Lo],0,mo[Lo])!==0&&$o(`Can't bind output[${to}] to ${Do[to]} for session=${i}.`)}Js.set(i,[$e,Je,J,et,dt,!0])}let Qr;et?Qr=yield M._OrtRunWithBinding($e,et.handle,Mt,Pr,kt):Qr=yield M._OrtRun($e,Mr,Jt,ct,Xr,Mt,Pr,kt),Qr!==0&&$o("failed to call OrtRun().");let yo=[];for(let Br=0;Br<Mt;Br++){let Do=Number(M.getValue(Pr+Br*Te,"*"));if(Do===Lt[Br]){yo.push(g[Br]);continue}let mo=M.stackSave(),to=M.stackAlloc(4*Te),Lo=!1,So,go=0;try{M._OrtGetTensorData(Do,to,to+Te,to+2*Te,to+3*Te)!==0&&$o(`Can't access output tensor data on index ${Br}.`);let Gn=Te===4?"i32":"i64",Er=Number(M.getValue(to,Gn));go=M.getValue(to+Te,"*");let Kr=M.getValue(to+Te*2,"*"),dn=Number(M.getValue(to+Te*3,Gn)),An=[];for(let _i=0;_i<dn;_i++)An.push(Number(M.getValue(Kr+_i*Te,Gn)));M._OrtFree(Kr)!==0&&$o("Can't free memory for tensor dims.");let Bn=An.reduce((_i,jn)=>_i*jn,1);So=ji(Er);let Hl=et?.outputPreferredLocations[f[Br]];if(So==="string"){if(Hl==="gpu-buffer"||Hl==="ml-tensor")throw new Error("String tensor is not supported on GPU.");let _i=[];for(let jn=0;jn<Bn;jn++){let Oi=M.getValue(go+jn*Te,"*"),q1=M.getValue(go+(jn+1)*Te,"*"),J_=jn===Bn-1?void 0:q1-Oi;_i.push(M.UTF8ToString(Oi,J_))}yo.push([So,An,_i,"cpu"])}else if(Hl==="gpu-buffer"&&Bn>0){let _i=M.jsepGetBuffer;if(!_i)throw new Error('preferredLocation "gpu-buffer" is not supported without using WebGPU.');let jn=_i(go),Oi=Vi(Er,Bn);if(Oi===void 0||!Ws(So))throw new Error(`Unsupported data type: ${So}`);Lo=!0,yo.push([So,An,{gpuBuffer:jn,download:M.jsepCreateDownloader(jn,Oi,So),dispose:()=>{M._OrtReleaseTensor(Do)!==0&&$o("Can't release tensor.")}},"gpu-buffer"])}else if(Hl==="ml-tensor"&&Bn>0){let _i=M.jsepEnsureTensor;if(!_i)throw new Error('preferredLocation "ml-tensor" is not supported without using WebNN.');if(Vi(Er,Bn)===void 0||!Gs(So))throw new Error(`Unsupported data type: ${So}`);let jn=yield _i(go,Er,An,!1);Lo=!0,yo.push([So,An,{mlTensor:jn,download:M.jsepCreateMLTensorDownloader(go,So),dispose:()=>{M.jsepReleaseTensorId(go),M._OrtReleaseTensor(Do)}},"ml-tensor"])}else{let _i=Nl(So),jn=new _i(Bn);new Uint8Array(jn.buffer,jn.byteOffset,jn.byteLength).set(M.HEAPU8.subarray(go,go+jn.byteLength)),yo.push([So,An,jn,"cpu"])}}finally{M.stackRestore(mo),So==="string"&&go&&M._free(go),Lo||M._OrtReleaseTensor(Do)}}return et&&!dt&&(M._OrtClearBoundOutputs(et.handle)!==0&&$o("Can't clear bound outputs."),Js.set(i,[$e,Je,J,et,dt,!1])),yo}finally{M.stackRestore(Yt),Pt.forEach(Qr=>M._OrtReleaseTensor(Qr)),Lt.forEach(Qr=>M._OrtReleaseTensor(Qr)),jt.forEach(Qr=>M._free(Qr)),kt!==0&&M._OrtReleaseRunOptions(kt),pt.forEach(Qr=>M._free(Qr))}}),Qi=i=>{let l=Cn(),d=Js.get(i);if(!d)throw new Error("invalid session id");let f=d[0],g=l._OrtEndProfiling(f);g===0&&$o("Can't get an profile file name."),l._OrtFree(g)},bw=i=>{let l=[];for(let d of i){let f=d[2];!Array.isArray(f)&&"buffer"in f&&l.push(f.buffer)}return l}}),Au,Ps,xh,Q_,Y_,H1,vw,K1,pf,ff,SC,PC,AC,BC,IC,DC,FC,RC,OC=p(()=>{"use strict";tr(),EC(),ls(),ni(),Au=()=>!!Ue.wasm.proxy&&typeof document<"u",xh=!1,Q_=!1,Y_=!1,K1=new Map,pf=(i,l)=>{let d=K1.get(i);d?d.push(l):K1.set(i,[l])},ff=()=>{if(xh||!Q_||Y_||!Ps)throw new Error("worker not ready")},SC=i=>{switch(i.data.type){case"init-wasm":xh=!1,i.data.err?(Y_=!0,vw[1](i.data.err)):(Q_=!0,vw[0]()),H1&&(URL.revokeObjectURL(H1),H1=void 0);break;case"init-ep":case"copy-from":case"create":case"release":case"run":case"end-profiling":{let l=K1.get(i.data.type);i.data.err?l.shift()[1](i.data.err):l.shift()[0](i.data.out);break}default:}},PC=()=>ot(void 0,null,function*(){if(!Q_){if(xh)throw new Error("multiple calls to 'initWasm()' detected.");if(Y_)throw new Error("previous call to 'initWasm()' failed.");if(xh=!0,Au())return new Promise((i,l)=>{Ps?.terminate(),ss().then(([d,f])=>{try{Ps=f,Ps.onerror=_=>l(_),Ps.onmessage=SC,vw=[i,l];let g={type:"init-wasm",in:Ue};!g.in.wasm.wasmPaths&&(d||import.meta.url?.startsWith("file:"))&&(g.in.wasm.wasmPaths={wasm:new URL(e("./node_modules/onnxruntime-web/dist/ort-wasm-simd-threaded.jsep.wasm"),e.b).href}),Ps.postMessage(g),H1=d}catch(g){l(g)}},l)});try{yield zs(Ue.wasm),yield Pu(Ue),Q_=!0}catch(i){throw Y_=!0,i}finally{xh=!1}}}),AC=i=>ot(void 0,null,function*(){if(Au())return ff(),new Promise((l,d)=>{pf("init-ep",[l,d]);let f={type:"init-ep",in:{epName:i,env:Ue}};Ps.postMessage(f)});yield uf(Ue,i)}),BC=i=>ot(void 0,null,function*(){return Au()?(ff(),new Promise((l,d)=>{pf("copy-from",[l,d]);let f={type:"copy-from",in:{buffer:i}};Ps.postMessage(f,[i.buffer])})):Gl(i)}),IC=(i,l)=>ot(void 0,null,function*(){if(Au()){if(l?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return ff(),new Promise((d,f)=>{pf("create",[d,f]);let g={type:"create",in:{model:i,options:Vt({},l)}},_=[];i instanceof Uint8Array&&_.push(i.buffer),Ps.postMessage(g,_)})}else return K_(i,l)}),DC=i=>ot(void 0,null,function*(){if(Au())return ff(),new Promise((l,d)=>{pf("release",[l,d]);let f={type:"release",in:i};Ps.postMessage(f)});q_(i)}),FC=(i,l,d,f,g,_)=>ot(void 0,null,function*(){if(Au()){if(d.some(M=>M[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(g.some(M=>M))throw new Error("pre-allocated output tensor is not supported for proxy.");return ff(),new Promise((M,Te)=>{pf("run",[M,Te]);let Se=d,$e={type:"run",in:{sessionId:i,inputIndices:l,inputs:Se,outputIndices:f,options:_}};Ps.postMessage($e,bw(Se))})}else return Zs(i,l,d,f,g,_)}),RC=i=>ot(void 0,null,function*(){if(Au())return ff(),new Promise((l,d)=>{pf("end-profiling",[l,d]);let f={type:"end-profiling",in:i};Ps.postMessage(f)});Qi(i)})}),yw,$C,LC,pI=p(()=>{"use strict";tr(),OC(),io(),ur(),fl(),yw=(i,l)=>{switch(i.location){case"cpu":return[i.type,i.dims,i.data,"cpu"];case"gpu-buffer":return[i.type,i.dims,{gpuBuffer:i.gpuBuffer},"gpu-buffer"];case"ml-tensor":return[i.type,i.dims,{mlTensor:i.mlTensor},"ml-tensor"];default:throw new Error(`invalid data location: ${i.location} for ${l()}`)}},$C=i=>{switch(i[3]){case"cpu":return new Ht(i[0],i[2],i[1]);case"gpu-buffer":{let l=i[0];if(!Ws(l))throw new Error(`not supported data type: ${l} for deserializing GPU tensor`);let{gpuBuffer:d,download:f,dispose:g}=i[2];return Ht.fromGpuBuffer(d,{dataType:l,dims:i[1],download:f,dispose:g})}case"ml-tensor":{let l=i[0];if(!Gs(l))throw new Error(`not supported data type: ${l} for deserializing MLTensor tensor`);let{mlTensor:d,download:f,dispose:g}=i[2];return Ht.fromMLTensor(d,{dataType:l,dims:i[1],download:f,dispose:g})}default:throw new Error(`invalid data location: ${i[3]}`)}},LC=class{fetchModelAndCopyToWasmMemory(i){return ot(this,null,function*(){return BC(yield zl(i))})}loadModel(i,l){return ot(this,null,function*(){nr();let d;typeof i=="string"?d=yield this.fetchModelAndCopyToWasmMemory(i):d=i,[this.sessionId,this.inputNames,this.outputNames]=yield IC(d,l),cr()})}dispose(){return ot(this,null,function*(){return DC(this.sessionId)})}run(i,l,d){return ot(this,null,function*(){nr();let f=[],g=[];Object.entries(i).forEach(J=>{let et=J[0],dt=J[1],it=this.inputNames.indexOf(et);if(it===-1)throw new Error(`invalid input '${et}'`);f.push(dt),g.push(it)});let _=[],M=[];Object.entries(l).forEach(J=>{let et=J[0],dt=J[1],it=this.outputNames.indexOf(et);if(it===-1)throw new Error(`invalid output '${et}'`);_.push(dt),M.push(it)});let Te=f.map((J,et)=>yw(J,()=>`input "${this.inputNames[g[et]]}"`)),Se=_.map((J,et)=>J?yw(J,()=>`output "${this.outputNames[M[et]]}"`):null),$e=yield FC(this.sessionId,g,Te,M,Se,d),Je={};for(let J=0;J<$e.length;J++)Je[this.outputNames[M[J]]]=_[J]??$C($e[J]);return cr(),Je})}startProfiling(){}endProfiling(){RC(this.sessionId)}}}),NC={};y(NC,{OnnxruntimeWebAssemblyBackend:()=>ww,initializeFlags:()=>xw,wasmBackend:()=>zC});var xw,ww,zC,fI=p(()=>{"use strict";tr(),OC(),pI(),xw=()=>{if((typeof Ue.wasm.initTimeout!="number"||Ue.wasm.initTimeout<0)&&(Ue.wasm.initTimeout=0),Ue.wasm.simd===!1&&console.warn('Deprecated property "env.wasm.simd" is set to false. non-SIMD build is no longer provided, and this setting will be ignored.'),typeof Ue.wasm.proxy!="boolean"&&(Ue.wasm.proxy=!1),typeof Ue.wasm.trace!="boolean"&&(Ue.wasm.trace=!1),typeof Ue.wasm.numThreads!="number"||!Number.isInteger(Ue.wasm.numThreads)||Ue.wasm.numThreads<=0)if(typeof self<"u"&&!self.crossOriginIsolated)Ue.wasm.numThreads=1;else{let i=typeof navigator>"u"?h("node:os").cpus().length:navigator.hardwareConcurrency;Ue.wasm.numThreads=Math.min(4,Math.ceil((i||1)/2))}},ww=class{init(i){return ot(this,null,function*(){xw(),yield PC(),yield AC(i)})}createInferenceSessionHandler(i,l){return ot(this,null,function*(){let d=new LC;return yield d.loadModel(i,l),Promise.resolve(d)})}},zC=new ww});tr(),tr(),tr();var hI="1.21.0-dev.20250206-d981b153d3",mI=zt;{let i=(fI(),G(NC)).wasmBackend;Re("webgpu",i,5),Re("webnn",i,5),Re("cpu",i,10),Re("wasm",i,10)}Object.defineProperty(Ue.versions,"web",{value:hI,enumerable:!0});},"./src/backends/onnx.js":(r,o,e)=>{var n;e.r(o),e.d(o,{Tensor:()=>h.Tensor,createInferenceSession:()=>He,deviceToExecutionProviders:()=>Re,isONNXProxy:()=>Xe,isONNXTensor:()=>Ie});var s=e("./src/env.js"),c=e("?2ce3"),u=e("./node_modules/onnxruntime-web/dist/ort.bundle.min.mjs?3a96"),h=e("./node_modules/onnxruntime-common/dist/esm/index.js");let p=Object.freeze({auto:null,gpu:null,cpu:"cpu",wasm:"wasm",webgpu:"webgpu",cuda:"cuda",dml:"dml",webnn:{name:"webnn",deviceType:"cpu"},"webnn-npu":{name:"webnn",deviceType:"npu"},"webnn-gpu":{name:"webnn",deviceType:"gpu"},"webnn-cpu":{name:"webnn",deviceType:"cpu"}}),y=[],k,G,$=Symbol.for("onnxruntime");if($ in globalThis)G=globalThis[$];else if(s.apis.IS_NODE_ENV){switch(G=c??(n||(n=e.t(c,2))),process.platform){case"win32":y.push("dml");break;case"linux":process.arch==="x64"&&y.push("cuda");break;case"darwin":break}y.push("cpu"),k=["cpu"]}else G=u,s.apis.IS_WEBNN_AVAILABLE&&y.push("webnn-npu","webnn-gpu","webnn-cpu","webnn"),s.apis.IS_WEBGPU_AVAILABLE&&y.push("webgpu"),y.push("wasm"),k=["wasm"];let Me=G.InferenceSession;function Re(Ne=null){if(!Ne)return k;switch(Ne){case"auto":return y;case"gpu":return y.filter(Ge=>["webgpu","cuda","dml","webnn-gpu"].includes(Ge))}if(y.includes(Ne))return[p[Ne]??Ne];throw new Error(`Unsupported device: "${Ne}". Should be one of: ${y.join(", ")}.`)}let Ke=null;function He(Ne,Ge,Ve){return ot(this,null,function*(){Ke&&(yield Ke);let Oe=Me.create(Ne,Ge);Ke??=Oe;let Ue=yield Oe;return Ue.config=Ve,Ue})}function Ie(Ne){return Ne instanceof G.Tensor}let Pe=G?.env;Pe?.wasm&&(Pe.wasm.wasmPaths=`https://cdn.jsdelivr.net/npm/@huggingface/transformers@${s.env.version}/dist/`,Pe.wasm.proxy=!1,(typeof crossOriginIsolated>"u"||!crossOriginIsolated)&&(Pe.wasm.numThreads=1)),Pe?.webgpu&&(Pe.webgpu.powerPreference="high-performance");function Xe(){return Pe?.wasm?.proxy}s.env.backends.onnx=Pe},"./src/base/feature_extraction_utils.js":(r,o,e)=>{e.r(o),e.d(o,{FeatureExtractor:()=>u,validate_audio_inputs:()=>h});var n=e("./src/utils/constants.js"),s=e("./src/utils/generic.js"),c=e("./src/utils/hub.js");class u extends s.Callable{constructor(y){super(),this.config=y}static from_pretrained(y,k){return ot(this,null,function*(){let G=yield(0,c.getModelJSON)(y,n.FEATURE_EXTRACTOR_NAME,!0,k);return new this(G)})}}function h(p,y){if(!(p instanceof Float32Array||p instanceof Float64Array))throw new Error(`${y} expects input to be a Float32Array or a Float64Array, but got ${p?.constructor?.name??typeof p} instead. If using the feature extractor directly, remember to use \`read_audio(url, sampling_rate)\` to obtain the raw audio data of the file/url.`)}},"./src/base/image_processors_utils.js":(r,o,e)=>{e.r(o),e.d(o,{ImageProcessor:()=>Ge,center_to_corners_format:()=>$,post_process_instance_segmentation:()=>Ne,post_process_object_detection:()=>Me,post_process_panoptic_segmentation:()=>Xe,post_process_semantic_segmentation:()=>Re});var n=e("./src/utils/generic.js"),s=e("./src/utils/tensor.js"),c=e("./src/utils/maths.js"),u=e("./src/utils/image.js"),h=e("./src/utils/core.js"),p=e("./src/utils/hub.js"),y=e("./src/utils/constants.js");function k(Ve,Oe,Ue=0,tt=null){let bt=Ve/Oe,lt=(0,c.bankers_round)(bt)*Oe;return tt!==null&&lt>tt&&(lt=Math.floor(bt)*Oe),lt<Ue&&(lt=Math.ceil(bt)*Oe),lt}function G([Ve,Oe],Ue){return[Math.max(Math.floor(Ve/Ue),1)*Ue,Math.max(Math.floor(Oe/Ue),1)*Ue]}function $([Ve,Oe,Ue,tt]){return[Ve-Ue/2,Oe-tt/2,Ve+Ue/2,Oe+tt/2]}function Me(Ve,Oe=.5,Ue=null,tt=!1){let bt=Ve.logits,lt=Ve.pred_boxes,[mt,ut,ht]=bt.dims;if(Ue!==null&&Ue.length!==mt)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");let Ct=[];for(let It=0;It<mt;++It){let Ft=Ue!==null?Ue[It]:null,At={boxes:[],classes:[],scores:[]},Dt=bt[It],Rt=lt[It];for(let at=0;at<ut;++at){let Ze=Dt[at],vt=[],St;if(tt){St=Ze.sigmoid().data;for(let $t=0;$t<St.length;++$t)St[$t]>Oe&&vt.push($t)}else{let $t=(0,c.max)(Ze.data)[1];if($t===ht-1||(St=(0,c.softmax)(Ze.data),St[$t]<Oe))continue;vt.push($t)}for(let $t of vt){let qt=Rt[at].data;qt=$(qt),Ft!==null&&(qt=qt.map((gt,st)=>gt*Ft[(st+1)%2])),At.boxes.push(qt),At.classes.push($t),At.scores.push(St[$t])}}Ct.push(At)}return Ct}function Re(Ve,Oe=null){let Ue=Ve.logits,tt=Ue.dims[0];if(Oe!==null&&Oe.length!==tt)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");let bt=[];for(let lt=0;lt<tt;++lt){let mt=Oe!==null?Oe[lt]:null,ut=Ue[lt];mt!==null&&(ut=(0,s.interpolate)(ut,mt,"bilinear",!1));let[ht,Ct]=mt??ut.dims.slice(-2),It=new s.Tensor("int32",new Int32Array(ht*Ct),[ht,Ct]),Ft=ut[0].data,At=It.data;for(let at=1;at<ut.dims[0];++at){let Ze=ut[at].data;for(let vt=0;vt<Ze.length;++vt)Ze[vt]>Ft[vt]&&(Ft[vt]=Ze[vt],At[vt]=at)}let Dt=new Array(ut.dims[0]);for(let at=0;at<At.length;++at){let Ze=At[at];Dt[Ze]=Ze}let Rt=Dt.filter(at=>at!==void 0);bt.push({segmentation:It,labels:Rt})}return bt}function Ke(Ve,Oe,Ue,tt){let bt=[],lt=[],mt=[];for(let ut=0;ut<Ve.dims[0];++ut){let ht=Ve[ut],Ct=Oe[ut],It=(0,c.max)(ht.data)[1];if(It===tt)continue;let At=(0,c.softmax)(ht.data)[It];At>Ue&&(bt.push(Ct),lt.push(At),mt.push(It))}return[bt,lt,mt]}function He(Ve,Oe,Ue,tt=.5,bt=.8){let lt=[],mt=0,ut=0,ht=Oe[Ue].data;for(let It=0;It<Ve.length;++It)Ve[It]===Ue&&(lt.push(It),++mt),ht[It]>=tt&&++ut;let Ct=mt>0&&ut>0;return Ct&&(Ct=mt/ut>bt),[Ct,lt]}function Ie(Ve,Oe,Ue,tt,bt,lt=null,mt=null){let[ut,ht]=mt??Ve[0].dims,Ct=new s.Tensor("int32",new Int32Array(ut*ht),[ut,ht]),It=[];if(mt!==null)for(let at=0;at<Ve.length;++at)Ve[at]=(0,s.interpolate)(Ve[at],mt,"bilinear",!1);let Ft=new Int32Array(Ve[0].data.length),At=new Float32Array(Ve[0].data.length);for(let at=0;at<Ve.length;++at){let Ze=Oe[at],vt=Ve[at].data;for(let St=0;St<vt.length;++St)vt[St]*=Ze,vt[St]>At[St]&&(Ft[St]=at,At[St]=vt[St])}let Dt=0,Rt=Ct.data;for(let at=0;at<Ue.length;++at){let Ze=Ue[at],[vt,St]=He(Ft,Ve,at,tt,bt);if(vt){++Dt;for(let $t of St)Rt[$t]=Dt;It.push({id:Dt,label_id:Ze,score:Oe[at]})}}return[Ct,It]}function Pe(Ve,Oe,Ue=28,tt=3136,bt=1003520){if(Ve<Ue||Oe<Ue)throw new Error(`height:${Ve} or width:${Oe} must be larger than factor:${Ue}`);if(Math.max(Ve,Oe)/Math.min(Ve,Oe)>200)throw new Error(`absolute aspect ratio must be smaller than 200, got ${Math.max(Ve,Oe)/Math.min(Ve,Oe)}`);let lt=Math.round(Ve/Ue)*Ue,mt=Math.round(Oe/Ue)*Ue;if(lt*mt>bt){let ut=Math.sqrt(Ve*Oe/bt);lt=Math.floor(Ve/ut/Ue)*Ue,mt=Math.floor(Oe/ut/Ue)*Ue}else if(lt*mt<tt){let ut=Math.sqrt(tt/(Ve*Oe));lt=Math.ceil(Ve*ut/Ue)*Ue,mt=Math.ceil(Oe*ut/Ue)*Ue}return[lt,mt]}function Xe(Ve,Oe=.5,Ue=.5,tt=.8,bt=null,lt=null){bt===null&&(console.warn("`label_ids_to_fuse` unset. No instance will be fused."),bt=new Set);let mt=Ve.class_queries_logits??Ve.logits,ht=(Ve.masks_queries_logits??Ve.pred_masks).sigmoid(),[Ct,It,Ft]=mt.dims;if(Ft-=1,lt!==null&&lt.length!==Ct)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");let At=[];for(let Dt=0;Dt<Ct;++Dt){let Rt=lt!==null?lt[Dt]:null,at=mt[Dt],Ze=ht[Dt],[vt,St,$t]=Ke(at,Ze,Oe,Ft);if($t.length===0){let[st,hr]=Rt??Ze.dims.slice(-2),Ht=new s.Tensor("int32",new Int32Array(st*hr).fill(-1),[st,hr]);At.push({segmentation:Ht,segments_info:[]});continue}let[qt,gt]=Ie(vt,St,$t,Ue,tt,bt,Rt);At.push({segmentation:qt,segments_info:gt})}return At}function Ne(Ve,Oe=.5,Ue=null){throw new Error("`post_process_instance_segmentation` is not yet implemented.")}class Ge extends n.Callable{constructor(Oe){super(),this.image_mean=Oe.image_mean??Oe.mean,this.image_std=Oe.image_std??Oe.std,this.resample=Oe.resample??2,this.do_rescale=Oe.do_rescale??!0,this.rescale_factor=Oe.rescale_factor??.00392156862745098,this.do_normalize=Oe.do_normalize,this.do_thumbnail=Oe.do_thumbnail,this.size=Oe.size??Oe.image_size,this.do_resize=Oe.do_resize??this.size!==void 0,this.size_divisibility=Oe.size_divisibility??Oe.size_divisor,this.do_center_crop=Oe.do_center_crop,this.crop_size=Oe.crop_size,this.do_convert_rgb=Oe.do_convert_rgb??!0,this.do_crop_margin=Oe.do_crop_margin,this.pad_size=Oe.pad_size,this.do_pad=Oe.do_pad,this.do_pad&&!this.pad_size&&this.size&&this.size.width!==void 0&&this.size.height!==void 0&&(this.pad_size=this.size),this.do_flip_channel_order=Oe.do_flip_channel_order??!1,this.config=Oe}thumbnail(Oe,Ue,tt=2){return ot(this,null,function*(){let bt=Oe.height,lt=Oe.width,mt=Ue.height,ut=Ue.width,ht=Math.min(bt,mt),Ct=Math.min(lt,ut);return ht===bt&&Ct===lt?Oe:(bt>lt?Ct=Math.floor(lt*ht/bt):lt>bt&&(ht=Math.floor(bt*Ct/lt)),yield Oe.resize(Ct,ht,{resample:tt}))})}crop_margin(Oe,Ue=200){return ot(this,null,function*(){let tt=Oe.clone().grayscale(),bt=(0,c.min)(tt.data)[0],mt=(0,c.max)(tt.data)[0]-bt;if(mt===0)return Oe;let ut=Ue/255,ht=tt.width,Ct=tt.height,It=0,Ft=0,At=tt.data;for(let Dt=0;Dt<tt.height;++Dt){let Rt=Dt*tt.width;for(let at=0;at<tt.width;++at)(At[Rt+at]-bt)/mt<ut&&(ht=Math.min(ht,at),Ct=Math.min(Ct,Dt),It=Math.max(It,at),Ft=Math.max(Ft,Dt))}return Oe=yield Oe.crop([ht,Ct,It,Ft]),Oe})}pad_image(Oe,Ue,tt,{mode:bt="constant",center:lt=!1,constant_values:mt=0}={}){let[ut,ht,Ct]=Ue,It,Ft;if(typeof tt=="number"?(It=tt,Ft=tt):tt==="square"?It=Ft=Math.max(ut,ht):(It=tt.width,Ft=tt.height),It!==ht||Ft!==ut){let At=new Float32Array(It*Ft*Ct);if(Array.isArray(mt))for(let at=0;at<At.length;++at)At[at]=mt[at%Ct];else mt!==0&&At.fill(mt);let[Dt,Rt]=lt?[Math.floor((It-ht)/2),Math.floor((Ft-ut)/2)]:[0,0];for(let at=0;at<ut;++at){let Ze=(at+Rt)*It,vt=at*ht;for(let St=0;St<ht;++St){let $t=(Ze+St+Dt)*Ct,qt=(vt+St)*Ct;for(let gt=0;gt<Ct;++gt)At[$t+gt]=Oe[qt+gt]}}if(bt==="symmetric"){if(lt)throw new Error("`center` padding is not supported when `mode` is set to `symmetric`.");let at=ut-1,Ze=ht-1;for(let vt=0;vt<Ft;++vt){let St=vt*It,$t=(0,h.calculateReflectOffset)(vt,at)*ht;for(let qt=0;qt<It;++qt){if(vt<ut&&qt<ht)continue;let gt=(St+qt)*Ct,st=($t+(0,h.calculateReflectOffset)(qt,Ze))*Ct;for(let hr=0;hr<Ct;++hr)At[gt+hr]=Oe[st+hr]}}}Oe=At,Ue=[Ft,It,Ct]}return[Oe,Ue]}rescale(Oe){for(let Ue=0;Ue<Oe.length;++Ue)Oe[Ue]=this.rescale_factor*Oe[Ue]}get_resize_output_image_size(Oe,Ue){let[tt,bt]=Oe.size,lt,mt;if(this.do_thumbnail){let{height:ut,width:ht}=Ue;lt=Math.min(ut,ht)}else Number.isInteger(Ue)?(lt=Ue,mt=this.config.max_size??lt):Ue!==void 0&&(lt=Ue.shortest_edge,mt=Ue.longest_edge);if(lt!==void 0||mt!==void 0){let ut=lt===void 0?1:Math.max(lt/tt,lt/bt),ht=tt*ut,Ct=bt*ut,It=mt===void 0?1:Math.min(mt/ht,mt/Ct),Ft=Math.floor(Number((ht*It).toFixed(2))),At=Math.floor(Number((Ct*It).toFixed(2)));return this.size_divisibility!==void 0&&([Ft,At]=G([Ft,At],this.size_divisibility)),[Ft,At]}else if(Ue!==void 0&&Ue.width!==void 0&&Ue.height!==void 0){let ut=Ue.width,ht=Ue.height;if(this.config.keep_aspect_ratio&&this.config.ensure_multiple_of){let Ct=ht/bt,It=ut/tt;Math.abs(1-It)<Math.abs(1-Ct)?Ct=It:It=Ct,ht=k(Ct*bt,this.config.ensure_multiple_of),ut=k(It*tt,this.config.ensure_multiple_of)}return[ut,ht]}else{if(this.size_divisibility!==void 0)return G([tt,bt],this.size_divisibility);if(Ue.min_pixels!==void 0&&Ue.max_pixels!==void 0){let{min_pixels:ut,max_pixels:ht}=Ue,Ct=this.config.patch_size*this.config.merge_size;return Pe(bt,tt,Ct,ut,ht)}else throw new Error(`Could not resize image due to unsupported \`this.size\` option in config: ${JSON.stringify(Ue)}`)}}resize(Oe){return ot(this,null,function*(){let[Ue,tt]=this.get_resize_output_image_size(Oe,this.size);return yield Oe.resize(Ue,tt,{resample:this.resample})})}preprocess(ut){return ot(this,arguments,function*(Oe,{do_normalize:Ue=null,do_pad:tt=null,do_convert_rgb:bt=null,do_convert_grayscale:lt=null,do_flip_channel_order:mt=null}={}){this.do_crop_margin&&(Oe=yield this.crop_margin(Oe));let[ht,Ct]=Oe.size;if(bt??this.do_convert_rgb?Oe=Oe.rgb():lt&&(Oe=Oe.grayscale()),this.do_resize&&(Oe=yield this.resize(Oe)),this.do_thumbnail&&(Oe=yield this.thumbnail(Oe,this.size,this.resample)),this.do_center_crop){let Rt,at;Number.isInteger(this.crop_size)?(Rt=this.crop_size,at=this.crop_size):(Rt=this.crop_size.width,at=this.crop_size.height),Oe=yield Oe.center_crop(Rt,at)}let It=[Oe.height,Oe.width],Ft=Float32Array.from(Oe.data),At=[Oe.height,Oe.width,Oe.channels];if(this.do_rescale&&this.rescale(Ft),Ue??this.do_normalize){let Rt=this.image_mean;Array.isArray(this.image_mean)||(Rt=new Array(Oe.channels).fill(Rt));let at=this.image_std;if(Array.isArray(this.image_std)||(at=new Array(Oe.channels).fill(Rt)),Rt.length!==Oe.channels||at.length!==Oe.channels)throw new Error(`When set to arrays, the length of \`image_mean\` (${Rt.length}) and \`image_std\` (${at.length}) must match the number of channels in the image (${Oe.channels}).`);for(let Ze=0;Ze<Ft.length;Ze+=Oe.channels)for(let vt=0;vt<Oe.channels;++vt)Ft[Ze+vt]=(Ft[Ze+vt]-Rt[vt])/at[vt]}if(tt??this.do_pad){if(this.pad_size)[Ft,At]=this.pad_image(Ft,[Oe.height,Oe.width,Oe.channels],this.pad_size);else if(this.size_divisibility){let[Rt,at]=G([At[1],At[0]],this.size_divisibility);[Ft,At]=this.pad_image(Ft,At,{width:Rt,height:at})}}if(mt??this.do_flip_channel_order){if(At[2]!==3)throw new Error("Flipping channel order is only supported for RGB images.");for(let Rt=0;Rt<Ft.length;Rt+=3){let at=Ft[Rt];Ft[Rt]=Ft[Rt+2],Ft[Rt+2]=at}}let Dt=new s.Tensor("float32",Ft,At).permute(2,0,1);return{original_size:[Ct,ht],reshaped_input_size:It,pixel_values:Dt}})}_call(Oe,...Ue){return ot(this,null,function*(){Array.isArray(Oe)||(Oe=[Oe]);let tt=yield Promise.all(Oe.map(lt=>this.preprocess(lt)));return{pixel_values:(0,s.stack)(tt.map(lt=>lt.pixel_values),0),original_sizes:tt.map(lt=>lt.original_size),reshaped_input_sizes:tt.map(lt=>lt.reshaped_input_size)}})}static from_pretrained(Oe,Ue){return ot(this,null,function*(){let tt=yield(0,p.getModelJSON)(Oe,y.IMAGE_PROCESSOR_NAME,!0,Ue);return new this(tt)})}}},"./src/base/processing_utils.js":(r,o,e)=>{e.r(o),e.d(o,{Processor:()=>u});var n=e("./src/utils/constants.js"),s=e("./src/utils/generic.js"),c=e("./src/utils/hub.js");let u=(()=>{class h extends s.Callable{static classes=["image_processor_class","tokenizer_class","feature_extractor_class"];static uses_processor_config=!1;constructor(y,k){super(),this.config=y,this.components=k}get image_processor(){return this.components.image_processor}get tokenizer(){return this.components.tokenizer}get feature_extractor(){return this.components.feature_extractor}apply_chat_template(y,k={}){if(!this.tokenizer)throw new Error("Unable to apply chat template without a tokenizer.");return this.tokenizer.apply_chat_template(y,Vt({tokenize:!1},k))}batch_decode(...y){if(!this.tokenizer)throw new Error("Unable to decode without a tokenizer.");return this.tokenizer.batch_decode(...y)}decode(...y){if(!this.tokenizer)throw new Error("Unable to decode without a tokenizer.");return this.tokenizer.decode(...y)}_call(y,...k){return ot(this,null,function*(){for(let G of[this.image_processor,this.feature_extractor,this.tokenizer])if(G)return G(y,...k);throw new Error("No image processor, feature extractor, or tokenizer found.")})}static from_pretrained(y,k){return ot(this,null,function*(){let[G,$]=yield Promise.all([this.uses_processor_config?(0,c.getModelJSON)(y,n.PROCESSOR_NAME,!0,k):{},Promise.all(this.classes.filter(Me=>Me in this).map(Me=>ot(this,null,function*(){let Re=yield this[Me].from_pretrained(y,k);return[Me.replace(/_class$/,""),Re]}))).then(Object.fromEntries)]);return new this(G,$)})}}return h})()},"./src/configs.js":(r,o,e)=>{e.r(o),e.d(o,{AutoConfig:()=>y,PretrainedConfig:()=>p,getKeyValueShapes:()=>h});var n=e("./src/utils/core.js"),s=e("./src/utils/hub.js");function c(k,G){return ot(this,null,function*(){return yield(0,s.getModelJSON)(k,"config.json",!0,G)})}function u(k){let G={},$={};switch(k.model_type){case"llava":case"paligemma":case"florence2":case"llava_onevision":case"idefics3":$=u(k.text_config);break;case"moondream1":$=u(k.phi_config);break;case"musicgen":$=u(k.decoder);break;case"multi_modality":$=u(k.language_config);break;case"gpt2":case"gptj":case"jais":case"codegen":case"gpt_bigcode":G.num_heads="n_head",G.num_layers="n_layer",G.hidden_size="n_embd";break;case"gpt_neox":case"stablelm":case"opt":case"falcon":G.num_heads="num_attention_heads",G.num_layers="num_hidden_layers",G.hidden_size="hidden_size";break;case"llama":case"olmo":case"olmo2":case"mobilellm":case"granite":case"cohere":case"mistral":case"starcoder2":case"qwen2":case"qwen2_vl":case"phi":case"phi3":case"phi3_v":G.num_heads="num_key_value_heads",G.num_layers="num_hidden_layers",G.hidden_size="hidden_size",G.num_attention_heads="num_attention_heads";break;case"gemma":case"gemma2":case"glm":case"helium":G.num_heads="num_key_value_heads",G.num_layers="num_hidden_layers",G.dim_kv="head_dim";break;case"openelm":G.num_heads="num_kv_heads",G.num_layers="num_transformer_layers",G.dim_kv="head_dim";break;case"gpt_neo":case"donut-swin":G.num_heads="num_heads",G.num_layers="num_layers",G.hidden_size="hidden_size";break;case"bloom":G.num_heads="n_head",G.num_layers="n_layer",G.hidden_size="hidden_size";break;case"mpt":G.num_heads="n_heads",G.num_layers="n_layers",G.hidden_size="d_model";break;case"exaone":G.num_heads="num_key_value_heads",G.num_layers="num_layers",G.dim_kv="head_dim",G.num_attention_heads="num_attention_heads";break;case"t5":case"mt5":case"longt5":G.num_decoder_layers="num_decoder_layers",G.num_decoder_heads="num_heads",G.decoder_dim_kv="d_kv",G.num_encoder_layers="num_layers",G.num_encoder_heads="num_heads",G.encoder_dim_kv="d_kv";break;case"bart":case"mbart":case"marian":case"whisper":case"m2m_100":case"blenderbot":case"blenderbot-small":case"florence2_language":G.num_decoder_layers="decoder_layers",G.num_decoder_heads="decoder_attention_heads",G.decoder_hidden_size="d_model",G.num_encoder_layers="encoder_layers",G.num_encoder_heads="encoder_attention_heads",G.encoder_hidden_size="d_model";break;case"speecht5":G.num_decoder_layers="decoder_layers",G.num_decoder_heads="decoder_attention_heads",G.decoder_hidden_size="hidden_size",G.num_encoder_layers="encoder_layers",G.num_encoder_heads="encoder_attention_heads",G.encoder_hidden_size="hidden_size";break;case"trocr":G.num_encoder_layers=G.num_decoder_layers="decoder_layers",G.num_encoder_heads=G.num_decoder_heads="decoder_attention_heads",G.encoder_hidden_size=G.decoder_hidden_size="d_model";break;case"musicgen_decoder":G.num_encoder_layers=G.num_decoder_layers="num_hidden_layers",G.num_encoder_heads=G.num_decoder_heads="num_attention_heads",G.encoder_hidden_size=G.decoder_hidden_size="hidden_size";break;case"moonshine":G.num_decoder_layers="decoder_num_hidden_layers",G.num_decoder_heads="decoder_num_key_value_heads",G.num_encoder_layers="encoder_num_hidden_layers",G.num_encoder_heads="encoder_num_key_value_heads",G.encoder_hidden_size=G.decoder_hidden_size="hidden_size";break;case"vision-encoder-decoder":let Re=u(k.decoder),Ke="num_decoder_layers"in Re,He=(0,n.pick)(k,["model_type","is_encoder_decoder"]);return Ke?(He.num_decoder_layers=Re.num_decoder_layers,He.num_decoder_heads=Re.num_decoder_heads,He.decoder_hidden_size=Re.decoder_hidden_size,He.num_encoder_layers=Re.num_encoder_layers,He.num_encoder_heads=Re.num_encoder_heads,He.encoder_hidden_size=Re.encoder_hidden_size):(He.num_layers=Re.num_layers,He.num_heads=Re.num_heads,He.hidden_size=Re.hidden_size),He}let Me=Vt(Vt({},$),(0,n.pick)(k,["model_type","multi_query","is_encoder_decoder"]));for(let Re in G)Me[Re]=k[G[Re]];return Me}function h(k,{prefix:G="past_key_values",batch_size:$=1}={}){let Me={},Re=k.normalized_config;if(Re.is_encoder_decoder&&"num_encoder_heads"in Re&&"num_decoder_heads"in Re){let Ke=Re.encoder_dim_kv??Re.encoder_hidden_size/Re.num_encoder_heads,He=Re.decoder_dim_kv??Re.decoder_hidden_size/Re.num_decoder_heads,Ie=[$,Re.num_encoder_heads,0,Ke],Pe=[$,Re.num_decoder_heads,0,He];for(let Xe=0;Xe<Re.num_decoder_layers;++Xe)Me[`${G}.${Xe}.encoder.key`]=Ie,Me[`${G}.${Xe}.encoder.value`]=Ie,Me[`${G}.${Xe}.decoder.key`]=Pe,Me[`${G}.${Xe}.decoder.value`]=Pe}else{let Ke=Re.num_heads,He=Re.num_layers,Ie=Re.dim_kv??Re.hidden_size/(Re.num_attention_heads??Ke);if(Re.model_type==="falcon"){let Pe=[$*Ke,0,Ie];for(let Xe=0;Xe<He;++Xe)Me[`${G}.${Xe}.key`]=Pe,Me[`${G}.${Xe}.value`]=Pe}else if(Re.multi_query){let Pe=[$*Ke,0,2*Ie];for(let Xe=0;Xe<He;++Xe)Me[`${G}.${Xe}.key_value`]=Pe}else if(Re.model_type==="bloom"){let Pe=[$*Ke,Ie,0],Xe=[$*Ke,0,Ie];for(let Ne=0;Ne<He;++Ne)Me[`${G}.${Ne}.key`]=Pe,Me[`${G}.${Ne}.value`]=Xe}else if(Re.model_type==="openelm")for(let Pe=0;Pe<He;++Pe){let Xe=[$,Ke[Pe],0,Ie];Me[`${G}.${Pe}.key`]=Xe,Me[`${G}.${Pe}.value`]=Xe}else{let Pe=[$,Ke,0,Ie];for(let Xe=0;Xe<He;++Xe)Me[`${G}.${Xe}.key`]=Pe,Me[`${G}.${Xe}.value`]=Pe}}return Me}class p{model_type=null;is_encoder_decoder=!1;max_position_embeddings;"transformers.js_config";constructor(G){Object.assign(this,G),this.normalized_config=u(this)}static from_pretrained(Ie){return ot(this,arguments,function*(G,{progress_callback:$=null,config:Me=null,cache_dir:Re=null,local_files_only:Ke=!1,revision:He="main"}={}){Me&&!(Me instanceof p)&&(Me=new p(Me));let Pe=Me??(yield c(G,{progress_callback:$,config:Me,cache_dir:Re,local_files_only:Ke,revision:He}));return new this(Pe)})}}class y{static from_pretrained(...G){return ot(this,null,function*(){return p.from_pretrained(...G)})}}},"./src/env.js":(r,o,e)=>{e.r(o),e.d(o,{apis:()=>He,env:()=>Ve});var n=e("?569f"),s=e("?3f59"),c=e("?154a");let u="3.3.3",h=typeof window<"u"&&typeof window.document<"u",p=typeof self<"u"&&self.constructor?.name==="DedicatedWorkerGlobalScope",y=typeof self<"u"&&"caches"in self,k=typeof navigator<"u"&&"gpu"in navigator,G=typeof navigator<"u"&&"ml"in navigator,$=typeof process<"u",Me=$&&process?.release?.name==="node",Re=!Oe(n),Ke=!Oe(s),He=Object.freeze({IS_BROWSER_ENV:h,IS_WEBWORKER_ENV:p,IS_WEB_CACHE_AVAILABLE:y,IS_WEBGPU_AVAILABLE:k,IS_WEBNN_AVAILABLE:G,IS_PROCESS_AVAILABLE:$,IS_NODE_ENV:Me,IS_FS_AVAILABLE:Re,IS_PATH_AVAILABLE:Ke}),Ie=Re&&Ke,Pe="./";if(Ie){let Ue=Object(import.meta).url;Ue?Pe=s.dirname(s.dirname(c.fileURLToPath(Ue))):typeof __dirname<"u"&&(Pe=s.dirname(__dirname))}let Xe=Ie?s.join(Pe,"/.cache/"):null,Ne="/models/",Ge=Ie?s.join(Pe,Ne):Ne,Ve={version:u,backends:{onnx:{}},allowRemoteModels:!0,remoteHost:"https://huggingface.co/",remotePathTemplate:"{model}/resolve/{revision}/",allowLocalModels:!(h||p),localModelPath:Ge,useFS:Re,useBrowserCache:y,useFSCache:Re,cacheDir:Xe,useCustomCache:!1,customCache:null};function Oe(Ue){return Object.keys(Ue).length===0}},"./src/generation/configuration_utils.js":(r,o,e)=>{e.r(o),e.d(o,{GenerationConfig:()=>s});var n=e("./src/utils/core.js");class s{max_length=20;max_new_tokens=null;min_length=0;min_new_tokens=null;early_stopping=!1;max_time=null;do_sample=!1;num_beams=1;num_beam_groups=1;penalty_alpha=null;use_cache=!0;temperature=1;top_k=50;top_p=1;typical_p=1;epsilon_cutoff=0;eta_cutoff=0;diversity_penalty=0;repetition_penalty=1;encoder_repetition_penalty=1;length_penalty=1;no_repeat_ngram_size=0;bad_words_ids=null;force_words_ids=null;renormalize_logits=!1;constraints=null;forced_bos_token_id=null;forced_eos_token_id=null;remove_invalid_values=!1;exponential_decay_length_penalty=null;suppress_tokens=null;streamer=null;begin_suppress_tokens=null;forced_decoder_ids=null;guidance_scale=null;num_return_sequences=1;output_attentions=!1;output_hidden_states=!1;output_scores=!1;return_dict_in_generate=!1;pad_token_id=null;bos_token_id=null;eos_token_id=null;encoder_no_repeat_ngram_size=0;decoder_start_token_id=null;generation_kwargs={};constructor(u){Object.assign(this,(0,n.pick)(u,Object.getOwnPropertyNames(this)))}}},"./src/generation/logits_process.js":(r,o,e)=>{e.r(o),e.d(o,{ClassifierFreeGuidanceLogitsProcessor:()=>Pe,ForcedBOSTokenLogitsProcessor:()=>y,ForcedEOSTokenLogitsProcessor:()=>k,LogitsProcessor:()=>u,LogitsProcessorList:()=>p,LogitsWarper:()=>h,MinLengthLogitsProcessor:()=>Ke,MinNewTokensLengthLogitsProcessor:()=>He,NoBadWordsLogitsProcessor:()=>Ie,NoRepeatNGramLogitsProcessor:()=>Me,RepetitionPenaltyLogitsProcessor:()=>Re,SuppressTokensAtBeginLogitsProcessor:()=>G,TemperatureLogitsWarper:()=>Xe,TopKLogitsWarper:()=>Ge,TopPLogitsWarper:()=>Ne,WhisperTimeStampLogitsProcessor:()=>$});var n=e("./src/utils/generic.js"),s=e("./src/utils/tensor.js"),c=e("./src/utils/maths.js");class u extends n.Callable{_call(Oe,Ue){throw Error("`_call` should be implemented in a subclass")}}class h extends n.Callable{_call(Oe,Ue){throw Error("`_call` should be implemented in a subclass")}}class p extends n.Callable{constructor(){super(),this.processors=[]}push(Oe){this.processors.push(Oe)}extend(Oe){this.processors.push(...Oe)}_call(Oe,Ue){let tt=Ue;for(let bt of this.processors)tt=bt(Oe,tt);return tt}[Symbol.iterator](){return this.processors.values()}}class y extends u{constructor(Oe){super(),this.bos_token_id=Oe}_call(Oe,Ue){for(let tt=0;tt<Oe.length;++tt)if(Oe[tt].length===1){let bt=Ue[tt].data;bt.fill(-1/0),bt[this.bos_token_id]=0}return Ue}}class k extends u{constructor(Oe,Ue){super(),this.max_length=Oe,this.eos_token_id=Array.isArray(Ue)?Ue:[Ue]}_call(Oe,Ue){for(let tt=0;tt<Oe.length;++tt)if(Oe[tt].length===this.max_length-1){let bt=Ue[tt].data;bt.fill(-1/0);for(let lt of this.eos_token_id)bt[lt]=0}return Ue}}class G extends u{constructor(Oe,Ue){super(),this.begin_suppress_tokens=Oe,this.begin_index=Ue}_call(Oe,Ue){for(let tt=0;tt<Oe.length;++tt)if(Oe[tt].length===this.begin_index){let bt=Ue[tt].data;for(let lt of this.begin_suppress_tokens)bt[lt]=-1/0}return Ue}}class $ extends u{constructor(Oe,Ue){super(),this.eos_token_id=Array.isArray(Oe.eos_token_id)?Oe.eos_token_id[0]:Oe.eos_token_id,this.no_timestamps_token_id=Oe.no_timestamps_token_id,this.timestamp_begin=this.no_timestamps_token_id+1,this.begin_index=Ue.length,Ue.at(-1)===this.no_timestamps_token_id&&(this.begin_index-=1),this.max_initial_timestamp_index=Oe.max_initial_timestamp_index}_call(Oe,Ue){for(let tt=0;tt<Oe.length;++tt){let bt=Ue[tt].data;if(bt[this.no_timestamps_token_id]=-1/0,Oe[tt].length===this.begin_index-1){bt.fill(-1/0),bt[this.timestamp_begin]=0;continue}let lt=Oe[tt].slice(this.begin_index),mt=lt.length>=1&&lt[lt.length-1]>=this.timestamp_begin,ut=lt.length<2||lt[lt.length-2]>=this.timestamp_begin;if(mt&&(ut?bt.subarray(this.timestamp_begin).fill(-1/0):bt.subarray(0,this.eos_token_id).fill(-1/0)),Oe[tt].length===this.begin_index&&this.max_initial_timestamp_index!==null){let Ft=this.timestamp_begin+this.max_initial_timestamp_index;bt.subarray(Ft+1).fill(-1/0)}let ht=(0,c.log_softmax)(bt),Ct=Math.log(ht.subarray(this.timestamp_begin).map(Math.exp).reduce((Ft,At)=>Ft+At)),It=(0,c.max)(ht.subarray(0,this.timestamp_begin))[0];Ct>It&&bt.subarray(0,this.timestamp_begin).fill(-1/0)}return Ue}}class Me extends u{constructor(Oe){super(),this.no_repeat_ngram_size=Oe}getNgrams(Oe){let Ue=Oe.length,tt=[];for(let lt=0;lt<Ue+1-this.no_repeat_ngram_size;++lt){let mt=[];for(let ut=0;ut<this.no_repeat_ngram_size;++ut)mt.push(Oe[lt+ut]);tt.push(mt.map(Number))}let bt=new Map;for(let lt of tt){let mt=lt.slice(0,lt.length-1),ut=JSON.stringify(mt),ht=bt.get(ut)??[];ht.push(lt[lt.length-1]),bt.set(ut,ht)}return bt}getGeneratedNgrams(Oe,Ue){let tt=Ue.slice(Ue.length+1-this.no_repeat_ngram_size,Ue.length);return Oe.get(JSON.stringify(tt.map(Number)))??[]}calcBannedNgramTokens(Oe){let Ue=[];if(Oe.length+1<this.no_repeat_ngram_size)return Ue;{let tt=this.getNgrams(Oe);return this.getGeneratedNgrams(tt,Oe)}}_call(Oe,Ue){for(let tt=0;tt<Oe.length;++tt){let bt=Ue[tt].data,lt=this.calcBannedNgramTokens(Oe[tt]);for(let mt of lt)bt[mt]=-1/0}return Ue}}class Re extends u{constructor(Oe){super(),this.penalty=Oe}_call(Oe,Ue){for(let tt=0;tt<Oe.length;++tt){let bt=Ue[tt].data;for(let lt of new Set(Oe[tt])){let mt=Number(lt);bt[mt]<0?bt[mt]*=this.penalty:bt[mt]/=this.penalty}}return Ue}}class Ke extends u{constructor(Oe,Ue){super(),this.min_length=Oe,this.eos_token_id=Array.isArray(Ue)?Ue:[Ue]}_call(Oe,Ue){for(let tt=0;tt<Oe.length;++tt)if(Oe[tt].length<this.min_length){let bt=Ue[tt].data;for(let lt of this.eos_token_id)bt[lt]=-1/0}return Ue}}class He extends u{constructor(Oe,Ue,tt){super(),this.prompt_length_to_skip=Oe,this.min_new_tokens=Ue,this.eos_token_id=Array.isArray(tt)?tt:[tt]}_call(Oe,Ue){for(let tt=0;tt<Oe.length;++tt)if(Oe[tt].length-this.prompt_length_to_skip<this.min_new_tokens){let lt=Ue[tt].data;for(let mt of this.eos_token_id)lt[mt]=-1/0}return Ue}}class Ie extends u{constructor(Oe,Ue){super(),this.bad_words_ids=Oe,this.eos_token_id=Array.isArray(Ue)?Ue:[Ue]}_call(Oe,Ue){for(let tt=0;tt<Oe.length;++tt){let bt=Ue[tt].data,lt=Oe[tt];for(let mt of this.bad_words_ids){let ut=!0;for(let ht=1;ht<=mt.length-1&&mt.length<lt.length;++ht)if(mt.at(-ht-1)!=lt.at(-ht)){ut=!1;break}ut&&(bt[mt.at(-1)]=-1/0)}}return Ue}}class Pe extends u{constructor(Oe){if(super(),Oe<=1)throw new Error(`Require guidance scale >1 to use the classifier free guidance processor, got guidance scale ${Oe}.`);this.guidance_scale=Oe}_call(Oe,Ue){if(Ue.dims[0]!==2*Oe.length)throw new Error(`Logits should have twice the batch size of the input ids, the first half of batches corresponding to the conditional inputs, and the second half of batches corresponding to the unconditional inputs. Got batch size ${Ue.dims[0]} for the logits and ${Oe.length} for the input ids.`);let tt=Oe.length,bt=Ue.slice([0,tt],null),lt=Ue.slice([tt,Ue.dims[0]],null);for(let mt=0;mt<lt.data.length;++mt)lt.data[mt]+=(bt.data[mt]-lt.data[mt])*this.guidance_scale;return lt}}class Xe extends h{constructor(Oe){if(super(),typeof Oe!="number"||Oe<=0){let Ue=`\`temperature\` (=${Oe}) must be a strictly positive float, otherwise your next token scores will be invalid.`;Oe===0&&(Ue+=" If you're looking for greedy decoding strategies, set `do_sample=false`.")}this.temperature=Oe}_call(Oe,Ue){let tt=Ue.data;for(let bt=0;bt<tt.length;++bt)tt[bt]/=this.temperature;return Ue}}class Ne extends h{constructor(Oe,{filter_value:Ue=-1/0,min_tokens_to_keep:tt=1}={}){if(super(),Oe<0||Oe>1)throw new Error(`\`top_p\` must be a float > 0 and < 1, but is ${Oe}`);if(!Number.isInteger(tt)||tt<1)throw new Error(`\`min_tokens_to_keep\` must be a positive integer, but is ${tt}`);this.top_p=Oe,this.filter_value=Ue,this.min_tokens_to_keep=tt}}class Ge extends h{constructor(Oe,{filter_value:Ue=-1/0,min_tokens_to_keep:tt=1}={}){if(super(),!Number.isInteger(Oe)||Oe<0)throw new Error(`\`top_k\` must be a positive integer, but is ${Oe}`);this.top_k=Math.max(Oe,tt),this.filter_value=Ue}}},"./src/generation/logits_sampler.js":(r,o,e)=>{e.r(o),e.d(o,{LogitsSampler:()=>h});var n=e("./src/utils/generic.js"),s=e("./src/utils/tensor.js"),c=e("./src/utils/maths.js"),u=e("./src/generation/configuration_utils.js");class h extends n.Callable{constructor($){super(),this.generation_config=$}_call($){return ot(this,null,function*(){return this.sample($)})}sample($){return ot(this,null,function*(){throw Error("sample should be implemented in subclasses.")})}getLogits($,Me){let Re=$.dims.at(-1),Ke=$.data;if(Me===-1)Ke=Ke.slice(-Re);else{let He=Me*Re;Ke=Ke.slice(He,He+Re)}return Ke}randomSelect($){let Me=0;for(let Ke=0;Ke<$.length;++Ke)Me+=$[Ke];let Re=Math.random()*Me;for(let Ke=0;Ke<$.length;++Ke)if(Re-=$[Ke],Re<=0)return Ke;return 0}static getSampler($){if($.do_sample)return new y($);if($.num_beams>1)return new k($);if($.num_return_sequences>1)throw Error(`num_return_sequences has to be 1 when doing greedy search, but is ${$.num_return_sequences}.`);return new p($)}}class p extends h{sample($){return ot(this,null,function*(){let Me=(0,c.max)($.data)[1];return[[BigInt(Me),0]]})}}class y extends h{sample($){return ot(this,null,function*(){let Me=$.dims.at(-1);this.generation_config.top_k>0&&(Me=Math.min(this.generation_config.top_k,Me));let[Re,Ke]=yield(0,s.topk)($,Me),He=(0,c.softmax)(Re.data);return Array.from({length:this.generation_config.num_beams},()=>{let Ie=this.randomSelect(He);return[Ke.data[Ie],Math.log(He[Ie])]})})}}class k extends h{sample($){return ot(this,null,function*(){let Me=$.dims.at(-1);this.generation_config.top_k>0&&(Me=Math.min(this.generation_config.top_k,Me));let[Re,Ke]=yield(0,s.topk)($,Me),He=(0,c.softmax)(Re.data);return Array.from({length:this.generation_config.num_beams},(Ie,Pe)=>[Ke.data[Pe],Math.log(He[Pe])])})}}},"./src/generation/stopping_criteria.js":(r,o,e)=>{e.r(o),e.d(o,{EosTokenCriteria:()=>h,InterruptableStoppingCriteria:()=>p,MaxLengthCriteria:()=>u,StoppingCriteria:()=>s,StoppingCriteriaList:()=>c});var n=e("./src/utils/generic.js");class s extends n.Callable{_call(k,G){throw Error("StoppingCriteria needs to be subclassed")}}class c extends n.Callable{constructor(){super(),this.criteria=[]}push(k){this.criteria.push(k)}extend(k){k instanceof c?k=k.criteria:k instanceof s&&(k=[k]),this.criteria.push(...k)}_call(k,G){let $=new Array(k.length).fill(!1);for(let Me of this.criteria){let Re=Me(k,G);for(let Ke=0;Ke<$.length;++Ke)$[Ke]||=Re[Ke]}return $}[Symbol.iterator](){return this.criteria.values()}}class u extends s{constructor(k,G=null){super(),this.max_length=k,this.max_position_embeddings=G}_call(k){return k.map(G=>G.length>=this.max_length)}}class h extends s{constructor(k){super(),Array.isArray(k)||(k=[k]),this.eos_token_id=k}_call(k,G){return k.map($=>{let Me=$.at(-1);return this.eos_token_id.some(Re=>Me==Re)})}}class p extends s{constructor(){super(),this.interrupted=!1}interrupt(){this.interrupted=!0}reset(){this.interrupted=!1}_call(k,G){return new Array(k.length).fill(this.interrupted)}}},"./src/generation/streamers.js":(r,o,e)=>{e.r(o),e.d(o,{BaseStreamer:()=>u,TextStreamer:()=>p,WhisperTextStreamer:()=>y});var n=e("./src/utils/core.js"),s=e("./src/tokenizers.js"),c=e("./src/env.js");class u{put(G){throw Error("Not implemented")}end(){throw Error("Not implemented")}}let h=c.apis.IS_PROCESS_AVAILABLE?k=>process.stdout.write(k):k=>console.log(k);class p extends u{constructor(G,Pe={}){var Xe=Pe,{skip_prompt:$=!1,callback_function:Me=null,token_callback_function:Re=null,skip_special_tokens:Ke=!0,decode_kwargs:He={}}=Xe,Ie=Ta(Xe,["skip_prompt","callback_function","token_callback_function","skip_special_tokens","decode_kwargs"]);super(),this.tokenizer=G,this.skip_prompt=$,this.callback_function=Me??h,this.token_callback_function=Re,this.decode_kwargs=Vt(Vt({skip_special_tokens:Ke},He),Ie),this.token_cache=[],this.print_len=0,this.next_tokens_are_prompt=!0}put(G){if(G.length>1)throw Error("TextStreamer only supports batch size of 1");if(this.skip_prompt&&this.next_tokens_are_prompt){this.next_tokens_are_prompt=!1;return}let $=G[0];this.token_callback_function?.($),this.token_cache=(0,n.mergeArrays)(this.token_cache,$);let Me=this.tokenizer.decode(this.token_cache,this.decode_kwargs),Re;Me.endsWith(`
`)?(Re=Me.slice(this.print_len),this.token_cache=[],this.print_len=0):Me.length>0&&(0,s.is_chinese_char)(Me.charCodeAt(Me.length-1))?(Re=Me.slice(this.print_len),this.print_len+=Re.length):(Re=Me.slice(this.print_len,Me.lastIndexOf(" ")+1),this.print_len+=Re.length),this.on_finalized_text(Re,!1)}end(){let G;this.token_cache.length>0?(G=this.tokenizer.decode(this.token_cache,this.decode_kwargs).slice(this.print_len),this.token_cache=[],this.print_len=0):G="",this.next_tokens_are_prompt=!0,this.on_finalized_text(G,!0)}on_finalized_text(G,$){G.length>0&&this.callback_function?.(G),$&&this.callback_function===h&&c.apis.IS_PROCESS_AVAILABLE&&this.callback_function?.(`
`)}}class y extends p{constructor(G,{skip_prompt:$=!1,callback_function:Me=null,token_callback_function:Re=null,on_chunk_start:Ke=null,on_chunk_end:He=null,on_finalize:Ie=null,time_precision:Pe=.02,skip_special_tokens:Xe=!0,decode_kwargs:Ne={}}={}){super(G,{skip_prompt:$,skip_special_tokens:Xe,callback_function:Me,token_callback_function:Re,decode_kwargs:Ne}),this.timestamp_begin=G.timestamp_begin,this.on_chunk_start=Ke,this.on_chunk_end=He,this.on_finalize=Ie,this.time_precision=Pe,this.waiting_for_timestamp=!1}put(G){if(G.length>1)throw Error("WhisperTextStreamer only supports batch size of 1");let $=G[0];if($.length===1){let Me=Number($[0])-this.timestamp_begin;if(Me>=0){let Re=Me*this.time_precision;this.waiting_for_timestamp?this.on_chunk_end?.(Re):this.on_chunk_start?.(Re),this.waiting_for_timestamp=!this.waiting_for_timestamp,G=[[]]}}return super.put(G)}end(){super.end(),this.on_finalize?.()}}},"./src/models.js":(r,o,e)=>{e.r(o),e.d(o,{ASTForAudioClassification:()=>Af,ASTModel:()=>nm,ASTPreTrainedModel:()=>wo,AlbertForMaskedLM:()=>Ko,AlbertForQuestionAnswering:()=>gl,AlbertForSequenceClassification:()=>qs,AlbertModel:()=>cu,AlbertPreTrainedModel:()=>Ks,AutoModel:()=>y1,AutoModelForAudioClassification:()=>O1,AutoModelForAudioFrameClassification:()=>L1,AutoModelForCTC:()=>R1,AutoModelForCausalLM:()=>M1,AutoModelForDepthEstimation:()=>j1,AutoModelForDocumentQuestionAnswering:()=>mw,AutoModelForImageClassification:()=>P1,AutoModelForImageFeatureExtraction:()=>U1,AutoModelForImageMatting:()=>N1,AutoModelForImageSegmentation:()=>A1,AutoModelForImageToImage:()=>z1,AutoModelForMaskGeneration:()=>F1,AutoModelForMaskedLM:()=>T1,AutoModelForNormalEstimation:()=>gw,AutoModelForObjectDetection:()=>I1,AutoModelForPoseEstimation:()=>V1,AutoModelForQuestionAnswering:()=>E1,AutoModelForSemanticSegmentation:()=>B1,AutoModelForSeq2SeqLM:()=>w1,AutoModelForSequenceClassification:()=>hw,AutoModelForSpeechSeq2Seq:()=>C1,AutoModelForTextToSpectrogram:()=>V_,AutoModelForTextToWaveform:()=>k1,AutoModelForTokenClassification:()=>x1,AutoModelForUniversalSegmentation:()=>U_,AutoModelForVision2Seq:()=>S1,AutoModelForXVector:()=>$1,AutoModelForZeroShotObjectDetection:()=>D1,BartForConditionalGeneration:()=>Wo,BartForSequenceClassification:()=>uo,BartModel:()=>Fr,BartPretrainedModel:()=>Lr,BaseModelOutput:()=>hr,BeitForImageClassification:()=>Cs,BeitModel:()=>bl,BeitPreTrainedModel:()=>xg,BertForMaskedLM:()=>Ut,BertForQuestionAnswering:()=>cr,BertForSequenceClassification:()=>rr,BertForTokenClassification:()=>nr,BertModel:()=>xt,BertPreTrainedModel:()=>Ht,BlenderbotForConditionalGeneration:()=>ti,BlenderbotModel:()=>Zt,BlenderbotPreTrainedModel:()=>mi,BlenderbotSmallForConditionalGeneration:()=>di,BlenderbotSmallModel:()=>$n,BlenderbotSmallPreTrainedModel:()=>xs,BloomForCausalLM:()=>eg,BloomModel:()=>Zm,BloomPreTrainedModel:()=>c0,CLIPModel:()=>mm,CLIPPreTrainedModel:()=>_l,CLIPSegForImageSegmentation:()=>bm,CLIPSegModel:()=>_m,CLIPSegPreTrainedModel:()=>Lf,CLIPTextModel:()=>Rf,CLIPTextModelWithProjection:()=>pp,CLIPVisionModel:()=>Of,CLIPVisionModelWithProjection:()=>fp,CamembertForMaskedLM:()=>ca,CamembertForQuestionAnswering:()=>ga,CamembertForSequenceClassification:()=>Ii,CamembertForTokenClassification:()=>zi,CamembertModel:()=>ao,CamembertPreTrainedModel:()=>Hi,CausalLMOutput:()=>kl,CausalLMOutputWithPast:()=>G1,ChineseCLIPModel:()=>_a,ChineseCLIPPreTrainedModel:()=>Kv,ClapAudioModelWithProjection:()=>ef,ClapModel:()=>Ti,ClapPreTrainedModel:()=>Z0,ClapTextModelWithProjection:()=>Zp,CodeGenForCausalLM:()=>Am,CodeGenModel:()=>Gf,CodeGenPreTrainedModel:()=>_p,CohereForCausalLM:()=>zm,CohereModel:()=>Nm,CoherePreTrainedModel:()=>r0,ConvBertForMaskedLM:()=>qr,ConvBertForQuestionAnswering:()=>Io,ConvBertForSequenceClassification:()=>$r,ConvBertForTokenClassification:()=>Ur,ConvBertModel:()=>_r,ConvBertPreTrainedModel:()=>gr,ConvNextForImageClassification:()=>bu,ConvNextModel:()=>Rg,ConvNextPreTrainedModel:()=>O0,ConvNextV2ForImageClassification:()=>vu,ConvNextV2Model:()=>Og,ConvNextV2PreTrainedModel:()=>$0,DPTForDepthEstimation:()=>Zv,DPTModel:()=>Tg,DPTPreTrainedModel:()=>D0,DebertaForMaskedLM:()=>Di,DebertaForQuestionAnswering:()=>li,DebertaForSequenceClassification:()=>On,DebertaForTokenClassification:()=>ni,DebertaModel:()=>ss,DebertaPreTrainedModel:()=>ki,DebertaV2ForMaskedLM:()=>oo,DebertaV2ForQuestionAnswering:()=>zs,DebertaV2ForSequenceClassification:()=>ci,DebertaV2ForTokenClassification:()=>cl,DebertaV2Model:()=>Wr,DebertaV2PreTrainedModel:()=>xr,DecisionTransformerModel:()=>u1,DecisionTransformerPreTrainedModel:()=>g_,DeiTForImageClassification:()=>gu,DeiTModel:()=>Cg,DeiTPreTrainedModel:()=>Pp,DepthAnythingForDepthEstimation:()=>Sg,DepthAnythingPreTrainedModel:()=>Eg,DepthProForDepthEstimation:()=>R0,DepthProPreTrainedModel:()=>Ip,DetrForObjectDetection:()=>Ms,DetrForSegmentation:()=>Qn,DetrModel:()=>y0,DetrObjectDetectionOutput:()=>x0,DetrPreTrainedModel:()=>ks,DetrSegmentationOutput:()=>w0,Dinov2ForImageClassification:()=>N0,Dinov2Model:()=>$g,Dinov2PreTrainedModel:()=>L0,Dinov2WithRegistersForImageClassification:()=>Rp,Dinov2WithRegistersModel:()=>Lg,Dinov2WithRegistersPreTrainedModel:()=>z0,DistilBertForMaskedLM:()=>js,DistilBertForQuestionAnswering:()=>$o,DistilBertForSequenceClassification:()=>Un,DistilBertForTokenClassification:()=>vs,DistilBertModel:()=>ls,DistilBertPreTrainedModel:()=>Cn,DonutSwinModel:()=>Fg,DonutSwinPreTrainedModel:()=>t1,EfficientNetForImageClassification:()=>rf,EfficientNetModel:()=>p_,EfficientNetPreTrainedModel:()=>tf,ElectraForMaskedLM:()=>Kn,ElectraForQuestionAnswering:()=>Rn,ElectraForSequenceClassification:()=>Bi,ElectraForTokenClassification:()=>Zi,ElectraModel:()=>pn,ElectraPreTrainedModel:()=>Qo,EsmForMaskedLM:()=>dl,EsmForSequenceClassification:()=>ul,EsmForTokenClassification:()=>pl,EsmModel:()=>ap,EsmPreTrainedModel:()=>Vs,ExaoneForCausalLM:()=>Yf,ExaoneModel:()=>Dm,ExaonePreTrainedModel:()=>Qf,FalconForCausalLM:()=>s_,FalconModel:()=>a_,FalconPreTrainedModel:()=>J0,FastViTForImageClassification:()=>kp,FastViTModel:()=>fg,FastViTPreTrainedModel:()=>h0,Florence2ForConditionalGeneration:()=>dm,Florence2PreTrainedModel:()=>cm,GLPNForDepthEstimation:()=>Dg,GLPNModel:()=>e1,GLPNPreTrainedModel:()=>Fp,GPT2LMHeadModel:()=>ym,GPT2Model:()=>vm,GPT2PreTrainedModel:()=>Nf,GPTBigCodeForCausalLM:()=>Pm,GPTBigCodeModel:()=>Sm,GPTBigCodePreTrainedModel:()=>Wf,GPTJForCausalLM:()=>Em,GPTJModel:()=>Tm,GPTJPreTrainedModel:()=>Uf,GPTNeoForCausalLM:()=>Cm,GPTNeoModel:()=>ba,GPTNeoPreTrainedModel:()=>jf,GPTNeoXForCausalLM:()=>Mm,GPTNeoXModel:()=>km,GPTNeoXPreTrainedModel:()=>Vf,Gemma2ForCausalLM:()=>Wm,Gemma2Model:()=>Um,Gemma2PreTrainedModel:()=>n0,GemmaForCausalLM:()=>Vm,GemmaModel:()=>jm,GemmaPreTrainedModel:()=>o0,GlmForCausalLM:()=>pu,GlmModel:()=>Im,GlmPreTrainedModel:()=>Xf,GraniteForCausalLM:()=>Lm,GraniteModel:()=>Yo,GranitePreTrainedModel:()=>t0,GroundingDinoForObjectDetection:()=>Ng,GroundingDinoPreTrainedModel:()=>r1,GroupViTModel:()=>wa,GroupViTPreTrainedModel:()=>pg,HeliumForCausalLM:()=>Bm,HeliumModel:()=>bp,HeliumPreTrainedModel:()=>qf,HieraForImageClassification:()=>_u,HieraModel:()=>Ap,HieraPreTrainedModel:()=>T0,HubertForCTC:()=>qp,HubertForSequenceClassification:()=>q0,HubertModel:()=>Yg,HubertPreTrainedModel:()=>i1,IJepaForImageClassification:()=>wp,IJepaModel:()=>ag,IJepaPreTrainedModel:()=>xp,Idefics3ForConditionalGeneration:()=>Ff,Idefics3PreTrainedModel:()=>fm,ImageMattingOutput:()=>G_,JAISLMHeadModel:()=>wm,JAISModel:()=>xm,JAISPreTrainedModel:()=>zf,JinaCLIPModel:()=>jl,JinaCLIPPreTrainedModel:()=>gp,JinaCLIPTextModel:()=>uu,JinaCLIPVisionModel:()=>Wi,LlamaForCausalLM:()=>qv,LlamaModel:()=>Kf,LlamaPreTrainedModel:()=>Hf,LlavaForConditionalGeneration:()=>up,LlavaOnevisionForConditionalGeneration:()=>sm,LlavaPreTrainedModel:()=>Xs,LongT5ForConditionalGeneration:()=>er,LongT5Model:()=>Ot,LongT5PreTrainedModel:()=>Bt,M2M100ForConditionalGeneration:()=>U0,M2M100Model:()=>Wg,M2M100PreTrainedModel:()=>V0,MBartForCausalLM:()=>Mi,MBartForConditionalGeneration:()=>fo,MBartForSequenceClassification:()=>Ro,MBartModel:()=>Fi,MBartPreTrainedModel:()=>mn,MPNetForMaskedLM:()=>ys,MPNetForQuestionAnswering:()=>Hs,MPNetForSequenceClassification:()=>Ws,MPNetForTokenClassification:()=>Gs,MPNetModel:()=>Nl,MPNetPreTrainedModel:()=>Vi,MT5ForConditionalGeneration:()=>zr,MT5Model:()=>Rr,MT5PreTrainedModel:()=>fr,MarianMTModel:()=>Ug,MarianModel:()=>Vg,MarianPreTrainedModel:()=>$p,MaskFormerForInstanceSegmentation:()=>Ig,MaskFormerModel:()=>Bg,MaskFormerPreTrainedModel:()=>Dp,MaskedLMOutput:()=>ui,MgpstrForSceneTextRecognition:()=>sf,MgpstrModelOutput:()=>b_,MgpstrPreTrainedModel:()=>v_,MistralForCausalLM:()=>o_,MistralModel:()=>r_,MistralPreTrainedModel:()=>Q0,MobileBertForMaskedLM:()=>Ll,MobileBertForQuestionAnswering:()=>ji,MobileBertForSequenceClassification:()=>cs,MobileBertModel:()=>lu,MobileBertPreTrainedModel:()=>Us,MobileLLMForCausalLM:()=>Rm,MobileLLMModel:()=>Fm,MobileLLMPreTrainedModel:()=>Jf,MobileNetV1ForImageClassification:()=>Cu,MobileNetV1Model:()=>c1,MobileNetV1PreTrainedModel:()=>oh,MobileNetV2ForImageClassification:()=>of,MobileNetV2Model:()=>f_,MobileNetV2PreTrainedModel:()=>nh,MobileNetV3ForImageClassification:()=>nf,MobileNetV3Model:()=>m_,MobileNetV3PreTrainedModel:()=>h_,MobileNetV4ForImageClassification:()=>af,MobileNetV4Model:()=>d1,MobileNetV4PreTrainedModel:()=>ih,MobileViTForImageClassification:()=>Tp,MobileViTModel:()=>mg,MobileViTPreTrainedModel:()=>m0,MobileViTV2ForImageClassification:()=>_0,MobileViTV2Model:()=>gg,MobileViTV2PreTrainedModel:()=>g0,ModelOutput:()=>st,ModernBertForMaskedLM:()=>Tr,ModernBertForSequenceClassification:()=>dr,ModernBertForTokenClassification:()=>Ar,ModernBertModel:()=>Cr,ModernBertPreTrainedModel:()=>mr,Moondream1ForConditionalGeneration:()=>lm,MoonshineForConditionalGeneration:()=>am,MoonshineModel:()=>Ki,MoonshinePreTrainedModel:()=>If,MptForCausalLM:()=>rg,MptModel:()=>tg,MptPreTrainedModel:()=>d0,MultiModalityCausalLM:()=>ku,MultiModalityPreTrainedModel:()=>__,MusicgenForCausalLM:()=>l1,MusicgenForConditionalGeneration:()=>Wl,MusicgenModel:()=>s1,MusicgenPreTrainedModel:()=>rh,NomicBertModel:()=>Et,NomicBertPreTrainedModel:()=>rt,OPTForCausalLM:()=>ng,OPTModel:()=>og,OPTPreTrainedModel:()=>u0,Olmo2ForCausalLM:()=>Qv,Olmo2Model:()=>$m,Olmo2PreTrainedModel:()=>e0,OlmoForCausalLM:()=>Om,OlmoModel:()=>Xv,OlmoPreTrainedModel:()=>Zf,OpenELMForCausalLM:()=>Hm,OpenELMModel:()=>Gm,OpenELMPreTrainedModel:()=>i0,OwlViTForObjectDetection:()=>bg,OwlViTModel:()=>_g,OwlViTPreTrainedModel:()=>b0,Owlv2ForObjectDetection:()=>yg,Owlv2Model:()=>vg,Owlv2PreTrainedModel:()=>v0,PaliGemmaForConditionalGeneration:()=>pm,PaliGemmaPreTrainedModel:()=>um,PatchTSMixerForPrediction:()=>k_,PatchTSMixerModel:()=>C_,PatchTSMixerPreTrainedModel:()=>ah,PatchTSTForPrediction:()=>w_,PatchTSTModel:()=>x_,PatchTSTPreTrainedModel:()=>y_,Phi3ForCausalLM:()=>Jm,Phi3Model:()=>Ym,Phi3PreTrainedModel:()=>l0,Phi3VForCausalLM:()=>qi,Phi3VPreTrainedModel:()=>hm,PhiForCausalLM:()=>Qm,PhiModel:()=>Xm,PhiPreTrainedModel:()=>s0,PreTrainedModel:()=>gt,PretrainedMixin:()=>fn,PvtForImageClassification:()=>mu,PvtModel:()=>cg,PvtPreTrainedModel:()=>p0,PyAnnoteForAudioFrameClassification:()=>jp,PyAnnoteModel:()=>Hg,PyAnnotePreTrainedModel:()=>zp,QuestionAnsweringModelOutput:()=>pi,Qwen2ForCausalLM:()=>Km,Qwen2Model:()=>fu,Qwen2PreTrainedModel:()=>a0,Qwen2VLForConditionalGeneration:()=>qm,Qwen2VLPreTrainedModel:()=>vp,RTDetrForObjectDetection:()=>vl,RTDetrModel:()=>Jv,RTDetrObjectDetectionOutput:()=>k0,RTDetrPreTrainedModel:()=>C0,ResNetForImageClassification:()=>S0,ResNetModel:()=>kg,ResNetPreTrainedModel:()=>E0,RoFormerForMaskedLM:()=>zt,RoFormerForQuestionAnswering:()=>kr,RoFormerForSequenceClassification:()=>tr,RoFormerForTokenClassification:()=>ur,RoFormerModel:()=>Tt,RoFormerPreTrainedModel:()=>_t,RobertaForMaskedLM:()=>Ui,RobertaForQuestionAnswering:()=>Nr,RobertaForSequenceClassification:()=>qo,RobertaForTokenClassification:()=>Tn,RobertaModel:()=>Ri,RobertaPreTrainedModel:()=>ro,SamImageSegmentationOutput:()=>yu,SamModel:()=>Vl,SamPreTrainedModel:()=>o1,SapiensForDepthEstimation:()=>Bp,SapiensForNormalEstimation:()=>Ag,SapiensForSemanticSegmentation:()=>Pg,SapiensPreTrainedModel:()=>F0,SegformerForImageClassification:()=>l_,SegformerForSemanticSegmentation:()=>c_,SegformerModel:()=>a1,SegformerPreTrainedModel:()=>Cl,Seq2SeqLMOutput:()=>W1,SequenceClassifierOutput:()=>Co,SiglipModel:()=>gm,SiglipPreTrainedModel:()=>$f,SiglipTextModel:()=>hp,SiglipVisionModel:()=>mp,SpeechT5ForSpeechToText:()=>ds,SpeechT5ForTextToSpeech:()=>Ts,SpeechT5HifiGan:()=>xl,SpeechT5Model:()=>pw,SpeechT5PreTrainedModel:()=>Jp,SqueezeBertForMaskedLM:()=>fl,SqueezeBertForQuestionAnswering:()=>ml,SqueezeBertForSequenceClassification:()=>hl,SqueezeBertModel:()=>zl,SqueezeBertPreTrainedModel:()=>io,StableLmForCausalLM:()=>u_,StableLmModel:()=>d_,StableLmPreTrainedModel:()=>th,Starcoder2ForCausalLM:()=>i_,Starcoder2Model:()=>n_,Starcoder2PreTrainedModel:()=>Y0,StyleTextToSpeech2Model:()=>e_,StyleTextToSpeech2PreTrainedModel:()=>Zg,Swin2SRForImageSuperResolution:()=>Mg,Swin2SRModel:()=>I0,Swin2SRPreTrainedModel:()=>B0,SwinForImageClassification:()=>yl,SwinModel:()=>A0,SwinPreTrainedModel:()=>P0,T5ForConditionalGeneration:()=>wt,T5Model:()=>We,T5PreTrainedModel:()=>Gt,TableTransformerForObjectDetection:()=>Sp,TableTransformerModel:()=>wg,TableTransformerObjectDetectionOutput:()=>M0,TableTransformerPreTrainedModel:()=>Ep,TokenClassifierOutput:()=>Wn,TrOCRForCausalLM:()=>t_,TrOCRPreTrainedModel:()=>wl,UniSpeechForCTC:()=>G0,UniSpeechForSequenceClassification:()=>Up,UniSpeechModel:()=>qg,UniSpeechPreTrainedModel:()=>Vp,UniSpeechSatForAudioFrameClassification:()=>Gp,UniSpeechSatForCTC:()=>Wp,UniSpeechSatForSequenceClassification:()=>H0,UniSpeechSatModel:()=>Xg,UniSpeechSatPreTrainedModel:()=>xu,ViTForImageClassification:()=>hu,ViTMAEModel:()=>ug,ViTMAEPreTrainedModel:()=>dg,ViTMSNForImageClassification:()=>Cp,ViTMSNModel:()=>Yv,ViTMSNPreTrainedModel:()=>f0,ViTModel:()=>ig,ViTPreTrainedModel:()=>yp,VisionEncoderDecoderModel:()=>Df,VitMatteForImageMatting:()=>Mp,VitMattePreTrainedModel:()=>hg,VitPoseForPoseEstimation:()=>lg,VitPosePreTrainedModel:()=>sg,VitsModel:()=>wu,VitsModelOutput:()=>H_,VitsPreTrainedModel:()=>eh,Wav2Vec2BertForCTC:()=>K0,Wav2Vec2BertForSequenceClassification:()=>Kp,Wav2Vec2BertModel:()=>Qg,Wav2Vec2BertPreTrainedModel:()=>Hp,Wav2Vec2ForAudioFrameClassification:()=>Np,Wav2Vec2ForCTC:()=>Lp,Wav2Vec2ForSequenceClassification:()=>W0,Wav2Vec2Model:()=>Gg,Wav2Vec2PreTrainedModel:()=>Qs,WavLMForAudioFrameClassification:()=>Yp,WavLMForCTC:()=>Xp,WavLMForSequenceClassification:()=>Qp,WavLMForXVector:()=>X0,WavLMModel:()=>Jg,WavLMPreTrainedModel:()=>Ul,WeSpeakerResNetModel:()=>n1,WeSpeakerResNetPreTrainedModel:()=>Kg,WhisperForConditionalGeneration:()=>dp,WhisperModel:()=>im,WhisperPreTrainedModel:()=>Bf,XLMForQuestionAnswering:()=>ws,XLMForSequenceClassification:()=>Xn,XLMForTokenClassification:()=>Hr,XLMModel:()=>qn,XLMPreTrainedModel:()=>xo,XLMRobertaForMaskedLM:()=>sp,XLMRobertaForQuestionAnswering:()=>cp,XLMRobertaForSequenceClassification:()=>du,XLMRobertaForTokenClassification:()=>lp,XLMRobertaModel:()=>eo,XLMRobertaPreTrainedModel:()=>ar,XLMWithLMHeadModel:()=>En,XVectorOutput:()=>W_,YolosForObjectDetection:()=>Op,YolosModel:()=>zg,YolosObjectDetectionOutput:()=>jg,YolosPreTrainedModel:()=>j0});var n=e("./src/configs.js"),s=e("./src/backends/onnx.js"),c=e("./src/utils/dtypes.js"),u=e("./src/utils/generic.js"),h=e("./src/utils/core.js"),p=e("./src/utils/hub.js"),y=e("./src/utils/constants.js"),k=e("./src/generation/logits_process.js"),G=e("./src/generation/configuration_utils.js"),$=e("./src/utils/tensor.js"),Me=e("./src/utils/image.js"),Re=e("./src/utils/maths.js"),Ke=e("./src/generation/stopping_criteria.js"),He=e("./src/generation/logits_sampler.js"),Ie=e("./src/env.js"),Pe=e("./src/models/whisper/generation_whisper.js"),Xe=e("./src/models/whisper/common_whisper.js");let Ne={EncoderOnly:0,EncoderDecoder:1,Seq2Seq:2,Vision2Seq:3,DecoderOnly:4,MaskGeneration:5,ImageTextToText:6,Musicgen:7,MultiModality:8,Phi3V:9},Ge=new Map,Ve=new Map,Oe=new Map;function Ue(Qe,Fe,yt){return ot(this,null,function*(){let Wt=yt.config?.["transformers.js_config"]??{},Xt=yt.device??Wt.device;Xt&&typeof Xt!="string"&&(Xt.hasOwnProperty(Fe)?Xt=Xt[Fe]:(console.warn(`device not specified for "${Fe}". Using the default device.`),Xt=null));let ir=Xt??(Ie.apis.IS_NODE_ENV?"cpu":"wasm"),br=(0,s.deviceToExecutionProviders)(ir),yr=yt.dtype??Wt.dtype;if(typeof yr!="string"&&(yr&&yr.hasOwnProperty(Fe)?yr=yr[Fe]:(yr=c.DEFAULT_DEVICE_DTYPE_MAPPING[ir]??c.DATA_TYPES.fp32,console.warn(`dtype not specified for "${Fe}". Using the default dtype (${yr}) for this device (${ir}).`))),yr===c.DATA_TYPES.auto){let Go=Wt.dtype;typeof Go!="string"&&(Go=Go[Fe]),Go&&Go!==c.DATA_TYPES.auto&&c.DATA_TYPES.hasOwnProperty(Go)?yr=Go:yr=c.DEFAULT_DEVICE_DTYPE_MAPPING[ir]??c.DATA_TYPES.fp32}let Or=yr;if(c.DEFAULT_DTYPE_SUFFIX_MAPPING.hasOwnProperty(Or)){if(Or===c.DATA_TYPES.fp16&&ir==="webgpu"&&!(yield(0,c.isWebGpuFp16Supported)()))throw new Error(`The device (${ir}) does not support fp16.`)}else throw new Error(`Invalid dtype: ${Or}. Should be one of: ${Object.keys(c.DATA_TYPES).join(", ")}`);let Jr=Wt.kv_cache_dtype?typeof Wt.kv_cache_dtype=="string"?Wt.kv_cache_dtype:Wt.kv_cache_dtype[Or]??"float32":void 0;if(Jr&&!["float32","float16"].includes(Jr))throw new Error(`Invalid kv_cache_dtype: ${Jr}. Should be one of: float32, float16`);let po={dtype:Or,kv_cache_dtype:Jr},ko=c.DEFAULT_DTYPE_SUFFIX_MAPPING[Or],so=`${yt.subfolder??""}/${Fe}${ko}.onnx`,To=Vt({},yt.session_options);To.executionProviders??=br;let vo=Wt.free_dimension_overrides;vo?To.freeDimensionOverrides??=vo:ir.startsWith("webnn")&&!To.freeDimensionOverrides&&console.warn('WebNN does not currently support dynamic shapes and requires `free_dimension_overrides` to be set in config.json as a field within "transformers.js_config". When `free_dimension_overrides` is not set, you may experience significant performance degradation.');let Po=(0,p.getModelFile)(Qe,so,!0,yt),Eo=yt.use_external_data_format??Wt.use_external_data_format,zo=[];if(Eo&&(Eo===!0||typeof Eo=="object"&&Eo.hasOwnProperty(Fe)&&Eo[Fe]===!0)){if(Ie.apis.IS_NODE_ENV)throw new Error("External data format is not yet supported in Node.js");let Go=`${Fe}${ko}.onnx_data`,Pn=`${yt.subfolder??""}/${Go}`;zo.push(new Promise((Nn,zn)=>ot(this,null,function*(){let ii=yield(0,p.getModelFile)(Qe,Pn,!0,yt);Nn({path:Go,data:ii})})))}else To.externalData!==void 0&&(zo=To.externalData.map(Go=>ot(this,null,function*(){if(typeof Go.data=="string"){let Pn=yield(0,p.getModelFile)(Qe,Go.data,!0,yt);return Gr(Vt({},Go),{data:Pn})}return Go})));if(zo.length>0&&(To.externalData=yield Promise.all(zo)),ir==="webgpu"){let Go=(0,n.getKeyValueShapes)(yt.config,{prefix:"present"});if(Object.keys(Go).length>0&&!(0,s.isONNXProxy)()){let Pn={};for(let Nn in Go)Pn[Nn]="gpu-buffer";To.preferredOutputLocation=Pn}}return{buffer:yield Po,session_options:To,session_config:po}})}function tt(Qe,Fe,yt){return ot(this,null,function*(){return Object.fromEntries(yield Promise.all(Object.keys(Fe).map(Wt=>ot(this,null,function*(){let{buffer:Xt,session_options:ir,session_config:br}=yield Ue(Qe,Fe[Wt],yt),yr=yield(0,s.createInferenceSession)(Xt,ir,br);return[Wt,yr]}))))})}function bt(Qe,Fe,yt){return ot(this,null,function*(){return Object.fromEntries(yield Promise.all(Object.keys(Fe).map(Wt=>ot(this,null,function*(){let Xt=yield(0,p.getModelJSON)(Qe,Fe[Wt],!1,yt);return[Wt,Xt]}))))})}function lt(Qe,Fe){let yt=Object.create(null),Wt=[];for(let br of Qe.inputNames){let yr=Fe[br];if(!(yr instanceof $.Tensor)){Wt.push(br);continue}yt[br]=(0,s.isONNXProxy)()?yr.clone():yr}if(Wt.length>0)throw new Error(`An error occurred during model execution: "Missing the following inputs: ${Wt.join(", ")}.`);let Xt=Object.keys(Fe).length,ir=Qe.inputNames.length;if(Xt>ir){let br=Object.keys(Fe).filter(yr=>!Qe.inputNames.includes(yr));console.warn(`WARNING: Too many inputs were provided (${Xt} > ${ir}). The following inputs will be ignored: "${br.join(", ")}".`)}return yt}function mt(Qe,Fe){return ot(this,null,function*(){let yt=lt(Qe,Fe);try{let Wt=Object.fromEntries(Object.entries(yt).map(([ir,br])=>[ir,br.ort_tensor])),Xt=yield Qe.run(Wt);return Xt=ut(Xt),Xt}catch(Wt){let Xt=Object.fromEntries(Object.entries(yt).map(([ir,{type:br,dims:yr,data:Or}])=>[ir,{type:br,dims:yr,data:Or}]));throw console.error(`An error occurred during model execution: "${Wt}".`),console.error("Inputs given to model:",Xt),Wt}})}function ut(Qe){for(let Fe in Qe)(0,s.isONNXTensor)(Qe[Fe])?Qe[Fe]=new $.Tensor(Qe[Fe]):typeof Qe[Fe]=="object"&&ut(Qe[Fe]);return Qe}function ht(Qe){if(Qe instanceof $.Tensor)return Qe;if(Qe.length===0)throw Error("items must be non-empty");if(Array.isArray(Qe[0])){if(Qe.some(Fe=>Fe.length!==Qe[0].length))throw Error("Unable to create tensor, you should probably activate truncation and/or padding with 'padding=True' and/or 'truncation=True' to have batched tensors with the same length.");return new $.Tensor("int64",BigInt64Array.from(Qe.flat().map(Fe=>BigInt(Fe))),[Qe.length,Qe[0].length])}else return new $.Tensor("int64",BigInt64Array.from(Qe.map(Fe=>BigInt(Fe))),[1,Qe.length])}function Ct(Qe){return new $.Tensor("bool",[Qe],[1])}function It(Qe,Fe){return ot(this,null,function*(){let yr=Fe,{encoder_outputs:yt,input_ids:Wt,decoder_input_ids:Xt}=yr,ir=Ta(yr,["encoder_outputs","input_ids","decoder_input_ids"]);if(!yt){let Or=(0,h.pick)(Fe,Qe.sessions.model.inputNames);yt=(yield Ft(Qe,Or)).last_hidden_state}return ir.input_ids=Xt,ir.encoder_hidden_states=yt,Qe.sessions.decoder_model_merged.inputNames.includes("encoder_attention_mask")&&(ir.encoder_attention_mask=Fe.attention_mask),yield At(Qe,ir,!0)})}function Ft(Qe,Fe){return ot(this,null,function*(){let yt=Qe.sessions.model,Wt=(0,h.pick)(Fe,yt.inputNames);if(yt.inputNames.includes("inputs_embeds")&&!Wt.inputs_embeds){if(!Fe.input_ids)throw new Error("Both `input_ids` and `inputs_embeds` are missing in the model inputs.");Wt.inputs_embeds=yield Qe.encode_text({input_ids:Fe.input_ids})}if(yt.inputNames.includes("token_type_ids")&&!Wt.token_type_ids){if(!Wt.input_ids)throw new Error("Both `input_ids` and `token_type_ids` are missing in the model inputs.");Wt.token_type_ids=(0,$.zeros_like)(Wt.input_ids)}if(yt.inputNames.includes("pixel_mask")&&!Wt.pixel_mask){if(!Wt.pixel_values)throw new Error("Both `pixel_values` and `pixel_mask` are missing in the model inputs.");let Xt=Wt.pixel_values.dims;Wt.pixel_mask=(0,$.ones)([Xt[0],Xt[2],Xt[3]])}return yield mt(yt,Wt)})}function At(Qe,Fe,yt=!1){return ot(this,null,function*(){let Wt=Qe.sessions[yt?"decoder_model_merged":"model"],yr=Fe,{past_key_values:Xt}=yr,ir=Ta(yr,["past_key_values"]);if(Wt.inputNames.includes("use_cache_branch")&&(ir.use_cache_branch=Ct(!!Xt)),Wt.inputNames.includes("position_ids")&&ir.attention_mask&&!ir.position_ids){let Or=Qe.config.model_type==="paligemma"?1:0;ir.position_ids=Ze(ir,Xt,Or)}Qe.addPastKeyValues(ir,Xt);let br=(0,h.pick)(ir,Wt.inputNames);return yield mt(Wt,br)})}function Dt({image_token_id:Qe,inputs_embeds:Fe,image_features:yt,input_ids:Wt,attention_mask:Xt}){let ir=Wt.tolist().map(Jr=>Jr.reduce((po,ko,so)=>(ko==Qe&&po.push(so),po),[])),br=ir.reduce((Jr,po)=>Jr+po.length,0),yr=yt.dims[0];if(br!==yr)throw new Error(`Image features and image tokens do not match: tokens: ${br}, features ${yr}`);let Or=0;for(let Jr=0;Jr<ir.length;++Jr){let po=ir[Jr],ko=Fe[Jr];for(let so=0;so<po.length;++so)ko[po[so]].data.set(yt[Or++].data)}return{inputs_embeds:Fe,attention_mask:Xt}}function Rt(Qe,po){return ot(this,null,function*(){var ko=po,{input_ids:Fe=null,attention_mask:yt=null,pixel_values:Wt=null,position_ids:Xt=null,inputs_embeds:ir=null,past_key_values:br=null,generation_config:yr=null,logits_processor:Or=null}=ko,Jr=Ta(ko,["input_ids","attention_mask","pixel_values","position_ids","inputs_embeds","past_key_values","generation_config","logits_processor"]);if(!ir){if(ir=yield Qe.encode_text(Vt({input_ids:Fe},Jr)),Wt&&Fe.dims[1]!==1){let To=yield Qe.encode_image(Vt({pixel_values:Wt},Jr));({inputs_embeds:ir,attention_mask:yt}=Qe._merge_input_ids_with_image_features({image_features:To,inputs_embeds:ir,input_ids:Fe,attention_mask:yt}))}else if(br&&Wt&&Fe.dims[1]===1){let To=Fe.dims[1],vo=Object.values(br)[0].dims.at(-2);yt=(0,$.cat)([(0,$.ones)([Fe.dims[0],vo]),yt.slice(null,[yt.dims[1]-To,yt.dims[1]])],1)}}if(!Xt&&Qe.config.model_type==="qwen2_vl"){let{image_grid_thw:To,video_grid_thw:vo}=Jr;[Xt]=Qe.get_rope_index(Fe,To,vo,yt)}return yield At(Qe,{inputs_embeds:ir,past_key_values:br,attention_mask:yt,position_ids:Xt,generation_config:yr,logits_processor:Or},!0)})}function at(Qe,Fe=0){let[yt,Wt]=Qe.dims,Xt=Qe.data,ir=new BigInt64Array(Xt.length);for(let br=0;br<yt;++br){let yr=br*Wt,Or=BigInt(Fe);for(let Jr=0;Jr<Wt;++Jr){let po=yr+Jr;Xt[po]===0n?ir[po]=BigInt(1):(ir[po]=Or,Or+=Xt[po])}}return{data:ir,dims:Qe.dims}}function Ze(Qe,Fe=null,yt=0){let{input_ids:Wt,inputs_embeds:Xt,attention_mask:ir}=Qe,{data:br,dims:yr}=at(ir,yt),Or=new $.Tensor("int64",br,yr);if(Fe){let Jr=-(Wt??Xt).dims.at(1);Or=Or.slice(null,[Jr,null])}return Or}function vt(Qe,Fe,yt,Wt){if(yt.past_key_values){let Xt=Object.values(yt.past_key_values)[0].dims.at(-2),{input_ids:ir,attention_mask:br}=yt;if(!(br&&br.dims[1]>ir.dims[1])){if(Xt<ir.dims[1])yt.input_ids=ir.slice(null,[Xt,null]);else if(Qe.config.image_token_index!=null&&ir.data.some(yr=>yr==Qe.config.image_token_index)){let yr=Qe.config.num_image_tokens;if(!yr)throw new Error("`num_image_tokens` is missing in the model configuration.");let Or=ir.dims[1]-(Xt-yr);yt.input_ids=ir.slice(null,[-Or,null]),yt.attention_mask=(0,$.ones)([1,Xt+Or])}}}return yt}function St(Qe,Fe,yt,Wt){return yt.past_key_values&&(Fe=Fe.map(Xt=>[Xt.at(-1)])),Gr(Vt({},yt),{decoder_input_ids:ht(Fe)})}function $t(Qe,...Fe){return Qe.config.is_encoder_decoder?St(Qe,...Fe):vt(Qe,...Fe)}function qt(Qe,Fe,yt,Wt){let Xt=!!yt.past_key_values;return Wt.guidance_scale!==null&&Wt.guidance_scale>1&&(Xt?yt.input_ids=(0,$.cat)([yt.input_ids,yt.input_ids],0):(yt.input_ids=(0,$.cat)([yt.input_ids,(0,$.full_like)(yt.input_ids,BigInt(Wt.pad_token_id))],0),yt.attention_mask=(0,$.cat)([yt.attention_mask,(0,$.full_like)(yt.attention_mask,0n)],0))),(Xt||!yt.pixel_values)&&(yt.pixel_values=(0,$.full)([0,0,3,384,384],1)),Xt&&(yt.images_seq_mask=new $.Tensor("bool",new Array(1).fill(!0).fill(!1,0,1),[1,1]),yt.images_emb_mask=new $.Tensor("bool",new Array(0).fill(!1),[1,1,0])),yt}class gt extends u.Callable{main_input_name="input_ids";forward_params=["input_ids","attention_mask"];constructor(Fe,yt,Wt){super(),this.config=Fe,this.sessions=yt,this.configs=Wt;let Xt=Oe.get(this.constructor),ir=Ge.get(Xt);switch(this.can_generate=!1,this._forward=null,this._prepare_inputs_for_generation=null,ir){case Ne.DecoderOnly:this.can_generate=!0,this._forward=At,this._prepare_inputs_for_generation=vt;break;case Ne.Seq2Seq:case Ne.Vision2Seq:case Ne.Musicgen:this.can_generate=!0,this._forward=It,this._prepare_inputs_for_generation=St;break;case Ne.EncoderDecoder:this._forward=It;break;case Ne.ImageTextToText:this.can_generate=!0,this._forward=Rt,this._prepare_inputs_for_generation=$t;break;case Ne.Phi3V:this.can_generate=!0,this._prepare_inputs_for_generation=$t;break;case Ne.MultiModality:this.can_generate=!0,this._prepare_inputs_for_generation=qt;break;default:this._forward=Ft;break}this.can_generate&&this.forward_params.push("past_key_values"),this.custom_config=this.config["transformers.js_config"]??{}}dispose(){return ot(this,null,function*(){let Fe=[];for(let yt of Object.values(this.sessions))yt?.handler?.dispose&&Fe.push(yt.handler.dispose());return yield Promise.all(Fe)})}static from_pretrained(To){return ot(this,arguments,function*(Fe,{progress_callback:yt=null,config:Wt=null,cache_dir:Xt=null,local_files_only:ir=!1,revision:br="main",model_file_name:yr=null,subfolder:Or="onnx",device:Jr=null,dtype:po=null,use_external_data_format:ko=null,session_options:so={}}={}){let vo={progress_callback:yt,config:Wt,cache_dir:Xt,local_files_only:ir,revision:br,model_file_name:yr,subfolder:Or,device:Jr,dtype:po,use_external_data_format:ko,session_options:so},Po=Oe.get(this),Eo=Ge.get(Po);Wt=vo.config=yield n.AutoConfig.from_pretrained(Fe,vo);let zo;if(Eo===Ne.DecoderOnly)zo=yield Promise.all([tt(Fe,{model:vo.model_file_name??"model"},vo),bt(Fe,{generation_config:"generation_config.json"},vo)]);else if(Eo===Ne.Seq2Seq||Eo===Ne.Vision2Seq)zo=yield Promise.all([tt(Fe,{model:"encoder_model",decoder_model_merged:"decoder_model_merged"},vo),bt(Fe,{generation_config:"generation_config.json"},vo)]);else if(Eo===Ne.MaskGeneration)zo=yield Promise.all([tt(Fe,{model:"vision_encoder",prompt_encoder_mask_decoder:"prompt_encoder_mask_decoder"},vo)]);else if(Eo===Ne.EncoderDecoder)zo=yield Promise.all([tt(Fe,{model:"encoder_model",decoder_model_merged:"decoder_model_merged"},vo)]);else if(Eo===Ne.ImageTextToText){let gn={embed_tokens:"embed_tokens",vision_encoder:"vision_encoder",decoder_model_merged:"decoder_model_merged"};Wt.is_encoder_decoder&&(gn.model="encoder_model"),zo=yield Promise.all([tt(Fe,gn,vo),bt(Fe,{generation_config:"generation_config.json"},vo)])}else if(Eo===Ne.Musicgen)zo=yield Promise.all([tt(Fe,{model:"text_encoder",decoder_model_merged:"decoder_model_merged",encodec_decode:"encodec_decode"},vo),bt(Fe,{generation_config:"generation_config.json"},vo)]);else if(Eo===Ne.MultiModality)zo=yield Promise.all([tt(Fe,{prepare_inputs_embeds:"prepare_inputs_embeds",model:"language_model",lm_head:"lm_head",gen_head:"gen_head",gen_img_embeds:"gen_img_embeds",image_decode:"image_decode"},vo),bt(Fe,{generation_config:"generation_config.json"},vo)]);else if(Eo===Ne.Phi3V)zo=yield Promise.all([tt(Fe,{prepare_inputs_embeds:"prepare_inputs_embeds",model:"model",vision_encoder:"vision_encoder"},vo),bt(Fe,{generation_config:"generation_config.json"},vo)]);else{if(Eo!==Ne.EncoderOnly){let gn=Po??Wt?.model_type;gn!=="custom"&&console.warn(`Model type for '${gn}' not found, assuming encoder-only architecture. Please report this at ${y.GITHUB_ISSUE_URL}.`)}zo=yield Promise.all([tt(Fe,{model:vo.model_file_name??"model"},vo)])}return new this(Wt,...zo)})}_call(Fe){return ot(this,null,function*(){return yield this.forward(Fe)})}forward(Fe){return ot(this,null,function*(){return yield this._forward(this,Fe)})}get generation_config(){return this.configs?.generation_config??null}_get_logits_warper(Fe){let yt=new k.LogitsProcessorList;return Fe.temperature!==null&&Fe.temperature!==1&&yt.push(new k.TemperatureLogitsWarper(Fe.temperature)),Fe.top_k!==null&&Fe.top_k!==0&&yt.push(new k.TopKLogitsWarper(Fe.top_k)),Fe.top_p!==null&&Fe.top_p<1&&yt.push(new k.TopPLogitsWarper(Fe.top_p)),yt}_get_logits_processor(Fe,yt,Wt=null){let Xt=new k.LogitsProcessorList;if(Fe.repetition_penalty!==null&&Fe.repetition_penalty!==1&&Xt.push(new k.RepetitionPenaltyLogitsProcessor(Fe.repetition_penalty)),Fe.no_repeat_ngram_size!==null&&Fe.no_repeat_ngram_size>0&&Xt.push(new k.NoRepeatNGramLogitsProcessor(Fe.no_repeat_ngram_size)),Fe.bad_words_ids!==null&&Xt.push(new k.NoBadWordsLogitsProcessor(Fe.bad_words_ids,Fe.eos_token_id)),Fe.min_length!==null&&Fe.eos_token_id!==null&&Fe.min_length>0&&Xt.push(new k.MinLengthLogitsProcessor(Fe.min_length,Fe.eos_token_id)),Fe.min_new_tokens!==null&&Fe.eos_token_id!==null&&Fe.min_new_tokens>0&&Xt.push(new k.MinNewTokensLengthLogitsProcessor(yt,Fe.min_new_tokens,Fe.eos_token_id)),Fe.forced_bos_token_id!==null&&Xt.push(new k.ForcedBOSTokenLogitsProcessor(Fe.forced_bos_token_id)),Fe.forced_eos_token_id!==null&&Xt.push(new k.ForcedEOSTokenLogitsProcessor(Fe.max_length,Fe.forced_eos_token_id)),Fe.begin_suppress_tokens!==null){let ir=yt>1||Fe.forced_bos_token_id===null?yt:yt+1;Xt.push(new k.SuppressTokensAtBeginLogitsProcessor(Fe.begin_suppress_tokens,ir))}return Fe.guidance_scale!==null&&Fe.guidance_scale>1&&Xt.push(new k.ClassifierFreeGuidanceLogitsProcessor(Fe.guidance_scale)),Wt!==null&&Xt.extend(Wt),Xt}_prepare_generation_config(Fe,yt,Wt=G.GenerationConfig){let Xt=Vt({},this.config);for(let br of["decoder","generator","text_config"])br in Xt&&Object.assign(Xt,Xt[br]);let ir=new Wt(Xt);return Object.assign(ir,this.generation_config??{}),Fe&&Object.assign(ir,Fe),yt&&Object.assign(ir,(0,h.pick)(yt,Object.getOwnPropertyNames(ir))),ir}_get_stopping_criteria(Fe,yt=null){let Wt=new Ke.StoppingCriteriaList;return Fe.max_length!==null&&Wt.push(new Ke.MaxLengthCriteria(Fe.max_length,this.config.max_position_embeddings??null)),Fe.eos_token_id!==null&&Wt.push(new Ke.EosTokenCriteria(Fe.eos_token_id)),yt&&Wt.extend(yt),Wt}_validate_model_class(){if(!this.can_generate){let Fe=[dh,fh,lf,M_],yt=Oe.get(this.constructor),Wt=new Set,Xt=this.config.model_type;for(let br of Fe){let yr=br.get(Xt);yr&&Wt.add(yr[0])}let ir=`The current model class (${yt}) is not compatible with \`.generate()\`, as it doesn't have a language model head.`;throw Wt.size>0&&(ir+=` Please use the following class instead: ${[...Wt].join(", ")}`),Error(ir)}}prepare_inputs_for_generation(...Fe){return this._prepare_inputs_for_generation(this,...Fe)}_update_model_kwargs_for_generation({generated_input_ids:Fe,outputs:yt,model_inputs:Wt,is_encoder_decoder:Xt}){return Wt.past_key_values=this.getPastKeyValues(yt,Wt.past_key_values),Wt.input_ids=new $.Tensor("int64",Fe.flat(),[Fe.length,1]),Xt?"decoder_attention_mask"in Wt:Wt.attention_mask=(0,$.cat)([Wt.attention_mask,(0,$.ones)([Wt.attention_mask.dims[0],1])],1),Wt.position_ids=null,Wt}_prepare_model_inputs({inputs:Fe,bos_token_id:yt,model_kwargs:Wt}){let Xt=(0,h.pick)(Wt,this.forward_params),ir=this.main_input_name;if(ir in Xt){if(Fe)throw new Error("`inputs`: {inputs}` were passed alongside {input_name} which is not allowed. Make sure to either pass {inputs} or {input_name}=...")}else Xt[ir]=Fe;return{inputs_tensor:Xt[ir],model_inputs:Xt,model_input_name:ir}}_prepare_encoder_decoder_kwargs_for_generation(ir){return ot(this,arguments,function*({inputs_tensor:Fe,model_inputs:yt,model_input_name:Wt,generation_config:Xt}){if(this.sessions.model.inputNames.includes("inputs_embeds")&&!yt.inputs_embeds&&"_prepare_inputs_embeds"in this){let yr=yt,{input_ids:Or,pixel_values:Jr,attention_mask:po}=yr,ko=Ta(yr,["input_ids","pixel_values","attention_mask"]),so=yield this._prepare_inputs_embeds(yt);yt=Vt(Vt({},ko),(0,h.pick)(so,["inputs_embeds","attention_mask"]))}let{last_hidden_state:br}=yield Ft(this,yt);if(Xt.guidance_scale!==null&&Xt.guidance_scale>1)br=(0,$.cat)([br,(0,$.full_like)(br,0)],0),"attention_mask"in yt&&(yt.attention_mask=(0,$.cat)([yt.attention_mask,(0,$.zeros_like)(yt.attention_mask)],0));else if(yt.decoder_input_ids){let Or=ht(yt.decoder_input_ids).dims[0];if(Or!==br.dims[0]){if(br.dims[0]!==1)throw new Error(`The encoder outputs have a different batch size (${br.dims[0]}) than the decoder inputs (${Or}).`);br=(0,$.cat)(Array.from({length:Or},()=>br),0)}}return yt.encoder_outputs=br,yt})}_prepare_decoder_input_ids_for_generation({batch_size:Fe,model_input_name:yt,model_kwargs:Wt,decoder_start_token_id:Xt,bos_token_id:ir,generation_config:br}){let Jr=Wt,{decoder_input_ids:yr}=Jr,Or=Ta(Jr,["decoder_input_ids"]);if(!(yr instanceof $.Tensor)){if(yr)Array.isArray(yr[0])||(yr=Array.from({length:Fe},()=>yr));else if(Xt??=ir,this.config.model_type==="musicgen")yr=Array.from({length:Fe*this.config.decoder.num_codebooks},()=>[Xt]);else if(Array.isArray(Xt)){if(Xt.length!==Fe)throw new Error(`\`decoder_start_token_id\` expcted to have length ${Fe} but got ${Xt.length}`);yr=Xt}else yr=Array.from({length:Fe},()=>[Xt]);yr=ht(yr)}return Wt.decoder_attention_mask=(0,$.ones_like)(yr),{input_ids:yr,model_inputs:Or}}generate(yr){return ot(this,null,function*(){var Or=yr,{inputs:Fe=null,generation_config:yt=null,logits_processor:Wt=null,stopping_criteria:Xt=null,streamer:ir=null}=Or,br=Ta(Or,["inputs","generation_config","logits_processor","stopping_criteria","streamer"]);this._validate_model_class(),yt=this._prepare_generation_config(yt,br);let{inputs_tensor:Jr,model_inputs:po,model_input_name:ko}=this._prepare_model_inputs({inputs:Fe,model_kwargs:br}),so=this.config.is_encoder_decoder;so&&("encoder_outputs"in po||(po=yield this._prepare_encoder_decoder_kwargs_for_generation({inputs_tensor:Jr,model_inputs:po,model_input_name:ko,generation_config:yt})));let To;so?{input_ids:To,model_inputs:po}=this._prepare_decoder_input_ids_for_generation({batch_size:po[ko].dims.at(0),model_input_name:ko,model_kwargs:po,decoder_start_token_id:yt.decoder_start_token_id,bos_token_id:yt.bos_token_id,generation_config:yt}):To=po[ko];let vo=To.dims.at(-1);yt.max_new_tokens!==null&&(yt.max_length=vo+yt.max_new_tokens);let Po=this._get_logits_processor(yt,vo,Wt),Eo=this._get_stopping_criteria(yt,Xt),zo=po[ko].dims.at(0),gn=He.LogitsSampler.getSampler(yt),Go=new Array(zo).fill(0),Pn=To.tolist();ir&&ir.put(Pn);let Nn,zn={};for(;;){if(po=this.prepare_inputs_for_generation(Pn,po,yt),Nn=yield this.forward(po),yt.output_attentions&&yt.return_dict_in_generate){let Ei=this.getAttentions(Nn);for(let Ss in Ei)Ss in zn||(zn[Ss]=[]),zn[Ss].push(Ei[Ss])}let Xi=Nn.logits.slice(null,-1,null),Ml=Po(Pn,Xi),Es=[];for(let Ei=0;Ei<Ml.dims.at(0);++Ei){let Ss=Ml[Ei],Tu=yield gn(Ss);for(let[cf,gh]of Tu){let yn=BigInt(cf);Go[Ei]+=gh,Pn[Ei].push(yn),Es.push([yn]);break}}if(ir&&ir.put(Es),Eo(Pn).every(Ei=>Ei))break;po=this._update_model_kwargs_for_generation({generated_input_ids:Es,outputs:Nn,model_inputs:po,is_encoder_decoder:so})}ir&&ir.end();let ii=this.getPastKeyValues(Nn,po.past_key_values,!0),gi=new $.Tensor("int64",Pn.flat(),[Pn.length,Pn[0].length]);if(yt.return_dict_in_generate)return Vt({sequences:gi,past_key_values:ii},zn);for(let Xi of Object.values(Nn))Xi.location==="gpu-buffer"&&Xi.dispose();return gi})}getPastKeyValues(Fe,yt,Wt=!1){let Xt=Object.create(null);for(let ir in Fe)if(ir.startsWith("present")){let br=ir.replace("present","past_key_values"),yr=ir.includes("encoder");if(yr&&yt?Xt[br]=yt[br]:Xt[br]=Fe[ir],yt&&(!yr||Wt)){let Or=yt[br];Or.location==="gpu-buffer"&&Or.dispose()}}return Xt}getAttentions(Fe){let yt={};for(let Wt of["cross_attentions","encoder_attentions","decoder_attentions"])for(let Xt in Fe)Xt.startsWith(Wt)&&(Wt in yt||(yt[Wt]=[]),yt[Wt].push(Fe[Xt]));return yt}addPastKeyValues(Fe,yt){if(yt)Object.assign(Fe,yt);else{let Xt=(this.sessions.decoder_model_merged??this.sessions.model)?.config?.kv_cache_dtype??"float32",ir=Xt==="float16"?new Uint16Array:[],br=(Fe[this.main_input_name]??Fe.attention_mask)?.dims?.[0]??1,yr=(0,n.getKeyValueShapes)(this.config,{batch_size:br});for(let Or in yr)Fe[Or]=new $.Tensor(Xt,ir,yr[Or])}}encode_image(yt){return ot(this,arguments,function*({pixel_values:Fe}){let Wt=(yield mt(this.sessions.vision_encoder,{pixel_values:Fe})).image_features;return this.config.num_image_tokens||(console.warn(`The number of image tokens was not set in the model configuration. Setting it to the number of features detected by the vision encoder (${Wt.dims[1]}).`),this.config.num_image_tokens=Wt.dims[1]),Wt})}encode_text(yt){return ot(this,arguments,function*({input_ids:Fe}){return(yield mt(this.sessions.embed_tokens,{input_ids:Fe})).inputs_embeds})}}class st{}class hr extends st{constructor({last_hidden_state:Fe,hidden_states:yt=null,attentions:Wt=null}){super(),this.last_hidden_state=Fe,this.hidden_states=yt,this.attentions=Wt}}class Ht extends gt{}class xt extends Ht{}class Ut extends Ht{_call(Fe){return ot(this,null,function*(){return new ui(yield lr(Ut.prototype,this,"_call").call(this,Fe))})}}class rr extends Ht{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(rr.prototype,this,"_call").call(this,Fe))})}}class nr extends Ht{_call(Fe){return ot(this,null,function*(){return new Wn(yield lr(nr.prototype,this,"_call").call(this,Fe))})}}class cr extends Ht{_call(Fe){return ot(this,null,function*(){return new pi(yield lr(cr.prototype,this,"_call").call(this,Fe))})}}class mr extends gt{}class Cr extends mr{}class Tr extends mr{_call(Fe){return ot(this,null,function*(){return new ui(yield lr(Tr.prototype,this,"_call").call(this,Fe))})}}class dr extends mr{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(dr.prototype,this,"_call").call(this,Fe))})}}class Ar extends mr{_call(Fe){return ot(this,null,function*(){return new Wn(yield lr(Ar.prototype,this,"_call").call(this,Fe))})}}class rt extends gt{}class Et extends rt{}class _t extends gt{}class Tt extends _t{}class zt extends _t{_call(Fe){return ot(this,null,function*(){return new ui(yield lr(zt.prototype,this,"_call").call(this,Fe))})}}class tr extends _t{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(tr.prototype,this,"_call").call(this,Fe))})}}class ur extends _t{_call(Fe){return ot(this,null,function*(){return new Wn(yield lr(ur.prototype,this,"_call").call(this,Fe))})}}class kr extends _t{_call(Fe){return ot(this,null,function*(){return new pi(yield lr(kr.prototype,this,"_call").call(this,Fe))})}}class gr extends gt{}class _r extends gr{}class qr extends gr{_call(Fe){return ot(this,null,function*(){return new ui(yield lr(qr.prototype,this,"_call").call(this,Fe))})}}class $r extends gr{_call(Fe){return ot(this,null,function*(){return new Co(yield lr($r.prototype,this,"_call").call(this,Fe))})}}class Ur extends gr{_call(Fe){return ot(this,null,function*(){return new Wn(yield lr(Ur.prototype,this,"_call").call(this,Fe))})}}class Io extends gr{_call(Fe){return ot(this,null,function*(){return new pi(yield lr(Io.prototype,this,"_call").call(this,Fe))})}}class Qo extends gt{}class pn extends Qo{}class Kn extends Qo{_call(Fe){return ot(this,null,function*(){return new ui(yield lr(Kn.prototype,this,"_call").call(this,Fe))})}}class Bi extends Qo{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(Bi.prototype,this,"_call").call(this,Fe))})}}class Zi extends Qo{_call(Fe){return ot(this,null,function*(){return new Wn(yield lr(Zi.prototype,this,"_call").call(this,Fe))})}}class Rn extends Qo{_call(Fe){return ot(this,null,function*(){return new pi(yield lr(Rn.prototype,this,"_call").call(this,Fe))})}}class Hi extends gt{}class ao extends Hi{}class ca extends Hi{_call(Fe){return ot(this,null,function*(){return new ui(yield lr(ca.prototype,this,"_call").call(this,Fe))})}}class Ii extends Hi{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(Ii.prototype,this,"_call").call(this,Fe))})}}class zi extends Hi{_call(Fe){return ot(this,null,function*(){return new Wn(yield lr(zi.prototype,this,"_call").call(this,Fe))})}}class ga extends Hi{_call(Fe){return ot(this,null,function*(){return new pi(yield lr(ga.prototype,this,"_call").call(this,Fe))})}}class ki extends gt{}class ss extends ki{}class Di extends ki{_call(Fe){return ot(this,null,function*(){return new ui(yield lr(Di.prototype,this,"_call").call(this,Fe))})}}class On extends ki{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(On.prototype,this,"_call").call(this,Fe))})}}class ni extends ki{_call(Fe){return ot(this,null,function*(){return new Wn(yield lr(ni.prototype,this,"_call").call(this,Fe))})}}class li extends ki{_call(Fe){return ot(this,null,function*(){return new pi(yield lr(li.prototype,this,"_call").call(this,Fe))})}}class xr extends gt{}class Wr extends xr{}class oo extends xr{_call(Fe){return ot(this,null,function*(){return new ui(yield lr(oo.prototype,this,"_call").call(this,Fe))})}}class ci extends xr{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(ci.prototype,this,"_call").call(this,Fe))})}}class cl extends xr{_call(Fe){return ot(this,null,function*(){return new Wn(yield lr(cl.prototype,this,"_call").call(this,Fe))})}}class zs extends xr{_call(Fe){return ot(this,null,function*(){return new pi(yield lr(zs.prototype,this,"_call").call(this,Fe))})}}class Cn extends gt{}class ls extends Cn{}class Un extends Cn{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(Un.prototype,this,"_call").call(this,Fe))})}}class vs extends Cn{_call(Fe){return ot(this,null,function*(){return new Wn(yield lr(vs.prototype,this,"_call").call(this,Fe))})}}class $o extends Cn{_call(Fe){return ot(this,null,function*(){return new pi(yield lr($o.prototype,this,"_call").call(this,Fe))})}}class js extends Cn{_call(Fe){return ot(this,null,function*(){return new ui(yield lr(js.prototype,this,"_call").call(this,Fe))})}}class Vs extends gt{}class ap extends Vs{}class dl extends Vs{_call(Fe){return ot(this,null,function*(){return new ui(yield lr(dl.prototype,this,"_call").call(this,Fe))})}}class ul extends Vs{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(ul.prototype,this,"_call").call(this,Fe))})}}class pl extends Vs{_call(Fe){return ot(this,null,function*(){return new Wn(yield lr(pl.prototype,this,"_call").call(this,Fe))})}}class Us extends gt{}class lu extends Us{}class Ll extends Us{_call(Fe){return ot(this,null,function*(){return new ui(yield lr(Ll.prototype,this,"_call").call(this,Fe))})}}class cs extends Us{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(cs.prototype,this,"_call").call(this,Fe))})}}class ji extends Us{_call(Fe){return ot(this,null,function*(){return new pi(yield lr(ji.prototype,this,"_call").call(this,Fe))})}}class Vi extends gt{}class Nl extends Vi{}class ys extends Vi{_call(Fe){return ot(this,null,function*(){return new ui(yield lr(ys.prototype,this,"_call").call(this,Fe))})}}class Ws extends Vi{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(Ws.prototype,this,"_call").call(this,Fe))})}}class Gs extends Vi{_call(Fe){return ot(this,null,function*(){return new Wn(yield lr(Gs.prototype,this,"_call").call(this,Fe))})}}class Hs extends Vi{_call(Fe){return ot(this,null,function*(){return new pi(yield lr(Hs.prototype,this,"_call").call(this,Fe))})}}class io extends gt{}class zl extends io{}class fl extends io{_call(Fe){return ot(this,null,function*(){return new ui(yield lr(fl.prototype,this,"_call").call(this,Fe))})}}class hl extends io{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(hl.prototype,this,"_call").call(this,Fe))})}}class ml extends io{_call(Fe){return ot(this,null,function*(){return new pi(yield lr(ml.prototype,this,"_call").call(this,Fe))})}}class Ks extends gt{}class cu extends Ks{}class qs extends Ks{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(qs.prototype,this,"_call").call(this,Fe))})}}class gl extends Ks{_call(Fe){return ot(this,null,function*(){return new pi(yield lr(gl.prototype,this,"_call").call(this,Fe))})}}class Ko extends Ks{_call(Fe){return ot(this,null,function*(){return new ui(yield lr(Ko.prototype,this,"_call").call(this,Fe))})}}class Gt extends gt{forward_params=["input_ids","attention_mask","encoder_outputs","decoder_input_ids","decoder_attention_mask","past_key_values"]}class We extends Gt{}class wt extends Gt{}class Bt extends gt{}class Ot extends Bt{}class er extends Bt{}class fr extends gt{}class Rr extends fr{}class zr extends fr{}class Lr extends gt{}class Fr extends Lr{}class Wo extends Lr{}class uo extends Lr{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(uo.prototype,this,"_call").call(this,Fe))})}}class mn extends gt{}class Fi extends mn{}class fo extends mn{}class Ro extends mn{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(Ro.prototype,this,"_call").call(this,Fe))})}}class Mi extends mn{}class mi extends gt{}class Zt extends mi{}class ti extends mi{}class xs extends gt{}class $n extends xs{}class di extends xs{}class ro extends gt{}class Ri extends ro{}class Ui extends ro{_call(Fe){return ot(this,null,function*(){return new ui(yield lr(Ui.prototype,this,"_call").call(this,Fe))})}}class qo extends ro{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(qo.prototype,this,"_call").call(this,Fe))})}}class Tn extends ro{_call(Fe){return ot(this,null,function*(){return new Wn(yield lr(Tn.prototype,this,"_call").call(this,Fe))})}}class Nr extends ro{_call(Fe){return ot(this,null,function*(){return new pi(yield lr(Nr.prototype,this,"_call").call(this,Fe))})}}class xo extends gt{}class qn extends xo{}class En extends xo{_call(Fe){return ot(this,null,function*(){return new ui(yield lr(En.prototype,this,"_call").call(this,Fe))})}}class Xn extends xo{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(Xn.prototype,this,"_call").call(this,Fe))})}}class Hr extends xo{_call(Fe){return ot(this,null,function*(){return new Wn(yield lr(Hr.prototype,this,"_call").call(this,Fe))})}}class ws extends xo{_call(Fe){return ot(this,null,function*(){return new pi(yield lr(ws.prototype,this,"_call").call(this,Fe))})}}class ar extends gt{}class eo extends ar{}class sp extends ar{_call(Fe){return ot(this,null,function*(){return new ui(yield lr(sp.prototype,this,"_call").call(this,Fe))})}}class du extends ar{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(du.prototype,this,"_call").call(this,Fe))})}}class lp extends ar{_call(Fe){return ot(this,null,function*(){return new Wn(yield lr(lp.prototype,this,"_call").call(this,Fe))})}}class cp extends ar{_call(Fe){return ot(this,null,function*(){return new pi(yield lr(cp.prototype,this,"_call").call(this,Fe))})}}class wo extends gt{}class nm extends wo{}class Af extends wo{}class Bf extends gt{requires_attention_mask=!1;main_input_name="input_features";forward_params=["input_features","attention_mask","decoder_input_ids","decoder_attention_mask","past_key_values"]}class im extends Bf{}class dp extends Bf{_prepare_generation_config(Fe,yt){return super._prepare_generation_config(Fe,yt,Pe.WhisperGenerationConfig)}_retrieve_init_tokens(Fe){let yt=[Fe.decoder_start_token_id],Wt=Fe.language,Xt=Fe.task;if(Fe.is_multilingual){Wt||(console.warn("No language specified - defaulting to English (en)."),Wt="en");let br=`<|${(0,Xe.whisper_language_to_code)(Wt)}|>`;yt.push(Fe.lang_to_id[br]),yt.push(Fe.task_to_id[Xt??"transcribe"])}else if(Wt||Xt)throw new Error("Cannot specify `task` or `language` for an English-only model. If the model is intended to be multilingual, pass `is_multilingual=true` to generate, or update the generation config.");return!Fe.return_timestamps&&Fe.no_timestamps_token_id&&yt.at(-1)!==Fe.no_timestamps_token_id?yt.push(Fe.no_timestamps_token_id):Fe.return_timestamps&&yt.at(-1)===Fe.no_timestamps_token_id&&(console.warn("<|notimestamps|> prompt token is removed from generation_config since `return_timestamps` is set to `true`."),yt.pop()),yt.filter(ir=>ir!=null)}generate(br){return ot(this,null,function*(){var yr=br,{inputs:Fe=null,generation_config:yt=null,logits_processor:Wt=null,stopping_criteria:Xt=null}=yr,ir=Ta(yr,["inputs","generation_config","logits_processor","stopping_criteria"]);yt=this._prepare_generation_config(yt,ir);let Or=ir.decoder_input_ids??this._retrieve_init_tokens(yt);if(yt.return_timestamps&&(Wt??=new k.LogitsProcessorList,Wt.push(new k.WhisperTimeStampLogitsProcessor(yt,Or))),yt.begin_suppress_tokens&&(Wt??=new k.LogitsProcessorList,Wt.push(new k.SuppressTokensAtBeginLogitsProcessor(yt.begin_suppress_tokens,Or.length))),yt.return_token_timestamps){if(!yt.alignment_heads)throw new Error("Model generation config has no `alignment_heads`, token-level timestamps not available. See https://gist.github.com/hollance/42e32852f24243b748ae6bc1f985b13a on how to add this property to the generation config.");yt.task==="translate"&&console.warn("Token-level timestamps may not be reliable for task 'translate'."),yt.output_attentions=!0,yt.return_dict_in_generate=!0}let Jr=yield lr(dp.prototype,this,"generate").call(this,Vt({inputs:Fe,generation_config:yt,logits_processor:Wt,decoder_input_ids:Or},ir));return yt.return_token_timestamps&&(Jr.token_timestamps=this._extract_token_timestamps(Jr,yt.alignment_heads,yt.num_frames)),Jr})}_extract_token_timestamps(Fe,yt,Wt=null,Xt=.02){if(!Fe.cross_attentions)throw new Error("Model outputs must contain cross attentions to extract timestamps. This is most likely because the model was not exported with `output_attentions=True`.");Wt==null&&console.warn("`num_frames` has not been set, meaning the entire audio will be analyzed. This may lead to inaccurate token-level timestamps for short audios (< 30 seconds).");let ir=this.config.median_filter_width;ir===void 0&&(console.warn("Model config has no `median_filter_width`, using default value of 7."),ir=7);let br=Fe.cross_attentions,yr=Array.from({length:this.config.decoder_layers},(Po,Eo)=>(0,$.cat)(br.map(zo=>zo[Eo]),2)),Or=(0,$.stack)(yt.map(([Po,Eo])=>{if(Po>=yr.length)throw new Error(`Layer index ${Po} is out of bounds for cross attentions (length ${yr.length}).`);return Wt?yr[Po].slice(null,Eo,null,[0,Wt]):yr[Po].slice(null,Eo)})).transpose(1,0,2,3),[Jr,po]=(0,$.std_mean)(Or,-2,0,!0),ko=Or.clone();for(let Po=0;Po<ko.dims[0];++Po){let Eo=ko[Po];for(let zo=0;zo<Eo.dims[0];++zo){let gn=Eo[zo],Go=Jr[Po][zo][0].data,Pn=po[Po][zo][0].data;for(let Nn=0;Nn<gn.dims[0];++Nn){let zn=gn[Nn].data;for(let ii=0;ii<zn.length;++ii)zn[ii]=(zn[ii]-Pn[ii])/Go[ii];zn.set((0,Re.medianFilter)(zn,ir))}}}let so=[(0,$.mean)(ko,1)],To=Fe.sequences.dims,vo=new $.Tensor("float32",new Float32Array(To[0]*To[1]),To);for(let Po=0;Po<To[0];++Po){let Eo=so[Po].neg().squeeze_(0),[zo,gn]=(0,Re.dynamic_time_warping)(Eo.tolist()),Go=Array.from({length:zo.length-1},(zn,ii)=>zo[ii+1]-zo[ii]),Pn=(0,h.mergeArrays)([1],Go).map(zn=>!!zn),Nn=[];for(let zn=0;zn<Pn.length;++zn)Pn[zn]&&Nn.push(gn[zn]*Xt);vo[Po].data.set(Nn,1)}return vo}}class If extends gt{requires_attention_mask=!1;main_input_name="input_values";forward_params=["input_values","decoder_input_ids","past_key_values"]}class Ki extends If{}class am extends If{}class Df extends gt{main_input_name="pixel_values";forward_params=["pixel_values","decoder_input_ids","encoder_hidden_states","past_key_values"]}class Xs extends gt{forward_params=["input_ids","attention_mask","pixel_values","position_ids","past_key_values"]}class up extends Xs{_merge_input_ids_with_image_features({inputs_embeds:Fe,image_features:yt,input_ids:Wt,attention_mask:Xt}){let ir=this.config.image_token_index,yr=Wt.tolist().map(so=>so.findIndex(To=>To==ir)),Or=yr.every(so=>so===-1),Jr=yr.every(so=>so!==-1);if(!Or&&!Jr)throw new Error("Every input should contain either 0 or 1 image token.");if(Or)return{inputs_embeds:Fe,attention_mask:Xt};let po=[],ko=[];for(let so=0;so<yr.length;++so){let To=yr[so],vo=Fe[so],Po=yt[so],Eo=Xt[so];po.push((0,$.cat)([vo.slice([0,To]),Po,vo.slice([To+1,vo.dims[0]])],0)),ko.push((0,$.cat)([Eo.slice([0,To]),(0,$.ones)([Po.dims[0]]),Eo.slice([To+1,Eo.dims[0]])],0))}return{inputs_embeds:(0,$.stack)(po,0),attention_mask:(0,$.stack)(ko,0)}}}class sm extends up{}class lm extends up{}class cm extends gt{forward_params=["input_ids","inputs_embeds","attention_mask","pixel_values","encoder_outputs","decoder_input_ids","decoder_inputs_embeds","decoder_attention_mask","past_key_values"];main_input_name="inputs_embeds"}class dm extends cm{_merge_input_ids_with_image_features({inputs_embeds:Fe,image_features:yt,input_ids:Wt,attention_mask:Xt}){return{inputs_embeds:(0,$.cat)([yt,Fe],1),attention_mask:(0,$.cat)([(0,$.ones)(yt.dims.slice(0,2)),Xt],1)}}_prepare_inputs_embeds(ir){return ot(this,arguments,function*({input_ids:Fe,pixel_values:yt,inputs_embeds:Wt,attention_mask:Xt}){if(!Fe&&!yt)throw new Error("Either `input_ids` or `pixel_values` should be provided.");let br,yr;return Fe&&(br=yield this.encode_text({input_ids:Fe})),yt&&(yr=yield this.encode_image({pixel_values:yt})),br&&yr?{inputs_embeds:Wt,attention_mask:Xt}=this._merge_input_ids_with_image_features({inputs_embeds:br,image_features:yr,input_ids:Fe,attention_mask:Xt}):Wt=br||yr,{inputs_embeds:Wt,attention_mask:Xt}})}forward(po){return ot(this,arguments,function*({input_ids:Fe,pixel_values:yt,attention_mask:Wt,decoder_input_ids:Xt,decoder_attention_mask:ir,encoder_outputs:br,past_key_values:yr,inputs_embeds:Or,decoder_inputs_embeds:Jr}){if(Or||({inputs_embeds:Or,attention_mask:Wt}=yield this._prepare_inputs_embeds({input_ids:Fe,pixel_values:yt,inputs_embeds:Or,attention_mask:Wt})),!br){let{last_hidden_state:To}=yield Ft(this,{inputs_embeds:Or,attention_mask:Wt});br=To}if(!Jr){if(!Xt)throw new Error("Either `decoder_input_ids` or `decoder_inputs_embeds` should be provided.");Jr=yield this.encode_text({input_ids:Xt})}return yield At(this,{inputs_embeds:Jr,attention_mask:ir,encoder_attention_mask:Wt,encoder_hidden_states:br,past_key_values:yr},!0)})}}class um extends gt{forward_params=["input_ids","attention_mask","pixel_values","position_ids","past_key_values"]}class pm extends um{_merge_input_ids_with_image_features(Fe){let yt=Fe.image_features.dims.at(-1),Wt=Fe.image_features.view(-1,yt);return Dt(Gr(Vt({image_token_id:this.config.image_token_index},Fe),{image_features:Wt}))}}class fm extends gt{forward_params=["input_ids","attention_mask","pixel_values","pixel_attention_mask","position_ids","past_key_values"]}class Ff extends fm{encode_image(Wt){return ot(this,arguments,function*({pixel_values:Fe,pixel_attention_mask:yt}){return(yield mt(this.sessions.vision_encoder,{pixel_values:Fe,pixel_attention_mask:yt})).image_features})}_merge_input_ids_with_image_features(Fe){let yt=Fe.image_features.dims.at(-1),Wt=Fe.image_features.view(-1,yt);return Dt(Gr(Vt({image_token_id:this.config.image_token_id},Fe),{image_features:Wt}))}}class hm extends gt{forward_params=["input_ids","inputs_embeds","attention_mask","position_ids","pixel_values","image_sizes","past_key_values"]}class qi extends hm{forward(ko){return ot(this,null,function*(){var so=ko,{input_ids:Fe=null,attention_mask:yt=null,pixel_values:Wt=null,image_sizes:Xt=null,position_ids:ir=null,inputs_embeds:br=null,past_key_values:yr=null,generation_config:Or=null,logits_processor:Jr=null}=so,po=Ta(so,["input_ids","attention_mask","pixel_values","image_sizes","position_ids","inputs_embeds","past_key_values","generation_config","logits_processor"]);if(!br){let vo;if(Wt&&Fe.dims[1]!==1){if(!Xt)throw new Error("`image_sizes` must be provided when `pixel_values` is provided.");({image_features:vo}=yield mt(this.sessions.vision_encoder,{pixel_values:Wt,image_sizes:Xt}))}else{let Po=this.config.normalized_config.hidden_size;vo=new $.Tensor("float32",[],[0,Po])}({inputs_embeds:br}=yield mt(this.sessions.prepare_inputs_embeds,{input_ids:Fe,image_features:vo}))}return yield At(this,{inputs_embeds:br,past_key_values:yr,attention_mask:yt,position_ids:ir,generation_config:Or,logits_processor:Jr},!1)})}}class _l extends gt{}class mm extends _l{}class Rf extends _l{static from_pretrained(Wt){return ot(this,arguments,function*(Fe,yt={}){return lr(Rf,this,"from_pretrained").call(this,Fe,Gr(Vt({},yt),{model_file_name:yt.model_file_name??"text_model"}))})}}class pp extends _l{static from_pretrained(Wt){return ot(this,arguments,function*(Fe,yt={}){return lr(pp,this,"from_pretrained").call(this,Fe,Gr(Vt({},yt),{model_file_name:yt.model_file_name??"text_model"}))})}}class Of extends _l{static from_pretrained(Wt){return ot(this,arguments,function*(Fe,yt={}){return lr(Of,this,"from_pretrained").call(this,Fe,Gr(Vt({},yt),{model_file_name:yt.model_file_name??"vision_model"}))})}}class fp extends _l{static from_pretrained(Wt){return ot(this,arguments,function*(Fe,yt={}){return lr(fp,this,"from_pretrained").call(this,Fe,Gr(Vt({},yt),{model_file_name:yt.model_file_name??"vision_model"}))})}}class $f extends gt{}class gm extends $f{}class hp extends $f{static from_pretrained(Wt){return ot(this,arguments,function*(Fe,yt={}){return lr(hp,this,"from_pretrained").call(this,Fe,Gr(Vt({},yt),{model_file_name:yt.model_file_name??"text_model"}))})}}class mp extends _l{static from_pretrained(Wt){return ot(this,arguments,function*(Fe,yt={}){return lr(mp,this,"from_pretrained").call(this,Fe,Gr(Vt({},yt),{model_file_name:yt.model_file_name??"vision_model"}))})}}class Kv extends gt{}class _a extends Kv{}class gp extends gt{}class jl extends gp{forward(Fe){return ot(this,null,function*(){let yt=!Fe.input_ids,Wt=!Fe.pixel_values;if(yt&&Wt)throw new Error("Either `input_ids` or `pixel_values` should be provided.");if(yt&&(Fe.input_ids=(0,$.ones)([Fe.pixel_values.dims[0],1])),Wt){let{image_size:Jr}=this.config.vision_config;Fe.pixel_values=(0,$.full)([0,3,Jr,Jr],0)}let{text_embeddings:Xt,image_embeddings:ir,l2norm_text_embeddings:br,l2norm_image_embeddings:yr}=yield lr(jl.prototype,this,"forward").call(this,Fe),Or={};return yt||(Or.text_embeddings=Xt,Or.l2norm_text_embeddings=br),Wt||(Or.image_embeddings=ir,Or.l2norm_image_embeddings=yr),Or})}}class uu extends gp{static from_pretrained(Wt){return ot(this,arguments,function*(Fe,yt={}){return lr(uu,this,"from_pretrained").call(this,Fe,Gr(Vt({},yt),{model_file_name:yt.model_file_name??"text_model"}))})}}class Wi extends gp{static from_pretrained(Wt){return ot(this,arguments,function*(Fe,yt={}){return lr(Wi,this,"from_pretrained").call(this,Fe,Gr(Vt({},yt),{model_file_name:yt.model_file_name??"vision_model"}))})}}class Lf extends gt{}class _m extends Lf{}class bm extends Lf{}class Nf extends gt{}class vm extends Nf{}class ym extends Nf{}class zf extends gt{}class xm extends zf{}class wm extends zf{}class jf extends gt{}class ba extends jf{}class Cm extends jf{}class Vf extends gt{}class km extends Vf{}class Mm extends Vf{}class Uf extends gt{}class Tm extends Uf{}class Em extends Uf{}class Wf extends gt{}class Sm extends Wf{}class Pm extends Wf{}class _p extends gt{}class Gf extends _p{}class Am extends _p{}class Hf extends gt{}class Kf extends Hf{}class qv extends Hf{}class qf extends gt{}class bp extends qf{}class Bm extends qf{}class Xf extends gt{}class Im extends Xf{}class pu extends Xf{}class Qf extends gt{}class Dm extends Qf{}class Yf extends Qf{}class Jf extends gt{}class Fm extends Jf{}class Rm extends Jf{}class Zf extends gt{}class Xv extends Zf{}class Om extends Zf{}class e0 extends gt{}class $m extends e0{}class Qv extends e0{}class t0 extends gt{}class Yo extends t0{}class Lm extends t0{}class r0 extends gt{}class Nm extends r0{}class zm extends r0{}class o0 extends gt{}class jm extends o0{}class Vm extends o0{}class n0 extends gt{}class Um extends n0{}class Wm extends n0{}class i0 extends gt{}class Gm extends i0{}class Hm extends i0{}class a0 extends gt{}class fu extends a0{}class Km extends a0{}class vp extends gt{forward_params=["input_ids","attention_mask","position_ids","past_key_values","pixel_values","image_grid_thw"]}class qm extends vp{get_rope_index(Fe,yt,Wt,Xt){let{vision_config:ir,image_token_id:br,video_token_id:yr,vision_start_token_id:Or}=this.config,Jr=ir.spatial_merge_size??2,po=[];if(yt||Wt){let ko=Fe.tolist();Xt||(Xt=(0,$.ones_like)(Fe));let so=Xt.tolist(),To=Array.from({length:3},gn=>Array.from({length:Fe.dims[0]},Go=>Array.from({length:Fe.dims[1]},Pn=>1))),vo=yt?yt.tolist():[],Po=Wt?Wt.tolist():[],Eo=0,zo=0;for(let gn=0;gn<ko.length;++gn){let Go=ko[gn].filter((yn,Yn)=>so[gn][Yn]==1),Nn=Go.reduce((yn,Yn,Ys)=>(Yn==Or&&yn.push(Ys),yn),[]).map(yn=>Go[yn+1]),zn=Nn.filter(yn=>yn==br).length,ii=Nn.filter(yn=>yn==yr).length,gi=[],Xi=0,Ml=zn,Es=ii;for(let yn=0;yn<Nn.length;++yn){let Yn=Go.findIndex((Zs,Qi)=>Qi>Xi&&Zs==br),Ys=Go.findIndex((Zs,Qi)=>Qi>Xi&&Zs==yr),Tl=Ml>0&&Yn!==-1?Yn:Go.length+1,Eu=Es>0&&Ys!==-1?Ys:Go.length+1,df,Su,_h,bh;Tl<Eu?([Su,_h,bh]=vo[Eo],++Eo,--Ml,df=Tl):([Su,_h,bh]=Po[zo],++zo,--Es,df=Eu);let[_w,vh,Pu]=[Number(Su),Math.floor(Number(_h)/Jr),Math.floor(Number(bh)/Jr)],uf=df-Xi,Js=gi.length>0?(0,Re.max)(gi.at(-1))[0]+1:0;gi.push(Array.from({length:3*uf},(Zs,Qi)=>Js+Qi%uf));let yh=uf+Js,Gl=_w*vh*Pu,K_=Array.from({length:Gl},(Zs,Qi)=>yh+Math.floor(Qi/(vh*Pu))),q_=Array.from({length:Gl},(Zs,Qi)=>yh+Math.floor(Qi/Pu)%vh),X_=Array.from({length:Gl},(Zs,Qi)=>yh+Qi%Pu);gi.push([K_,q_,X_].flat()),Xi=df+Gl}if(Xi<Go.length){let yn=gi.length>0?(0,Re.max)(gi.at(-1))[0]+1:0,Yn=Go.length-Xi;gi.push(Array.from({length:3*Yn},(Ys,Tl)=>yn+Tl%Yn))}let mh=gi.reduce((yn,Yn)=>yn+Yn.length,0),Ei=new Array(mh),Ss=0;for(let yn=0;yn<3;++yn)for(let Yn=0;Yn<gi.length;++Yn){let Ys=gi[Yn],Tl=Ys.length/3;for(let Eu=yn*Tl;Eu<(yn+1)*Tl;++Eu)Ei[Ss++]=Ys[Eu]}let Tu=0,cf=so[gn];for(let yn=0;yn<cf.length;++yn)if(cf[yn]==1){for(let Yn=0;Yn<3;++Yn)To[Yn][gn][yn]=Ei[Yn*mh/3+Tu];++Tu}let gh=(0,Re.max)(Ei)[0];po.push(gh+1-ko[gn].length)}return[new $.Tensor("int64",To.flat(1/0),[3,Fe.dims[0],Fe.dims[1]]),new $.Tensor("int64",po,[po.length,1])]}else if(Xt){let{data:ko,dims:so}=at(Xt),To=BigInt64Array.from({length:3*ko.length},(Po,Eo)=>ko[Eo%ko.length]),vo=Array.from({length:so[0]},(Po,Eo)=>(0,Re.max)(ko.subarray(so[1]*Eo,so[1]*(Eo+1)))[0]+1n+BigInt(so[1]));return[new $.Tensor("int64",To,[3,...so]),new $.Tensor("int64",vo,[vo.length,1])]}else{let[ko,so]=Fe.dims,To=BigInt64Array.from({length:3*ko*so},(vo,Po)=>BigInt(Math.floor(Po%so/ko)));return[new $.Tensor("int64",To,[3,...Fe.dims]),(0,$.zeros)([ko,1])]}}encode_image(Wt){return ot(this,arguments,function*({pixel_values:Fe,image_grid_thw:yt}){return(yield mt(this.sessions.vision_encoder,{pixel_values:Fe,grid_thw:yt})).image_features})}_merge_input_ids_with_image_features(Fe){return Dt(Vt({image_token_id:this.config.image_token_id},Fe))}prepare_inputs_for_generation(Fe,yt,Wt){if(yt.attention_mask&&!yt.position_ids)if(!yt.past_key_values)[yt.position_ids,yt.rope_deltas]=this.get_rope_index(yt.input_ids,yt.image_grid_thw,yt.video_grid_thw,yt.attention_mask);else{yt.pixel_values=null;let Xt=BigInt(Object.values(yt.past_key_values)[0].dims.at(-2)),ir=yt.rope_deltas.map(br=>Xt+br);yt.position_ids=(0,$.stack)([ir,ir,ir],0)}return yt}}class s0 extends gt{}class Xm extends s0{}class Qm extends s0{}class l0 extends gt{}class Ym extends l0{}class Jm extends l0{}class c0 extends gt{}class Zm extends c0{}class eg extends c0{}class d0 extends gt{}class tg extends d0{}class rg extends d0{}class u0 extends gt{}class og extends u0{}class ng extends u0{}class yp extends gt{}class ig extends yp{}class hu extends yp{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(hu.prototype,this,"_call").call(this,Fe))})}}class xp extends gt{}class ag extends xp{}class wp extends xp{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(wp.prototype,this,"_call").call(this,Fe))})}}class sg extends gt{}class lg extends sg{}class p0 extends gt{}class cg extends p0{}class mu extends p0{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(mu.prototype,this,"_call").call(this,Fe))})}}class dg extends gt{}class ug extends dg{}class f0 extends gt{}class Yv extends f0{}class Cp extends f0{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(Cp.prototype,this,"_call").call(this,Fe))})}}class pg extends gt{}class wa extends pg{}class h0 extends gt{}class fg extends h0{}class kp extends h0{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(kp.prototype,this,"_call").call(this,Fe))})}}class hg extends gt{}class Mp extends hg{_call(Fe){return ot(this,null,function*(){return new G_(yield lr(Mp.prototype,this,"_call").call(this,Fe))})}}class m0 extends gt{}class mg extends m0{}class Tp extends m0{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(Tp.prototype,this,"_call").call(this,Fe))})}}class g0 extends gt{}class gg extends g0{}class _0 extends g0{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(_0.prototype,this,"_call").call(this,Fe))})}}class b0 extends gt{}class _g extends b0{}class bg extends b0{}class v0 extends gt{}class vg extends v0{}class yg extends v0{}class xg extends gt{}class bl extends xg{}class Cs extends xg{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(Cs.prototype,this,"_call").call(this,Fe))})}}class ks extends gt{}class y0 extends ks{}class Ms extends ks{_call(Fe){return ot(this,null,function*(){return new x0(yield lr(Ms.prototype,this,"_call").call(this,Fe))})}}class Qn extends ks{_call(Fe){return ot(this,null,function*(){return new w0(yield lr(Qn.prototype,this,"_call").call(this,Fe))})}}class x0 extends st{constructor({logits:Fe,pred_boxes:yt}){super(),this.logits=Fe,this.pred_boxes=yt}}class w0 extends st{constructor({logits:Fe,pred_boxes:yt,pred_masks:Wt}){super(),this.logits=Fe,this.pred_boxes=yt,this.pred_masks=Wt}}class C0 extends gt{}class Jv extends C0{}class vl extends C0{_call(Fe){return ot(this,null,function*(){return new k0(yield lr(vl.prototype,this,"_call").call(this,Fe))})}}class k0 extends st{constructor({logits:Fe,pred_boxes:yt}){super(),this.logits=Fe,this.pred_boxes=yt}}class Ep extends gt{}class wg extends Ep{}class Sp extends Ep{_call(Fe){return ot(this,null,function*(){return new M0(yield lr(Sp.prototype,this,"_call").call(this,Fe))})}}class M0 extends x0{}class Pp extends gt{}class Cg extends Pp{}class gu extends Pp{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(gu.prototype,this,"_call").call(this,Fe))})}}class T0 extends gt{}class Ap extends T0{}class _u extends T0{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(_u.prototype,this,"_call").call(this,Fe))})}}class E0 extends gt{}class kg extends E0{}class S0 extends E0{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(S0.prototype,this,"_call").call(this,Fe))})}}class P0 extends gt{}class A0 extends P0{}class yl extends P0{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(yl.prototype,this,"_call").call(this,Fe))})}}class B0 extends gt{}class I0 extends B0{}class Mg extends B0{}class D0 extends gt{}class Tg extends D0{}class Zv extends D0{}class Eg extends gt{}class Sg extends Eg{}class F0 extends gt{}class Pg extends F0{}class Bp extends F0{}class Ag extends F0{}class Ip extends gt{}class R0 extends Ip{}class Dp extends gt{}class Bg extends Dp{}class Ig extends Dp{}class Fp extends gt{}class e1 extends Fp{}class Dg extends Fp{}class t1 extends gt{}class Fg extends t1{}class O0 extends gt{}class Rg extends O0{}class bu extends O0{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(bu.prototype,this,"_call").call(this,Fe))})}}class $0 extends gt{}class Og extends $0{}class vu extends $0{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(vu.prototype,this,"_call").call(this,Fe))})}}class L0 extends gt{}class $g extends L0{}class N0 extends L0{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(N0.prototype,this,"_call").call(this,Fe))})}}class z0 extends gt{}class Lg extends z0{}class Rp extends z0{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(Rp.prototype,this,"_call").call(this,Fe))})}}class r1 extends gt{}class Ng extends r1{}class j0 extends gt{}class zg extends j0{}class Op extends j0{_call(Fe){return ot(this,null,function*(){return new jg(yield lr(Op.prototype,this,"_call").call(this,Fe))})}}class jg extends st{constructor({logits:Fe,pred_boxes:yt}){super(),this.logits=Fe,this.pred_boxes=yt}}class o1 extends gt{}class Vl extends o1{get_image_embeddings(yt){return ot(this,arguments,function*({pixel_values:Fe}){return yield Ft(this,{pixel_values:Fe})})}forward(Fe){return ot(this,null,function*(){if((!Fe.image_embeddings||!Fe.image_positional_embeddings)&&(Fe=Vt(Vt({},Fe),yield this.get_image_embeddings(Fe))),!Fe.input_labels&&Fe.input_points){let Wt=Fe.input_points.dims.slice(0,-1),Xt=Wt.reduce((ir,br)=>ir*br,1);Fe.input_labels=new $.Tensor("int64",new BigInt64Array(Xt).fill(1n),Wt)}let yt={image_embeddings:Fe.image_embeddings,image_positional_embeddings:Fe.image_positional_embeddings};return Fe.input_points&&(yt.input_points=Fe.input_points),Fe.input_labels&&(yt.input_labels=Fe.input_labels),Fe.input_boxes&&(yt.input_boxes=Fe.input_boxes),yield mt(this.sessions.prompt_encoder_mask_decoder,yt)})}_call(Fe){return ot(this,null,function*(){return new yu(yield lr(Vl.prototype,this,"_call").call(this,Fe))})}}class yu extends st{constructor({iou_scores:Fe,pred_masks:yt}){super(),this.iou_scores=Fe,this.pred_masks=yt}}class $p extends gt{}class Vg extends $p{}class Ug extends $p{}class V0 extends gt{}class Wg extends V0{}class U0 extends V0{}class Qs extends gt{}class Gg extends Qs{}class Lp extends Qs{_call(Fe){return ot(this,null,function*(){return new kl(yield lr(Lp.prototype,this,"_call").call(this,Fe))})}}class W0 extends Qs{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(W0.prototype,this,"_call").call(this,Fe))})}}class Np extends Qs{_call(Fe){return ot(this,null,function*(){return new Wn(yield lr(Np.prototype,this,"_call").call(this,Fe))})}}class zp extends gt{}class Hg extends zp{}class jp extends zp{_call(Fe){return ot(this,null,function*(){return new Wn(yield lr(jp.prototype,this,"_call").call(this,Fe))})}}class Kg extends gt{}class n1 extends Kg{}class Vp extends gt{}class qg extends Vp{}class G0 extends Vp{_call(Fe){return ot(this,null,function*(){return new kl(yield lr(G0.prototype,this,"_call").call(this,Fe))})}}class Up extends Vp{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(Up.prototype,this,"_call").call(this,Fe))})}}class xu extends gt{}class Xg extends xu{}class Wp extends xu{_call(Fe){return ot(this,null,function*(){return new kl(yield lr(Wp.prototype,this,"_call").call(this,Fe))})}}class H0 extends xu{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(H0.prototype,this,"_call").call(this,Fe))})}}class Gp extends xu{_call(Fe){return ot(this,null,function*(){return new Wn(yield lr(Gp.prototype,this,"_call").call(this,Fe))})}}class Hp extends gt{}class Qg extends Hp{}class K0 extends Hp{_call(Fe){return ot(this,null,function*(){return new kl(yield lr(K0.prototype,this,"_call").call(this,Fe))})}}class Kp extends Hp{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(Kp.prototype,this,"_call").call(this,Fe))})}}class i1 extends gt{}class Yg extends Qs{}class qp extends Qs{_call(Fe){return ot(this,null,function*(){return new kl(yield lr(qp.prototype,this,"_call").call(this,Fe))})}}class q0 extends Qs{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(q0.prototype,this,"_call").call(this,Fe))})}}class Ul extends gt{}class Jg extends Ul{}class Xp extends Ul{_call(Fe){return ot(this,null,function*(){return new kl(yield lr(Xp.prototype,this,"_call").call(this,Fe))})}}class Qp extends Ul{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(Qp.prototype,this,"_call").call(this,Fe))})}}class X0 extends Ul{_call(Fe){return ot(this,null,function*(){return new W_(yield lr(X0.prototype,this,"_call").call(this,Fe))})}}class Yp extends Ul{_call(Fe){return ot(this,null,function*(){return new Wn(yield lr(Yp.prototype,this,"_call").call(this,Fe))})}}class Zg extends gt{}class e_ extends Zg{}class Jp extends gt{}class pw extends Jp{}class ds extends Jp{}class Ts extends Jp{generate_speech(yr,Or){return ot(this,arguments,function*(Fe,yt,{threshold:Wt=.5,minlenratio:Xt=0,maxlenratio:ir=20,vocoder:br=null}={}){let Jr={input_ids:Fe},{encoder_outputs:po,encoder_attention_mask:ko}=yield Ft(this,Jr),so=po.dims[1]/this.config.reduction_factor,To=Math.floor(so*ir),vo=Math.floor(so*Xt),Po=this.config.num_mel_bins,Eo=[],zo=null,gn=null,Go=0;for(;;){++Go;let zn=Ct(!!gn),ii;gn?ii=gn.output_sequence_out:ii=new $.Tensor("float32",new Float32Array(Po),[1,1,Po]);let gi={use_cache_branch:zn,output_sequence:ii,encoder_attention_mask:ko,speaker_embeddings:yt,encoder_hidden_states:po};this.addPastKeyValues(gi,zo),gn=yield mt(this.sessions.decoder_model_merged,gi),zo=this.getPastKeyValues(gn,zo);let{prob:Xi,spectrum:Ml}=gn;if(Eo.push(Ml),Go>=vo&&(Array.from(Xi.data).filter(Es=>Es>=Wt).length>0||Go>=To))break}let Pn=(0,$.cat)(Eo),{waveform:Nn}=yield mt(br.sessions.model,{spectrogram:Pn});return{spectrogram:Pn,waveform:Nn}})}}class xl extends gt{main_input_name="spectrogram"}class wl extends gt{}class t_ extends wl{}class Q0 extends gt{}class r_ extends Q0{}class o_ extends Q0{}class Y0 extends gt{}class n_ extends Y0{}class i_ extends Y0{}class J0 extends gt{}class a_ extends J0{}class s_ extends J0{}class Z0 extends gt{}class Ti extends Z0{}class Zp extends Z0{static from_pretrained(Wt){return ot(this,arguments,function*(Fe,yt={}){return lr(Zp,this,"from_pretrained").call(this,Fe,Gr(Vt({},yt),{model_file_name:yt.model_file_name??"text_model"}))})}}class ef extends Z0{static from_pretrained(Wt){return ot(this,arguments,function*(Fe,yt={}){return lr(ef,this,"from_pretrained").call(this,Fe,Gr(Vt({},yt),{model_file_name:yt.model_file_name??"audio_model"}))})}}class eh extends gt{}class wu extends eh{_call(Fe){return ot(this,null,function*(){return new H_(yield lr(wu.prototype,this,"_call").call(this,Fe))})}}class Cl extends gt{}class a1 extends Cl{}class l_ extends Cl{}class c_ extends Cl{}class th extends gt{}class d_ extends th{}class u_ extends th{}class tf extends gt{}class p_ extends tf{}class rf extends tf{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(rf.prototype,this,"_call").call(this,Fe))})}}class rh extends gt{}class s1 extends rh{}class l1 extends rh{}class Wl extends gt{forward_params=["input_ids","attention_mask","encoder_outputs","decoder_input_ids","decoder_attention_mask","past_key_values"];_apply_and_filter_by_delay_pattern_mask(Fe){let[yt,Wt]=Fe.dims,Xt=this.config.decoder.num_codebooks,ir=Wt-Xt,br=0;for(let Jr=0;Jr<Fe.size;++Jr){if(Fe.data[Jr]===this.config.decoder.pad_token_id)continue;let po=Jr%Wt,ko=Math.floor(Jr/Wt)%Xt,so=po-ko;so>0&&so<=ir&&(Fe.data[br++]=Fe.data[Jr])}let yr=Math.floor(yt/Xt),Or=br/(yr*Xt);return new $.Tensor(Fe.type,Fe.data.slice(0,br),[yr,Xt,Or])}prepare_inputs_for_generation(Fe,yt,Wt){let Xt=structuredClone(Fe);for(let br=0;br<Xt.length;++br)for(let yr=0;yr<Xt[br].length;++yr)br%this.config.decoder.num_codebooks>=yr&&(Xt[br][yr]=BigInt(this.config.decoder.pad_token_id));return Wt.guidance_scale!==null&&Wt.guidance_scale>1&&(Xt=Xt.concat(Xt)),super.prepare_inputs_for_generation(Xt,yt,Wt)}generate(Fe){return ot(this,null,function*(){let yt=yield lr(Wl.prototype,this,"generate").call(this,Fe),Wt=this._apply_and_filter_by_delay_pattern_mask(yt).unsqueeze_(0),{audio_values:Xt}=yield mt(this.sessions.encodec_decode,{audio_codes:Wt});return Xt})}}class oh extends gt{}class c1 extends oh{}class Cu extends oh{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(Cu.prototype,this,"_call").call(this,Fe))})}}class nh extends gt{}class f_ extends nh{}class of extends nh{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(of.prototype,this,"_call").call(this,Fe))})}}class h_ extends gt{}class m_ extends h_{}class nf extends h_{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(nf.prototype,this,"_call").call(this,Fe))})}}class ih extends gt{}class d1 extends ih{}class af extends ih{_call(Fe){return ot(this,null,function*(){return new Co(yield lr(af.prototype,this,"_call").call(this,Fe))})}}class g_ extends gt{}class u1 extends g_{}class __ extends gt{}class ku extends __{forward_params=["input_ids","pixel_values","images_seq_mask","images_emb_mask","attention_mask","position_ids","past_key_values"];constructor(...Fe){super(...Fe),this._generation_mode="text"}forward(Fe){return ot(this,null,function*(){let yt=this._generation_mode??"text",Wt;if(yt==="text"||!Fe.past_key_values){let Or=this.sessions.prepare_inputs_embeds,Jr=(0,h.pick)(Fe,Or.inputNames);Wt=yield mt(Or,Jr)}else{let Or=this.sessions.gen_img_embeds,Jr=(0,h.pick)({image_ids:Fe.input_ids},Or.inputNames);Wt=yield mt(Or,Jr)}let Xt=Vt(Vt({},Fe),Wt),ir=yield At(this,Xt),br=this.sessions[yt==="text"?"lm_head":"gen_head"];if(!br)throw new Error(`Unable to find "${br}" generation head`);let yr=yield mt(br,(0,h.pick)(ir,br.inputNames));return Vt(Vt(Vt({},Wt),ir),yr)})}generate(Fe){return ot(this,null,function*(){return this._generation_mode="text",lr(ku.prototype,this,"generate").call(this,Fe)})}generate_images(Fe){return ot(this,null,function*(){this._generation_mode="image";let yt=(Fe.inputs??Fe[this.main_input_name]).dims[1],Xt=(yield lr(ku.prototype,this,"generate").call(this,Fe)).slice(null,[yt,null]),ir=this.sessions.image_decode,{decoded_image:br}=yield mt(ir,{generated_tokens:Xt}),yr=br.add_(1).mul_(255/2).clamp_(0,255).to("uint8"),Or=[];for(let Jr of yr){let po=Me.RawImage.fromTensor(Jr);Or.push(po)}return Or})}}class b_ extends st{constructor({char_logits:Fe,bpe_logits:yt,wp_logits:Wt}){super(),this.char_logits=Fe,this.bpe_logits=yt,this.wp_logits=Wt}get logits(){return[this.char_logits,this.bpe_logits,this.wp_logits]}}class v_ extends gt{}class sf extends v_{_call(Fe){return ot(this,null,function*(){return new b_(yield lr(sf.prototype,this,"_call").call(this,Fe))})}}class y_ extends gt{}class x_ extends y_{}class w_ extends y_{}class ah extends gt{}class C_ extends ah{}class k_ extends ah{}let fn=(()=>{class Qe{static MODEL_CLASS_MAPPINGS=null;static BASE_IF_FAIL=!1;static from_pretrained(vo){return ot(this,arguments,function*(yt,{progress_callback:Wt=null,config:Xt=null,cache_dir:ir=null,local_files_only:br=!1,revision:yr="main",model_file_name:Or=null,subfolder:Jr="onnx",device:po=null,dtype:ko=null,use_external_data_format:so=null,session_options:To={}}={}){let Po={progress_callback:Wt,config:Xt,cache_dir:ir,local_files_only:br,revision:yr,model_file_name:Or,subfolder:Jr,device:po,dtype:ko,use_external_data_format:so,session_options:To};if(Po.config=yield n.AutoConfig.from_pretrained(yt,Po),!this.MODEL_CLASS_MAPPINGS)throw new Error("`MODEL_CLASS_MAPPINGS` not implemented for this type of `AutoClass`: "+this.name);for(let Eo of this.MODEL_CLASS_MAPPINGS){let zo=Eo.get(Po.config.model_type);if(zo)return yield zo[1].from_pretrained(yt,Po)}if(this.BASE_IF_FAIL)return console.warn(`Unknown model class "${Po.config.model_type}", attempting to construct from base class.`),yield gt.from_pretrained(yt,Po);throw Error(`Unsupported model type: ${Po.config.model_type}`)})}}return Qe})(),p1=new Map([["bert",["BertModel",xt]],["modernbert",["ModernBertModel",Cr]],["nomic_bert",["NomicBertModel",Et]],["roformer",["RoFormerModel",Tt]],["electra",["ElectraModel",pn]],["esm",["EsmModel",ap]],["convbert",["ConvBertModel",_r]],["camembert",["CamembertModel",ao]],["deberta",["DebertaModel",ss]],["deberta-v2",["DebertaV2Model",Wr]],["mpnet",["MPNetModel",Nl]],["albert",["AlbertModel",cu]],["distilbert",["DistilBertModel",ls]],["roberta",["RobertaModel",Ri]],["xlm",["XLMModel",qn]],["xlm-roberta",["XLMRobertaModel",eo]],["clap",["ClapModel",Ti]],["clip",["CLIPModel",mm]],["clipseg",["CLIPSegModel",_m]],["chinese_clip",["ChineseCLIPModel",_a]],["siglip",["SiglipModel",gm]],["jina_clip",["JinaCLIPModel",jl]],["mobilebert",["MobileBertModel",lu]],["squeezebert",["SqueezeBertModel",zl]],["wav2vec2",["Wav2Vec2Model",Gg]],["wav2vec2-bert",["Wav2Vec2BertModel",Qg]],["unispeech",["UniSpeechModel",qg]],["unispeech-sat",["UniSpeechSatModel",Xg]],["hubert",["HubertModel",Yg]],["wavlm",["WavLMModel",Jg]],["audio-spectrogram-transformer",["ASTModel",nm]],["vits",["VitsModel",wu]],["pyannote",["PyAnnoteModel",Hg]],["wespeaker-resnet",["WeSpeakerResNetModel",n1]],["detr",["DetrModel",y0]],["rt_detr",["RTDetrModel",Jv]],["table-transformer",["TableTransformerModel",wg]],["vit",["ViTModel",ig]],["ijepa",["IJepaModel",ag]],["pvt",["PvtModel",cg]],["vit_msn",["ViTMSNModel",Yv]],["vit_mae",["ViTMAEModel",ug]],["groupvit",["GroupViTModel",wa]],["fastvit",["FastViTModel",fg]],["mobilevit",["MobileViTModel",mg]],["mobilevitv2",["MobileViTV2Model",gg]],["owlvit",["OwlViTModel",_g]],["owlv2",["Owlv2Model",vg]],["beit",["BeitModel",bl]],["deit",["DeiTModel",Cg]],["hiera",["HieraModel",Ap]],["convnext",["ConvNextModel",Rg]],["convnextv2",["ConvNextV2Model",Og]],["dinov2",["Dinov2Model",$g]],["dinov2_with_registers",["Dinov2WithRegistersModel",Lg]],["resnet",["ResNetModel",kg]],["swin",["SwinModel",A0]],["swin2sr",["Swin2SRModel",I0]],["donut-swin",["DonutSwinModel",Fg]],["yolos",["YolosModel",zg]],["dpt",["DPTModel",Tg]],["glpn",["GLPNModel",e1]],["hifigan",["SpeechT5HifiGan",xl]],["efficientnet",["EfficientNetModel",p_]],["decision_transformer",["DecisionTransformerModel",u1]],["patchtst",["PatchTSTForPrediction",x_]],["patchtsmixer",["PatchTSMixerForPrediction",C_]],["mobilenet_v1",["MobileNetV1Model",c1]],["mobilenet_v2",["MobileNetV2Model",f_]],["mobilenet_v3",["MobileNetV3Model",m_]],["mobilenet_v4",["MobileNetV4Model",d1]],["maskformer",["MaskFormerModel",Bg]],["mgp-str",["MgpstrForSceneTextRecognition",sf]],["style_text_to_speech_2",["StyleTextToSpeech2Model",e_]]]),f1=new Map([["t5",["T5Model",We]],["longt5",["LongT5Model",Ot]],["mt5",["MT5Model",Rr]],["bart",["BartModel",Fr]],["mbart",["MBartModel",Fi]],["marian",["MarianModel",Vg]],["whisper",["WhisperModel",im]],["m2m_100",["M2M100Model",Wg]],["blenderbot",["BlenderbotModel",Zt]],["blenderbot-small",["BlenderbotSmallModel",$n]]]),h1=new Map([["bloom",["BloomModel",Zm]],["jais",["JAISModel",xm]],["gpt2",["GPT2Model",vm]],["gptj",["GPTJModel",Tm]],["gpt_bigcode",["GPTBigCodeModel",Sm]],["gpt_neo",["GPTNeoModel",ba]],["gpt_neox",["GPTNeoXModel",km]],["codegen",["CodeGenModel",Gf]],["llama",["LlamaModel",Kf]],["exaone",["ExaoneModel",Dm]],["olmo",["OlmoModel",Xv]],["olmo2",["Olmo2Model",$m]],["mobilellm",["MobileLLMModel",Fm]],["granite",["GraniteModel",Yo]],["cohere",["CohereModel",Nm]],["gemma",["GemmaModel",jm]],["gemma2",["Gemma2Model",Um]],["helium",["HeliumModel",bp]],["glm",["GlmModel",Im]],["openelm",["OpenELMModel",Gm]],["qwen2",["Qwen2Model",fu]],["phi",["PhiModel",Xm]],["phi3",["Phi3Model",Ym]],["mpt",["MptModel",tg]],["opt",["OPTModel",og]],["mistral",["MistralModel",r_]],["starcoder2",["Starcoder2Model",n_]],["falcon",["FalconModel",a_]],["stablelm",["StableLmModel",d_]]]),M_=new Map([["speecht5",["SpeechT5ForSpeechToText",ds]],["whisper",["WhisperForConditionalGeneration",dp]],["moonshine",["MoonshineForConditionalGeneration",am]]]),Mu=new Map([["speecht5",["SpeechT5ForTextToSpeech",Ts]]]),sh=new Map([["vits",["VitsModel",wu]],["musicgen",["MusicgenForConditionalGeneration",Wl]]]),lh=new Map([["bert",["BertForSequenceClassification",rr]],["modernbert",["ModernBertForSequenceClassification",dr]],["roformer",["RoFormerForSequenceClassification",tr]],["electra",["ElectraForSequenceClassification",Bi]],["esm",["EsmForSequenceClassification",ul]],["convbert",["ConvBertForSequenceClassification",$r]],["camembert",["CamembertForSequenceClassification",Ii]],["deberta",["DebertaForSequenceClassification",On]],["deberta-v2",["DebertaV2ForSequenceClassification",ci]],["mpnet",["MPNetForSequenceClassification",Ws]],["albert",["AlbertForSequenceClassification",qs]],["distilbert",["DistilBertForSequenceClassification",Un]],["roberta",["RobertaForSequenceClassification",qo]],["xlm",["XLMForSequenceClassification",Xn]],["xlm-roberta",["XLMRobertaForSequenceClassification",du]],["bart",["BartForSequenceClassification",uo]],["mbart",["MBartForSequenceClassification",Ro]],["mobilebert",["MobileBertForSequenceClassification",cs]],["squeezebert",["SqueezeBertForSequenceClassification",hl]]]),ch=new Map([["bert",["BertForTokenClassification",nr]],["modernbert",["ModernBertForTokenClassification",Ar]],["roformer",["RoFormerForTokenClassification",ur]],["electra",["ElectraForTokenClassification",Zi]],["esm",["EsmForTokenClassification",pl]],["convbert",["ConvBertForTokenClassification",Ur]],["camembert",["CamembertForTokenClassification",zi]],["deberta",["DebertaForTokenClassification",ni]],["deberta-v2",["DebertaV2ForTokenClassification",cl]],["mpnet",["MPNetForTokenClassification",Gs]],["distilbert",["DistilBertForTokenClassification",vs]],["roberta",["RobertaForTokenClassification",Tn]],["xlm",["XLMForTokenClassification",Hr]],["xlm-roberta",["XLMRobertaForTokenClassification",lp]]]),lf=new Map([["t5",["T5ForConditionalGeneration",wt]],["longt5",["LongT5ForConditionalGeneration",er]],["mt5",["MT5ForConditionalGeneration",zr]],["bart",["BartForConditionalGeneration",Wo]],["mbart",["MBartForConditionalGeneration",fo]],["marian",["MarianMTModel",Ug]],["m2m_100",["M2M100ForConditionalGeneration",U0]],["blenderbot",["BlenderbotForConditionalGeneration",ti]],["blenderbot-small",["BlenderbotSmallForConditionalGeneration",di]]]),dh=new Map([["bloom",["BloomForCausalLM",eg]],["gpt2",["GPT2LMHeadModel",ym]],["jais",["JAISLMHeadModel",wm]],["gptj",["GPTJForCausalLM",Em]],["gpt_bigcode",["GPTBigCodeForCausalLM",Pm]],["gpt_neo",["GPTNeoForCausalLM",Cm]],["gpt_neox",["GPTNeoXForCausalLM",Mm]],["codegen",["CodeGenForCausalLM",Am]],["llama",["LlamaForCausalLM",qv]],["exaone",["ExaoneForCausalLM",Yf]],["olmo",["OlmoForCausalLM",Om]],["olmo2",["Olmo2ForCausalLM",Qv]],["mobilellm",["MobileLLMForCausalLM",Rm]],["granite",["GraniteForCausalLM",Lm]],["cohere",["CohereForCausalLM",zm]],["gemma",["GemmaForCausalLM",Vm]],["gemma2",["Gemma2ForCausalLM",Wm]],["helium",["HeliumForCausalLM",Bm]],["glm",["GlmForCausalLM",pu]],["openelm",["OpenELMForCausalLM",Hm]],["qwen2",["Qwen2ForCausalLM",Km]],["phi",["PhiForCausalLM",Qm]],["phi3",["Phi3ForCausalLM",Jm]],["mpt",["MptForCausalLM",rg]],["opt",["OPTForCausalLM",ng]],["mbart",["MBartForCausalLM",Mi]],["mistral",["MistralForCausalLM",o_]],["starcoder2",["Starcoder2ForCausalLM",i_]],["falcon",["FalconForCausalLM",s_]],["trocr",["TrOCRForCausalLM",t_]],["stablelm",["StableLmForCausalLM",u_]],["phi3_v",["Phi3VForCausalLM",qi]]]),m1=new Map([["multi_modality",["MultiModalityCausalLM",ku]]]),uh=new Map([["bert",["BertForMaskedLM",Ut]],["modernbert",["ModernBertForMaskedLM",Tr]],["roformer",["RoFormerForMaskedLM",zt]],["electra",["ElectraForMaskedLM",Kn]],["esm",["EsmForMaskedLM",dl]],["convbert",["ConvBertForMaskedLM",qr]],["camembert",["CamembertForMaskedLM",ca]],["deberta",["DebertaForMaskedLM",Di]],["deberta-v2",["DebertaV2ForMaskedLM",oo]],["mpnet",["MPNetForMaskedLM",ys]],["albert",["AlbertForMaskedLM",Ko]],["distilbert",["DistilBertForMaskedLM",js]],["roberta",["RobertaForMaskedLM",Ui]],["xlm",["XLMWithLMHeadModel",En]],["xlm-roberta",["XLMRobertaForMaskedLM",sp]],["mobilebert",["MobileBertForMaskedLM",Ll]],["squeezebert",["SqueezeBertForMaskedLM",fl]]]),ph=new Map([["bert",["BertForQuestionAnswering",cr]],["roformer",["RoFormerForQuestionAnswering",kr]],["electra",["ElectraForQuestionAnswering",Rn]],["convbert",["ConvBertForQuestionAnswering",Io]],["camembert",["CamembertForQuestionAnswering",ga]],["deberta",["DebertaForQuestionAnswering",li]],["deberta-v2",["DebertaV2ForQuestionAnswering",zs]],["mpnet",["MPNetForQuestionAnswering",Hs]],["albert",["AlbertForQuestionAnswering",gl]],["distilbert",["DistilBertForQuestionAnswering",$o]],["roberta",["RobertaForQuestionAnswering",Nr]],["xlm",["XLMForQuestionAnswering",ws]],["xlm-roberta",["XLMRobertaForQuestionAnswering",cp]],["mobilebert",["MobileBertForQuestionAnswering",ji]],["squeezebert",["SqueezeBertForQuestionAnswering",ml]]]),fh=new Map([["vision-encoder-decoder",["VisionEncoderDecoderModel",Df]],["idefics3",["Idefics3ForConditionalGeneration",Ff]]]),g1=new Map([["llava",["LlavaForConditionalGeneration",up]],["llava_onevision",["LlavaOnevisionForConditionalGeneration",sm]],["moondream1",["Moondream1ForConditionalGeneration",lm]],["florence2",["Florence2ForConditionalGeneration",dm]],["qwen2-vl",["Qwen2VLForConditionalGeneration",qm]],["idefics3",["Idefics3ForConditionalGeneration",Ff]],["paligemma",["PaliGemmaForConditionalGeneration",pm]]]),T_=new Map([["vision-encoder-decoder",["VisionEncoderDecoderModel",Df]]]),E_=new Map([["vit",["ViTForImageClassification",hu]],["ijepa",["IJepaForImageClassification",wp]],["pvt",["PvtForImageClassification",mu]],["vit_msn",["ViTMSNForImageClassification",Cp]],["fastvit",["FastViTForImageClassification",kp]],["mobilevit",["MobileViTForImageClassification",Tp]],["mobilevitv2",["MobileViTV2ForImageClassification",_0]],["beit",["BeitForImageClassification",Cs]],["deit",["DeiTForImageClassification",gu]],["hiera",["HieraForImageClassification",_u]],["convnext",["ConvNextForImageClassification",bu]],["convnextv2",["ConvNextV2ForImageClassification",vu]],["dinov2",["Dinov2ForImageClassification",N0]],["dinov2_with_registers",["Dinov2WithRegistersForImageClassification",Rp]],["resnet",["ResNetForImageClassification",S0]],["swin",["SwinForImageClassification",yl]],["segformer",["SegformerForImageClassification",l_]],["efficientnet",["EfficientNetForImageClassification",rf]],["mobilenet_v1",["MobileNetV1ForImageClassification",Cu]],["mobilenet_v2",["MobileNetV2ForImageClassification",of]],["mobilenet_v3",["MobileNetV3ForImageClassification",nf]],["mobilenet_v4",["MobileNetV4ForImageClassification",af]]]),S_=new Map([["detr",["DetrForObjectDetection",Ms]],["rt_detr",["RTDetrForObjectDetection",vl]],["table-transformer",["TableTransformerForObjectDetection",Sp]],["yolos",["YolosForObjectDetection",Op]]]),hh=new Map([["owlvit",["OwlViTForObjectDetection",bg]],["owlv2",["Owlv2ForObjectDetection",yg]],["grounding-dino",["GroundingDinoForObjectDetection",Ng]]]),P_=new Map([["detr",["DetrForSegmentation",Qn]],["clipseg",["CLIPSegForImageSegmentation",bm]]]),A_=new Map([["segformer",["SegformerForSemanticSegmentation",c_]],["sapiens",["SapiensForSemanticSegmentation",Pg]]]),B_=new Map([["detr",["DetrForSegmentation",Qn]],["maskformer",["MaskFormerForInstanceSegmentation",Ig]]]),I_=new Map([["sam",["SamModel",Vl]]]),_1=new Map([["wav2vec2",["Wav2Vec2ForCTC",Lp]],["wav2vec2-bert",["Wav2Vec2BertForCTC",K0]],["unispeech",["UniSpeechForCTC",G0]],["unispeech-sat",["UniSpeechSatForCTC",Wp]],["wavlm",["WavLMForCTC",Xp]],["hubert",["HubertForCTC",qp]]]),D_=new Map([["wav2vec2",["Wav2Vec2ForSequenceClassification",W0]],["wav2vec2-bert",["Wav2Vec2BertForSequenceClassification",Kp]],["unispeech",["UniSpeechForSequenceClassification",Up]],["unispeech-sat",["UniSpeechSatForSequenceClassification",H0]],["wavlm",["WavLMForSequenceClassification",Qp]],["hubert",["HubertForSequenceClassification",q0]],["audio-spectrogram-transformer",["ASTForAudioClassification",Af]]]),F_=new Map([["wavlm",["WavLMForXVector",X0]]]),R_=new Map([["unispeech-sat",["UniSpeechSatForAudioFrameClassification",Gp]],["wavlm",["WavLMForAudioFrameClassification",Yp]],["wav2vec2",["Wav2Vec2ForAudioFrameClassification",Np]],["pyannote",["PyAnnoteForAudioFrameClassification",jp]]]),O_=new Map([["vitmatte",["VitMatteForImageMatting",Mp]]]),fw=new Map([["patchtst",["PatchTSTForPrediction",w_]],["patchtsmixer",["PatchTSMixerForPrediction",k_]]]),$_=new Map([["swin2sr",["Swin2SRForImageSuperResolution",Mg]]]),L_=new Map([["dpt",["DPTForDepthEstimation",Zv]],["depth_anything",["DepthAnythingForDepthEstimation",Sg]],["glpn",["GLPNForDepthEstimation",Dg]],["sapiens",["SapiensForDepthEstimation",Bp]],["depth_pro",["DepthProForDepthEstimation",R0]]]),N_=new Map([["sapiens",["SapiensForNormalEstimation",Ag]]]),b1=new Map([["vitpose",["VitPoseForPoseEstimation",lg]]]),z_=new Map([["clip",["CLIPVisionModelWithProjection",fp]],["siglip",["SiglipVisionModel",mp]],["jina_clip",["JinaCLIPVisionModel",Wi]]]),j_=[[p1,Ne.EncoderOnly],[f1,Ne.EncoderDecoder],[h1,Ne.DecoderOnly],[lh,Ne.EncoderOnly],[ch,Ne.EncoderOnly],[lf,Ne.Seq2Seq],[M_,Ne.Seq2Seq],[dh,Ne.DecoderOnly],[m1,Ne.MultiModality],[uh,Ne.EncoderOnly],[ph,Ne.EncoderOnly],[fh,Ne.Vision2Seq],[g1,Ne.ImageTextToText],[E_,Ne.EncoderOnly],[P_,Ne.EncoderOnly],[B_,Ne.EncoderOnly],[A_,Ne.EncoderOnly],[O_,Ne.EncoderOnly],[fw,Ne.EncoderOnly],[$_,Ne.EncoderOnly],[L_,Ne.EncoderOnly],[N_,Ne.EncoderOnly],[b1,Ne.EncoderOnly],[S_,Ne.EncoderOnly],[hh,Ne.EncoderOnly],[I_,Ne.MaskGeneration],[_1,Ne.EncoderOnly],[D_,Ne.EncoderOnly],[Mu,Ne.Seq2Seq],[sh,Ne.EncoderOnly],[F_,Ne.EncoderOnly],[R_,Ne.EncoderOnly],[z_,Ne.EncoderOnly]];for(let[Qe,Fe]of j_)for(let[yt,Wt]of Qe.values())Ge.set(yt,Fe),Oe.set(Wt,yt),Ve.set(yt,Wt);let v1=[["MusicgenForConditionalGeneration",Wl,Ne.Musicgen],["Phi3VForCausalLM",qi,Ne.Phi3V],["CLIPTextModelWithProjection",pp,Ne.EncoderOnly],["SiglipTextModel",hp,Ne.EncoderOnly],["JinaCLIPTextModel",uu,Ne.EncoderOnly],["ClapTextModelWithProjection",Zp,Ne.EncoderOnly],["ClapAudioModelWithProjection",ef,Ne.EncoderOnly]];for(let[Qe,Fe,yt]of v1)Ge.set(Qe,yt),Oe.set(Fe,Qe),Ve.set(Qe,Fe);class y1 extends fn{static MODEL_CLASS_MAPPINGS=j_.map(Fe=>Fe[0]);static BASE_IF_FAIL=!0}let hw=(()=>{class Qe extends fn{static MODEL_CLASS_MAPPINGS=[lh]}return Qe})(),x1=(()=>{class Qe extends fn{static MODEL_CLASS_MAPPINGS=[ch]}return Qe})(),w1=(()=>{class Qe extends fn{static MODEL_CLASS_MAPPINGS=[lf]}return Qe})(),C1=(()=>{class Qe extends fn{static MODEL_CLASS_MAPPINGS=[M_]}return Qe})(),V_=(()=>{class Qe extends fn{static MODEL_CLASS_MAPPINGS=[Mu]}return Qe})(),k1=(()=>{class Qe extends fn{static MODEL_CLASS_MAPPINGS=[sh]}return Qe})(),M1=(()=>{class Qe extends fn{static MODEL_CLASS_MAPPINGS=[dh]}return Qe})(),T1=(()=>{class Qe extends fn{static MODEL_CLASS_MAPPINGS=[uh]}return Qe})(),E1=(()=>{class Qe extends fn{static MODEL_CLASS_MAPPINGS=[ph]}return Qe})(),S1=(()=>{class Qe extends fn{static MODEL_CLASS_MAPPINGS=[fh]}return Qe})(),P1=(()=>{class Qe extends fn{static MODEL_CLASS_MAPPINGS=[E_]}return Qe})(),A1=(()=>{class Qe extends fn{static MODEL_CLASS_MAPPINGS=[P_]}return Qe})(),B1=(()=>{class Qe extends fn{static MODEL_CLASS_MAPPINGS=[A_]}return Qe})(),U_=(()=>{class Qe extends fn{static MODEL_CLASS_MAPPINGS=[B_]}return Qe})(),I1=(()=>{class Qe extends fn{static MODEL_CLASS_MAPPINGS=[S_]}return Qe})(),D1=(()=>{class Qe extends fn{static MODEL_CLASS_MAPPINGS=[hh]}return Qe})(),F1=(()=>{class Qe extends fn{static MODEL_CLASS_MAPPINGS=[I_]}return Qe})(),R1=(()=>{class Qe extends fn{static MODEL_CLASS_MAPPINGS=[_1]}return Qe})(),O1=(()=>{class Qe extends fn{static MODEL_CLASS_MAPPINGS=[D_]}return Qe})(),$1=(()=>{class Qe extends fn{static MODEL_CLASS_MAPPINGS=[F_]}return Qe})(),L1=(()=>{class Qe extends fn{static MODEL_CLASS_MAPPINGS=[R_]}return Qe})(),mw=(()=>{class Qe extends fn{static MODEL_CLASS_MAPPINGS=[T_]}return Qe})(),N1=(()=>{class Qe extends fn{static MODEL_CLASS_MAPPINGS=[O_]}return Qe})(),z1=(()=>{class Qe extends fn{static MODEL_CLASS_MAPPINGS=[$_]}return Qe})(),j1=(()=>{class Qe extends fn{static MODEL_CLASS_MAPPINGS=[L_]}return Qe})(),gw=(()=>{class Qe extends fn{static MODEL_CLASS_MAPPINGS=[N_]}return Qe})(),V1=(()=>{class Qe extends fn{static MODEL_CLASS_MAPPINGS=[b1]}return Qe})(),U1=(()=>{class Qe extends fn{static MODEL_CLASS_MAPPINGS=[z_]}return Qe})();class W1 extends st{constructor({logits:Fe,past_key_values:yt,encoder_outputs:Wt,decoder_attentions:Xt=null,cross_attentions:ir=null}){super(),this.logits=Fe,this.past_key_values=yt,this.encoder_outputs=Wt,this.decoder_attentions=Xt,this.cross_attentions=ir}}class Co extends st{constructor(Wt){var Xt=Wt,{logits:Fe}=Xt,yt=Ta(Xt,["logits"]);super(),this.logits=Fe;let ir=Object.values(yt);ir.length>0&&(this.attentions=ir)}}class W_ extends st{constructor({logits:Fe,embeddings:yt}){super(),this.logits=Fe,this.embeddings=yt}}class Wn extends st{constructor({logits:Fe}){super(),this.logits=Fe}}class ui extends st{constructor({logits:Fe}){super(),this.logits=Fe}}class pi extends st{constructor({start_logits:Fe,end_logits:yt}){super(),this.start_logits=Fe,this.end_logits=yt}}class kl extends st{constructor({logits:Fe}){super(),this.logits=Fe}}class G1 extends st{constructor({logits:Fe,past_key_values:yt}){super(),this.logits=Fe,this.past_key_values=yt}}class G_ extends st{constructor({alphas:Fe}){super(),this.alphas=Fe}}class H_ extends st{constructor({waveform:Fe,spectrogram:yt}){super(),this.waveform=Fe,this.spectrogram=yt}}},"./src/models/audio_spectrogram_transformer/feature_extraction_audio_spectrogram_transformer.js":(r,o,e)=>{e.r(o),e.d(o,{ASTFeatureExtractor:()=>u});var n=e("./src/base/feature_extraction_utils.js"),s=e("./src/utils/tensor.js"),c=e("./src/utils/audio.js");class u extends n.FeatureExtractor{constructor(p){super(p);let y=this.config.sampling_rate,k=(0,c.mel_filter_bank)(256,this.config.num_mel_bins,20,Math.floor(y/2),y,null,"kaldi",!0);for(let G=0;G<k.length;++G)k[G].push(0);this.mel_filters=k,this.window=(0,c.window_function)(400,"hann",{periodic:!1}),this.mean=this.config.mean,this.std=this.config.std}_extract_fbank_features(p,y){return ot(this,null,function*(){return(0,c.spectrogram)(p,this.window,400,160,{fft_length:512,power:2,center:!1,preemphasis:.97,mel_filters:this.mel_filters,log_mel:"log",mel_floor:1192092955078125e-22,remove_dc_offset:!0,max_num_frames:y,transpose:!0})})}_call(p){return ot(this,null,function*(){(0,n.validate_audio_inputs)(p,"ASTFeatureExtractor");let y=yield this._extract_fbank_features(p,this.config.max_length);if(this.config.do_normalize){let k=this.std*2,G=y.data;for(let $=0;$<G.length;++$)G[$]=(G[$]-this.mean)/k}return{input_values:y.unsqueeze_(0)}})}}},"./src/models/auto/feature_extraction_auto.js":(r,o,e)=>{e.r(o),e.d(o,{AutoFeatureExtractor:()=>h});var n=e("./src/utils/constants.js"),s=e("./src/utils/hub.js"),c=e("./src/base/feature_extraction_utils.js"),u=e("./src/models/feature_extractors.js");class h{static from_pretrained(G){return ot(this,arguments,function*(y,k={}){let $=yield(0,s.getModelJSON)(y,n.FEATURE_EXTRACTOR_NAME,!0,k),Me=$.feature_extractor_type,Re=u[Me];if(!Re)throw new Error(`Unknown feature_extractor_type: '${Me}'. Please report this at ${n.GITHUB_ISSUE_URL}.`);return new Re($)})}}},"./src/models/auto/image_processing_auto.js":(r,o,e)=>{e.r(o),e.d(o,{AutoImageProcessor:()=>h});var n=e("./src/utils/constants.js"),s=e("./src/utils/hub.js"),c=e("./src/base/image_processors_utils.js"),u=e("./src/models/image_processors.js");class h{static from_pretrained(G){return ot(this,arguments,function*(y,k={}){let $=yield(0,s.getModelJSON)(y,n.IMAGE_PROCESSOR_NAME,!0,k),Me=$.image_processor_type??$.feature_extractor_type,Re=u[Me];return Re||(Me!==void 0&&console.warn(`Image processor type '${Me}' not found, assuming base ImageProcessor. Please report this at ${n.GITHUB_ISSUE_URL}.`),Re=c.ImageProcessor),new Re($)})}}},"./src/models/auto/processing_auto.js":(r,o,e)=>{e.r(o),e.d(o,{AutoProcessor:()=>y});var n=e("./src/utils/constants.js"),s=e("./src/utils/hub.js"),c=e("./src/base/processing_utils.js"),u=e("./src/models/processors.js"),h=e("./src/models/image_processors.js"),p=e("./src/models/feature_extractors.js");class y{static from_pretrained(Me){return ot(this,arguments,function*(G,$={}){let Re=yield(0,s.getModelJSON)(G,n.IMAGE_PROCESSOR_NAME,!0,$),{image_processor_type:Ke,feature_extractor_type:He,processor_class:Ie}=Re;if(Ie&&u[Ie])return u[Ie].from_pretrained(G,$);if(!Ke&&!He)throw new Error("No `image_processor_type` or `feature_extractor_type` found in the config.");let Pe={};if(Ke){let Ne=h[Ke];if(!Ne)throw new Error(`Unknown image_processor_type: '${Ke}'.`);Pe.image_processor=new Ne(Re)}if(He){let Ne=h[He];if(Ne)Pe.image_processor=new Ne(Re);else{let Ge=p[He];if(!Ge)throw new Error(`Unknown feature_extractor_type: '${He}'.`);Pe.feature_extractor=new Ge(Re)}}let Xe={};return new c.Processor(Xe,Pe)})}}},"./src/models/beit/image_processing_beit.js":(r,o,e)=>{e.r(o),e.d(o,{BeitFeatureExtractor:()=>s});var n=e("./src/base/image_processors_utils.js");class s extends n.ImageProcessor{}},"./src/models/bit/image_processing_bit.js":(r,o,e)=>{e.r(o),e.d(o,{BitImageProcessor:()=>s});var n=e("./src/base/image_processors_utils.js");class s extends n.ImageProcessor{}},"./src/models/chinese_clip/image_processing_chinese_clip.js":(r,o,e)=>{e.r(o),e.d(o,{ChineseCLIPFeatureExtractor:()=>s});var n=e("./src/base/image_processors_utils.js");class s extends n.ImageProcessor{}},"./src/models/clap/feature_extraction_clap.js":(r,o,e)=>{e.r(o),e.d(o,{ClapFeatureExtractor:()=>u});var n=e("./src/base/feature_extraction_utils.js"),s=e("./src/utils/tensor.js"),c=e("./src/utils/audio.js");class u extends n.FeatureExtractor{constructor(p){super(p),this.mel_filters=(0,c.mel_filter_bank)(this.config.nb_frequency_bins,this.config.feature_size,this.config.frequency_min,this.config.frequency_max,this.config.sampling_rate,null,"htk"),this.mel_filters_slaney=(0,c.mel_filter_bank)(this.config.nb_frequency_bins,this.config.feature_size,this.config.frequency_min,this.config.frequency_max,this.config.sampling_rate,"slaney","slaney"),this.window=(0,c.window_function)(this.config.fft_window_size,"hann")}_get_input_mel(p,y,k,G){return ot(this,null,function*(){let $,Me=!1,Re=p.length-y;if(Re>0)if(k==="rand_trunc"){Me=!0;let Ke=Math.floor(Math.random()*(Re+1));p=p.subarray(Ke,Ke+y),$=yield this._extract_fbank_features(p,this.mel_filters_slaney,this.config.nb_max_samples)}else throw new Error(`Truncation strategy "${k}" not implemented`);else{if(Re<0){let Ke=new Float64Array(y);if(Ke.set(p),G==="repeat")for(let He=p.length;He<y;He+=p.length)Ke.set(p.subarray(0,Math.min(p.length,y-He)),He);else if(G==="repeatpad")for(let He=p.length;He<-Re;He+=p.length)Ke.set(p,He);p=Ke}if(k==="fusion")throw new Error(`Truncation strategy "${k}" not implemented`);$=yield this._extract_fbank_features(p,this.mel_filters_slaney,this.config.nb_max_samples)}return $.unsqueeze_(0)})}_extract_fbank_features(p,y,k=null){return ot(this,null,function*(){return(0,c.spectrogram)(p,this.window,this.config.fft_window_size,this.config.hop_length,{power:2,mel_filters:y,log_mel:"dB",max_num_frames:k,do_pad:!1,transpose:!0})})}_call(k){return ot(this,arguments,function*(p,{max_length:y=null}={}){return(0,n.validate_audio_inputs)(p,"ClapFeatureExtractor"),{input_features:(yield this._get_input_mel(p,y??this.config.nb_max_samples,this.config.truncation,this.config.padding)).unsqueeze_(0)}})}}},"./src/models/clip/image_processing_clip.js":(r,o,e)=>{e.r(o),e.d(o,{CLIPFeatureExtractor:()=>c,CLIPImageProcessor:()=>s});var n=e("./src/base/image_processors_utils.js");class s extends n.ImageProcessor{}class c extends s{}},"./src/models/convnext/image_processing_convnext.js":(r,o,e)=>{e.r(o),e.d(o,{ConvNextFeatureExtractor:()=>c,ConvNextImageProcessor:()=>s});var n=e("./src/base/image_processors_utils.js");class s extends n.ImageProcessor{constructor(h){super(h),this.crop_pct=this.config.crop_pct??.875}resize(h){return ot(this,null,function*(){let p=this.size?.shortest_edge;if(p===void 0)throw new Error("Size dictionary must contain 'shortest_edge' key.");if(p<384){let y=Math.floor(p/this.crop_pct),[k,G]=this.get_resize_output_image_size(h,{shortest_edge:y});h=yield h.resize(k,G,{resample:this.resample}),h=yield h.center_crop(p,p)}else h=yield h.resize(p,p,{resample:this.resample});return h})}}class c extends s{}},"./src/models/deit/image_processing_deit.js":(r,o,e)=>{e.r(o),e.d(o,{DeiTFeatureExtractor:()=>c,DeiTImageProcessor:()=>s});var n=e("./src/base/image_processors_utils.js");class s extends n.ImageProcessor{}class c extends s{}},"./src/models/detr/image_processing_detr.js":(r,o,e)=>{e.r(o),e.d(o,{DetrFeatureExtractor:()=>u,DetrImageProcessor:()=>c});var n=e("./src/base/image_processors_utils.js"),s=e("./src/utils/tensor.js");class c extends n.ImageProcessor{_call(p){return ot(this,null,function*(){let y=yield lr(c.prototype,this,"_call").call(this,p),k=[y.pixel_values.dims[0],64,64],G=(0,s.full)(k,1n);return Gr(Vt({},y),{pixel_mask:G})})}post_process_object_detection(...p){return(0,n.post_process_object_detection)(...p)}post_process_panoptic_segmentation(...p){return(0,n.post_process_panoptic_segmentation)(...p)}post_process_instance_segmentation(...p){return(0,n.post_process_instance_segmentation)(...p)}}class u extends c{}},"./src/models/donut/image_processing_donut.js":(r,o,e)=>{e.r(o),e.d(o,{DonutFeatureExtractor:()=>c,DonutImageProcessor:()=>s});var n=e("./src/base/image_processors_utils.js");class s extends n.ImageProcessor{pad_image(h,p,y,k={}){let[G,$,Me]=p,Re=this.image_mean;Array.isArray(this.image_mean)||(Re=new Array(Me).fill(Re));let Ke=this.image_std;Array.isArray(Ke)||(Ke=new Array(Me).fill(Re));let He=Re.map((Ie,Pe)=>-Ie/Ke[Pe]);return super.pad_image(h,p,y,Vt({center:!0,constant_values:He},k))}}class c extends s{}},"./src/models/dpt/image_processing_dpt.js":(r,o,e)=>{e.r(o),e.d(o,{DPTFeatureExtractor:()=>c,DPTImageProcessor:()=>s});var n=e("./src/base/image_processors_utils.js");class s extends n.ImageProcessor{}class c extends s{}},"./src/models/efficientnet/image_processing_efficientnet.js":(r,o,e)=>{e.r(o),e.d(o,{EfficientNetImageProcessor:()=>s});var n=e("./src/base/image_processors_utils.js");class s extends n.ImageProcessor{constructor(u){super(u),this.include_top=this.config.include_top??!0,this.include_top&&(this.image_std=this.image_std.map(h=>h*h))}}},"./src/models/feature_extractors.js":(r,o,e)=>{e.r(o),e.d(o,{ASTFeatureExtractor:()=>n.ASTFeatureExtractor,ClapFeatureExtractor:()=>s.ClapFeatureExtractor,ImageFeatureExtractor:()=>$.ImageProcessor,MoonshineFeatureExtractor:()=>c.MoonshineFeatureExtractor,PyAnnoteFeatureExtractor:()=>u.PyAnnoteFeatureExtractor,SeamlessM4TFeatureExtractor:()=>h.SeamlessM4TFeatureExtractor,SpeechT5FeatureExtractor:()=>p.SpeechT5FeatureExtractor,Wav2Vec2FeatureExtractor:()=>y.Wav2Vec2FeatureExtractor,WeSpeakerFeatureExtractor:()=>k.WeSpeakerFeatureExtractor,WhisperFeatureExtractor:()=>G.WhisperFeatureExtractor});var n=e("./src/models/audio_spectrogram_transformer/feature_extraction_audio_spectrogram_transformer.js"),s=e("./src/models/clap/feature_extraction_clap.js"),c=e("./src/models/moonshine/feature_extraction_moonshine.js"),u=e("./src/models/pyannote/feature_extraction_pyannote.js"),h=e("./src/models/seamless_m4t/feature_extraction_seamless_m4t.js"),p=e("./src/models/speecht5/feature_extraction_speecht5.js"),y=e("./src/models/wav2vec2/feature_extraction_wav2vec2.js"),k=e("./src/models/wespeaker/feature_extraction_wespeaker.js"),G=e("./src/models/whisper/feature_extraction_whisper.js"),$=e("./src/base/image_processors_utils.js")},"./src/models/florence2/processing_florence2.js":(r,o,e)=>{e.r(o),e.d(o,{Florence2Processor:()=>u});var n=e("./src/base/processing_utils.js"),s=e("./src/models/auto/image_processing_auto.js"),c=e("./src/tokenizers.js");class u extends n.Processor{static tokenizer_class=c.AutoTokenizer;static image_processor_class=s.AutoImageProcessor;constructor(p,y){super(p,y);let{tasks_answer_post_processing_type:k,task_prompts_without_inputs:G,task_prompts_with_input:$}=this.image_processor.config;this.tasks_answer_post_processing_type=new Map(Object.entries(k??{})),this.task_prompts_without_inputs=new Map(Object.entries(G??{})),this.task_prompts_with_input=new Map(Object.entries($??{})),this.regexes={quad_boxes:/(.+?)<loc_(\d+)><loc_(\d+)><loc_(\d+)><loc_(\d+)><loc_(\d+)><loc_(\d+)><loc_(\d+)><loc_(\d+)>/gm,bboxes:/([^<]+)?<loc_(\d+)><loc_(\d+)><loc_(\d+)><loc_(\d+)>/gm},this.size_per_bin=1e3}construct_prompts(p){typeof p=="string"&&(p=[p]);let y=[];for(let k of p)if(this.task_prompts_without_inputs.has(k))y.push(this.task_prompts_without_inputs.get(k));else{for(let[G,$]of this.task_prompts_with_input)if(k.includes(G)){y.push($.replaceAll("{input}",k).replaceAll(G,""));break}y.length!==p.length&&y.push(k)}return y}post_process_generation(p,y,k){let G=this.tasks_answer_post_processing_type.get(y)??"pure_text";p=p.replaceAll("<s>","").replaceAll("</s>","");let $;switch(G){case"pure_text":$=p;break;case"description_with_bboxes":case"bboxes":case"phrase_grounding":case"ocr":let Me=G==="ocr"?"quad_boxes":"bboxes",Re=p.matchAll(this.regexes[Me]),Ke=[],He=[];for(let[Ie,Pe,...Xe]of Re)Ke.push(Pe?Pe.trim():Ke.at(-1)??""),He.push(Xe.map((Ne,Ge)=>(Number(Ne)+.5)/this.size_per_bin*k[Ge%2]));$={labels:Ke,[Me]:He};break;default:throw new Error(`Task "${y}" (of type "${G}") not yet implemented.`)}return{[y]:$}}_call(G){return ot(this,arguments,function*(p,y=null,k={}){if(!p&&!y)throw new Error("Either text or images must be provided");let $=yield this.image_processor(p,k),Me=y?this.tokenizer(y,k):{};return Vt(Vt({},$),Me)})}}},"./src/models/glpn/image_processing_glpn.js":(r,o,e)=>{e.r(o),e.d(o,{GLPNFeatureExtractor:()=>s});var n=e("./src/base/image_processors_utils.js");class s extends n.ImageProcessor{}},"./src/models/grounding_dino/image_processing_grounding_dino.js":(r,o,e)=>{e.r(o),e.d(o,{GroundingDinoImageProcessor:()=>c});var n=e("./src/base/image_processors_utils.js"),s=e("./src/utils/tensor.js");class c extends n.ImageProcessor{_call(h){return ot(this,null,function*(){let p=yield lr(c.prototype,this,"_call").call(this,h),y=p.pixel_values.dims,k=(0,s.ones)([y[0],y[2],y[3]]);return Gr(Vt({},p),{pixel_mask:k})})}}},"./src/models/grounding_dino/processing_grounding_dino.js":(r,o,e)=>{e.r(o),e.d(o,{GroundingDinoProcessor:()=>p});var n=e("./src/base/processing_utils.js"),s=e("./src/models/auto/image_processing_auto.js"),c=e("./src/tokenizers.js"),u=e("./src/base/image_processors_utils.js");function h(y,k){let $=y.dims.at(-1)-1,Me=y.tolist();Me.fill(!1,0,1),Me.fill(!1,$);let Re=k.tolist();return Me.map((Ke,He)=>Ke?He:null).filter(Ke=>Ke!==null).map(Ke=>Re[Ke])}class p extends n.Processor{static tokenizer_class=c.AutoTokenizer;static image_processor_class=s.AutoImageProcessor;_call(Me,Re){return ot(this,arguments,function*(k,G,$={}){let Ke=k?yield this.image_processor(k,$):{},He=G?this.tokenizer(G,$):{};return Vt(Vt({},He),Ke)})}post_process_grounded_object_detection(k,G,{box_threshold:$=.25,text_threshold:Me=.25,target_sizes:Re=null}={}){let{logits:Ke,pred_boxes:He}=k,Ie=Ke.dims[0];if(Re!==null&&Re.length!==Ie)throw Error("Make sure that you pass in as many target sizes as the batch dimension of the logits");let Pe=Ke.dims.at(1),Xe=Ke.sigmoid(),Ne=Xe.max(-1).tolist(),Ge=He.tolist().map(Oe=>Oe.map(Ue=>(0,u.center_to_corners_format)(Ue))),Ve=[];for(let Oe=0;Oe<Ie;++Oe){let Ue=Re!==null?Re[Oe]:null;Ue!==null&&(Ge[Oe]=Ge[Oe].map(ut=>ut.map((ht,Ct)=>ht*Ue[(Ct+1)%2])));let tt=Ne[Oe],bt=[],lt=[],mt=[];for(let ut=0;ut<Pe;++ut){let ht=tt[ut];if(ht<=$)continue;let Ct=Ge[Oe][ut],It=Xe[Oe][ut];bt.push(ht),mt.push(Ct);let Ft=h(It.gt(Me),G[Oe]);lt.push(Ft)}Ve.push({scores:bt,boxes:mt,labels:this.batch_decode(lt)})}return Ve}}},"./src/models/idefics3/image_processing_idefics3.js":(r,o,e)=>{e.r(o),e.d(o,{Idefics3ImageProcessor:()=>c});var n=e("./src/base/image_processors_utils.js"),s=e("./src/utils/tensor.js");class c extends n.ImageProcessor{constructor(h){super(h),this.do_image_splitting=h.do_image_splitting??!0,this.max_image_size=h.max_image_size}get_resize_for_vision_encoder(h,p){let[y,k]=h.dims.slice(-2),G=k/y;return k>=y?(k=Math.ceil(k/p)*p,y=Math.floor(k/G),y=Math.ceil(y/p)*p):(y=Math.ceil(y/p)*p,k=Math.floor(y*G),k=Math.ceil(k/p)*p),{height:y,width:k}}_call(k){return ot(this,arguments,function*(h,{do_image_splitting:p=null,return_row_col_info:y=!1}={}){let G;if(!Array.isArray(h))G=[[h]];else{if(h.length===0||!h[0])throw new Error("No images provided.");Array.isArray(h[0])?G=h:G=[h]}let $=[],Me=[],Re=[],Ke=[],He=[];for(let Ue of G){let tt=yield Promise.all(Ue.map(mt=>this.preprocess(mt)));Ke.push(...tt.map(mt=>mt.original_size)),He.push(...tt.map(mt=>mt.reshaped_input_size)),tt.forEach(mt=>mt.pixel_values.unsqueeze_(0));let{longest_edge:bt}=this.max_image_size,lt;if(p??this.do_image_splitting){let mt=new Array(tt.length),ut=new Array(tt.length);lt=yield Promise.all(tt.map((ht,Ct)=>ot(this,null,function*(){let It=this.get_resize_for_vision_encoder(ht.pixel_values,bt),Ft=yield(0,s.interpolate_4d)(ht.pixel_values,{size:[It.height,It.width]}),{frames:At,num_splits_h:Dt,num_splits_w:Rt}=yield this.split_image(Ft,this.max_image_size);return mt[Ct]=Dt,ut[Ct]=Rt,(0,s.cat)(At,0)}))),Me.push(mt),Re.push(ut)}else{let mt=[bt,bt];lt=yield Promise.all(tt.map(ut=>(0,s.interpolate_4d)(ut.pixel_values,{size:mt}))),Me.push(new Array(tt.length).fill(0)),Re.push(new Array(tt.length).fill(0))}$.push((0,s.cat)(lt,0))}let Ie=$.length,[Pe,Xe,Ne,Ge]=$[0].dims,Ve,Oe;if(Ie===1)Ve=$[0].unsqueeze_(0),Oe=(0,s.full)([Ie,Pe,Ne,Ge],!0);else{let Ue=Math.max(...$.map(lt=>lt.dims.at(0)));Oe=(0,s.full)([Ie,Ue,Ne,Ge],!0);let tt=Oe.data,bt=Ue*Ne*Ge;for(let lt=0;lt<Ie;++lt){let mt=$[lt].dims[0];if(mt<Ue){$[lt]=(0,s.cat)([$[lt],(0,s.full)([Ue-mt,Xe,Ne,Ge],0)],0);let ut=lt*bt+mt*Ne*Ge,ht=(lt+1)*bt;tt.fill(!1,ut,ht)}}Ve=(0,s.stack)($,0)}return Vt({pixel_values:Ve,pixel_attention_mask:Oe,original_sizes:Ke,reshaped_input_sizes:He},y?{rows:Me,cols:Re}:{})})}split_image(y,k){return ot(this,arguments,function*(h,{longest_edge:p}){let G=p,$=p,Me=[],[Re,Ke]=h.dims.slice(-2),He=0,Ie=0;if(Re>G||Ke>$){He=Math.ceil(Re/G),Ie=Math.ceil(Ke/$);let Pe=Math.ceil(Re/He),Xe=Math.ceil(Ke/Ie);for(let Ve=0;Ve<He;++Ve)for(let Oe=0;Oe<Ie;++Oe){let Ue,tt,bt,lt;Ve===He-1?(tt=Re-Pe,lt=Re):(tt=Ve*Pe,lt=(Ve+1)*Pe),Oe===Ie-1?(Ue=Ke-Xe,bt=Ke):(Ue=Oe*Xe,bt=(Oe+1)*Xe);let mt=[tt,Ue],ut=[lt,bt],ht=yield(0,s.slice)(h,mt,ut,[2,3]);Me.push(ht)}let Ne=G,Ge=$;(Re!==Ne||Ke!==Ge)&&(h=yield(0,s.interpolate_4d)(h,{size:[Ne,Ge]}))}return Me.push(h),{frames:Me,num_splits_h:He,num_splits_w:Ie}})}}},"./src/models/idefics3/processing_idefics3.js":(r,o,e)=>{e.r(o),e.d(o,{Idefics3Processor:()=>G});var n=e("./src/base/processing_utils.js"),s=e("./src/models/auto/image_processing_auto.js"),c=e("./src/tokenizers.js"),u=e("./src/utils/image.js"),h=e("./src/utils/core.js");function p($,Me,Re,Ke,He,Ie){let Pe="";for(let Xe=0;Xe<Me;++Xe){for(let Ne=0;Ne<Re;++Ne)Pe+=Ke+`<row_${Xe+1}_col_${Ne+1}>`+He.repeat($);Pe+=`
`}return Pe+=`
${Ke}${Ie}`+He.repeat($)+`${Ke}`,Pe}function y($,Me,Re,Ke){return`${Me}${Ke}`+Re.repeat($)+`${Me}`}function k($,Me,Re,Ke,He,Ie){return $===0&&Me===0?y(Re,Ke,He,Ie):p(Re,$,Me,Ke,He,Ie)}class G extends n.Processor{static image_processor_class=s.AutoImageProcessor;static tokenizer_class=c.AutoTokenizer;static uses_processor_config=!0;fake_image_token="<fake_token_around_image>";image_token="<image>";global_img_token="<global-img>";_call(He){return ot(this,arguments,function*(Me,Re=null,Ke={}){Ke.return_row_col_info??=!0;let Ie;Re&&(Ie=yield this.image_processor(Re,Ke)),Array.isArray(Me)||(Me=[Me]);let Pe=Ie.rows??[new Array(Me.length).fill(0)],Xe=Ie.cols??[new Array(Me.length).fill(0)],Ne=this.config.image_seq_len,Ge=[],Ve=[];for(let Ue=0;Ue<Me.length;++Ue){let tt=Me[Ue],bt=Pe[Ue],lt=Xe[Ue];Ge.push((0,h.count)(tt,this.image_token));let mt=bt.map((Ct,It)=>k(Ct,lt[It],Ne,this.fake_image_token,this.image_token,this.global_img_token)),ut=tt.split(this.image_token);if(ut.length===0)throw new Error("The image token should be present in the text.");let ht=ut[0];for(let Ct=0;Ct<mt.length;++Ct)ht+=mt[Ct]+ut[Ct+1];Ve.push(ht)}let Oe=this.tokenizer(Ve);return Vt(Vt({},Oe),Ie)})}}},"./src/models/image_processors.js":(r,o,e)=>{e.r(o),e.d(o,{BeitFeatureExtractor:()=>n.BeitFeatureExtractor,BitImageProcessor:()=>s.BitImageProcessor,CLIPFeatureExtractor:()=>u.CLIPFeatureExtractor,CLIPImageProcessor:()=>u.CLIPImageProcessor,ChineseCLIPFeatureExtractor:()=>c.ChineseCLIPFeatureExtractor,ConvNextFeatureExtractor:()=>h.ConvNextFeatureExtractor,ConvNextImageProcessor:()=>h.ConvNextImageProcessor,DPTFeatureExtractor:()=>G.DPTFeatureExtractor,DPTImageProcessor:()=>G.DPTImageProcessor,DeiTFeatureExtractor:()=>p.DeiTFeatureExtractor,DeiTImageProcessor:()=>p.DeiTImageProcessor,DetrFeatureExtractor:()=>y.DetrFeatureExtractor,DetrImageProcessor:()=>y.DetrImageProcessor,DonutFeatureExtractor:()=>k.DonutFeatureExtractor,DonutImageProcessor:()=>k.DonutImageProcessor,EfficientNetImageProcessor:()=>$.EfficientNetImageProcessor,GLPNFeatureExtractor:()=>Me.GLPNFeatureExtractor,GroundingDinoImageProcessor:()=>Re.GroundingDinoImageProcessor,Idefics3ImageProcessor:()=>Ke.Idefics3ImageProcessor,JinaCLIPImageProcessor:()=>Ie.JinaCLIPImageProcessor,LlavaOnevisionImageProcessor:()=>Pe.LlavaOnevisionImageProcessor,Mask2FormerImageProcessor:()=>Xe.Mask2FormerImageProcessor,MaskFormerFeatureExtractor:()=>Ne.MaskFormerFeatureExtractor,MaskFormerImageProcessor:()=>Ne.MaskFormerImageProcessor,MobileNetV1FeatureExtractor:()=>Ge.MobileNetV1FeatureExtractor,MobileNetV1ImageProcessor:()=>Ge.MobileNetV1ImageProcessor,MobileNetV2FeatureExtractor:()=>Ve.MobileNetV2FeatureExtractor,MobileNetV2ImageProcessor:()=>Ve.MobileNetV2ImageProcessor,MobileNetV3FeatureExtractor:()=>Oe.MobileNetV3FeatureExtractor,MobileNetV3ImageProcessor:()=>Oe.MobileNetV3ImageProcessor,MobileNetV4FeatureExtractor:()=>Ue.MobileNetV4FeatureExtractor,MobileNetV4ImageProcessor:()=>Ue.MobileNetV4ImageProcessor,MobileViTFeatureExtractor:()=>tt.MobileViTFeatureExtractor,MobileViTImageProcessor:()=>tt.MobileViTImageProcessor,NougatImageProcessor:()=>bt.NougatImageProcessor,OwlViTFeatureExtractor:()=>mt.OwlViTFeatureExtractor,OwlViTImageProcessor:()=>mt.OwlViTImageProcessor,Owlv2ImageProcessor:()=>lt.Owlv2ImageProcessor,Phi3VImageProcessor:()=>ut.Phi3VImageProcessor,PvtImageProcessor:()=>ht.PvtImageProcessor,Qwen2VLImageProcessor:()=>Ct.Qwen2VLImageProcessor,RTDetrImageProcessor:()=>It.RTDetrImageProcessor,SamImageProcessor:()=>Ft.SamImageProcessor,SegformerFeatureExtractor:()=>At.SegformerFeatureExtractor,SegformerImageProcessor:()=>At.SegformerImageProcessor,SiglipImageProcessor:()=>Dt.SiglipImageProcessor,Swin2SRImageProcessor:()=>Rt.Swin2SRImageProcessor,VLMImageProcessor:()=>He.VLMImageProcessor,ViTFeatureExtractor:()=>at.ViTFeatureExtractor,ViTImageProcessor:()=>at.ViTImageProcessor,VitMatteImageProcessor:()=>Ze.VitMatteImageProcessor,VitPoseImageProcessor:()=>vt.VitPoseImageProcessor,YolosFeatureExtractor:()=>St.YolosFeatureExtractor,YolosImageProcessor:()=>St.YolosImageProcessor});var n=e("./src/models/beit/image_processing_beit.js"),s=e("./src/models/bit/image_processing_bit.js"),c=e("./src/models/chinese_clip/image_processing_chinese_clip.js"),u=e("./src/models/clip/image_processing_clip.js"),h=e("./src/models/convnext/image_processing_convnext.js"),p=e("./src/models/deit/image_processing_deit.js"),y=e("./src/models/detr/image_processing_detr.js"),k=e("./src/models/donut/image_processing_donut.js"),G=e("./src/models/dpt/image_processing_dpt.js"),$=e("./src/models/efficientnet/image_processing_efficientnet.js"),Me=e("./src/models/glpn/image_processing_glpn.js"),Re=e("./src/models/grounding_dino/image_processing_grounding_dino.js"),Ke=e("./src/models/idefics3/image_processing_idefics3.js"),He=e("./src/models/janus/image_processing_janus.js"),Ie=e("./src/models/jina_clip/image_processing_jina_clip.js"),Pe=e("./src/models/llava_onevision/image_processing_llava_onevision.js"),Xe=e("./src/models/mask2former/image_processing_mask2former.js"),Ne=e("./src/models/maskformer/image_processing_maskformer.js"),Ge=e("./src/models/mobilenet_v1/image_processing_mobilenet_v1.js"),Ve=e("./src/models/mobilenet_v2/image_processing_mobilenet_v2.js"),Oe=e("./src/models/mobilenet_v3/image_processing_mobilenet_v3.js"),Ue=e("./src/models/mobilenet_v4/image_processing_mobilenet_v4.js"),tt=e("./src/models/mobilevit/image_processing_mobilevit.js"),bt=e("./src/models/nougat/image_processing_nougat.js"),lt=e("./src/models/owlv2/image_processing_owlv2.js"),mt=e("./src/models/owlvit/image_processing_owlvit.js"),ut=e("./src/models/phi3_v/image_processing_phi3_v.js"),ht=e("./src/models/pvt/image_processing_pvt.js"),Ct=e("./src/models/qwen2_vl/image_processing_qwen2_vl.js"),It=e("./src/models/rt_detr/image_processing_rt_detr.js"),Ft=e("./src/models/sam/image_processing_sam.js"),At=e("./src/models/segformer/image_processing_segformer.js"),Dt=e("./src/models/siglip/image_processing_siglip.js"),Rt=e("./src/models/swin2sr/image_processing_swin2sr.js"),at=e("./src/models/vit/image_processing_vit.js"),Ze=e("./src/models/vitmatte/image_processing_vitmatte.js"),vt=e("./src/models/vitpose/image_processing_vitpose.js"),St=e("./src/models/yolos/image_processing_yolos.js")},"./src/models/janus/image_processing_janus.js":(r,o,e)=>{e.r(o),e.d(o,{VLMImageProcessor:()=>s});var n=e("./src/base/image_processors_utils.js");class s extends n.ImageProcessor{constructor(u){super(Vt({do_pad:!0,pad_size:{width:u.image_size,height:u.image_size}},u)),this.constant_values=this.config.background_color.map(h=>h*this.rescale_factor)}pad_image(u,h,p,y){return super.pad_image(u,h,p,Vt({constant_values:this.constant_values,center:!0},y))}}},"./src/models/janus/processing_janus.js":(r,o,e)=>{e.r(o),e.d(o,{VLChatProcessor:()=>y});var n=e("./src/base/processing_utils.js"),s=e("./src/models/auto/image_processing_auto.js"),c=e("./src/tokenizers.js"),u=e("./src/utils/core.js"),h=e("./src/utils/tensor.js"),p=e("./src/utils/image.js");class y extends n.Processor{static image_processor_class=s.AutoImageProcessor;static tokenizer_class=c.AutoTokenizer;static uses_processor_config=!0;constructor(G,$){super(G,$),this.image_tag=this.config.image_tag,this.image_start_tag=this.config.image_start_tag,this.image_end_tag=this.config.image_end_tag,this.num_image_tokens=this.config.num_image_tokens}_call(Re){return ot(this,arguments,function*(G,{images:$=null,chat_template:Me="default"}={}){$?Array.isArray($)||($=[$]):$=yield Promise.all(G.filter(lt=>lt.images).flatMap(lt=>lt.images).map(lt=>p.RawImage.read(lt)));let Ke=this.tokenizer,He=Ke.apply_chat_template(G,{tokenize:!1,add_generation_prompt:!0,chat_template:Me}),Ie=lt=>Ke.encode(lt,{add_special_tokens:!1}),Pe=He.split(this.image_tag),Xe=Pe.length-1;if($.length!==Xe)throw new Error(`Number of images provided (${$.length}) does not match number of "${this.image_tag}" image tags (${Xe})`);let[Ne,Ge,Ve]=Ke.model.convert_tokens_to_ids([this.image_tag,this.image_start_tag,this.image_end_tag]),Oe=Ie(Pe[0]),Ue=new Array(Oe.length).fill(!1);for(let lt=1;lt<Pe.length;++lt){let mt=new Array(this.num_image_tokens).fill(Ne),ut=Ie(Pe[lt]);Oe=(0,u.mergeArrays)(Oe,[Ge],mt,[Ve],ut);let ht=new Array(this.num_image_tokens).fill(!0);Ue=(0,u.mergeArrays)(Ue,[!1],ht,[!1],new Array(ut.length).fill(!1))}let tt=[1,Oe.length],bt={input_ids:new h.Tensor("int64",Oe,tt),attention_mask:new h.Tensor("int64",new Array(Oe.length).fill(1),tt),images_seq_mask:new h.Tensor("bool",Ue,tt),images_emb_mask:new h.Tensor("bool",new Array(Xe*this.num_image_tokens).fill(!0),[1,Xe,this.num_image_tokens])};if($&&$.length>0){let lt=yield this.image_processor($);return lt.pixel_values.unsqueeze_(0),Vt(Vt({},bt),lt)}return bt})}}},"./src/models/jina_clip/image_processing_jina_clip.js":(r,o,e)=>{e.r(o),e.d(o,{JinaCLIPImageProcessor:()=>s});var n=e("./src/base/image_processors_utils.js");class s extends n.ImageProcessor{constructor(u){let Re=u,{resize_mode:h,fill_color:p,interpolation:y,size:k}=Re,G=Ta(Re,["resize_mode","fill_color","interpolation","size"]),$=h==="squash"?{width:k,height:k}:h==="shortest"?{shortest_edge:k}:{longest_edge:k},Me=y==="bicubic"?3:2;super(Gr(Vt({},G),{size:$,resample:Me,do_center_crop:!0,crop_size:k,do_normalize:!0}))}}},"./src/models/jina_clip/processing_jina_clip.js":(r,o,e)=>{e.r(o),e.d(o,{JinaCLIPProcessor:()=>u});var n=e("./src/base/processing_utils.js"),s=e("./src/models/auto/image_processing_auto.js"),c=e("./src/tokenizers.js");class u extends n.Processor{static tokenizer_class=c.AutoTokenizer;static image_processor_class=s.AutoImageProcessor;_call(){return ot(this,arguments,function*(p=null,y=null,k={}){if(!p&&!y)throw new Error("Either text or images must be provided");let G=p?this.tokenizer(p,k):{},$=y?yield this.image_processor(y,k):{};return Vt(Vt({},G),$)})}}},"./src/models/llava_onevision/image_processing_llava_onevision.js":(r,o,e)=>{e.r(o),e.d(o,{LlavaOnevisionImageProcessor:()=>s});var n=e("./src/base/image_processors_utils.js");class s extends n.ImageProcessor{}},"./src/models/mask2former/image_processing_mask2former.js":(r,o,e)=>{e.r(o),e.d(o,{Mask2FormerImageProcessor:()=>s});var n=e("./src/models/maskformer/image_processing_maskformer.js");class s extends n.MaskFormerImageProcessor{}},"./src/models/maskformer/image_processing_maskformer.js":(r,o,e)=>{e.r(o),e.d(o,{MaskFormerFeatureExtractor:()=>c,MaskFormerImageProcessor:()=>s});var n=e("./src/base/image_processors_utils.js");class s extends n.ImageProcessor{post_process_panoptic_segmentation(...h){return(0,n.post_process_panoptic_segmentation)(...h)}post_process_instance_segmentation(...h){return(0,n.post_process_instance_segmentation)(...h)}}class c extends s{}},"./src/models/mgp_str/processing_mgp_str.js":(r,o,e)=>{e.r(o),e.d(o,{MgpstrProcessor:()=>p});var n=e("./src/base/processing_utils.js"),s=e("./src/models/auto/image_processing_auto.js"),c=e("./src/tokenizers.js"),u=e("./src/utils/maths.js");let h={char:["char_decode",1],bpe:["bpe_decode",2],wp:["wp_decode",102]};class p extends n.Processor{static tokenizer_class=c.AutoTokenizer;static image_processor_class=s.AutoImageProcessor;get char_tokenizer(){return this.components.char_tokenizer}get bpe_tokenizer(){return this.components.bpe_tokenizer}get wp_tokenizer(){return this.components.wp_tokenizer}_decode_helper(k,G){if(!h.hasOwnProperty(G))throw new Error(`Format ${G} is not supported.`);let[$,Me]=h[G],Re=this[$].bind(this),[Ke,He]=k.dims,Ie=[],Pe=[],Xe=k.tolist();for(let Ge=0;Ge<Ke;++Ge){let Ve=Xe[Ge],Oe=[],Ue=[];for(let bt=1;bt<He;++bt){let[lt,mt]=(0,u.max)((0,u.softmax)(Ve[bt]));if(Ue.push(lt),mt==Me)break;Oe.push(mt)}let tt=Ue.length>0?Ue.reduce((bt,lt)=>bt*lt,1):0;Pe.push(Oe),Ie.push(tt)}return[Re(Pe),Ie]}char_decode(k){return this.char_tokenizer.batch_decode(k).map(G=>G.replaceAll(" ",""))}bpe_decode(k){return this.bpe_tokenizer.batch_decode(k)}wp_decode(k){return this.wp_tokenizer.batch_decode(k).map(G=>G.replaceAll(" ",""))}batch_decode([k,G,$]){let[Me,Re]=this._decode_helper(k,"char"),[Ke,He]=this._decode_helper(G,"bpe"),[Ie,Pe]=this._decode_helper($,"wp"),Xe=[],Ne=[];for(let Ge=0;Ge<Me.length;++Ge){let[Ve,Oe]=(0,u.max)([Re[Ge],He[Ge],Pe[Ge]]);Xe.push([Me[Ge],Ke[Ge],Ie[Ge]][Oe]),Ne.push(Ve)}return{generated_text:Xe,scores:Ne,char_preds:Me,bpe_preds:Ke,wp_preds:Ie}}static from_pretrained(...k){return ot(this,null,function*(){let G=yield lr(p,this,"from_pretrained").call(this,...k),$=yield c.AutoTokenizer.from_pretrained("Xenova/gpt2"),Me=yield c.AutoTokenizer.from_pretrained("Xenova/bert-base-uncased");return G.components={image_processor:G.image_processor,char_tokenizer:G.tokenizer,bpe_tokenizer:$,wp_tokenizer:Me},G})}_call(k,G=null){return ot(this,null,function*(){let $=yield this.image_processor(k);return G&&($.labels=this.tokenizer(G).input_ids),$})}}},"./src/models/mobilenet_v1/image_processing_mobilenet_v1.js":(r,o,e)=>{e.r(o),e.d(o,{MobileNetV1FeatureExtractor:()=>c,MobileNetV1ImageProcessor:()=>s});var n=e("./src/base/image_processors_utils.js");class s extends n.ImageProcessor{}class c extends s{}},"./src/models/mobilenet_v2/image_processing_mobilenet_v2.js":(r,o,e)=>{e.r(o),e.d(o,{MobileNetV2FeatureExtractor:()=>c,MobileNetV2ImageProcessor:()=>s});var n=e("./src/base/image_processors_utils.js");class s extends n.ImageProcessor{}class c extends s{}},"./src/models/mobilenet_v3/image_processing_mobilenet_v3.js":(r,o,e)=>{e.r(o),e.d(o,{MobileNetV3FeatureExtractor:()=>c,MobileNetV3ImageProcessor:()=>s});var n=e("./src/base/image_processors_utils.js");class s extends n.ImageProcessor{}class c extends s{}},"./src/models/mobilenet_v4/image_processing_mobilenet_v4.js":(r,o,e)=>{e.r(o),e.d(o,{MobileNetV4FeatureExtractor:()=>c,MobileNetV4ImageProcessor:()=>s});var n=e("./src/base/image_processors_utils.js");class s extends n.ImageProcessor{}class c extends s{}},"./src/models/mobilevit/image_processing_mobilevit.js":(r,o,e)=>{e.r(o),e.d(o,{MobileViTFeatureExtractor:()=>c,MobileViTImageProcessor:()=>s});var n=e("./src/base/image_processors_utils.js");class s extends n.ImageProcessor{}class c extends s{}},"./src/models/moonshine/feature_extraction_moonshine.js":(r,o,e)=>{e.r(o),e.d(o,{MoonshineFeatureExtractor:()=>c});var n=e("./src/base/feature_extraction_utils.js"),s=e("./src/utils/tensor.js");class c extends n.FeatureExtractor{_call(h){return ot(this,null,function*(){(0,n.validate_audio_inputs)(h,"MoonshineFeatureExtractor"),h instanceof Float64Array&&(h=new Float32Array(h));let p=[1,h.length];return{input_values:new s.Tensor("float32",h,p)}})}}},"./src/models/moonshine/processing_moonshine.js":(r,o,e)=>{e.r(o),e.d(o,{MoonshineProcessor:()=>u});var n=e("./src/models/auto/feature_extraction_auto.js"),s=e("./src/tokenizers.js"),c=e("./src/base/processing_utils.js");class u extends c.Processor{static tokenizer_class=s.AutoTokenizer;static feature_extractor_class=n.AutoFeatureExtractor;_call(p){return ot(this,null,function*(){return yield this.feature_extractor(p)})}}},"./src/models/nougat/image_processing_nougat.js":(r,o,e)=>{e.r(o),e.d(o,{NougatImageProcessor:()=>s});var n=e("./src/models/donut/image_processing_donut.js");class s extends n.DonutImageProcessor{}},"./src/models/owlv2/image_processing_owlv2.js":(r,o,e)=>{e.r(o),e.d(o,{Owlv2ImageProcessor:()=>s});var n=e("./src/models/owlvit/image_processing_owlvit.js");class s extends n.OwlViTImageProcessor{}},"./src/models/owlvit/image_processing_owlvit.js":(r,o,e)=>{e.r(o),e.d(o,{OwlViTFeatureExtractor:()=>c,OwlViTImageProcessor:()=>s});var n=e("./src/base/image_processors_utils.js");class s extends n.ImageProcessor{post_process_object_detection(...h){return(0,n.post_process_object_detection)(...h)}}class c extends s{}},"./src/models/owlvit/processing_owlvit.js":(r,o,e)=>{e.r(o),e.d(o,{OwlViTProcessor:()=>u});var n=e("./src/base/processing_utils.js"),s=e("./src/models/auto/image_processing_auto.js"),c=e("./src/tokenizers.js");class u extends n.Processor{static tokenizer_class=c.AutoTokenizer;static image_processor_class=s.AutoImageProcessor}},"./src/models/paligemma/processing_paligemma.js":(r,o,e)=>{e.r(o),e.d(o,{PaliGemmaProcessor:()=>p});var n=e("./src/base/processing_utils.js"),s=e("./src/models/auto/image_processing_auto.js"),c=e("./src/tokenizers.js");let u="<image>";function h(y,k,G,$,Me){return`${$.repeat(G*Me)}${k}${y}
`}class p extends n.Processor{static tokenizer_class=c.AutoTokenizer;static image_processor_class=s.AutoImageProcessor;static uses_processor_config=!1;_call(Me){return ot(this,arguments,function*(k,G=null,$={}){G||(console.warn("You are using PaliGemma without a text prefix. It will perform as a picture-captioning model."),G=""),Array.isArray(k)||(k=[k]),Array.isArray(G)||(G=[G]);let Re=this.tokenizer.bos_token,Ke=this.image_processor.config.image_seq_length,He;G.some(Xe=>Xe.includes(u))?He=G.map(Xe=>{let Ne=Xe.replaceAll(u,u.repeat(Ke)),Ge=Ne.lastIndexOf(u),Ve=Ge===-1?0:Ge+u.length;return Ne.slice(0,Ve)+Re+Ne.slice(Ve)+`
`}):(console.warn("You are passing both `text` and `images` to `PaliGemmaProcessor`. The processor expects special image tokens in the text, as many tokens as there are images per each text. It is recommended to add `<image>` tokens in the very beginning of your text. For this call, we will infer how many images each text has and add special tokens."),He=G.map(Xe=>h(Xe,Re,Ke,u,k.length)));let Ie=this.tokenizer(He,$),Pe=yield this.image_processor(k,$);return Vt(Vt({},Pe),Ie)})}}},"./src/models/phi3_v/image_processing_phi3_v.js":(r,o,e)=>{e.r(o),e.d(o,{Phi3VImageProcessor:()=>k});var n=e("./src/base/image_processors_utils.js"),s=e("./src/utils/tensor.js");let c=336,u=[2,3],{ceil:h,floor:p,sqrt:y}=Math;class k extends n.ImageProcessor{constructor($){super(Gr(Vt({},$),{do_normalize:!0,do_pad:!0,pad_size:"custom",do_convert_rgb:!0,do_resize:!0})),this._num_crops=$.num_crops}calc_num_image_tokens_from_image_size($,Me){let{num_img_tokens:Re}=this.config;return p((p(Me/c)*p($/c)+1)*Re+1+(p(Me/c)+1)*y(Re))}get_resize_output_image_size($,Me){let Re=this._num_crops,[Ke,He]=$.size,Ie=Ke/He,Pe=1;for(;Pe*Math.ceil(Pe/Ie)<=Re;)Pe+=1;Pe-=1;let Xe=Math.floor(Pe*336),Ne=Math.floor(Xe/Ie);return[Xe,Ne]}pad_image($,Me,Re,Ke={}){let[He,Ie]=Me,Pe=c*h(He/c),Xe=c*h(Ie/c),Ne=[1,1,1].map((Ge,Ve)=>(Ge-this.image_mean[Ve])/this.image_std[Ve]);return super.pad_image($,Me,{width:Xe,height:Pe},Vt({center:!0,constant_values:Ne},Ke))}_call(Re){return ot(this,arguments,function*($,{num_crops:Me=null}={}){if(this._num_crops=Me??=this.config.num_crops,Me<4||y(Me)%1!==0)throw new Error("num_crops must be a square number >= 4");Array.isArray($)||($=[$]);let Ke=$.length,He=yield Promise.all($.map(Ue=>this.preprocess(Ue))),Ie=He.map(Ue=>Ue.original_size),Pe=He.map(Ue=>Ue.reshaped_input_size),Xe=[];for(let{pixel_values:Ue}of He){Ue.unsqueeze_(0);let[tt,bt]=Ue.dims.slice(-2),lt=yield(0,s.interpolate_4d)(Ue,{size:[c,c],mode:"bicubic"});if(Me>0){let mt=[],ut=y(Me),ht=p(bt/ut),Ct=p(tt/ut);for(let Ft=0;Ft<ut;++Ft)for(let At=0;At<ut;++At){let Dt,Rt,at,Ze;Ft===ut-1?(Rt=tt-Ct,Ze=tt):(Rt=Ft*Ct,Ze=(Ft+1)*Ct),At===ut-1?(Dt=bt-ht,at=bt):(Dt=At*ht,at=(At+1)*ht);let vt=[Rt,Dt],St=[Ze,at],$t=yield(0,s.slice)(Ue,vt,St,u);mt.push($t)}let It=yield(0,s.interpolate_4d)((0,s.cat)(mt,0),{size:[c,c],mode:"bicubic"});Xe.push((0,s.cat)([lt,It],0))}else Xe.push(lt)}let Ne=(0,s.stack)(Xe,0),Ge=Pe.map(Ue=>Ue.map(tt=>c*h(tt/c))),Ve=new s.Tensor("int64",Ge.flat(),[Ke,2]),Oe=Ge.map(([Ue,tt])=>this.calc_num_image_tokens_from_image_size(tt,Ue));return{pixel_values:Ne,original_sizes:Ie,reshaped_input_sizes:Pe,image_sizes:Ve,num_img_tokens:Oe}})}}},"./src/models/phi3_v/processing_phi3_v.js":(r,o,e)=>{e.r(o),e.d(o,{Phi3VProcessor:()=>y});var n=e("./src/base/processing_utils.js"),s=e("./src/models/auto/image_processing_auto.js"),c=e("./src/tokenizers.js"),u=e("./src/utils/image.js");let h="<|image|>",p=/<\|image_\d+\|>/g;class y extends n.Processor{static image_processor_class=s.AutoImageProcessor;static tokenizer_class=c.AutoTokenizer;_call(He){return ot(this,arguments,function*(G,$=null,{padding:Me=!0,truncation:Re=!0,num_crops:Ke=null}={}){Array.isArray(G)||(G=[G]);let Ie,Pe;if($){Pe=yield this.image_processor($,{num_crops:Ke});let{num_img_tokens:Xe}=Pe,Ne=G.map((Ve,Oe)=>Ve.split(p).join(h.repeat(Xe[Oe])));Ie=this.tokenizer(Ne,{padding:Me,truncation:Re});let Ge=this.tokenizer.model.convert_tokens_to_ids([h])[0];Ie.input_ids.map_(Ve=>Ve==Ge?-Ve:Ve)}else Ie=this.tokenizer(G);return Vt(Vt({},Ie),Pe)})}}},"./src/models/processors.js":(r,o,e)=>{e.r(o),e.d(o,{Florence2Processor:()=>n.Florence2Processor,GroundingDinoProcessor:()=>s.GroundingDinoProcessor,Idefics3Processor:()=>c.Idefics3Processor,JinaCLIPProcessor:()=>h.JinaCLIPProcessor,MgpstrProcessor:()=>p.MgpstrProcessor,MoonshineProcessor:()=>y.MoonshineProcessor,OwlViTProcessor:()=>k.OwlViTProcessor,PaliGemmaProcessor:()=>$.PaliGemmaProcessor,Phi3VProcessor:()=>G.Phi3VProcessor,PyAnnoteProcessor:()=>Me.PyAnnoteProcessor,Qwen2VLProcessor:()=>Re.Qwen2VLProcessor,SamProcessor:()=>Ke.SamProcessor,SpeechT5Processor:()=>He.SpeechT5Processor,VLChatProcessor:()=>u.VLChatProcessor,Wav2Vec2Processor:()=>Ie.Wav2Vec2Processor,Wav2Vec2ProcessorWithLM:()=>Pe.Wav2Vec2ProcessorWithLM,WhisperProcessor:()=>Xe.WhisperProcessor});var n=e("./src/models/florence2/processing_florence2.js"),s=e("./src/models/grounding_dino/processing_grounding_dino.js"),c=e("./src/models/idefics3/processing_idefics3.js"),u=e("./src/models/janus/processing_janus.js"),h=e("./src/models/jina_clip/processing_jina_clip.js"),p=e("./src/models/mgp_str/processing_mgp_str.js"),y=e("./src/models/moonshine/processing_moonshine.js"),k=e("./src/models/owlvit/processing_owlvit.js"),G=e("./src/models/phi3_v/processing_phi3_v.js"),$=e("./src/models/paligemma/processing_paligemma.js"),Me=e("./src/models/pyannote/processing_pyannote.js"),Re=e("./src/models/qwen2_vl/processing_qwen2_vl.js"),Ke=e("./src/models/sam/processing_sam.js"),He=e("./src/models/speecht5/processing_speecht5.js"),Ie=e("./src/models/wav2vec2/processing_wav2vec2.js"),Pe=e("./src/models/wav2vec2_with_lm/processing_wav2vec2_with_lm.js"),Xe=e("./src/models/whisper/processing_whisper.js")},"./src/models/pvt/image_processing_pvt.js":(r,o,e)=>{e.r(o),e.d(o,{PvtImageProcessor:()=>s});var n=e("./src/base/image_processors_utils.js");class s extends n.ImageProcessor{}},"./src/models/pyannote/feature_extraction_pyannote.js":(r,o,e)=>{e.r(o),e.d(o,{PyAnnoteFeatureExtractor:()=>u});var n=e("./src/base/feature_extraction_utils.js"),s=e("./src/utils/tensor.js"),c=e("./src/utils/maths.js");class u extends n.FeatureExtractor{_call(p){return ot(this,null,function*(){(0,n.validate_audio_inputs)(p,"PyAnnoteFeatureExtractor"),p instanceof Float64Array&&(p=new Float32Array(p));let y=[1,1,p.length];return{input_values:new s.Tensor("float32",p,y)}})}samples_to_frames(p){return(p-this.config.offset)/this.config.step}post_process_speaker_diarization(p,y){let k=y/this.samples_to_frames(y)/this.config.sampling_rate,G=[];for(let $ of p.tolist()){let Me=[],Re=-1;for(let Ke=0;Ke<$.length;++Ke){let He=(0,c.softmax)($[Ke]),[Ie,Pe]=(0,c.max)(He),[Xe,Ne]=[Ke,Ke+1];Pe!==Re?(Re=Pe,Me.push({id:Pe,start:Xe,end:Ne,score:Ie})):(Me.at(-1).end=Ne,Me.at(-1).score+=Ie)}G.push(Me.map(({id:Ke,start:He,end:Ie,score:Pe})=>({id:Ke,start:He*k,end:Ie*k,confidence:Pe/(Ie-He)})))}return G}}},"./src/models/pyannote/processing_pyannote.js":(r,o,e)=>{e.r(o),e.d(o,{PyAnnoteProcessor:()=>c});var n=e("./src/base/processing_utils.js"),s=e("./src/models/pyannote/feature_extraction_pyannote.js");class c extends n.Processor{static feature_extractor_class=s.PyAnnoteFeatureExtractor;_call(h){return ot(this,null,function*(){return yield this.feature_extractor(h)})}post_process_speaker_diarization(...h){return this.feature_extractor.post_process_speaker_diarization(...h)}get sampling_rate(){return this.feature_extractor.config.sampling_rate}}},"./src/models/qwen2_vl/image_processing_qwen2_vl.js":(r,o,e)=>{e.r(o),e.d(o,{Qwen2VLImageProcessor:()=>c});var n=e("./src/base/image_processors_utils.js"),s=e("./src/utils/tensor.js");class c extends n.ImageProcessor{_call(h,...p){return ot(this,null,function*(){let{pixel_values:y,original_sizes:k,reshaped_input_sizes:G}=yield lr(c.prototype,this,"_call").call(this,h,...p),$=y,{temporal_patch_size:Me,merge_size:Re,patch_size:Ke}=this.config;$.dims[0]===1&&($=(0,s.cat)(Array.from({length:Me},()=>$),0));let He=$.dims[0]/Me,Ie=$.dims[1],Pe=Math.floor($.dims[2]/Ke),Xe=Math.floor($.dims[3]/Ke),Ne=$.view(He,Me,Ie,Math.floor(Pe/Re),Re,Ke,Math.floor(Xe/Re),Re,Ke).permute(0,3,6,4,7,2,1,5,8).view(He*Pe*Xe,Ie*Me*Ke*Ke),Ge=new s.Tensor("int64",[He,Pe,Xe],[1,3]);return{pixel_values:Ne,image_grid_thw:Ge,original_sizes:k,reshaped_input_sizes:G}})}}},"./src/models/qwen2_vl/processing_qwen2_vl.js":(r,o,e)=>{e.r(o),e.d(o,{Qwen2VLProcessor:()=>h});var n=e("./src/base/processing_utils.js"),s=e("./src/models/auto/image_processing_auto.js"),c=e("./src/tokenizers.js"),u=e("./src/utils/image.js");class h extends n.Processor{static image_processor_class=s.AutoImageProcessor;static tokenizer_class=c.AutoTokenizer;_call(y,k=null,...G){return ot(this,null,function*(){Array.isArray(y)||(y=[y]);let $,Me;if(k&&($=yield this.image_processor(k),Me=$.image_grid_thw),Me){let Ke=this.image_processor.config.merge_size**2,He=0,Ie=Me.tolist();y=y.map(Pe=>{for(;Pe.includes("<|image_pad|>");){let Xe=Number(Ie[He++].reduce((Ne,Ge)=>Ne*Ge,1n));Pe=Pe.replace("<|image_pad|>","<|placeholder|>".repeat(Math.floor(Xe/Ke)))}return Pe.replaceAll("<|placeholder|>","<|image_pad|>")})}let Re=this.tokenizer(y);return Vt(Vt({},Re),$)})}}},"./src/models/rt_detr/image_processing_rt_detr.js":(r,o,e)=>{e.r(o),e.d(o,{RTDetrImageProcessor:()=>s});var n=e("./src/base/image_processors_utils.js");class s extends n.ImageProcessor{post_process_object_detection(...u){return(0,n.post_process_object_detection)(...u)}}},"./src/models/sam/image_processing_sam.js":(r,o,e)=>{e.r(o),e.d(o,{SamImageProcessor:()=>u});var n=e("./src/base/image_processors_utils.js"),s=e("./src/utils/core.js"),c=e("./src/utils/tensor.js");class u extends n.ImageProcessor{reshape_input_points(p,y,k,G=!1){p=structuredClone(p);let $=(0,s.calculateDimensions)(p);if($.length===3)G||($=[1,...$]),p=[p];else if($.length!==4)throw Error("The input_points must be a 4D tensor of shape `batch_size`, `point_batch_size`, `nb_points_per_image`, `2`.");for(let Me=0;Me<p.length;++Me){let Re=y[Me],Ke=k[Me],He=[Ke[0]/Re[0],Ke[1]/Re[1]];for(let Ie=0;Ie<p[Me].length;++Ie)for(let Pe=0;Pe<p[Me][Ie].length;++Pe)for(let Xe=0;Xe<p[Me][Ie][Pe].length;++Xe)p[Me][Ie][Pe][Xe]*=He[Xe%2]}return new c.Tensor("float32",Float32Array.from(p.flat(1/0)),$)}add_input_labels(p,y){let k=(0,s.calculateDimensions)(p);if(k.length===2)k=[1,...k],p=[p];else if(k.length!==3)throw Error("The input_points must be a 4D tensor of shape `batch_size`, `point_batch_size`, `nb_points_per_image`, `2`.");if(k.some((G,$)=>G!==y.dims[$]))throw Error(`The first ${k.length} dimensions of 'input_points' and 'input_labels' must be the same.`);return new c.Tensor("int64",p.flat(1/0).map(BigInt),k)}_call($){return ot(this,arguments,function*(p,{input_points:y=null,input_labels:k=null,input_boxes:G=null}={}){let Me=yield lr(u.prototype,this,"_call").call(this,p);if(y&&(Me.input_points=this.reshape_input_points(y,Me.original_sizes,Me.reshaped_input_sizes)),k){if(!Me.input_points)throw Error("`input_points` must be provided if `input_labels` are provided.");Me.input_labels=this.add_input_labels(k,Me.input_points)}return G&&(Me.input_boxes=this.reshape_input_points(G,Me.original_sizes,Me.reshaped_input_sizes,!0)),Me})}post_process_masks(Re,Ke,He){return ot(this,arguments,function*(p,y,k,{mask_threshold:G=0,binarize:$=!0,pad_size:Me=null}={}){let Ie=[];Me=Me??this.pad_size;let Pe=[Me.height,Me.width];for(let Xe=0;Xe<y.length;++Xe){let Ne=y[Xe],Ge=k[Xe],Ve=yield(0,c.interpolate_4d)(p[Xe],{mode:"bilinear",size:Pe});if(Ve=Ve.slice(null,null,[0,Ge[0]],[0,Ge[1]]),Ve=yield(0,c.interpolate_4d)(Ve,{mode:"bilinear",size:Ne}),$){let Oe=Ve.data,Ue=new Uint8Array(Oe.length);for(let tt=0;tt<Oe.length;++tt)Oe[tt]>G&&(Ue[tt]=1);Ve=new c.Tensor("bool",Ue,Ve.dims)}Ie.push(Ve)}return Ie})}generate_crop_boxes(p,y,{crop_n_layers:k=0,overlap_ratio:G=.3413333333333333,points_per_crop:$=32,crop_n_points_downscale_factor:Me=1}={}){}}},"./src/models/sam/processing_sam.js":(r,o,e)=>{e.r(o),e.d(o,{SamProcessor:()=>c});var n=e("./src/base/processing_utils.js"),s=e("./src/models/auto/image_processing_auto.js");class c extends n.Processor{static image_processor_class=s.AutoImageProcessor;_call(...h){return ot(this,null,function*(){return yield this.image_processor(...h)})}post_process_masks(...h){return this.image_processor.post_process_masks(...h)}reshape_input_points(...h){return this.image_processor.reshape_input_points(...h)}}},"./src/models/seamless_m4t/feature_extraction_seamless_m4t.js":(r,o,e)=>{e.r(o),e.d(o,{SeamlessM4TFeatureExtractor:()=>u});var n=e("./src/base/feature_extraction_utils.js"),s=e("./src/utils/tensor.js"),c=e("./src/utils/audio.js");class u extends n.FeatureExtractor{constructor(p){super(p);let y=this.config.sampling_rate,k=(0,c.mel_filter_bank)(256,this.config.num_mel_bins,20,Math.floor(y/2),y,null,"kaldi",!0);for(let G=0;G<k.length;++G)k[G].push(0);this.mel_filters=k,this.window=(0,c.window_function)(400,"povey",{periodic:!1})}_extract_fbank_features(p,y){return ot(this,null,function*(){return p=p.map(k=>k*32768),(0,c.spectrogram)(p,this.window,400,160,{fft_length:512,power:2,center:!1,preemphasis:.97,mel_filters:this.mel_filters,log_mel:"log",mel_floor:1192092955078125e-22,remove_dc_offset:!0,max_num_frames:y,transpose:!0})})}_call(Me){return ot(this,arguments,function*(p,{padding:y=!0,pad_to_multiple_of:k=2,do_normalize_per_mel_bins:G=!0,return_attention_mask:$=!0}={}){(0,n.validate_audio_inputs)(p,"SeamlessM4TFeatureExtractor");let Re=yield this._extract_fbank_features(p,this.config.max_length);if(G){let[Ve,Oe]=Re.dims,Ue=Re.data;for(let tt=0;tt<Oe;++tt){let bt=0;for(let ht=0;ht<Ve;++ht)bt+=Ue[ht*Oe+tt];let lt=bt/Ve,mt=0;for(let ht=0;ht<Ve;++ht)mt+=(Ue[ht*Oe+tt]-lt)**2;mt/=Ve-1;let ut=Math.sqrt(mt+1e-7);for(let ht=0;ht<Ve;++ht){let Ct=ht*Oe+tt;Ue[Ct]=(Ue[Ct]-lt)/ut}}}let Ke;if(y){let[Ve,Oe]=Re.dims,Ue=Re.data,tt=Ve%k;if(tt>0){let bt=new Float32Array(Oe*(Ve+tt));bt.set(Ue),bt.fill(this.config.padding_value,Ue.length);let lt=Ve+tt;Re=new s.Tensor(Re.type,bt,[lt,Oe]),$&&(Ke=new s.Tensor("int64",new BigInt64Array(lt),[1,lt]),Ke.data.fill(1n,0,Ve))}}let[He,Ie]=Re.dims,Pe=this.config.stride;if(He%Pe!==0)throw new Error(`The number of frames (${He}) must be a multiple of the stride (${Pe}).`);let Ne=Re.view(1,Math.floor(He/Pe),Ie*Pe),Ge={input_features:Ne};if($){let Ve=Ne.dims[1],Oe=new BigInt64Array(Ve);if(Ke){let Ue=Ke.data;for(let tt=1,bt=0;tt<He;tt+=Pe,++bt)Oe[bt]=Ue[tt]}else Oe.fill(1n);Ge.attention_mask=new s.Tensor("int64",Oe,[1,Ve])}return Ge})}}},"./src/models/segformer/image_processing_segformer.js":(r,o,e)=>{e.r(o),e.d(o,{SegformerFeatureExtractor:()=>c,SegformerImageProcessor:()=>s});var n=e("./src/base/image_processors_utils.js");class s extends n.ImageProcessor{post_process_semantic_segmentation(...h){return(0,n.post_process_semantic_segmentation)(...h)}}class c extends s{}},"./src/models/siglip/image_processing_siglip.js":(r,o,e)=>{e.r(o),e.d(o,{SiglipImageProcessor:()=>s});var n=e("./src/base/image_processors_utils.js");class s extends n.ImageProcessor{}},"./src/models/speecht5/feature_extraction_speecht5.js":(r,o,e)=>{e.r(o),e.d(o,{SpeechT5FeatureExtractor:()=>s});var n=e("./src/base/feature_extraction_utils.js");class s extends n.FeatureExtractor{}},"./src/models/speecht5/processing_speecht5.js":(r,o,e)=>{e.r(o),e.d(o,{SpeechT5Processor:()=>u});var n=e("./src/base/processing_utils.js"),s=e("./src/tokenizers.js"),c=e("./src/models/auto/feature_extraction_auto.js");class u extends n.Processor{static tokenizer_class=s.AutoTokenizer;static feature_extractor_class=c.AutoFeatureExtractor;_call(p){return ot(this,null,function*(){return yield this.feature_extractor(p)})}}},"./src/models/swin2sr/image_processing_swin2sr.js":(r,o,e)=>{e.r(o),e.d(o,{Swin2SRImageProcessor:()=>s});var n=e("./src/base/image_processors_utils.js");class s extends n.ImageProcessor{pad_image(u,h,p,y={}){let[k,G,$]=h;return super.pad_image(u,h,{width:G+(p-G%p)%p,height:k+(p-k%p)%p},Vt({mode:"symmetric",center:!1,constant_values:-1},y))}}},"./src/models/vit/image_processing_vit.js":(r,o,e)=>{e.r(o),e.d(o,{ViTFeatureExtractor:()=>c,ViTImageProcessor:()=>s});var n=e("./src/base/image_processors_utils.js");class s extends n.ImageProcessor{}class c extends s{}},"./src/models/vitmatte/image_processing_vitmatte.js":(r,o,e)=>{e.r(o),e.d(o,{VitMatteImageProcessor:()=>c});var n=e("./src/base/image_processors_utils.js"),s=e("./src/utils/tensor.js");class c extends n.ImageProcessor{_call(h,p){return ot(this,null,function*(){Array.isArray(h)||(h=[h]),Array.isArray(p)||(p=[p]);let y=yield Promise.all(h.map($=>this.preprocess($))),k=yield Promise.all(p.map($=>this.preprocess($,{do_normalize:!1,do_convert_rgb:!1,do_convert_grayscale:!0})));return{pixel_values:(0,s.stack)(y.map(($,Me)=>(0,s.cat)([$.pixel_values,k[Me].pixel_values],0)),0),original_sizes:y.map($=>$.original_size),reshaped_input_sizes:y.map($=>$.reshaped_input_size)}})}}},"./src/models/vitpose/image_processing_vitpose.js":(r,o,e)=>{e.r(o),e.d(o,{VitPoseImageProcessor:()=>s});var n=e("./src/base/image_processors_utils.js");class s extends n.ImageProcessor{post_process_pose_estimation(u,h,{threshold:p=null}={}){let y=u.tolist(),[k,G,$,Me]=u.dims,Re=[];for(let Ke=0;Ke<k;++Ke){let He=y[Ke],Ie=h[Ke],Pe=[];for(let Xe=0;Xe<Ie.length;++Xe){let Ne=Ie[Xe],Ge=[],Ve=[],Oe=[],Ue=Ne.at(-2)/Me,tt=Ne.at(-1)/$;for(let bt=0;bt<He.length;++bt){let[lt,mt]=[0,0],ut=0,ht=-1/0,Ct=He[bt];for(let Ft=0;Ft<Ct.length;++Ft){let At=Ct[Ft];for(let Dt=0;Dt<At.length;++Dt){let Rt=At[Dt];ut+=Rt,ht=Math.max(ht,Rt),lt+=(Dt+.5)*Rt,mt+=Ft*Rt}}if(p!=null&&ht<p)continue;let It=[Ue*lt/ut,tt*mt/ut];Ge.push(It),Oe.push(bt),Ve.push(ht)}Pe.push({bbox:Ne,scores:Ve,labels:Oe,keypoints:Ge})}Re.push(Pe)}return Re}}},"./src/models/wav2vec2/feature_extraction_wav2vec2.js":(r,o,e)=>{e.r(o),e.d(o,{Wav2Vec2FeatureExtractor:()=>c});var n=e("./src/base/feature_extraction_utils.js"),s=e("./src/utils/tensor.js");class c extends n.FeatureExtractor{_zero_mean_unit_var_norm(h){let y=h.reduce((G,$)=>G+$,0)/h.length,k=h.reduce((G,$)=>G+($-y)**2,0)/h.length;return h.map(G=>(G-y)/Math.sqrt(k+1e-7))}_call(h){return ot(this,null,function*(){(0,n.validate_audio_inputs)(h,"Wav2Vec2FeatureExtractor"),h instanceof Float64Array&&(h=new Float32Array(h));let p=h;this.config.do_normalize&&(p=this._zero_mean_unit_var_norm(p));let y=[1,p.length];return{input_values:new s.Tensor("float32",p,y),attention_mask:new s.Tensor("int64",new BigInt64Array(p.length).fill(1n),y)}})}}},"./src/models/wav2vec2/processing_wav2vec2.js":(r,o,e)=>{e.r(o),e.d(o,{Wav2Vec2Processor:()=>u});var n=e("./src/tokenizers.js"),s=e("./src/models/auto/feature_extraction_auto.js"),c=e("./src/base/processing_utils.js");class u extends c.Processor{static tokenizer_class=n.AutoTokenizer;static feature_extractor_class=s.AutoFeatureExtractor;_call(p){return ot(this,null,function*(){return yield this.feature_extractor(p)})}}},"./src/models/wav2vec2_with_lm/processing_wav2vec2_with_lm.js":(r,o,e)=>{e.r(o),e.d(o,{Wav2Vec2ProcessorWithLM:()=>u});var n=e("./src/tokenizers.js"),s=e("./src/models/auto/feature_extraction_auto.js"),c=e("./src/base/processing_utils.js");class u extends c.Processor{static tokenizer_class=n.AutoTokenizer;static feature_extractor_class=s.AutoFeatureExtractor;_call(p){return ot(this,null,function*(){return yield this.feature_extractor(p)})}}},"./src/models/wespeaker/feature_extraction_wespeaker.js":(r,o,e)=>{e.r(o),e.d(o,{WeSpeakerFeatureExtractor:()=>u});var n=e("./src/base/feature_extraction_utils.js"),s=e("./src/utils/tensor.js"),c=e("./src/utils/audio.js");class u extends n.FeatureExtractor{constructor(p){super(p);let y=this.config.sampling_rate,k=(0,c.mel_filter_bank)(256,this.config.num_mel_bins,20,Math.floor(y/2),y,null,"kaldi",!0);for(let G=0;G<k.length;++G)k[G].push(0);this.mel_filters=k,this.window=(0,c.window_function)(400,"hamming",{periodic:!1}),this.min_num_frames=this.config.min_num_frames}_extract_fbank_features(p){return ot(this,null,function*(){return p=p.map(y=>y*32768),(0,c.spectrogram)(p,this.window,400,160,{fft_length:512,power:2,center:!1,preemphasis:.97,mel_filters:this.mel_filters,log_mel:"log",mel_floor:1192092955078125e-22,remove_dc_offset:!0,transpose:!0,min_num_frames:this.min_num_frames})})}_call(p){return ot(this,null,function*(){(0,n.validate_audio_inputs)(p,"WeSpeakerFeatureExtractor");let y=(yield this._extract_fbank_features(p)).unsqueeze_(0);if(this.config.fbank_centering_span===null){let k=y.mean(1).data,G=y.data,[$,Me,Re]=y.dims;for(let Ke=0;Ke<$;++Ke){let He=Ke*Me*Re,Ie=Ke*Re;for(let Pe=0;Pe<Me;++Pe){let Xe=He+Pe*Re;for(let Ne=0;Ne<Re;++Ne)G[Xe+Ne]-=k[Ie+Ne]}}}return{input_features:y}})}}},"./src/models/whisper/common_whisper.js":(r,o,e)=>{e.r(o),e.d(o,{WHISPER_LANGUAGE_MAPPING:()=>s,WHISPER_TO_LANGUAGE_CODE_MAPPING:()=>c,whisper_language_to_code:()=>u});let n=[["en","english"],["zh","chinese"],["de","german"],["es","spanish"],["ru","russian"],["ko","korean"],["fr","french"],["ja","japanese"],["pt","portuguese"],["tr","turkish"],["pl","polish"],["ca","catalan"],["nl","dutch"],["ar","arabic"],["sv","swedish"],["it","italian"],["id","indonesian"],["hi","hindi"],["fi","finnish"],["vi","vietnamese"],["he","hebrew"],["uk","ukrainian"],["el","greek"],["ms","malay"],["cs","czech"],["ro","romanian"],["da","danish"],["hu","hungarian"],["ta","tamil"],["no","norwegian"],["th","thai"],["ur","urdu"],["hr","croatian"],["bg","bulgarian"],["lt","lithuanian"],["la","latin"],["mi","maori"],["ml","malayalam"],["cy","welsh"],["sk","slovak"],["te","telugu"],["fa","persian"],["lv","latvian"],["bn","bengali"],["sr","serbian"],["az","azerbaijani"],["sl","slovenian"],["kn","kannada"],["et","estonian"],["mk","macedonian"],["br","breton"],["eu","basque"],["is","icelandic"],["hy","armenian"],["ne","nepali"],["mn","mongolian"],["bs","bosnian"],["kk","kazakh"],["sq","albanian"],["sw","swahili"],["gl","galician"],["mr","marathi"],["pa","punjabi"],["si","sinhala"],["km","khmer"],["sn","shona"],["yo","yoruba"],["so","somali"],["af","afrikaans"],["oc","occitan"],["ka","georgian"],["be","belarusian"],["tg","tajik"],["sd","sindhi"],["gu","gujarati"],["am","amharic"],["yi","yiddish"],["lo","lao"],["uz","uzbek"],["fo","faroese"],["ht","haitian creole"],["ps","pashto"],["tk","turkmen"],["nn","nynorsk"],["mt","maltese"],["sa","sanskrit"],["lb","luxembourgish"],["my","myanmar"],["bo","tibetan"],["tl","tagalog"],["mg","malagasy"],["as","assamese"],["tt","tatar"],["haw","hawaiian"],["ln","lingala"],["ha","hausa"],["ba","bashkir"],["jw","javanese"],["su","sundanese"]],s=new Map(n),c=new Map([...n.map(([h,p])=>[p,h]),["burmese","my"],["valencian","ca"],["flemish","nl"],["haitian","ht"],["letzeburgesch","lb"],["pushto","ps"],["panjabi","pa"],["moldavian","ro"],["moldovan","ro"],["sinhalese","si"],["castilian","es"]]);function u(h){h=h.toLowerCase();let p=c.get(h);if(p===void 0)if(s.has(h))p=h;else{let k=h.length===2?s.keys():s.values();throw new Error(`Language "${h}" is not supported. Must be one of: ${JSON.stringify(k)}`)}return p}},"./src/models/whisper/feature_extraction_whisper.js":(r,o,e)=>{e.r(o),e.d(o,{WhisperFeatureExtractor:()=>h});var n=e("./src/base/feature_extraction_utils.js"),s=e("./src/utils/tensor.js"),c=e("./src/utils/audio.js"),u=e("./src/utils/maths.js");class h extends n.FeatureExtractor{constructor(y){super(y),this.config.mel_filters??=(0,c.mel_filter_bank)(Math.floor(1+this.config.n_fft/2),this.config.feature_size,0,8e3,this.config.sampling_rate,"slaney","slaney"),this.window=(0,c.window_function)(this.config.n_fft,"hann")}_extract_fbank_features(y){return ot(this,null,function*(){let k=yield(0,c.spectrogram)(y,this.window,this.config.n_fft,this.config.hop_length,{power:2,mel_filters:this.config.mel_filters,log_mel:"log10",max_num_frames:this.config.nb_max_frames}),G=k.data,$=(0,u.max)(G)[0];for(let Me=0;Me<G.length;++Me)G[Me]=(Math.max(G[Me],$-8)+4)/4;return k})}_call(y){return ot(this,null,function*(){(0,n.validate_audio_inputs)(y,"WhisperFeatureExtractor");let k;return y.length>this.config.n_samples?(console.warn("Attempting to extract features for audio longer than 30 seconds. If using a pipeline to extract transcript from a long audio clip, remember to specify `chunk_length_s` and/or `stride_length_s`."),k=y.slice(0,this.config.n_samples)):(k=new Float32Array(this.config.n_samples),k.set(y)),{input_features:(yield this._extract_fbank_features(k)).unsqueeze_(0)}})}}},"./src/models/whisper/generation_whisper.js":(r,o,e)=>{e.r(o),e.d(o,{WhisperGenerationConfig:()=>s});var n=e("./src/generation/configuration_utils.js");class s extends n.GenerationConfig{return_timestamps=null;return_token_timestamps=null;num_frames=null;alignment_heads=null;task=null;language=null;no_timestamps_token_id=null;prompt_ids=null;is_multilingual=null;lang_to_id=null;task_to_id=null;max_initial_timestamp_index=1}},"./src/models/whisper/processing_whisper.js":(r,o,e)=>{e.r(o),e.d(o,{WhisperProcessor:()=>u});var n=e("./src/models/auto/feature_extraction_auto.js"),s=e("./src/tokenizers.js"),c=e("./src/base/processing_utils.js");class u extends c.Processor{static tokenizer_class=s.AutoTokenizer;static feature_extractor_class=n.AutoFeatureExtractor;_call(p){return ot(this,null,function*(){return yield this.feature_extractor(p)})}}},"./src/models/yolos/image_processing_yolos.js":(r,o,e)=>{e.r(o),e.d(o,{YolosFeatureExtractor:()=>c,YolosImageProcessor:()=>s});var n=e("./src/base/image_processors_utils.js");class s extends n.ImageProcessor{post_process_object_detection(...h){return(0,n.post_process_object_detection)(...h)}}class c extends s{}},"./src/ops/registry.js":(r,o,e)=>{e.r(o),e.d(o,{TensorOpRegistry:()=>p});var n=e("./src/backends/onnx.js"),s=e("./src/utils/tensor.js"),c=e("./src/env.js");let u=c.apis.IS_BROWSER_ENV||c.apis.IS_WEBWORKER_ENV,h=(y,k,G)=>ot(void 0,null,function*(){let $=yield(0,n.createInferenceSession)(new Uint8Array(y),k),Me=Promise.resolve();return Re=>ot(void 0,null,function*(){let Ke=(0,n.isONNXProxy)(),He=Object.fromEntries(Object.entries(Re).map(([Pe,Xe])=>[Pe,(Ke?Xe.clone():Xe).ort_tensor])),Ie=yield Me=u?Me.then(()=>$.run(He)):$.run(He);return Array.isArray(G)?G.map(Pe=>new s.Tensor(Ie[Pe])):new s.Tensor(Ie[G])})}),p=(()=>{class y{static session_options={};static get nearest_interpolate_4d(){return this._nearest_interpolate_4d||(this._nearest_interpolate_4d=h([8,10,18,0,58,129,1,10,41,10,1,120,10,0,10,0,10,1,115,18,1,121,34,6,82,101,115,105,122,101,42,18,10,4,109,111,100,101,34,7,110,101,97,114,101,115,116,160,1,3,18,1,114,90,31,10,1,120,18,26,10,24,8,1,18,20,10,3,18,1,98,10,3,18,1,99,10,3,18,1,104,10,3,18,1,119,90,15,10,1,115,18,10,10,8,8,7,18,4,10,2,8,4,98,31,10,1,121,18,26,10,24,8,1,18,20,10,3,18,1,98,10,3,18,1,99,10,3,18,1,104,10,3,18,1,119,66,2,16,21],this.session_options,"y")),this._nearest_interpolate_4d}static get bilinear_interpolate_4d(){return this._bilinear_interpolate_4d||(this._bilinear_interpolate_4d=h([8,9,18,0,58,128,1,10,40,10,1,120,10,0,10,0,10,1,115,18,1,121,34,6,82,101,115,105,122,101,42,17,10,4,109,111,100,101,34,6,108,105,110,101,97,114,160,1,3,18,1,114,90,31,10,1,120,18,26,10,24,8,1,18,20,10,3,18,1,98,10,3,18,1,99,10,3,18,1,104,10,3,18,1,119,90,15,10,1,115,18,10,10,8,8,7,18,4,10,2,8,4,98,31,10,1,121,18,26,10,24,8,1,18,20,10,3,18,1,98,10,3,18,1,99,10,3,18,1,104,10,3,18,1,119,66,2,16,20],this.session_options,"y")),this._bilinear_interpolate_4d}static get bicubic_interpolate_4d(){return this._bicubic_interpolate_4d||(this._bicubic_interpolate_4d=h([8,9,18,0,58,127,10,39,10,1,120,10,0,10,0,10,1,115,18,1,121,34,6,82,101,115,105,122,101,42,16,10,4,109,111,100,101,34,5,99,117,98,105,99,160,1,3,18,1,114,90,31,10,1,120,18,26,10,24,8,1,18,20,10,3,18,1,98,10,3,18,1,99,10,3,18,1,104,10,3,18,1,119,90,15,10,1,115,18,10,10,8,8,7,18,4,10,2,8,4,98,31,10,1,121,18,26,10,24,8,1,18,20,10,3,18,1,98,10,3,18,1,99,10,3,18,1,104,10,3,18,1,119,66,2,16,20],this.session_options,"y")),this._bicubic_interpolate_4d}static get matmul(){return this._matmul||(this._matmul=h([8,9,18,0,58,55,10,17,10,1,97,10,1,98,18,1,99,34,6,77,97,116,77,117,108,18,1,114,90,9,10,1,97,18,4,10,2,8,1,90,9,10,1,98,18,4,10,2,8,1,98,9,10,1,99,18,4,10,2,8,1,66,2,16,20],this.session_options,"c")),this._matmul}static get stft(){return this._stft||(this._stft=h([8,7,18,0,58,148,1,10,38,10,1,115,10,1,106,10,1,119,10,1,108,18,1,111,34,4,83,84,70,84,42,15,10,8,111,110,101,115,105,100,101,100,24,1,160,1,2,18,1,115,90,26,10,1,115,18,21,10,19,8,1,18,15,10,3,18,1,98,10,3,18,1,115,10,3,18,1,99,90,11,10,1,106,18,6,10,4,8,7,18,0,90,16,10,1,119,18,11,10,9,8,1,18,5,10,3,18,1,119,90,11,10,1,108,18,6,10,4,8,7,18,0,98,31,10,1,111,18,26,10,24,8,1,18,20,10,3,18,1,98,10,3,18,1,102,10,3,18,1,100,10,3,18,1,99,66,2,16,17],this.session_options,"o")),this._stft}static get rfft(){return this._rfft||(this._rfft=h([8,9,18,0,58,97,10,33,10,1,120,10,0,10,1,97,18,1,121,34,3,68,70,84,42,15,10,8,111,110,101,115,105,100,101,100,24,1,160,1,2,18,1,100,90,21,10,1,120,18,16,10,14,8,1,18,10,10,3,18,1,115,10,3,18,1,99,90,11,10,1,97,18,6,10,4,8,7,18,0,98,21,10,1,121,18,16,10,14,8,1,18,10,10,3,18,1,115,10,3,18,1,99,66,2,16,20],this.session_options,"y")),this._rfft}static get top_k(){return this._top_k||(this._top_k=h([8,10,18,0,58,73,10,18,10,1,120,10,1,107,18,1,118,18,1,105,34,4,84,111,112,75,18,1,116,90,9,10,1,120,18,4,10,2,8,1,90,15,10,1,107,18,10,10,8,8,7,18,4,10,2,8,1,98,9,10,1,118,18,4,10,2,8,1,98,9,10,1,105,18,4,10,2,8,7,66,2,16,21],this.session_options,["v","i"])),this._top_k}static get slice(){return this._slice||(this._slice=h([8,7,18,0,58,96,10,25,10,1,120,10,1,115,10,1,101,10,1,97,10,1,116,18,1,121,34,5,83,108,105,99,101,18,1,114,90,9,10,1,120,18,4,10,2,8,1,90,9,10,1,115,18,4,10,2,8,7,90,9,10,1,101,18,4,10,2,8,7,90,9,10,1,97,18,4,10,2,8,7,90,9,10,1,116,18,4,10,2,8,7,98,9,10,1,121,18,4,10,2,8,1,66,2,16,13],this.session_options,"y")),this._slice}}return y})()},"./src/pipelines.js":(r,o,e)=>{e.r(o),e.d(o,{AudioClassificationPipeline:()=>ut,AutomaticSpeechRecognitionPipeline:()=>Ct,DepthEstimationPipeline:()=>$t,DocumentQuestionAnsweringPipeline:()=>Ze,FeatureExtractionPipeline:()=>lt,FillMaskPipeline:()=>Ne,ImageClassificationPipeline:()=>Ft,ImageFeatureExtractionPipeline:()=>mt,ImageSegmentationPipeline:()=>At,ImageToImagePipeline:()=>St,ImageToTextPipeline:()=>It,ObjectDetectionPipeline:()=>Rt,Pipeline:()=>He,QuestionAnsweringPipeline:()=>Xe,SummarizationPipeline:()=>Ve,Text2TextGenerationPipeline:()=>Ge,TextClassificationPipeline:()=>Ie,TextGenerationPipeline:()=>tt,TextToAudioPipeline:()=>vt,TokenClassificationPipeline:()=>Pe,TranslationPipeline:()=>Oe,ZeroShotAudioClassificationPipeline:()=>ht,ZeroShotClassificationPipeline:()=>bt,ZeroShotImageClassificationPipeline:()=>Dt,ZeroShotObjectDetectionPipeline:()=>at,pipeline:()=>st});var n=e("./src/tokenizers.js"),s=e("./src/models.js"),c=e("./src/models/auto/processing_auto.js"),u=e("./src/base/processing_utils.js"),h=e("./src/utils/generic.js"),p=e("./src/utils/core.js"),y=e("./src/utils/maths.js"),k=e("./src/utils/audio.js"),G=e("./src/utils/tensor.js"),$=e("./src/utils/image.js");function Me(Ht){return ot(this,null,function*(){return Array.isArray(Ht)||(Ht=[Ht]),yield Promise.all(Ht.map(xt=>$.RawImage.read(xt)))})}function Re(Ht,xt){return ot(this,null,function*(){return Array.isArray(Ht)||(Ht=[Ht]),yield Promise.all(Ht.map(Ut=>typeof Ut=="string"||Ut instanceof URL?(0,k.read_audio)(Ut,xt):Ut instanceof Float64Array?new Float32Array(Ut):Ut))})}function Ke(Ht,xt){xt&&(Ht=Ht.map(mr=>mr|0));let[Ut,rr,nr,cr]=Ht;return{xmin:Ut,ymin:rr,xmax:nr,ymax:cr}}class He extends h.Callable{constructor({task:xt,model:Ut,tokenizer:rr=null,processor:nr=null}){super(),this.task=xt,this.model=Ut,this.tokenizer=rr,this.processor=nr}dispose(){return ot(this,null,function*(){yield this.model.dispose()})}}class Ie extends He{constructor(xt){super(xt)}_call(rr){return ot(this,arguments,function*(xt,{top_k:Ut=1}={}){let nr=this.tokenizer(xt,{padding:!0,truncation:!0}),cr=yield this.model(nr),mr=this.model.config.problem_type==="multi_label_classification"?dr=>dr.sigmoid():dr=>new G.Tensor("float32",(0,y.softmax)(dr.data),dr.dims),Cr=this.model.config.id2label,Tr=[];for(let dr of cr.logits){let Ar=mr(dr),rt=yield(0,G.topk)(Ar,Ut),Et=rt[0].tolist(),Tt=rt[1].tolist().map((zt,tr)=>({label:Cr?Cr[zt]:`LABEL_${zt}`,score:Et[tr]}));Ut===1?Tr.push(...Tt):Tr.push(Tt)}return Array.isArray(xt)||Ut===1?Tr:Tr[0]})}}class Pe extends He{constructor(xt){super(xt)}_call(rr){return ot(this,arguments,function*(xt,{ignore_labels:Ut=["O"]}={}){let nr=Array.isArray(xt),cr=this.tokenizer(nr?xt:[xt],{padding:!0,truncation:!0}),Cr=(yield this.model(cr)).logits,Tr=this.model.config.id2label,dr=[];for(let Ar=0;Ar<Cr.dims[0];++Ar){let rt=cr.input_ids[Ar],Et=Cr[Ar],_t=[];for(let Tt=0;Tt<Et.dims[0];++Tt){let zt=Et[Tt],tr=(0,y.max)(zt.data)[1],ur=Tr?Tr[tr]:`LABEL_${tr}`;if(Ut.includes(ur))continue;let kr=this.tokenizer.decode([rt[Tt].item()],{skip_special_tokens:!0});if(kr==="")continue;let gr=(0,y.softmax)(zt.data);_t.push({entity:ur,score:gr[tr],index:Tt,word:kr})}dr.push(_t)}return nr?dr:dr[0]})}}class Xe extends He{constructor(xt){super(xt)}_call(nr,cr){return ot(this,arguments,function*(xt,Ut,{top_k:rr=1}={}){let mr=this.tokenizer(xt,{text_pair:Ut,padding:!0,truncation:!0}),{start_logits:Cr,end_logits:Tr}=yield this.model(mr),dr=mr.input_ids.tolist(),Ar=mr.attention_mask.tolist(),rt=this.tokenizer.all_special_ids,Et=[];for(let _t=0;_t<Cr.dims[0];++_t){let Tt=dr[_t],zt=Tt.findIndex($r=>$r==this.tokenizer.sep_token_id),tr=Ar[_t].map(($r,Ur)=>$r==1&&(Ur===0||Ur>zt&&rt.findIndex(Io=>Io==Tt[Ur])===-1)),ur=Cr[_t].tolist(),kr=Tr[_t].tolist();for(let $r=1;$r<ur.length;++$r)(Ar[_t]==0||$r<=zt||rt.findIndex(Ur=>Ur==Tt[$r])!==-1)&&(ur[$r]=-1/0,kr[$r]=-1/0);let gr=(0,y.softmax)(ur).map(($r,Ur)=>[$r,Ur]),_r=(0,y.softmax)(kr).map(($r,Ur)=>[$r,Ur]);gr[0][0]=0,_r[0][0]=0;let qr=(0,p.product)(gr,_r).filter($r=>$r[0][1]<=$r[1][1]).map($r=>[$r[0][1],$r[1][1],$r[0][0]*$r[1][0]]).sort(($r,Ur)=>Ur[2]-$r[2]);for(let $r=0;$r<Math.min(qr.length,rr);++$r){let[Ur,Io,Qo]=qr[$r],pn=Tt.slice(Ur,Io+1),Kn=this.tokenizer.decode(pn,{skip_special_tokens:!0});Et.push({answer:Kn,score:Qo})}}return rr===1?Et[0]:Et})}}class Ne extends He{constructor(xt){super(xt)}_call(rr){return ot(this,arguments,function*(xt,{top_k:Ut=5}={}){let nr=this.tokenizer(xt,{padding:!0,truncation:!0}),{logits:cr}=yield this.model(nr),mr=[],Cr=nr.input_ids.tolist();for(let Tr=0;Tr<Cr.length;++Tr){let dr=Cr[Tr],Ar=dr.findIndex(zt=>zt==this.tokenizer.mask_token_id);if(Ar===-1)throw Error(`Mask token (${this.tokenizer.mask_token}) not found in text.`);let rt=cr[Tr][Ar],Et=yield(0,G.topk)(new G.Tensor("float32",(0,y.softmax)(rt.data),rt.dims),Ut),_t=Et[0].tolist(),Tt=Et[1].tolist();mr.push(Tt.map((zt,tr)=>{let ur=dr.slice();return ur[Ar]=zt,{score:_t[tr],token:Number(zt),token_str:this.tokenizer.decode([zt]),sequence:this.tokenizer.decode(ur,{skip_special_tokens:!0})}}))}return Array.isArray(xt)?mr:mr[0]})}}class Ge extends He{_key="generated_text";constructor(xt){super(xt)}_call(rr){return ot(this,arguments,function*(xt,Ut={}){Array.isArray(xt)||(xt=[xt]),this.model.config.prefix&&(xt=xt.map(dr=>this.model.config.prefix+dr));let nr=this.model.config.task_specific_params;nr&&nr[this.task]&&nr[this.task].prefix&&(xt=xt.map(dr=>nr[this.task].prefix+dr));let cr=this.tokenizer,mr={padding:!0,truncation:!0},Cr;this instanceof Oe&&"_build_translation_inputs"in cr?Cr=cr._build_translation_inputs(xt,mr,Ut):Cr=cr(xt,mr);let Tr=yield this.model.generate(Vt(Vt({},Cr),Ut));return cr.batch_decode(Tr,{skip_special_tokens:!0}).map(dr=>({[this._key]:dr}))})}}class Ve extends Ge{_key="summary_text";constructor(xt){super(xt)}}class Oe extends Ge{_key="translation_text";constructor(xt){super(xt)}}function Ue(Ht){return Array.isArray(Ht)&&Ht.every(xt=>"role"in xt&&"content"in xt)}class tt extends He{constructor(xt){super(xt)}_call(rr){return ot(this,arguments,function*(xt,Ut={}){let nr=!1,cr=!1,mr;if(typeof xt=="string")mr=xt=[xt];else if(Array.isArray(xt)&&xt.every(Tt=>typeof Tt=="string"))nr=!0,mr=xt;else{if(Ue(xt))xt=[xt];else if(Array.isArray(xt)&&xt.every(Ue))nr=!0;else throw new Error("Input must be a string, an array of strings, a Chat, or an array of Chats");cr=!0,mr=xt.map(Tt=>this.tokenizer.apply_chat_template(Tt,{tokenize:!1,add_generation_prompt:!0}))}let Cr=Ut.add_special_tokens??!1,Tr=cr?!1:Ut.return_full_text??!0;this.tokenizer.padding_side="left";let dr=this.tokenizer(mr,{add_special_tokens:Cr,padding:!0,truncation:!0}),Ar=yield this.model.generate(Vt(Vt({},dr),Ut)),rt=this.tokenizer.batch_decode(Ar,{skip_special_tokens:!0}),Et;!Tr&&dr.input_ids.dims.at(-1)>0&&(Et=this.tokenizer.batch_decode(dr.input_ids,{skip_special_tokens:!0}).map(Tt=>Tt.length));let _t=Array.from({length:xt.length},Tt=>[]);for(let Tt=0;Tt<rt.length;++Tt){let zt=Math.floor(Tt/Ar.dims[0]*xt.length);Et&&(rt[Tt]=rt[Tt].slice(Et[zt])),_t[zt].push({generated_text:cr?[...xt[zt],{role:"assistant",content:rt[Tt]}]:rt[Tt]})}return!nr&&_t.length===1?_t[0]:_t})}}class bt extends He{constructor(xt){super(xt),this.label2id=Object.fromEntries(Object.entries(this.model.config.label2id).map(([Ut,rr])=>[Ut.toLowerCase(),rr])),this.entailment_id=this.label2id.entailment,this.entailment_id===void 0&&(console.warn("Could not find 'entailment' in label2id mapping. Using 2 as entailment_id."),this.entailment_id=2),this.contradiction_id=this.label2id.contradiction??this.label2id.not_entailment,this.contradiction_id===void 0&&(console.warn("Could not find 'contradiction' in label2id mapping. Using 0 as contradiction_id."),this.contradiction_id=0)}_call(cr,mr){return ot(this,arguments,function*(xt,Ut,{hypothesis_template:rr="This example is {}.",multi_label:nr=!1}={}){let Cr=Array.isArray(xt);Cr||(xt=[xt]),Array.isArray(Ut)||(Ut=[Ut]);let Tr=Ut.map(rt=>rr.replace("{}",rt)),dr=nr||Ut.length===1,Ar=[];for(let rt of xt){let Et=[];for(let zt of Tr){let tr=this.tokenizer(rt,{text_pair:zt,padding:!0,truncation:!0}),ur=yield this.model(tr);dr?Et.push([ur.logits.data[this.contradiction_id],ur.logits.data[this.entailment_id]]):Et.push(ur.logits.data[this.entailment_id])}let Tt=(dr?Et.map(zt=>(0,y.softmax)(zt)[1]):(0,y.softmax)(Et)).map((zt,tr)=>[zt,tr]).sort((zt,tr)=>tr[0]-zt[0]);Ar.push({sequence:rt,labels:Tt.map(zt=>Ut[zt[1]]),scores:Tt.map(zt=>zt[0])})}return Cr?Ar:Ar[0]})}}class lt extends He{constructor(xt){super(xt)}_call(mr){return ot(this,arguments,function*(xt,{pooling:Ut="none",normalize:rr=!1,quantize:nr=!1,precision:cr="binary"}={}){let Cr=this.tokenizer(xt,{padding:!0,truncation:!0}),Tr=yield this.model(Cr),dr=Tr.last_hidden_state??Tr.logits??Tr.token_embeddings;if(Ut!=="none")if(Ut==="mean")dr=(0,G.mean_pooling)(dr,Cr.attention_mask);else if(Ut==="cls")dr=dr.slice(null,0);else throw Error(`Pooling method '${Ut}' not supported.`);return rr&&(dr=dr.normalize(2,-1)),nr&&(dr=(0,G.quantize_embeddings)(dr,cr)),dr})}}class mt extends He{constructor(xt){super(xt)}_call(rr){return ot(this,arguments,function*(xt,{pool:Ut=null}={}){let nr=yield Me(xt),{pixel_values:cr}=yield this.processor(nr),mr=yield this.model({pixel_values:cr}),Cr;if(Ut){if(!("pooler_output"in mr))throw Error("No pooled output was returned. Make sure the model has a 'pooler' layer when using the 'pool' option.");Cr=mr.pooler_output}else Cr=mr.last_hidden_state??mr.logits??mr.image_embeds;return Cr})}}class ut extends He{constructor(xt){super(xt)}_call(rr){return ot(this,arguments,function*(xt,{top_k:Ut=5}={}){let nr=this.processor.feature_extractor.config.sampling_rate,cr=yield Re(xt,nr),mr=this.model.config.id2label,Cr=[];for(let Tr of cr){let dr=yield this.processor(Tr),rt=(yield this.model(dr)).logits[0],Et=yield(0,G.topk)(new G.Tensor("float32",(0,y.softmax)(rt.data),rt.dims),Ut),_t=Et[0].tolist(),zt=Et[1].tolist().map((tr,ur)=>({label:mr?mr[tr]:`LABEL_${tr}`,score:_t[ur]}));Cr.push(zt)}return Array.isArray(xt)?Cr:Cr[0]})}}class ht extends He{constructor(xt){super(xt)}_call(nr,cr){return ot(this,arguments,function*(xt,Ut,{hypothesis_template:rr="This is a sound of {}."}={}){let mr=!Array.isArray(xt);mr&&(xt=[xt]);let Cr=Ut.map(Et=>rr.replace("{}",Et)),Tr=this.tokenizer(Cr,{padding:!0,truncation:!0}),dr=this.processor.feature_extractor.config.sampling_rate,Ar=yield Re(xt,dr),rt=[];for(let Et of Ar){let _t=yield this.processor(Et),Tt=yield this.model(Vt(Vt({},Tr),_t)),zt=(0,y.softmax)(Tt.logits_per_audio.data);rt.push([...zt].map((tr,ur)=>({score:tr,label:Ut[ur]})))}return mr?rt[0]:rt})}}class Ct extends He{constructor(xt){super(xt)}_call(rr){return ot(this,arguments,function*(xt,Ut={}){switch(this.model.config.model_type){case"whisper":return this._call_whisper(xt,Ut);case"wav2vec2":case"wav2vec2-bert":case"unispeech":case"unispeech-sat":case"hubert":return this._call_wav2vec2(xt,Ut);case"moonshine":return this._call_moonshine(xt,Ut);default:throw new Error(`AutomaticSpeechRecognitionPipeline does not support model type '${this.model.config.model_type}'.`)}})}_call_wav2vec2(xt,Ut){return ot(this,null,function*(){Ut.language&&console.warn('`language` parameter is not yet supported for `wav2vec2` models, defaulting to "English".'),Ut.task&&console.warn('`task` parameter is not yet supported for `wav2vec2` models, defaulting to "transcribe".');let rr=!Array.isArray(xt);rr&&(xt=[xt]);let nr=this.processor.feature_extractor.config.sampling_rate,cr=yield Re(xt,nr),mr=[];for(let Cr of cr){let Tr=yield this.processor(Cr),Ar=(yield this.model(Tr)).logits[0],rt=[];for(let _t of Ar)rt.push((0,y.max)(_t.data)[1]);let Et=this.tokenizer.decode(rt);mr.push({text:Et})}return rr?mr[0]:mr})}_call_whisper(xt,Ut){return ot(this,null,function*(){let rr=Ut.return_timestamps??!1,nr=Ut.chunk_length_s??0,cr=Ut.force_full_sequences??!1,mr=Ut.stride_length_s??null,Cr=Vt({},Ut);rr==="word"&&(Cr.return_token_timestamps=!0,Cr.return_timestamps=!1);let Tr=!Array.isArray(xt);Tr&&(xt=[xt]);let dr=this.processor.feature_extractor.config.chunk_length/this.model.config.max_source_positions,Ar=this.processor.feature_extractor.config.hop_length,rt=this.processor.feature_extractor.config.sampling_rate,Et=yield Re(xt,rt),_t=[];for(let Tt of Et){let zt=[];if(nr>0){if(mr===null)mr=nr/6;else if(nr<=mr)throw Error("`chunk_length_s` must be larger than `stride_length_s`.");let kr=rt*nr,gr=rt*mr,_r=kr-2*gr,qr=0;for(;;){let $r=qr+kr,Ur=Tt.subarray(qr,$r),Io=yield this.processor(Ur),Qo=qr===0,pn=$r>=Tt.length;if(zt.push({stride:[Ur.length,Qo?0:gr,pn?0:gr],input_features:Io.input_features,is_last:pn}),pn)break;qr+=_r}}else zt=[{stride:[Tt.length,0,0],input_features:(yield this.processor(Tt)).input_features,is_last:!0}];for(let kr of zt){Cr.num_frames=Math.floor(kr.stride[0]/Ar);let gr=yield this.model.generate(Vt({inputs:kr.input_features},Cr));rr==="word"?(kr.tokens=gr.sequences.tolist()[0],kr.token_timestamps=gr.token_timestamps.tolist()[0].map(_r=>(0,y.round)(_r,2))):kr.tokens=gr[0].tolist(),kr.stride=kr.stride.map(_r=>_r/rt)}let[tr,ur]=this.tokenizer._decode_asr(zt,{time_precision:dr,return_timestamps:rr,force_full_sequences:cr});_t.push(Vt({text:tr},ur))}return Tr?_t[0]:_t})}_call_moonshine(xt,Ut){return ot(this,null,function*(){let rr=!Array.isArray(xt);rr&&(xt=[xt]);let nr=this.processor.feature_extractor.config.sampling_rate,cr=yield Re(xt,nr),mr=[];for(let Cr of cr){let Tr=yield this.processor(Cr),dr=Math.floor(Cr.length/nr)*6,Ar=yield this.model.generate(Vt(Vt({max_new_tokens:dr},Ut),Tr)),rt=this.processor.batch_decode(Ar,{skip_special_tokens:!0})[0];mr.push({text:rt})}return rr?mr[0]:mr})}}class It extends He{constructor(xt){super(xt)}_call(rr){return ot(this,arguments,function*(xt,Ut={}){let nr=Array.isArray(xt),cr=yield Me(xt),{pixel_values:mr}=yield this.processor(cr),Cr=[];for(let Tr of mr){Tr.dims=[1,...Tr.dims];let dr=yield this.model.generate(Vt({inputs:Tr},Ut)),Ar=this.tokenizer.batch_decode(dr,{skip_special_tokens:!0}).map(rt=>({generated_text:rt.trim()}));Cr.push(Ar)}return nr?Cr:Cr[0]})}}class Ft extends He{constructor(xt){super(xt)}_call(rr){return ot(this,arguments,function*(xt,{top_k:Ut=5}={}){let nr=yield Me(xt),{pixel_values:cr}=yield this.processor(nr),mr=yield this.model({pixel_values:cr}),Cr=this.model.config.id2label,Tr=[];for(let dr of mr.logits){let Ar=yield(0,G.topk)(new G.Tensor("float32",(0,y.softmax)(dr.data),dr.dims),Ut),rt=Ar[0].tolist(),_t=Ar[1].tolist().map((Tt,zt)=>({label:Cr?Cr[Tt]:`LABEL_${Tt}`,score:rt[zt]}));Tr.push(_t)}return Array.isArray(xt)?Tr:Tr[0]})}}class At extends He{constructor(xt){super(xt),this.subtasks_mapping={panoptic:"post_process_panoptic_segmentation",instance:"post_process_instance_segmentation",semantic:"post_process_semantic_segmentation"}}_call(Tr){return ot(this,arguments,function*(xt,{threshold:Ut=.5,mask_threshold:rr=.5,overlap_mask_area_threshold:nr=.8,label_ids_to_fuse:cr=null,target_sizes:mr=null,subtask:Cr=null}={}){if(Array.isArray(xt)&&xt.length!==1)throw Error("Image segmentation pipeline currently only supports a batch size of 1.");let Ar=yield Me(xt),rt=Ar.map(kr=>[kr.height,kr.width]),{pixel_values:Et,pixel_mask:_t}=yield this.processor(Ar),Tt=yield this.model({pixel_values:Et,pixel_mask:_t}),zt=null;if(Cr!==null)zt=this.subtasks_mapping[Cr];else for(let[kr,gr]of Object.entries(this.subtasks_mapping))if(gr in this.processor.image_processor){zt=this.processor.image_processor[gr].bind(this.processor.image_processor),Cr=kr;break}let tr=this.model.config.id2label,ur=[];if(Cr==="panoptic"||Cr==="instance"){let kr=zt(Tt,Ut,rr,nr,cr,mr??rt)[0],gr=kr.segmentation;for(let _r of kr.segments_info){let qr=new Uint8ClampedArray(gr.data.length);for(let Ur=0;Ur<gr.data.length;++Ur)gr.data[Ur]===_r.id&&(qr[Ur]=255);let $r=new $.RawImage(qr,gr.dims[1],gr.dims[0],1);ur.push({score:_r.score,label:tr[_r.label_id],mask:$r})}}else if(Cr==="semantic"){let{segmentation:kr,labels:gr}=zt(Tt,mr??rt)[0];for(let _r of gr){let qr=new Uint8ClampedArray(kr.data.length);for(let Ur=0;Ur<kr.data.length;++Ur)kr.data[Ur]===_r&&(qr[Ur]=255);let $r=new $.RawImage(qr,kr.dims[1],kr.dims[0],1);ur.push({score:null,label:tr[_r],mask:$r})}}else throw Error(`Subtask ${Cr} not supported.`);return ur})}}class Dt extends He{constructor(xt){super(xt)}_call(nr,cr){return ot(this,arguments,function*(xt,Ut,{hypothesis_template:rr="This is a photo of {}"}={}){let mr=Array.isArray(xt),Cr=yield Me(xt),Tr=Ut.map(Tt=>rr.replace("{}",Tt)),dr=this.tokenizer(Tr,{padding:this.model.config.model_type==="siglip"?"max_length":!0,truncation:!0}),{pixel_values:Ar}=yield this.processor(Cr),rt=yield this.model(Gr(Vt({},dr),{pixel_values:Ar})),Et=this.model.config.model_type==="siglip"?Tt=>Tt.sigmoid().data:Tt=>(0,y.softmax)(Tt.data),_t=[];for(let Tt of rt.logits_per_image){let tr=[...Et(Tt)].map((ur,kr)=>({score:ur,label:Ut[kr]}));tr.sort((ur,kr)=>kr.score-ur.score),_t.push(tr)}return mr?_t:_t[0]})}}class Rt extends He{constructor(xt){super(xt)}_call(nr){return ot(this,arguments,function*(xt,{threshold:Ut=.9,percentage:rr=!1}={}){let cr=Array.isArray(xt);if(cr&&xt.length!==1)throw Error("Object detection pipeline currently only supports a batch size of 1.");let mr=yield Me(xt),Cr=rr?null:mr.map(Tt=>[Tt.height,Tt.width]),{pixel_values:Tr,pixel_mask:dr}=yield this.processor(mr),Ar=yield this.model({pixel_values:Tr,pixel_mask:dr}),rt=this.processor.image_processor.post_process_object_detection(Ar,Ut,Cr),Et=this.model.config.id2label,_t=rt.map(Tt=>Tt.boxes.map((zt,tr)=>({score:Tt.scores[tr],label:Et[Tt.classes[tr]],box:Ke(zt,!rr)})));return cr?_t:_t[0]})}}class at extends He{constructor(xt){super(xt)}_call(mr,Cr){return ot(this,arguments,function*(xt,Ut,{threshold:rr=.1,top_k:nr=null,percentage:cr=!1}={}){let Tr=Array.isArray(xt),dr=yield Me(xt),Ar=this.tokenizer(Ut,{padding:!0,truncation:!0}),rt=yield this.processor(dr),Et=[];for(let _t=0;_t<dr.length;++_t){let Tt=dr[_t],zt=cr?null:[[Tt.height,Tt.width]],tr=rt.pixel_values[_t].unsqueeze_(0),ur=yield this.model(Gr(Vt({},Ar),{pixel_values:tr})),kr;if("post_process_grounded_object_detection"in this.processor){let gr=this.processor.post_process_grounded_object_detection(ur,Ar.input_ids,{box_threshold:rr,text_threshold:rr,target_sizes:zt})[0];kr=gr.boxes.map((_r,qr)=>({score:gr.scores[qr],label:gr.labels[qr],box:Ke(_r,!cr)}))}else{let gr=this.processor.image_processor.post_process_object_detection(ur,rr,zt,!0)[0];kr=gr.boxes.map((_r,qr)=>({score:gr.scores[qr],label:Ut[gr.classes[qr]],box:Ke(_r,!cr)}))}kr.sort((gr,_r)=>_r.score-gr.score),nr!==null&&(kr=kr.slice(0,nr)),Et.push(kr)}return Tr?Et:Et[0]})}}class Ze extends He{constructor(xt){super(xt)}_call(nr,cr){return ot(this,arguments,function*(xt,Ut,rr={}){let mr=(yield Me(xt))[0],{pixel_values:Cr}=yield this.processor(mr),Tr=`<s_docvqa><s_question>${Ut}</s_question><s_answer>`,dr=this.tokenizer(Tr,{add_special_tokens:!1,padding:!0,truncation:!0}).input_ids,Ar=yield this.model.generate(Vt({inputs:Cr,max_length:this.model.config.decoder.max_position_embeddings,decoder_input_ids:dr},rr)),Et=this.tokenizer.batch_decode(Ar)[0].match(/<s_answer>(.*?)<\/s_answer>/),_t=null;return Et&&Et.length>=2&&(_t=Et[1].trim()),[{answer:_t}]})}}class vt extends He{DEFAULT_VOCODER_ID="Xenova/speecht5_hifigan";constructor(xt){super(xt),this.vocoder=xt.vocoder??null}_call(rr){return ot(this,arguments,function*(xt,{speaker_embeddings:Ut=null}={}){return this.processor?this._call_text_to_spectrogram(xt,{speaker_embeddings:Ut}):this._call_text_to_waveform(xt)})}_call_text_to_waveform(xt){return ot(this,null,function*(){let Ut=this.tokenizer(xt,{padding:!0,truncation:!0}),{waveform:rr}=yield this.model(Ut),nr=this.model.config.sampling_rate;return new k.RawAudio(rr.data,nr)})}_call_text_to_spectrogram(rr,nr){return ot(this,arguments,function*(xt,{speaker_embeddings:Ut}){if(this.vocoder||(console.log("No vocoder specified, using default HifiGan vocoder."),this.vocoder=yield s.AutoModel.from_pretrained(this.DEFAULT_VOCODER_ID,{dtype:"fp32"})),(typeof Ut=="string"||Ut instanceof URL)&&(Ut=new Float32Array(yield(yield fetch(Ut)).arrayBuffer())),Ut instanceof Float32Array)Ut=new G.Tensor("float32",Ut,[1,Ut.length]);else if(!(Ut instanceof G.Tensor))throw new Error("Speaker embeddings must be a `Tensor`, `Float32Array`, `string`, or `URL`.");let{input_ids:cr}=this.tokenizer(xt,{padding:!0,truncation:!0}),{waveform:mr}=yield this.model.generate_speech(cr,Ut,{vocoder:this.vocoder}),Cr=this.processor.feature_extractor.config.sampling_rate;return new k.RawAudio(mr.data,Cr)})}}class St extends He{constructor(xt){super(xt)}_call(xt){return ot(this,null,function*(){let Ut=yield Me(xt),rr=yield this.processor(Ut),nr=yield this.model(rr),cr=[];for(let mr of nr.reconstruction){let Cr=mr.squeeze().clamp_(0,1).mul_(255).round_().to("uint8");cr.push($.RawImage.fromTensor(Cr))}return cr.length>1?cr:cr[0]})}}class $t extends He{constructor(xt){super(xt)}_call(xt){return ot(this,null,function*(){let Ut=yield Me(xt),rr=yield this.processor(Ut),{predicted_depth:nr}=yield this.model(rr),cr=[];for(let mr=0;mr<Ut.length;++mr){let Cr=nr[mr],[Tr,dr]=Cr.dims.slice(-2),[Ar,rt]=Ut[mr].size,Et=(yield(0,G.interpolate_4d)(Cr.view(1,1,Tr,dr),{size:[rt,Ar],mode:"bilinear"})).view(rt,Ar),_t=Et.min().item(),Tt=Et.max().item(),zt=Et.sub(_t).div_(Tt-_t).mul_(255).to("uint8").unsqueeze(0),tr=$.RawImage.fromTensor(zt);cr.push({predicted_depth:Et,depth:tr})}return cr.length>1?cr:cr[0]})}}let qt=Object.freeze({"text-classification":{tokenizer:n.AutoTokenizer,pipeline:Ie,model:s.AutoModelForSequenceClassification,default:{model:"Xenova/distilbert-base-uncased-finetuned-sst-2-english"},type:"text"},"token-classification":{tokenizer:n.AutoTokenizer,pipeline:Pe,model:s.AutoModelForTokenClassification,default:{model:"Xenova/bert-base-multilingual-cased-ner-hrl"},type:"text"},"question-answering":{tokenizer:n.AutoTokenizer,pipeline:Xe,model:s.AutoModelForQuestionAnswering,default:{model:"Xenova/distilbert-base-cased-distilled-squad"},type:"text"},"fill-mask":{tokenizer:n.AutoTokenizer,pipeline:Ne,model:s.AutoModelForMaskedLM,default:{model:"Xenova/bert-base-uncased"},type:"text"},summarization:{tokenizer:n.AutoTokenizer,pipeline:Ve,model:s.AutoModelForSeq2SeqLM,default:{model:"Xenova/distilbart-cnn-6-6"},type:"text"},translation:{tokenizer:n.AutoTokenizer,pipeline:Oe,model:s.AutoModelForSeq2SeqLM,default:{model:"Xenova/t5-small"},type:"text"},"text2text-generation":{tokenizer:n.AutoTokenizer,pipeline:Ge,model:s.AutoModelForSeq2SeqLM,default:{model:"Xenova/flan-t5-small"},type:"text"},"text-generation":{tokenizer:n.AutoTokenizer,pipeline:tt,model:s.AutoModelForCausalLM,default:{model:"Xenova/gpt2"},type:"text"},"zero-shot-classification":{tokenizer:n.AutoTokenizer,pipeline:bt,model:s.AutoModelForSequenceClassification,default:{model:"Xenova/distilbert-base-uncased-mnli"},type:"text"},"audio-classification":{pipeline:ut,model:s.AutoModelForAudioClassification,processor:c.AutoProcessor,default:{model:"Xenova/wav2vec2-base-superb-ks"},type:"audio"},"zero-shot-audio-classification":{tokenizer:n.AutoTokenizer,pipeline:ht,model:s.AutoModel,processor:c.AutoProcessor,default:{model:"Xenova/clap-htsat-unfused"},type:"multimodal"},"automatic-speech-recognition":{tokenizer:n.AutoTokenizer,pipeline:Ct,model:[s.AutoModelForSpeechSeq2Seq,s.AutoModelForCTC],processor:c.AutoProcessor,default:{model:"Xenova/whisper-tiny.en"},type:"multimodal"},"text-to-audio":{tokenizer:n.AutoTokenizer,pipeline:vt,model:[s.AutoModelForTextToWaveform,s.AutoModelForTextToSpectrogram],processor:[c.AutoProcessor,null],default:{model:"Xenova/speecht5_tts"},type:"text"},"image-to-text":{tokenizer:n.AutoTokenizer,pipeline:It,model:s.AutoModelForVision2Seq,processor:c.AutoProcessor,default:{model:"Xenova/vit-gpt2-image-captioning"},type:"multimodal"},"image-classification":{pipeline:Ft,model:s.AutoModelForImageClassification,processor:c.AutoProcessor,default:{model:"Xenova/vit-base-patch16-224"},type:"multimodal"},"image-segmentation":{pipeline:At,model:[s.AutoModelForImageSegmentation,s.AutoModelForSemanticSegmentation,s.AutoModelForUniversalSegmentation],processor:c.AutoProcessor,default:{model:"Xenova/detr-resnet-50-panoptic"},type:"multimodal"},"zero-shot-image-classification":{tokenizer:n.AutoTokenizer,pipeline:Dt,model:s.AutoModel,processor:c.AutoProcessor,default:{model:"Xenova/clip-vit-base-patch32"},type:"multimodal"},"object-detection":{pipeline:Rt,model:s.AutoModelForObjectDetection,processor:c.AutoProcessor,default:{model:"Xenova/detr-resnet-50"},type:"multimodal"},"zero-shot-object-detection":{tokenizer:n.AutoTokenizer,pipeline:at,model:s.AutoModelForZeroShotObjectDetection,processor:c.AutoProcessor,default:{model:"Xenova/owlvit-base-patch32"},type:"multimodal"},"document-question-answering":{tokenizer:n.AutoTokenizer,pipeline:Ze,model:s.AutoModelForDocumentQuestionAnswering,processor:c.AutoProcessor,default:{model:"Xenova/donut-base-finetuned-docvqa"},type:"multimodal"},"image-to-image":{pipeline:St,model:s.AutoModelForImageToImage,processor:c.AutoProcessor,default:{model:"Xenova/swin2SR-classical-sr-x2-64"},type:"image"},"depth-estimation":{pipeline:$t,model:s.AutoModelForDepthEstimation,processor:c.AutoProcessor,default:{model:"Xenova/dpt-large"},type:"image"},"feature-extraction":{tokenizer:n.AutoTokenizer,pipeline:lt,model:s.AutoModel,default:{model:"Xenova/all-MiniLM-L6-v2"},type:"text"},"image-feature-extraction":{processor:c.AutoProcessor,pipeline:mt,model:[s.AutoModelForImageFeatureExtraction,s.AutoModel],default:{model:"Xenova/vit-base-patch16-224-in21k"},type:"image"}}),gt=Object.freeze({"sentiment-analysis":"text-classification",ner:"token-classification",asr:"automatic-speech-recognition","text-to-speech":"text-to-audio",embeddings:"feature-extraction"});function st(rt){return ot(this,arguments,function*(Ht,xt=null,{progress_callback:Ut=null,config:rr=null,cache_dir:nr=null,local_files_only:cr=!1,revision:mr="main",device:Cr=null,dtype:Tr=null,model_file_name:dr=null,session_options:Ar={}}={}){Ht=gt[Ht]??Ht;let Et=qt[Ht.split("_",1)[0]];if(!Et)throw Error(`Unsupported pipeline: ${Ht}. Must be one of [${Object.keys(qt)}]`);xt||(xt=Et.default.model,console.log(`No model specified. Using default model: "${xt}".`));let _t={progress_callback:Ut,config:rr,cache_dir:nr,local_files_only:cr,revision:mr,device:Cr,dtype:Tr,model_file_name:dr,session_options:Ar},Tt=new Map([["tokenizer",Et.tokenizer],["model",Et.model],["processor",Et.processor]]),zt=yield hr(Tt,xt,_t);zt.task=Ht,(0,p.dispatchCallback)(Ut,{status:"ready",task:Ht,model:xt});let tr=Et.pipeline;return new tr(zt)})}function hr(Ht,xt,Ut){return ot(this,null,function*(){let rr=Object.create(null),nr=[];for(let[cr,mr]of Ht.entries()){if(!mr)continue;let Cr;Array.isArray(mr)?Cr=new Promise((Tr,dr)=>ot(this,null,function*(){let Ar;for(let rt of mr){if(rt===null){Tr(null);return}try{Tr(yield rt.from_pretrained(xt,Ut));return}catch(Et){if(Et.message?.includes("Unsupported model type"))Ar=Et;else if(Et.message?.includes("Could not locate file"))Ar=Et;else{dr(Et);return}}}dr(Ar)})):Cr=mr.from_pretrained(xt,Ut),rr[cr]=Cr,nr.push(Cr)}yield Promise.all(nr);for(let[cr,mr]of Object.entries(rr))rr[cr]=yield mr;return rr})}},"./src/tokenizers.js":(r,o,e)=>{e.r(o),e.d(o,{AlbertTokenizer:()=>Ii,AutoTokenizer:()=>Ko,BartTokenizer:()=>zs,BertTokenizer:()=>ca,BlenderbotSmallTokenizer:()=>hl,BlenderbotTokenizer:()=>fl,BloomTokenizer:()=>vs,CLIPTokenizer:()=>Gs,CamembertTokenizer:()=>xr,CodeGenTokenizer:()=>Ws,CodeLlamaTokenizer:()=>Vs,CohereTokenizer:()=>qs,ConvBertTokenizer:()=>On,DebertaTokenizer:()=>ki,DebertaV2Tokenizer:()=>ss,DistilBertTokenizer:()=>li,ElectraTokenizer:()=>oo,EsmTokenizer:()=>Us,FalconTokenizer:()=>ul,GPT2Tokenizer:()=>cl,GPTNeoXTokenizer:()=>pl,GemmaTokenizer:()=>Ll,Grok1Tokenizer:()=>cs,HerbertTokenizer:()=>Di,LlamaTokenizer:()=>js,M2M100Tokenizer:()=>Nl,MBart50Tokenizer:()=>ls,MBartTokenizer:()=>Cn,MPNetTokenizer:()=>dl,MarianTokenizer:()=>io,MgpstrTokenizer:()=>gl,MobileBertTokenizer:()=>zi,NllbTokenizer:()=>Vi,NougatTokenizer:()=>Ks,PreTrainedTokenizer:()=>ao,Qwen2Tokenizer:()=>lu,RoFormerTokenizer:()=>ni,RobertaTokenizer:()=>Un,SiglipTokenizer:()=>Hs,SpeechT5Tokenizer:()=>ml,SqueezeBertTokenizer:()=>ga,T5Tokenizer:()=>ci,TokenizerModel:()=>lt,VitsTokenizer:()=>cu,Wav2Vec2CTCTokenizer:()=>zl,WhisperTokenizer:()=>ys,XLMRobertaTokenizer:()=>ap,XLMTokenizer:()=>Wr,is_chinese_char:()=>Xe});var n=e("./src/utils/generic.js"),s=e("./src/utils/core.js"),c=e("./src/utils/hub.js"),u=e("./src/utils/maths.js"),h=e("./src/utils/tensor.js"),p=e("./src/utils/data-structures.js"),y=e("./node_modules/@huggingface/jinja/dist/index.js"),k=e("./src/models/whisper/common_whisper.js");function G(Gt,We){return ot(this,null,function*(){let wt=yield Promise.all([(0,c.getModelJSON)(Gt,"tokenizer.json",!0,We),(0,c.getModelJSON)(Gt,"tokenizer_config.json",!0,We)]);return We.legacy!==null&&(wt[1].legacy=We.legacy),wt})}function $(Gt,We){let wt=[],Bt=0;for(let Ot of Gt.matchAll(We)){let er=Ot[0];Bt<Ot.index&&wt.push(Gt.slice(Bt,Ot.index)),er.length>0&&wt.push(er),Bt=Ot.index+er.length}return Bt<Gt.length&&wt.push(Gt.slice(Bt)),wt}function Me(Gt,We=!0){if(Gt.Regex!==void 0){let wt=Gt.Regex.replace(/\\([#&~])/g,"$1");for(let[Bt,Ot]of tt)wt=wt.replaceAll(Bt,Ot);return new RegExp(wt,"gu")}else if(Gt.String!==void 0){let wt=(0,s.escapeRegExp)(Gt.String);return new RegExp(We?wt:`(${wt})`,"gu")}else return console.warn("Unknown pattern type:",Gt),null}function Re(Gt){return new Map(Object.entries(Gt))}function Ke(Gt){let We=Gt.dims;switch(We.length){case 1:return Gt.tolist();case 2:if(We[0]!==1)throw new Error("Unable to decode tensor with `batch size !== 1`. Use `tokenizer.batch_decode(...)` for batched inputs.");return Gt.tolist()[0];default:throw new Error(`Expected tensor to have 1-2 dimensions, got ${We.length}.`)}}function He(Gt){return Gt.replace(/ \./g,".").replace(/ \?/g,"?").replace(/ \!/g,"!").replace(/ ,/g,",").replace(/ \' /g,"'").replace(/ n\'t/g,"n't").replace(/ \'m/g,"'m").replace(/ \'s/g,"'s").replace(/ \'ve/g,"'ve").replace(/ \'re/g,"'re")}function Ie(Gt){return Gt.replace(new RegExp("\\p{M}","gu"),"")}function Pe(Gt){return Ie(Gt.toLowerCase())}function Xe(Gt){return Gt>=19968&&Gt<=40959||Gt>=13312&&Gt<=19903||Gt>=131072&&Gt<=173791||Gt>=173824&&Gt<=177983||Gt>=177984&&Gt<=178207||Gt>=178208&&Gt<=183983||Gt>=63744&&Gt<=64255||Gt>=194560&&Gt<=195103}function Ne(Gt,We,wt){let Bt=[],Ot=0;for(;Ot<Gt.length;){if(Bt.push(Gt[Ot]),(We.get(Gt[Ot])??wt)!==wt){++Ot;continue}for(;++Ot<Gt.length&&(We.get(Gt[Ot])??wt)===wt;)We.get(Bt.at(-1))!==wt&&(Bt[Bt.length-1]+=Gt[Ot])}return Bt}function Ge(Gt){return Gt.match(/\S+/g)||[]}let Ve="\\p{P}\\u0021-\\u002F\\u003A-\\u0040\\u005B-\\u0060\\u007B-\\u007E",Oe=new RegExp(`^[${Ve}]+$`,"gu"),Ue=".,!?\u2026\u3002\uFF0C\u3001\u0964\u06D4\u060C",tt=new Map([["(?i:'s|'t|'re|'ve|'m|'ll|'d)","(?:'([sS]|[tT]|[rR][eE]|[vV][eE]|[mM]|[lL][lL]|[dD]))"],[` ?[^(\\s|[${Ue}])]+`,` ?[^\\s${Ue}]+`]]);class bt{constructor(We){this.content=We.content,this.id=We.id,this.single_word=We.single_word??!1,this.lstrip=We.lstrip??!1,this.rstrip=We.rstrip??!1,this.special=We.special??!1,this.normalized=We.normalized??null}}class lt extends n.Callable{constructor(We){super(),this.config=We,this.vocab=[],this.tokens_to_ids=new Map,this.unk_token_id=void 0,this.unk_token=void 0,this.end_of_word_suffix=void 0,this.fuse_unk=this.config.fuse_unk??!1}static fromConfig(We,...wt){switch(We.type){case"WordPiece":return new mt(We);case"Unigram":return new ut(We,...wt);case"BPE":return new It(We);default:if(We.vocab)return Array.isArray(We.vocab)?new ut(We,...wt):typeof We.vocab=="object"&&We.continuing_subword_prefix&&We.unk_token?new mt(We):new Ft(We,...wt);throw new Error(`Unknown TokenizerModel type: ${We.type}`)}}_call(We){return We=this.encode(We),this.fuse_unk&&(We=Ne(We,this.tokens_to_ids,this.unk_token_id)),We}encode(We){throw Error("encode should be implemented in subclass.")}convert_tokens_to_ids(We){return We.map(wt=>this.tokens_to_ids.get(wt)??this.unk_token_id)}convert_ids_to_tokens(We){return We.map(wt=>this.vocab[wt]??this.unk_token)}}class mt extends lt{constructor(We){super(We),this.tokens_to_ids=Re(We.vocab),this.unk_token_id=this.tokens_to_ids.get(We.unk_token),this.unk_token=We.unk_token,this.max_input_chars_per_word=We.max_input_chars_per_word??100,this.vocab=new Array(this.tokens_to_ids.size);for(let[wt,Bt]of this.tokens_to_ids)this.vocab[Bt]=wt}encode(We){let wt=[];for(let Bt of We){let Ot=[...Bt];if(Ot.length>this.max_input_chars_per_word){wt.push(this.unk_token);continue}let er=!1,fr=0,Rr=[];for(;fr<Ot.length;){let zr=Ot.length,Lr=null;for(;fr<zr;){let Fr=Ot.slice(fr,zr).join("");if(fr>0&&(Fr=this.config.continuing_subword_prefix+Fr),this.tokens_to_ids.has(Fr)){Lr=Fr;break}--zr}if(Lr===null){er=!0;break}Rr.push(Lr),fr=zr}er?wt.push(this.unk_token):wt.push(...Rr)}return wt}}class ut extends lt{constructor(We,wt){super(We);let Bt=We.vocab.length;this.vocab=new Array(Bt),this.scores=new Array(Bt);for(let Ot=0;Ot<Bt;++Ot)[this.vocab[Ot],this.scores[Ot]]=We.vocab[Ot];this.unk_token_id=We.unk_id,this.unk_token=this.vocab[We.unk_id],this.tokens_to_ids=new Map(this.vocab.map((Ot,er)=>[Ot,er])),this.bos_token=" ",this.bos_token_id=this.tokens_to_ids.get(this.bos_token),this.eos_token=wt.eos_token,this.eos_token_id=this.tokens_to_ids.get(this.eos_token),this.unk_token=this.vocab[this.unk_token_id],this.minScore=(0,u.min)(this.scores)[0],this.unk_score=this.minScore-10,this.scores[this.unk_token_id]=this.unk_score,this.trie=new p.CharTrie,this.trie.extend(this.vocab),this.fuse_unk=!0}populateNodes(We){let wt=We.chars,Bt=1,Ot=0;for(;Ot<wt.length;){let er=!1,fr=[],Rr=wt.slice(Ot).join(""),zr=this.trie.commonPrefixSearch(Rr);for(let Lr of zr){fr.push(Lr);let Fr=this.tokens_to_ids.get(Lr),Wo=this.scores[Fr],uo=(0,s.len)(Lr);We.insert(Ot,uo,Wo,Fr),!er&&uo===Bt&&(er=!0)}er||We.insert(Ot,Bt,this.unk_score,this.unk_token_id),Ot+=Bt}}tokenize(We){let wt=new p.TokenLattice(We,this.bos_token_id,this.eos_token_id);return this.populateNodes(wt),wt.tokens()}encode(We){let wt=[];for(let Bt of We){let Ot=this.tokenize(Bt);wt.push(...Ot)}return wt}}let ht=(()=>{let Gt=[...Array.from({length:94},(Ot,er)=>er+33),...Array.from({length:12},(Ot,er)=>er+161),...Array.from({length:82},(Ot,er)=>er+174)],We=Gt.slice(),wt=0;for(let Ot=0;Ot<256;++Ot)Gt.includes(Ot)||(Gt.push(Ot),We.push(256+wt),wt+=1);let Bt=We.map(Ot=>String.fromCharCode(Ot));return Object.fromEntries(Gt.map((Ot,er)=>[Ot,Bt[er]]))})(),Ct=(0,s.reverseDictionary)(ht);class It extends lt{constructor(We){super(We),this.tokens_to_ids=Re(We.vocab),this.unk_token_id=this.tokens_to_ids.get(We.unk_token),this.unk_token=We.unk_token,this.vocab=new Array(this.tokens_to_ids.size);for(let[Bt,Ot]of this.tokens_to_ids)this.vocab[Ot]=Bt;let wt=Array.isArray(We.merges[0]);this.merges=wt?We.merges:We.merges.map(Bt=>Bt.split(" ",2)),this.bpe_ranks=new Map(this.merges.map((Bt,Ot)=>[JSON.stringify(Bt),Ot])),this.end_of_word_suffix=We.end_of_word_suffix,this.continuing_subword_suffix=We.continuing_subword_suffix??null,this.byte_fallback=this.config.byte_fallback??!1,this.byte_fallback&&(this.text_encoder=new TextEncoder),this.ignore_merges=this.config.ignore_merges??!1,this.cache=new Map}bpe(We){if(We.length===0)return[];let wt=this.cache.get(We);if(wt!==void 0)return wt;let Bt=Array.from(We);this.end_of_word_suffix&&(Bt[Bt.length-1]+=this.end_of_word_suffix);let Ot=[];if(Bt.length>1){let er=new p.PriorityQueue((zr,Lr)=>zr.score<Lr.score),fr={token:Bt[0],bias:0,prev:null,next:null},Rr=fr;for(let zr=1;zr<Bt.length;++zr){let Lr={bias:zr/Bt.length,token:Bt[zr],prev:Rr,next:null};Rr.next=Lr,this._add_node(er,Rr),Rr=Lr}for(;!er.isEmpty();){let zr=er.pop();if(zr.deleted||!zr.next||zr.next.deleted)continue;if(zr.deleted=!0,zr.next.deleted=!0,zr.prev){let Fr=Vt({},zr.prev);zr.prev.deleted=!0,zr.prev=Fr,Fr.prev?Fr.prev.next=Fr:fr=Fr}let Lr={token:zr.token+zr.next.token,bias:zr.bias,prev:zr.prev,next:zr.next.next};Lr.prev?(Lr.prev.next=Lr,this._add_node(er,Lr.prev)):fr=Lr,Lr.next&&(Lr.next.prev=Lr,this._add_node(er,Lr))}for(let zr=fr;zr!==null;zr=zr.next)Ot.push(zr.token)}else Ot=Bt;if(this.continuing_subword_suffix)for(let er=0;er<Ot.length-1;++er)Ot[er]+=this.continuing_subword_suffix;return this.cache.set(We,Ot),Ot}_add_node(We,wt){let Bt=this.bpe_ranks.get(JSON.stringify([wt.token,wt.next.token]));Bt!==void 0&&(wt.score=Bt+wt.bias,We.push(wt))}encode(We){let wt=[];for(let Bt of We){if(this.ignore_merges&&this.tokens_to_ids.has(Bt)){wt.push(Bt);continue}let Ot=this.bpe(Bt);for(let er of Ot)if(this.tokens_to_ids.has(er))wt.push(er);else if(this.byte_fallback){let fr=Array.from(this.text_encoder.encode(er)).map(Rr=>`<0x${Rr.toString(16).toUpperCase().padStart(2,"0")}>`);fr.every(Rr=>this.tokens_to_ids.has(Rr))?wt.push(...fr):wt.push(this.unk_token)}else wt.push(this.unk_token)}return wt}}class Ft extends lt{constructor(We,wt){super(We),this.tokens_to_ids=Re(wt.target_lang?We.vocab[wt.target_lang]:We.vocab),this.bos_token=wt.bos_token,this.bos_token_id=this.tokens_to_ids.get(this.bos_token),this.eos_token=wt.eos_token,this.eos_token_id=this.tokens_to_ids.get(this.eos_token),this.pad_token=wt.pad_token,this.pad_token_id=this.tokens_to_ids.get(this.pad_token),this.unk_token=wt.unk_token,this.unk_token_id=this.tokens_to_ids.get(this.unk_token),this.vocab=new Array(this.tokens_to_ids.size);for(let[Bt,Ot]of this.tokens_to_ids)this.vocab[Ot]=Bt}encode(We){return We}}class At extends n.Callable{constructor(We){super(),this.config=We}static fromConfig(We){if(We===null)return null;switch(We.type){case"BertNormalizer":return new st(We);case"Precompiled":return new Io(We);case"Sequence":return new gt(We);case"Replace":return new Dt(We);case"NFC":return new Rt(We);case"NFKC":return new at(We);case"NFKD":return new Ze(We);case"Strip":return new vt(We);case"StripAccents":return new St(We);case"Lowercase":return new $t(We);case"Prepend":return new qt(We);default:throw new Error(`Unknown Normalizer type: ${We.type}`)}}normalize(We){throw Error("normalize should be implemented in subclass.")}_call(We){return this.normalize(We)}}class Dt extends At{normalize(We){let wt=Me(this.config.pattern);return wt===null?We:We.replaceAll(wt,this.config.content)}}class Rt extends At{normalize(We){return We=We.normalize("NFC"),We}}class at extends At{normalize(We){return We=We.normalize("NFKC"),We}}class Ze extends At{normalize(We){return We=We.normalize("NFKD"),We}}class vt extends At{normalize(We){return this.config.strip_left&&this.config.strip_right?We=We.trim():(this.config.strip_left&&(We=We.trimStart()),this.config.strip_right&&(We=We.trimEnd())),We}}class St extends At{normalize(We){return We=Ie(We),We}}class $t extends At{normalize(We){return We=We.toLowerCase(),We}}class qt extends At{normalize(We){return We=this.config.prepend+We,We}}class gt extends At{constructor(We){super(We),this.normalizers=We.normalizers.map(wt=>At.fromConfig(wt))}normalize(We){return this.normalizers.reduce((wt,Bt)=>Bt.normalize(wt),We)}}class st extends At{_tokenize_chinese_chars(We){let wt=[];for(let Bt=0;Bt<We.length;++Bt){let Ot=We[Bt],er=Ot.charCodeAt(0);Xe(er)?(wt.push(" "),wt.push(Ot),wt.push(" ")):wt.push(Ot)}return wt.join("")}stripAccents(We){return We.normalize("NFD").replace(new RegExp("\\p{Mn}","gu"),"")}_is_control(We){switch(We){case"	":case`
`:case"\r":return!1;default:return new RegExp("^\\p{Cc}|\\p{Cf}|\\p{Co}|\\p{Cs}$","u").test(We)}}_clean_text(We){let wt=[];for(let Bt of We){let Ot=Bt.charCodeAt(0);Ot===0||Ot===65533||this._is_control(Bt)||(/^\s$/.test(Bt)?wt.push(" "):wt.push(Bt))}return wt.join("")}normalize(We){return this.config.clean_text&&(We=this._clean_text(We)),this.config.handle_chinese_chars&&(We=this._tokenize_chinese_chars(We)),this.config.lowercase?(We=We.toLowerCase(),this.config.strip_accents!==!1&&(We=this.stripAccents(We))):this.config.strip_accents&&(We=this.stripAccents(We)),We}}class hr extends n.Callable{static fromConfig(We){if(We===null)return null;switch(We.type){case"BertPreTokenizer":return new Ht(We);case"Sequence":return new Qo(We);case"Whitespace":return new pn(We);case"WhitespaceSplit":return new Kn(We);case"Metaspace":return new $r(We);case"ByteLevel":return new xt(We);case"Split":return new Ut(We);case"Punctuation":return new rr(We);case"Digits":return new nr(We);case"Replace":return new Bi(We);default:throw new Error(`Unknown PreTokenizer type: ${We.type}`)}}pre_tokenize_text(We,wt){throw Error("pre_tokenize_text should be implemented in subclass.")}pre_tokenize(We,wt){return(Array.isArray(We)?We.map(Bt=>this.pre_tokenize_text(Bt,wt)):this.pre_tokenize_text(We,wt)).flat()}_call(We,wt){return this.pre_tokenize(We,wt)}}class Ht extends hr{constructor(We){super(),this.pattern=new RegExp(`[^\\s${Ve}]+|[${Ve}]`,"gu")}pre_tokenize_text(We,wt){return We.trim().match(this.pattern)||[]}}class xt extends hr{constructor(We){super(),this.config=We,this.add_prefix_space=this.config.add_prefix_space,this.trim_offsets=this.config.trim_offsets,this.use_regex=this.config.use_regex??!0,this.pattern=new RegExp("'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+","gu"),this.byte_encoder=ht,this.text_encoder=new TextEncoder}pre_tokenize_text(We,wt){return this.add_prefix_space&&!We.startsWith(" ")&&(We=" "+We),(this.use_regex?We.match(this.pattern)||[]:[We]).map(Ot=>Array.from(this.text_encoder.encode(Ot),er=>this.byte_encoder[er]).join(""))}}class Ut extends hr{constructor(We){super(),this.config=We,this.pattern=Me(this.config.pattern,this.config.invert)}pre_tokenize_text(We,wt){return this.pattern===null?[]:this.config.invert?We.match(this.pattern)||[]:this.config.behavior?.toLowerCase()==="removed"?We.split(this.pattern).filter(Bt=>Bt):$(We,this.pattern)}}class rr extends hr{constructor(We){super(),this.config=We,this.pattern=new RegExp(`[^${Ve}]+|[${Ve}]+`,"gu")}pre_tokenize_text(We,wt){return We.match(this.pattern)||[]}}class nr extends hr{constructor(We){super(),this.config=We;let wt=`[^\\d]+|\\d${this.config.individual_digits?"":"+"}`;this.pattern=new RegExp(wt,"gu")}pre_tokenize_text(We,wt){return We.match(this.pattern)||[]}}class cr extends n.Callable{constructor(We){super(),this.config=We}static fromConfig(We){if(We===null)return null;switch(We.type){case"TemplateProcessing":return new Tr(We);case"ByteLevel":return new dr(We);case"RobertaProcessing":return new Cr(We);case"BertProcessing":return new mr(We);case"Sequence":return new Ar(We);default:throw new Error(`Unknown PostProcessor type: ${We.type}`)}}post_process(We,...wt){throw Error("post_process should be implemented in subclass.")}_call(We,...wt){return this.post_process(We,...wt)}}class mr extends cr{constructor(We){super(We),this.cls=We.cls[0],this.sep=We.sep[0]}post_process(We,wt=null,{add_special_tokens:Bt=!0}={}){Bt&&(We=(0,s.mergeArrays)([this.cls],We,[this.sep]));let Ot=new Array(We.length).fill(0);if(wt!==null){let er=Bt&&this instanceof Cr?[this.sep]:[],fr=Bt?[this.sep]:[];We=(0,s.mergeArrays)(We,er,wt,fr),Ot=(0,s.mergeArrays)(Ot,new Array(wt.length+er.length+fr.length).fill(1))}return{tokens:We,token_type_ids:Ot}}}class Cr extends mr{}class Tr extends cr{constructor(We){super(We),this.single=We.single,this.pair=We.pair}post_process(We,wt=null,{add_special_tokens:Bt=!0}={}){let Ot=wt===null?this.single:this.pair,er=[],fr=[];for(let Rr of Ot)"SpecialToken"in Rr?Bt&&(er.push(Rr.SpecialToken.id),fr.push(Rr.SpecialToken.type_id)):"Sequence"in Rr&&(Rr.Sequence.id==="A"?(er=(0,s.mergeArrays)(er,We),fr=(0,s.mergeArrays)(fr,new Array(We.length).fill(Rr.Sequence.type_id))):Rr.Sequence.id==="B"&&(er=(0,s.mergeArrays)(er,wt),fr=(0,s.mergeArrays)(fr,new Array(wt.length).fill(Rr.Sequence.type_id))));return{tokens:er,token_type_ids:fr}}}class dr extends cr{post_process(We,wt=null){return wt&&(We=(0,s.mergeArrays)(We,wt)),{tokens:We}}}class Ar extends cr{constructor(We){super(We),this.processors=We.processors.map(wt=>cr.fromConfig(wt))}post_process(We,wt=null,Bt={}){let Ot;for(let er of this.processors)if(er instanceof dr)We=er.post_process(We).tokens,wt&&(wt=er.post_process(wt).tokens);else{let fr=er.post_process(We,wt,Bt);We=fr.tokens,Ot=fr.token_type_ids}return{tokens:We,token_type_ids:Ot}}}class rt extends n.Callable{constructor(We){super(),this.config=We,this.added_tokens=[],this.end_of_word_suffix=null,this.trim_offsets=We.trim_offsets}static fromConfig(We){if(We===null)return null;switch(We.type){case"WordPiece":return new tr(We);case"Metaspace":return new Ur(We);case"ByteLevel":return new ur(We);case"Replace":return new Et(We);case"ByteFallback":return new _t(We);case"Fuse":return new Tt(We);case"Strip":return new zt(We);case"Sequence":return new gr(We);case"CTC":return new kr(We);case"BPEDecoder":return new _r(We);default:throw new Error(`Unknown Decoder type: ${We.type}`)}}_call(We){return this.decode(We)}decode(We){return this.decode_chain(We).join("")}decode_chain(We){throw Error("`decode_chain` should be implemented in subclass.")}}class Et extends rt{decode_chain(We){let wt=Me(this.config.pattern);return wt===null?We:We.map(Bt=>Bt.replaceAll(wt,this.config.content))}}class _t extends rt{constructor(We){super(We),this.text_decoder=new TextDecoder}decode_chain(We){let wt=[],Bt=[];for(let Ot of We){let er=null;if(Ot.length===6&&Ot.startsWith("<0x")&&Ot.endsWith(">")){let fr=parseInt(Ot.slice(3,5),16);isNaN(fr)||(er=fr)}if(er!==null)Bt.push(er);else{if(Bt.length>0){let fr=this.text_decoder.decode(Uint8Array.from(Bt));wt.push(fr),Bt=[]}wt.push(Ot)}}if(Bt.length>0){let Ot=this.text_decoder.decode(Uint8Array.from(Bt));wt.push(Ot),Bt=[]}return wt}}class Tt extends rt{decode_chain(We){return[We.join("")]}}class zt extends rt{constructor(We){super(We),this.content=this.config.content,this.start=this.config.start,this.stop=this.config.stop}decode_chain(We){return We.map(wt=>{let Bt=0;for(let er=0;er<this.start&&wt[er]===this.content;++er){Bt=er+1;continue}let Ot=wt.length;for(let er=0;er<this.stop;++er){let fr=wt.length-er-1;if(wt[fr]===this.content){Ot=fr;continue}else break}return wt.slice(Bt,Ot)})}}class tr extends rt{constructor(We){super(We),this.cleanup=We.cleanup}decode_chain(We){return We.map((wt,Bt)=>(Bt!==0&&(wt.startsWith(this.config.prefix)?wt=wt.replace(this.config.prefix,""):wt=" "+wt),this.cleanup&&(wt=He(wt)),wt))}}class ur extends rt{constructor(We){super(We),this.byte_decoder=Ct,this.text_decoder=new TextDecoder("utf-8",{fatal:!1,ignoreBOM:!0}),this.end_of_word_suffix=null}convert_tokens_to_string(We){let wt=We.join(""),Bt=new Uint8Array([...wt].map(er=>this.byte_decoder[er]));return this.text_decoder.decode(Bt)}decode_chain(We){let wt=[],Bt=[];for(let Ot of We)this.added_tokens.find(er=>er.content===Ot)!==void 0?(Bt.length>0&&(wt.push(this.convert_tokens_to_string(Bt)),Bt=[]),wt.push(Ot)):Bt.push(Ot);return Bt.length>0&&wt.push(this.convert_tokens_to_string(Bt)),wt}}class kr extends rt{constructor(We){super(We),this.pad_token=this.config.pad_token,this.word_delimiter_token=this.config.word_delimiter_token,this.cleanup=this.config.cleanup}convert_tokens_to_string(We){if(We.length===0)return"";let wt=[We[0]];for(let er=1;er<We.length;++er)We[er]!==wt.at(-1)&&wt.push(We[er]);let Ot=wt.filter(er=>er!==this.pad_token).join("");return this.cleanup&&(Ot=He(Ot).replaceAll(this.word_delimiter_token," ").trim()),Ot}decode_chain(We){return[this.convert_tokens_to_string(We)]}}class gr extends rt{constructor(We){super(We),this.decoders=We.decoders.map(wt=>rt.fromConfig(wt))}decode_chain(We){return this.decoders.reduce((wt,Bt)=>Bt.decode_chain(wt),We)}}class _r extends rt{constructor(We){super(We),this.suffix=this.config.suffix}decode_chain(We){return We.map((wt,Bt)=>wt.replaceAll(this.suffix,Bt===We.length-1?"":" "))}}class qr extends rt{decode_chain(We){let wt="";for(let Bt=1;Bt<We.length;Bt+=2)wt+=We[Bt];return[wt]}}class $r extends hr{constructor(We){super(),this.addPrefixSpace=We.add_prefix_space,this.replacement=We.replacement,this.strRep=We.str_rep||this.replacement,this.prepend_scheme=We.prepend_scheme??"always"}pre_tokenize_text(We,{section_index:wt=void 0}={}){let Bt=We.replaceAll(" ",this.strRep);return this.addPrefixSpace&&!Bt.startsWith(this.replacement)&&(this.prepend_scheme==="always"||this.prepend_scheme==="first"&&wt===0)&&(Bt=this.strRep+Bt),[Bt]}}class Ur extends rt{constructor(We){super(We),this.addPrefixSpace=We.add_prefix_space,this.replacement=We.replacement}decode_chain(We){let wt=[];for(let Bt=0;Bt<We.length;++Bt){let Ot=We[Bt].replaceAll(this.replacement," ");this.addPrefixSpace&&Bt==0&&Ot.startsWith(" ")&&(Ot=Ot.substring(1)),wt.push(Ot)}return wt}}class Io extends At{constructor(We){super(We),this.charsmap=We.precompiled_charsmap}normalize(We){return We=We.replace(/[\u0001-\u0008\u000B\u000E-\u001F\u007F\u008F\u009F]/gm,""),We=We.replace(/[\u0009\u000A\u000C\u000D\u00A0\u1680\u2000-\u200F\u2028\u2029\u202F\u205F\u2581\u3000\uFEFF\uFFFD]/gm," "),We.includes("\uFF5E")?We=We.split("\uFF5E").map(Bt=>Bt.normalize("NFKC")).join("\uFF5E"):We=We.normalize("NFKC"),We}}class Qo extends hr{constructor(We){super(),this.tokenizers=We.pretokenizers.map(wt=>hr.fromConfig(wt))}pre_tokenize_text(We,wt){return this.tokenizers.reduce((Bt,Ot)=>Ot.pre_tokenize(Bt,wt),[We])}}class pn extends hr{constructor(We){super()}pre_tokenize_text(We,wt){return We.match(/\w+|[^\w\s]+/g)||[]}}class Kn extends hr{constructor(We){super()}pre_tokenize_text(We,wt){return Ge(We)}}class Bi extends hr{constructor(We){super(),this.config=We,this.pattern=Me(this.config.pattern),this.content=this.config.content}pre_tokenize_text(We,wt){return this.pattern===null?[We]:[We.replaceAll(this.pattern,this.config.content)]}}let Zi=["bos_token","eos_token","unk_token","sep_token","pad_token","cls_token","mask_token"];function Rn(Gt,We,wt,Bt){for(let Ot of Object.keys(Gt)){let er=We-Gt[Ot].length,fr=wt(Ot),Rr=new Array(er).fill(fr);Gt[Ot]=Bt==="right"?(0,s.mergeArrays)(Gt[Ot],Rr):(0,s.mergeArrays)(Rr,Gt[Ot])}}function Hi(Gt,We){for(let wt of Object.keys(Gt))Gt[wt].length=We}class ao extends n.Callable{return_token_type_ids=!1;padding_side="right";constructor(We,wt){super(),this._tokenizer_config=wt,this.normalizer=At.fromConfig(We.normalizer),this.pre_tokenizer=hr.fromConfig(We.pre_tokenizer),this.model=lt.fromConfig(We.model,wt),this.post_processor=cr.fromConfig(We.post_processor),this.decoder=rt.fromConfig(We.decoder),this.special_tokens=[],this.all_special_ids=[],this.added_tokens=[];for(let Bt of We.added_tokens){let Ot=new bt(Bt);this.added_tokens.push(Ot),this.model.tokens_to_ids.set(Ot.content,Ot.id),this.model.vocab[Ot.id]=Ot.content,Ot.special&&(this.special_tokens.push(Ot.content),this.all_special_ids.push(Ot.id))}if(this.additional_special_tokens=wt.additional_special_tokens??[],this.special_tokens.push(...this.additional_special_tokens),this.special_tokens=[...new Set(this.special_tokens)],this.decoder&&(this.decoder.added_tokens=this.added_tokens,this.decoder.end_of_word_suffix=this.model.end_of_word_suffix),this.added_tokens_regex=this.added_tokens.length>0?new RegExp(this.added_tokens.slice().sort((Bt,Ot)=>Ot.content.length-Bt.content.length).map(Bt=>`${Bt.lstrip?"\\s*":""}(${(0,s.escapeRegExp)(Bt.content)})${Bt.rstrip?"\\s*":""}`).join("|")):null,this.mask_token=this.getToken("mask_token"),this.mask_token_id=this.model.tokens_to_ids.get(this.mask_token),this.pad_token=this.getToken("pad_token","eos_token"),this.pad_token_id=this.model.tokens_to_ids.get(this.pad_token),this.sep_token=this.getToken("sep_token"),this.sep_token_id=this.model.tokens_to_ids.get(this.sep_token),this.unk_token=this.getToken("unk_token"),this.unk_token_id=this.model.tokens_to_ids.get(this.unk_token),this.bos_token=this.getToken("bos_token"),this.bos_token_id=this.model.tokens_to_ids.get(this.bos_token),this.eos_token=this.getToken("eos_token"),this.eos_token_id=this.model.tokens_to_ids.get(this.eos_token),this.model_max_length=wt.model_max_length,this.remove_space=wt.remove_space,this.clean_up_tokenization_spaces=wt.clean_up_tokenization_spaces??!0,this.do_lowercase_and_remove_accent=wt.do_lowercase_and_remove_accent??!1,wt.padding_side&&(this.padding_side=wt.padding_side),this.legacy=!1,this.chat_template=wt.chat_template??null,Array.isArray(this.chat_template)){let Bt=Object.create(null);for(let{name:Ot,template:er}of this.chat_template){if(typeof Ot!="string"||typeof er!="string")throw new Error('Chat template must be a list of objects with "name" and "template" properties');Bt[Ot]=er}this.chat_template=Bt}this._compiled_template_cache=new Map}getToken(...We){for(let wt of We){let Bt=this._tokenizer_config[wt];if(Bt)if(typeof Bt=="object"){if(Bt.__type==="AddedToken")return Bt.content;throw Error(`Unknown token: ${Bt}`)}else return Bt}return null}static from_pretrained(zr){return ot(this,arguments,function*(We,{progress_callback:wt=null,config:Bt=null,cache_dir:Ot=null,local_files_only:er=!1,revision:fr="main",legacy:Rr=null}={}){let Lr=yield G(We,{progress_callback:wt,config:Bt,cache_dir:Ot,local_files_only:er,revision:fr,legacy:Rr});return new this(...Lr)})}_call(We,{text_pair:wt=null,add_special_tokens:Bt=!0,padding:Ot=!1,truncation:er=null,max_length:fr=null,return_tensor:Rr=!0,return_token_type_ids:zr=null}={}){let Lr=Array.isArray(We),Fr;if(Lr){if(We.length===0)throw Error("text array must be non-empty");if(wt!==null){if(Array.isArray(wt)){if(We.length!==wt.length)throw Error("text and text_pair must have the same length")}else throw Error("text_pair must also be an array");Fr=We.map((uo,mn)=>this._encode_plus(uo,{text_pair:wt[mn],add_special_tokens:Bt,return_token_type_ids:zr}))}else Fr=We.map(uo=>this._encode_plus(uo,{add_special_tokens:Bt,return_token_type_ids:zr}))}else{if(We==null)throw Error("text may not be null or undefined");if(Array.isArray(wt))throw Error("When specifying `text_pair`, since `text` is a string, `text_pair` must also be a string (i.e., not an array).");Fr=[this._encode_plus(We,{text_pair:wt,add_special_tokens:Bt,return_token_type_ids:zr})]}if(fr===null?Ot==="max_length"?fr=this.model_max_length:fr=(0,u.max)(Fr.map(uo=>uo.input_ids.length))[0]:er||console.warn("Truncation was not explicitly activated but `max_length` is provided a specific value, please use `truncation=true` to explicitly truncate examples to max length."),fr=Math.min(fr,this.model_max_length??1/0),Ot||er)for(let uo=0;uo<Fr.length;++uo)Fr[uo].input_ids.length!==fr&&(Fr[uo].input_ids.length>fr?er&&Hi(Fr[uo],fr):Ot&&Rn(Fr[uo],fr,mn=>mn==="input_ids"?this.pad_token_id:0,this.padding_side));let Wo={};if(Rr){if(!(Ot&&er)&&Fr.some(mn=>{for(let Fi of Object.keys(mn))if(mn[Fi].length!==Fr[0][Fi]?.length)return!0;return!1}))throw Error("Unable to create tensor, you should probably activate truncation and/or padding with 'padding=true' and 'truncation=true' to have batched tensors with the same length.");let uo=[Fr.length,Fr[0].input_ids.length];for(let mn of Object.keys(Fr[0]))Wo[mn]=new h.Tensor("int64",BigInt64Array.from(Fr.flatMap(Fi=>Fi[mn]).map(BigInt)),uo)}else{for(let uo of Object.keys(Fr[0]))Wo[uo]=Fr.map(mn=>mn[uo]);if(!Lr)for(let uo of Object.keys(Wo))Wo[uo]=Wo[uo][0]}return Wo}_encode_text(We){return We===null?null:(this.added_tokens_regex?We.split(this.added_tokens_regex).filter(Ot=>Ot):[We]).map((Ot,er)=>{if(this.added_tokens.find(Rr=>Rr.content===Ot)!==void 0)return Ot;{if(this.remove_space===!0&&(Ot=Ot.trim().split(/\s+/).join(" ")),this.do_lowercase_and_remove_accent&&(Ot=Pe(Ot)),this.normalizer!==null&&(Ot=this.normalizer(Ot)),Ot.length===0)return[];let Rr=this.pre_tokenizer!==null?this.pre_tokenizer(Ot,{section_index:er}):[Ot];return this.model(Rr)}}).flat()}_encode_plus(We,{text_pair:wt=null,add_special_tokens:Bt=!0,return_token_type_ids:Ot=null}={}){let{tokens:er,token_type_ids:fr}=this._tokenize_helper(We,{pair:wt,add_special_tokens:Bt}),Rr=this.model.convert_tokens_to_ids(er),zr={input_ids:Rr,attention_mask:new Array(Rr.length).fill(1)};return(Ot??this.return_token_type_ids)&&fr&&(zr.token_type_ids=fr),zr}_tokenize_helper(We,{pair:wt=null,add_special_tokens:Bt=!1}={}){let Ot=this._encode_text(We),er=this._encode_text(wt);return this.post_processor?this.post_processor(Ot,er,{add_special_tokens:Bt}):{tokens:(0,s.mergeArrays)(Ot??[],er??[])}}tokenize(We,{pair:wt=null,add_special_tokens:Bt=!1}={}){return this._tokenize_helper(We,{pair:wt,add_special_tokens:Bt}).tokens}encode(We,{text_pair:wt=null,add_special_tokens:Bt=!0,return_token_type_ids:Ot=null}={}){return this._encode_plus(We,{text_pair:wt,add_special_tokens:Bt,return_token_type_ids:Ot}).input_ids}batch_decode(We,wt={}){return We instanceof h.Tensor&&(We=We.tolist()),We.map(Bt=>this.decode(Bt,wt))}decode(We,wt={}){if(We instanceof h.Tensor&&(We=Ke(We)),!Array.isArray(We)||We.length===0||!(0,s.isIntegralNumber)(We[0]))throw Error("token_ids must be a non-empty array of integers.");return this.decode_single(We,wt)}decode_single(We,{skip_special_tokens:wt=!1,clean_up_tokenization_spaces:Bt=null}){let Ot=this.model.convert_ids_to_tokens(We);wt&&(Ot=Ot.filter(fr=>!this.special_tokens.includes(fr)));let er=this.decoder?this.decoder(Ot):Ot.join(" ");return this.decoder&&this.decoder.end_of_word_suffix&&(er=er.replaceAll(this.decoder.end_of_word_suffix," "),wt&&(er=er.trim())),(Bt??this.clean_up_tokenization_spaces)&&(er=He(er)),er}get_chat_template({chat_template:We=null,tools:wt=null}={}){if(this.chat_template&&typeof this.chat_template=="object"){let Bt=this.chat_template;if(We!==null&&Object.hasOwn(Bt,We))We=Bt[We];else if(We===null)if(wt!==null&&"tool_use"in Bt)We=Bt.tool_use;else if("default"in Bt)We=Bt.default;else throw Error(`This model has multiple chat templates with no default specified! Please either pass a chat template or the name of the template you wish to use to the 'chat_template' argument. Available template names are ${Object.keys(Bt).sort()}.`)}else if(We===null)if(this.chat_template)We=this.chat_template;else throw Error("Cannot use apply_chat_template() because tokenizer.chat_template is not set and no template argument was passed! For information about writing templates and setting the tokenizer.chat_template attribute, please see the documentation at https://huggingface.co/docs/transformers/main/en/chat_templating");return We}apply_chat_template(We,Fi={}){var fo=Fi,{tools:wt=null,documents:Bt=null,chat_template:Ot=null,add_generation_prompt:er=!1,tokenize:fr=!0,padding:Rr=!1,truncation:zr=!1,max_length:Lr=null,return_tensor:Fr=!0,return_dict:Wo=!1,tokenizer_kwargs:uo={}}=fo,mn=Ta(fo,["tools","documents","chat_template","add_generation_prompt","tokenize","padding","truncation","max_length","return_tensor","return_dict","tokenizer_kwargs"]);if(Ot=this.get_chat_template({chat_template:Ot,tools:wt}),typeof Ot!="string")throw Error(`chat_template must be a string, but got ${typeof Ot}`);let Ro=this._compiled_template_cache.get(Ot);Ro===void 0&&(Ro=new y.Template(Ot),this._compiled_template_cache.set(Ot,Ro));let Mi=Object.create(null);for(let Zt of Zi){let ti=this.getToken(Zt);ti&&(Mi[Zt]=ti)}let mi=Ro.render(Vt(Vt({messages:We,add_generation_prompt:er,tools:wt,documents:Bt},Mi),mn));if(fr){let Zt=this._call(mi,Vt({add_special_tokens:!1,padding:Rr,truncation:zr,max_length:Lr,return_tensor:Fr},uo));return Wo?Zt:Zt.input_ids}return mi}}class ca extends ao{return_token_type_ids=!0}class Ii extends ao{return_token_type_ids=!0}class zi extends ao{return_token_type_ids=!0}class ga extends ao{return_token_type_ids=!0}class ki extends ao{return_token_type_ids=!0}class ss extends ao{return_token_type_ids=!0}class Di extends ao{return_token_type_ids=!0}class On extends ao{return_token_type_ids=!0}class ni extends ao{return_token_type_ids=!0}class li extends ao{}class xr extends ao{}class Wr extends ao{return_token_type_ids=!0;constructor(We,wt){super(We,wt),console.warn('WARNING: `XLMTokenizer` is not yet supported by Hugging Face\'s "fast" tokenizers library. Therefore, you may experience slightly inaccurate results.')}}class oo extends ao{return_token_type_ids=!0}class ci extends ao{}class cl extends ao{}class zs extends ao{}class Cn extends ao{constructor(We,wt){super(We,wt),this.languageRegex=/^[a-z]{2}_[A-Z]{2}$/,this.language_codes=this.special_tokens.filter(Bt=>this.languageRegex.test(Bt)),this.lang_to_token=Bt=>Bt}_build_translation_inputs(We,wt,Bt){return ji(this,We,wt,Bt)}}class ls extends Cn{}class Un extends ao{}class vs extends ao{}let $o="\u2581";class js extends ao{padding_side="left";constructor(We,wt){super(We,wt),this.legacy=wt.legacy??!0,this.legacy||(this.normalizer=null,this.pre_tokenizer=new $r({replacement:$o,add_prefix_space:!0,prepend_scheme:"first"}))}_encode_text(We){if(We===null)return null;if(this.legacy||We.length===0)return super._encode_text(We);let wt=super._encode_text($o+We.replaceAll($o," "));return wt.length>1&&wt[0]===$o&&this.special_tokens.includes(wt[1])&&(wt=wt.slice(1)),wt}}class Vs extends ao{}class ap extends ao{}class dl extends ao{}class ul extends ao{}class pl extends ao{}class Us extends ao{}class lu extends ao{}class Ll extends ao{}class cs extends ao{}function ji(Gt,We,wt,Bt){if(!("language_codes"in Gt)||!Array.isArray(Gt.language_codes))throw new Error("Tokenizer must have `language_codes` attribute set and it should be an array of language ids.");if(!("languageRegex"in Gt)||!(Gt.languageRegex instanceof RegExp))throw new Error("Tokenizer must have `languageRegex` attribute set and it should be a regular expression.");if(!("lang_to_token"in Gt)||typeof Gt.lang_to_token!="function")throw new Error("Tokenizer must have `lang_to_token` attribute set and it should be a function.");let Ot=Bt.src_lang,er=Bt.tgt_lang;if(!Gt.language_codes.includes(er))throw new Error(`Target language code "${er}" is not valid. Must be one of: {${Gt.language_codes.join(", ")}}`);if(Ot!==void 0){if(!Gt.language_codes.includes(Ot))throw new Error(`Source language code "${Ot}" is not valid. Must be one of: {${Gt.language_codes.join(", ")}}`);for(let fr of Gt.post_processor.config.single)if("SpecialToken"in fr&&Gt.languageRegex.test(fr.SpecialToken.id)){fr.SpecialToken.id=Gt.lang_to_token(Ot);break}}return Bt.forced_bos_token_id=Gt.model.convert_tokens_to_ids([Gt.lang_to_token(er)])[0],Gt._call(We,wt)}class Vi extends ao{constructor(We,wt){super(We,wt),this.languageRegex=/^[a-z]{3}_[A-Z][a-z]{3}$/,this.language_codes=this.special_tokens.filter(Bt=>this.languageRegex.test(Bt)),this.lang_to_token=Bt=>Bt}_build_translation_inputs(We,wt,Bt){return ji(this,We,wt,Bt)}}class Nl extends ao{constructor(We,wt){super(We,wt),this.languageRegex=/^__[a-z]{2,3}__$/,this.language_codes=this.special_tokens.filter(Bt=>this.languageRegex.test(Bt)).map(Bt=>Bt.slice(2,-2)),this.lang_to_token=Bt=>`__${Bt}__`}_build_translation_inputs(We,wt,Bt){return ji(this,We,wt,Bt)}}class ys extends ao{get timestamp_begin(){return this.model.convert_tokens_to_ids(["<|notimestamps|>"])[0]+1}_decode_asr(We,{return_timestamps:wt=!1,return_language:Bt=!1,time_precision:Ot=null,force_full_sequences:er=!0}={}){if(Ot===null)throw Error("Must specify time_precision");let fr=null,Rr=wt==="word";function zr(){return{language:fr,timestamp:[null,null],text:""}}let Lr=[],Fr=zr(),Wo=0,uo=this.timestamp_begin,Fi=uo+1500,fo=[],Ro=[],Mi=!1,mi=null,Zt=new Set(this.all_special_ids);for(let $n of We){let di=$n.tokens,ro=Rr?$n.token_timestamps:null,Ri=null,Ui=uo;if("stride"in $n){let[Nr,xo,qn]=$n.stride;if(Wo-=xo,mi=Nr-qn,xo&&(Ui=xo/Ot+uo),qn)for(let En=di.length-1;En>=0;--En){let Xn=Number(di[En]);if(Xn>=uo){if(Ri!==null&&(Xn-uo)*Ot<mi)break;Ri=Xn}}}let qo=[],Tn=[];for(let Nr=0;Nr<di.length;++Nr){let xo=Number(di[Nr]);if(Zt.has(xo)){let qn=this.decode([xo]),En=k.WHISPER_LANGUAGE_MAPPING.get(qn.slice(2,-2));if(En!==void 0){if(fr!==null&&En!==fr&&!wt){fo.push(qo);let Xn=this.findLongestCommonSequence(fo)[0],Hr=this.decode(Xn);Fr.text=Hr,Lr.push(Fr),fo=[],qo=[],Fr=zr()}fr=Fr.language=En}}else if(xo>=uo&&xo<=Fi){let qn=(xo-uo)*Ot+Wo,En=(0,u.round)(qn,2);if(Ri!==null&&xo>=Ri)Mi=!0;else if(Mi||fo.length>0&&xo<Ui)Mi=!1;else if(Fr.timestamp[0]===null)Fr.timestamp[0]=En;else if(En!==Fr.timestamp[0]){Fr.timestamp[1]=En,fo.push(qo),Rr&&Ro.push(Tn);let[Xn,Hr]=this.findLongestCommonSequence(fo,Ro),ws=this.decode(Xn);Fr.text=ws,Rr&&(Fr.words=this.collateWordTimestamps(Xn,Hr,fr)),Lr.push(Fr),fo=[],qo=[],Ro=[],Tn=[],Fr=zr()}}else if(qo.push(xo),Rr){let qn=(0,u.round)(ro[Nr]+Wo,2),En;if(Nr+1<ro.length){En=(0,u.round)(ro[Nr+1]+Wo,2);let Xn=this.decode([xo]);Oe.test(Xn)&&(En=(0,u.round)(Math.min(qn+Ot,En),2))}else En=null;Tn.push([qn,En])}}if("stride"in $n){let[Nr,xo,qn]=$n.stride;Wo+=Nr-qn}qo.length>0?(fo.push(qo),Rr&&Ro.push(Tn)):fo.every(Nr=>Nr.length===0)&&(Fr=zr(),fo=[],qo=[],Ro=[],Tn=[])}if(fo.length>0){if(er&&wt)throw new Error("Whisper did not predict an ending timestamp, which can happen if audio is cut off in the middle of a word. Also make sure WhisperTimeStampLogitsProcessor was used during generation.");let[$n,di]=this.findLongestCommonSequence(fo,Ro),ro=this.decode($n);Fr.text=ro,Rr&&(Fr.words=this.collateWordTimestamps($n,di,fr)),Lr.push(Fr)}let ti=Object.create(null),xs=Lr.map($n=>$n.text).join("");if(wt||Bt){for(let $n=0;$n<Lr.length;++$n){let di=Lr[$n];wt||delete di.timestamp,Bt||delete di.language}if(Rr){let $n=[];for(let di of Lr)for(let ro of di.words)$n.push(ro);ti={chunks:$n}}else ti={chunks:Lr}}return[xs,ti]}findLongestCommonSequence(We,wt=null){let Bt=We[0],Ot=Bt.length,er=[],fr=Array.isArray(wt)&&wt.length>0,Rr=fr?[]:null,zr=fr?wt[0]:null;for(let Lr=1;Lr<We.length;++Lr){let Fr=We[Lr],Wo=0,uo=[Ot,Ot,0,0],mn=Fr.length;for(let ti=1;ti<Ot+mn;++ti){let xs=Math.max(0,Ot-ti),$n=Math.min(Ot,Ot+mn-ti),di=Bt.slice(xs,$n),ro=Math.max(0,ti-Ot),Ri=Math.min(mn,ti),Ui=Fr.slice(ro,Ri);if(di.length!==Ui.length)throw new Error("There is a bug within whisper `decode_asr` function, please report it. Dropping to prevent bad inference.");let qo;fr?qo=di.filter((xo,qn)=>xo===Ui[qn]&&zr[xs+qn]<=wt[Lr][ro+qn]).length:qo=di.filter((xo,qn)=>xo===Ui[qn]).length;let Tn=ti/1e4,Nr=qo/ti+Tn;qo>1&&Nr>Wo&&(Wo=Nr,uo=[xs,$n,ro,Ri])}let[Fi,fo,Ro,Mi]=uo,mi=Math.floor((fo+Fi)/2),Zt=Math.floor((Mi+Ro)/2);er.push(...Bt.slice(0,mi)),Bt=Fr.slice(Zt),Ot=Bt.length,fr&&(Rr.push(...zr.slice(0,mi)),zr=wt[Lr].slice(Zt))}return er.push(...Bt),fr?(Rr.push(...zr),[er,Rr]):[er,[]]}collateWordTimestamps(We,wt,Bt){let[Ot,er,fr]=this.combineTokensIntoWords(We,Bt),Rr=[];for(let zr=0;zr<Ot.length;++zr){let Lr=fr[zr];Rr.push({text:Ot[zr],timestamp:[wt[Lr.at(0)][0],wt[Lr.at(-1)][1]]})}return Rr}combineTokensIntoWords(We,wt,Bt=`"'\u201C\xA1\xBF([{-`,Ot=`"'.\u3002,\uFF0C!\uFF01?\uFF1F:\uFF1A\u201D)]}\u3001`){wt=wt??"english";let er,fr,Rr;return["chinese","japanese","thai","lao","myanmar"].includes(wt)?[er,fr,Rr]=this.splitTokensOnUnicode(We):[er,fr,Rr]=this.splitTokensOnSpaces(We),this.mergePunctuations(er,fr,Rr,Bt,Ot)}decode(We,wt){let Bt;return wt?.decode_with_timestamps?(We instanceof h.Tensor&&(We=Ke(We)),Bt=this.decodeWithTimestamps(We,wt)):Bt=super.decode(We,wt),Bt}decodeWithTimestamps(We,wt){let Bt=wt?.time_precision??.02,Ot=Array.from(this.all_special_ids).at(-1)+1,er=[[]];for(let fr of We)if(fr=Number(fr),fr>=Ot){let Rr=((fr-Ot)*Bt).toFixed(2);er.push(`<|${Rr}|>`),er.push([])}else er[er.length-1].push(fr);return er=er.map(fr=>typeof fr=="string"?fr:super.decode(fr,wt)),er.join("")}splitTokensOnUnicode(We){let wt=this.decode(We,{decode_with_timestamps:!0}),Bt="\uFFFD",Ot=[],er=[],fr=[],Rr=[],zr=[],Lr=0;for(let Fr=0;Fr<We.length;++Fr){let Wo=We[Fr];Rr.push(Wo),zr.push(Fr);let uo=this.decode(Rr,{decode_with_timestamps:!0});(!uo.includes(Bt)||wt[Lr+uo.indexOf(Bt)]===Bt)&&(Ot.push(uo),er.push(Rr),fr.push(zr),Rr=[],zr=[],Lr+=uo.length)}return[Ot,er,fr]}splitTokensOnSpaces(We){let[wt,Bt,Ot]=this.splitTokensOnUnicode(We),er=[],fr=[],Rr=[],zr=new RegExp(`^[${Ve}]$`,"gu");for(let Lr=0;Lr<wt.length;++Lr){let Fr=wt[Lr],Wo=Bt[Lr],uo=Ot[Lr],mn=Wo[0]>=this.model.tokens_to_ids.get("<|endoftext|>"),Fi=Fr.startsWith(" "),fo=Fr.trim(),Ro=zr.test(fo);if(mn||Fi||Ro||er.length===0)er.push(Fr),fr.push(Wo),Rr.push(uo);else{let Mi=er.length-1;er[Mi]+=Fr,fr[Mi].push(...Wo),Rr[Mi].push(...uo)}}return[er,fr,Rr]}mergePunctuations(We,wt,Bt,Ot,er){let fr=structuredClone(We),Rr=structuredClone(wt),zr=structuredClone(Bt),Lr=fr.length-2,Fr=fr.length-1;for(;Lr>=0;)fr[Lr].startsWith(" ")&&Ot.includes(fr[Lr].trim())?(fr[Fr]=fr[Lr]+fr[Fr],Rr[Fr]=(0,s.mergeArrays)(Rr[Lr],Rr[Fr]),zr[Fr]=(0,s.mergeArrays)(zr[Lr],zr[Fr]),fr[Lr]="",Rr[Lr]=[],zr[Lr]=[]):Fr=Lr,--Lr;for(Lr=0,Fr=1;Fr<fr.length;)!fr[Lr].endsWith(" ")&&er.includes(fr[Fr])?(fr[Lr]+=fr[Fr],Rr[Lr]=(0,s.mergeArrays)(Rr[Lr],Rr[Fr]),zr[Lr]=(0,s.mergeArrays)(zr[Lr],zr[Fr]),fr[Fr]="",Rr[Fr]=[],zr[Fr]=[]):Lr=Fr,++Fr;return[fr.filter(Wo=>Wo),Rr.filter(Wo=>Wo.length>0),zr.filter(Wo=>Wo.length>0)]}}class Ws extends ao{}class Gs extends ao{}class Hs extends ao{}class io extends ao{constructor(We,wt){super(We,wt),this.languageRegex=/^(>>\w+<<)\s*/g,this.supported_language_codes=this.model.vocab.filter(Bt=>this.languageRegex.test(Bt)),console.warn('WARNING: `MarianTokenizer` is not yet supported by Hugging Face\'s "fast" tokenizers library. Therefore, you may experience slightly inaccurate results.')}_encode_text(We){if(We===null)return null;let[wt,...Bt]=We.trim().split(this.languageRegex);if(Bt.length===0)return super._encode_text(wt);if(Bt.length===2){let[Ot,er]=Bt;return this.supported_language_codes.includes(Ot)||console.warn(`Unsupported language code "${Ot}" detected, which may lead to unexpected behavior. Should be one of: ${JSON.stringify(this.supported_language_codes)}`),(0,s.mergeArrays)([Ot],super._encode_text(er))}}}class zl extends ao{}class fl extends ao{}class hl extends ao{}class ml extends ao{}class Ks extends ao{}class cu extends ao{constructor(We,wt){super(We,wt),this.decoder=new qr({})}}class qs extends ao{}class gl extends ao{}let Ko=(()=>{class Gt{static TOKENIZER_CLASS_MAPPING={T5Tokenizer:ci,DistilBertTokenizer:li,CamembertTokenizer:xr,DebertaTokenizer:ki,DebertaV2Tokenizer:ss,BertTokenizer:ca,HerbertTokenizer:Di,ConvBertTokenizer:On,RoFormerTokenizer:ni,XLMTokenizer:Wr,ElectraTokenizer:oo,MobileBertTokenizer:zi,SqueezeBertTokenizer:ga,AlbertTokenizer:Ii,GPT2Tokenizer:cl,BartTokenizer:zs,MBartTokenizer:Cn,MBart50Tokenizer:ls,RobertaTokenizer:Un,WhisperTokenizer:ys,CodeGenTokenizer:Ws,CLIPTokenizer:Gs,SiglipTokenizer:Hs,MarianTokenizer:io,BloomTokenizer:vs,NllbTokenizer:Vi,M2M100Tokenizer:Nl,LlamaTokenizer:js,CodeLlamaTokenizer:Vs,XLMRobertaTokenizer:ap,MPNetTokenizer:dl,FalconTokenizer:ul,GPTNeoXTokenizer:pl,EsmTokenizer:Us,Wav2Vec2CTCTokenizer:zl,BlenderbotTokenizer:fl,BlenderbotSmallTokenizer:hl,SpeechT5Tokenizer:ml,NougatTokenizer:Ks,VitsTokenizer:cu,Qwen2Tokenizer:lu,GemmaTokenizer:Ll,Grok1Tokenizer:cs,CohereTokenizer:qs,MgpstrTokenizer:gl,PreTrainedTokenizer:ao};static from_pretrained(Lr){return ot(this,arguments,function*(wt,{progress_callback:Bt=null,config:Ot=null,cache_dir:er=null,local_files_only:fr=!1,revision:Rr="main",legacy:zr=null}={}){let[Fr,Wo]=yield G(wt,{progress_callback:Bt,config:Ot,cache_dir:er,local_files_only:fr,revision:Rr,legacy:zr}),uo=Wo.tokenizer_class?.replace(/Fast$/,"")??"PreTrainedTokenizer",mn=this.TOKENIZER_CLASS_MAPPING[uo];return mn||(console.warn(`Unknown tokenizer class "${uo}", attempting to construct from base class.`),mn=ao),new mn(Fr,Wo)})}}return Gt})()},"./src/utils/audio.js":(r,o,e)=>{e.r(o),e.d(o,{RawAudio:()=>mt,hamming:()=>$,hanning:()=>G,mel_filter_bank:()=>Xe,read_audio:()=>y,spectrogram:()=>Ue,window_function:()=>tt});var n=e("./src/utils/hub.js"),s=e("./src/utils/maths.js"),c=e("./src/utils/core.js"),u=e("./src/env.js"),h=e("?7a2c"),p=e("./src/utils/tensor.js");function y(ut,ht){return ot(this,null,function*(){if(typeof AudioContext>"u")throw Error("Unable to load audio from path/URL since `AudioContext` is not available in your environment. Instead, audio data should be passed directly to the pipeline/processor. For more information and some example code, see https://huggingface.co/docs/transformers.js/guides/node-audio-processing.");let Ct=yield(yield(0,n.getFile)(ut)).arrayBuffer(),It=new AudioContext({sampleRate:ht});typeof ht>"u"&&console.warn(`No sampling rate provided, using default of ${It.sampleRate}Hz.`);let Ft=yield It.decodeAudioData(Ct),At;if(Ft.numberOfChannels===2){let Dt=Math.sqrt(2),Rt=Ft.getChannelData(0),at=Ft.getChannelData(1);At=new Float32Array(Rt.length);for(let Ze=0;Ze<Ft.length;++Ze)At[Ze]=Dt*(Rt[Ze]+at[Ze])/2}else At=Ft.getChannelData(0);return At})}function k(ut,ht){if(ut<1)return new Float64Array;if(ut===1)return new Float64Array([1]);let Ct=1-ht,It=2*Math.PI/(ut-1),Ft=new Float64Array(ut);for(let At=0;At<ut;++At)Ft[At]=ht-Ct*Math.cos(At*It);return Ft}function G(ut){return k(ut,.5)}function $(ut){return k(ut,.54)}let Me={htk:ut=>2595*Math.log10(1+ut/700),kaldi:ut=>1127*Math.log(1+ut/700),slaney:(ut,ht=1e3,Ct=15,It=27/Math.log(6.4))=>ut>=ht?Ct+Math.log(ut/ht)*It:3*ut/200};function Re(ut,ht="htk"){let Ct=Me[ht];if(!Ct)throw new Error('mel_scale should be one of "htk", "slaney" or "kaldi".');return typeof ut=="number"?Ct(ut):ut.map(It=>Ct(It))}let Ke={htk:ut=>700*(10**(ut/2595)-1),kaldi:ut=>700*(Math.exp(ut/1127)-1),slaney:(ut,ht=1e3,Ct=15,It=Math.log(6.4)/27)=>ut>=Ct?ht*Math.exp(It*(ut-Ct)):200*ut/3};function He(ut,ht="htk"){let Ct=Ke[ht];if(!Ct)throw new Error('mel_scale should be one of "htk", "slaney" or "kaldi".');return typeof ut=="number"?Ct(ut):ut.map(It=>Ct(It))}function Ie(ut,ht){let Ct=Float64Array.from({length:ht.length-1},(Dt,Rt)=>ht[Rt+1]-ht[Rt]),It=Array.from({length:ut.length},()=>new Array(ht.length));for(let Dt=0;Dt<ut.length;++Dt){let Rt=It[Dt];for(let at=0;at<ht.length;++at)Rt[at]=ht[at]-ut[Dt]}let Ft=ht.length-2,At=Array.from({length:Ft},()=>new Array(ut.length));for(let Dt=0;Dt<ut.length;++Dt){let Rt=It[Dt];for(let at=0;at<Ft;++at){let Ze=-Rt[at]/Ct[at],vt=Rt[at+2]/Ct[at+1];At[at][Dt]=Math.max(0,Math.min(Ze,vt))}}return At}function Pe(ut,ht,Ct){let It=(ht-ut)/(Ct-1);return Float64Array.from({length:Ct},(Ft,At)=>ut+It*At)}function Xe(ut,ht,Ct,It,Ft,At=null,Dt="htk",Rt=!1){if(At!==null&&At!=="slaney")throw new Error('norm must be one of null or "slaney"');let at=Re(Ct,Dt),Ze=Re(It,Dt),vt=Pe(at,Ze,ht+2),St=He(vt,Dt),$t;if(Rt){let gt=Ft/(ut*2);$t=Re(Float64Array.from({length:ut},(st,hr)=>hr*gt),Dt),St=vt}else $t=Pe(0,Math.floor(Ft/2),ut);let qt=Ie($t,St);if(At!==null&&At==="slaney")for(let gt=0;gt<ht;++gt){let st=qt[gt],hr=2/(St[gt+2]-St[gt]);for(let Ht=0;Ht<ut;++Ht)st[Ht]*=hr}return qt}function Ne(ut,ht,Ct){let It=new ut.constructor(ut.length+ht+Ct),Ft=ut.length-1;for(let At=0;At<ut.length;++At)It[ht+At]=ut[At];for(let At=1;At<=ht;++At)It[ht-At]=ut[(0,c.calculateReflectOffset)(At,Ft)];for(let At=1;At<=Ct;++At)It[Ft+ht+At]=ut[(0,c.calculateReflectOffset)(Ft-At,Ft)];return It}function Ge(ut,ht,Ct,It,Ft){if(Ct<=0)throw new Error("reference must be greater than zero");if(It<=0)throw new Error("min_value must be greater than zero");Ct=Math.max(It,Ct);let At=Math.log10(Ct);for(let Dt=0;Dt<ut.length;++Dt)ut[Dt]=ht*Math.log10(Math.max(It,ut[Dt])-At);if(Ft!==null){if(Ft<=0)throw new Error("db_range must be greater than zero");let Dt=(0,s.max)(ut)[0]-Ft;for(let Rt=0;Rt<ut.length;++Rt)ut[Rt]=Math.max(ut[Rt],Dt)}return ut}function Ve(ut,ht=1,Ct=1e-5,It=null){return Ge(ut,20,ht,Ct,It)}function Oe(ut,ht=1,Ct=1e-10,It=null){return Ge(ut,10,ht,Ct,It)}function Ue(nr,cr,mr,Cr){return ot(this,arguments,function*(ut,ht,Ct,It,{fft_length:Ft=null,power:At=1,center:Dt=!0,pad_mode:Rt="reflect",onesided:at=!0,preemphasis:Ze=null,mel_filters:vt=null,mel_floor:St=1e-10,log_mel:$t=null,reference:qt=1,min_value:gt=1e-10,db_range:st=null,remove_dc_offset:hr=null,min_num_frames:Ht=null,max_num_frames:xt=null,do_pad:Ut=!0,transpose:rr=!1}={}){let Tr=ht.length;if(Ft===null&&(Ft=Ct),Ct>Ft)throw Error(`frame_length (${Ct}) may not be larger than fft_length (${Ft})`);if(Tr!==Ct)throw new Error(`Length of the window (${Tr}) must equal frame_length (${Ct})`);if(It<=0)throw new Error("hop_length must be greater than zero");if(At===null&&vt!==null)throw new Error("You have provided `mel_filters` but `power` is `None`. Mel spectrogram computation is not yet supported for complex-valued spectrogram. Specify `power` to fix this issue.");if(Dt){if(Rt!=="reflect")throw new Error(`pad_mode="${Rt}" not implemented yet.`);let _r=Math.floor((Ft-1)/2)+1;ut=Ne(ut,_r,_r)}let dr=Math.floor(1+Math.floor((ut.length-Ct)/It));Ht!==null&&dr<Ht&&(dr=Ht);let Ar=at?Math.floor(Ft/2)+1:Ft,rt=dr,Et=dr;xt!==null&&(xt>dr?Ut&&(Et=xt):Et=rt=xt);let _t=new s.FFT(Ft),Tt=new Float64Array(Ft),zt=new Float64Array(_t.outputBufferSize),tr=new Float32Array(Ar*Et);for(let _r=0;_r<rt;++_r){let qr=_r*It,$r=Math.min(ut.length-qr,Ct);$r!==Ct&&Tt.fill(0,0,Ct);for(let Ur=0;Ur<$r;++Ur)Tt[Ur]=ut[qr+Ur];if(hr){let Ur=0;for(let Qo=0;Qo<$r;++Qo)Ur+=Tt[Qo];let Io=Ur/$r;for(let Qo=0;Qo<$r;++Qo)Tt[Qo]-=Io}if(Ze!==null){for(let Ur=$r-1;Ur>=1;--Ur)Tt[Ur]-=Ze*Tt[Ur-1];Tt[0]*=1-Ze}for(let Ur=0;Ur<ht.length;++Ur)Tt[Ur]*=ht[Ur];_t.realTransform(zt,Tt);for(let Ur=0;Ur<Ar;++Ur){let Io=Ur<<1;tr[Ur*Et+_r]=zt[Io]**2+zt[Io+1]**2}}if(At!==null&&At!==2){let _r=2/At;for(let qr=0;qr<tr.length;++qr)tr[qr]**=_r}let ur=vt.length,kr=yield(0,p.matmul)(new p.Tensor("float32",vt.flat(),[ur,Ar]),new p.Tensor("float32",tr,[Ar,Et]));rr&&(kr=kr.transpose(1,0));let gr=kr.data;for(let _r=0;_r<gr.length;++_r)gr[_r]=Math.max(St,gr[_r]);if(At!==null&&$t!==null){let _r=Math.min(gr.length,rt*ur);switch($t){case"log":for(let qr=0;qr<_r;++qr)gr[qr]=Math.log(gr[qr]);break;case"log10":for(let qr=0;qr<_r;++qr)gr[qr]=Math.log10(gr[qr]);break;case"dB":if(At===1)Ve(gr,qt,gt,st);else if(At===2)Oe(gr,qt,gt,st);else throw new Error(`Cannot use log_mel option '${$t}' with power ${At}`);break;default:throw new Error(`log_mel must be one of null, 'log', 'log10' or 'dB'. Got '${$t}'`)}}return kr})}function tt(ut,ht,{periodic:Ct=!0,frame_length:It=null,center:Ft=!0}={}){let At=Ct?ut+1:ut,Dt;switch(ht){case"boxcar":Dt=new Float64Array(At).fill(1);break;case"hann":case"hann_window":Dt=G(At);break;case"hamming":Dt=$(At);break;case"povey":Dt=G(At).map(Rt=>Math.pow(Rt,.85));break;default:throw new Error(`Unknown window type ${ht}.`)}if(Ct&&(Dt=Dt.subarray(0,ut)),It===null)return Dt;if(ut>It)throw new Error(`Length of the window (${ut}) may not be larger than frame_length (${It})`);return Dt}function bt(ut,ht){let Ct=44,It=new ArrayBuffer(Ct+ut.length*4),Ft=new DataView(It);lt(Ft,0,"RIFF"),Ft.setUint32(4,36+ut.length*4,!0),lt(Ft,8,"WAVE"),lt(Ft,12,"fmt "),Ft.setUint32(16,16,!0),Ft.setUint16(20,3,!0),Ft.setUint16(22,1,!0),Ft.setUint32(24,ht,!0),Ft.setUint32(28,ht*4,!0),Ft.setUint16(32,4,!0),Ft.setUint16(34,32,!0),lt(Ft,36,"data"),Ft.setUint32(40,ut.length*4,!0);for(let At=0;At<ut.length;++At,Ct+=4)Ft.setFloat32(Ct,ut[At],!0);return It}function lt(ut,ht,Ct){for(let It=0;It<Ct.length;++It)ut.setUint8(ht+It,Ct.charCodeAt(It))}class mt{constructor(ht,Ct){this.audio=ht,this.sampling_rate=Ct}toWav(){return bt(this.audio,this.sampling_rate)}toBlob(){let ht=this.toWav();return new Blob([ht],{type:"audio/wav"})}save(ht){return ot(this,null,function*(){let Ct;if(u.apis.IS_BROWSER_ENV){if(u.apis.IS_WEBWORKER_ENV)throw new Error("Unable to save a file from a Web Worker.");Ct=c.saveBlob}else if(u.apis.IS_FS_AVAILABLE)Ct=(It,Ft)=>ot(this,null,function*(){let At=yield Ft.arrayBuffer();h.writeFileSync(It,Buffer.from(At))});else throw new Error("Unable to save because filesystem is disabled in this environment.");yield Ct(ht,this.toBlob())})}}},"./src/utils/constants.js":(r,o,e)=>{e.r(o),e.d(o,{CHAT_TEMPLATE_NAME:()=>p,CONFIG_NAME:()=>s,FEATURE_EXTRACTOR_NAME:()=>c,GENERATION_CONFIG_NAME:()=>y,GITHUB_ISSUE_URL:()=>n,IMAGE_PROCESSOR_NAME:()=>u,PROCESSOR_NAME:()=>h});let n="https://github.com/huggingface/transformers.js/issues/new/choose",s="config.json",c="preprocessor_config.json",u=c,h="processor_config.json",p="chat_template.json",y="generation_config.json"},"./src/utils/core.js":(r,o,e)=>{e.r(o),e.d(o,{calculateDimensions:()=>y,calculateReflectOffset:()=>Me,count:()=>Ie,dispatchCallback:()=>n,escapeRegExp:()=>c,isIntegralNumber:()=>h,isNullishDimension:()=>p,isTypedArray:()=>u,len:()=>He,mergeArrays:()=>G,pick:()=>Ke,pop:()=>k,product:()=>$,reverseDictionary:()=>s,saveBlob:()=>Re});function n(Pe,Xe){Pe&&Pe(Xe)}function s(Pe){return Object.fromEntries(Object.entries(Pe).map(([Xe,Ne])=>[Ne,Xe]))}function c(Pe){return Pe.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function u(Pe){return Pe?.prototype?.__proto__?.constructor?.name==="TypedArray"}function h(Pe){return Number.isInteger(Pe)||typeof Pe=="bigint"}function p(Pe){return Pe==null||Pe===-1}function y(Pe){let Xe=[],Ne=Pe;for(;Array.isArray(Ne);)Xe.push(Ne.length),Ne=Ne[0];return Xe}function k(Pe,Xe,Ne=void 0){let Ge=Pe[Xe];if(Ge!==void 0)return delete Pe[Xe],Ge;if(Ne===void 0)throw Error(`Key ${Xe} does not exist in object.`);return Ne}function G(...Pe){return Array.prototype.concat.apply([],Pe)}function $(...Pe){return Pe.reduce((Xe,Ne)=>Xe.flatMap(Ge=>Ne.map(Ve=>[Ge,Ve])))}function Me(Pe,Xe){return Math.abs((Pe+Xe)%(2*Xe)-Xe)}function Re(Pe,Xe){let Ne=URL.createObjectURL(Xe),Ge=document.createElement("a");Ge.href=Ne,Ge.download=Pe,Ge.click(),Ge.remove(),URL.revokeObjectURL(Ne)}function Ke(Pe,Xe){return Object.assign({},...Xe.map(Ne=>{if(Pe[Ne]!==void 0)return{[Ne]:Pe[Ne]}}))}function He(Pe){let Xe=0;for(let Ne of Pe)++Xe;return Xe}function Ie(Pe,Xe){let Ne=0;for(let Ge of Pe)Ge===Xe&&++Ne;return Ne}},"./src/utils/data-structures.js":(r,o,e)=>{e.r(o),e.d(o,{CharTrie:()=>s,PriorityQueue:()=>n,TokenLattice:()=>u});class n{constructor(y=(G,$)=>G>$,k=1/0){this._heap=[],this._comparator=y,this._maxSize=k}get size(){return this._heap.length}isEmpty(){return this.size===0}peek(){return this._heap[0]}push(...y){return this.extend(y)}extend(y){for(let k of y)if(this.size<this._maxSize)this._heap.push(k),this._siftUp();else{let G=this._smallest();this._comparator(k,this._heap[G])&&(this._heap[G]=k,this._siftUpFrom(G))}return this.size}pop(){let y=this.peek(),k=this.size-1;return k>0&&this._swap(0,k),this._heap.pop(),this._siftDown(),y}replace(y){let k=this.peek();return this._heap[0]=y,this._siftDown(),k}_parent(y){return(y+1>>>1)-1}_left(y){return(y<<1)+1}_right(y){return y+1<<1}_greater(y,k){return this._comparator(this._heap[y],this._heap[k])}_swap(y,k){let G=this._heap[y];this._heap[y]=this._heap[k],this._heap[k]=G}_siftUp(){this._siftUpFrom(this.size-1)}_siftUpFrom(y){for(;y>0&&this._greater(y,this._parent(y));)this._swap(y,this._parent(y)),y=this._parent(y)}_siftDown(){let y=0;for(;this._left(y)<this.size&&this._greater(this._left(y),y)||this._right(y)<this.size&&this._greater(this._right(y),y);){let k=this._right(y)<this.size&&this._greater(this._right(y),this._left(y))?this._right(y):this._left(y);this._swap(y,k),y=k}}_smallest(){return 2**Math.floor(Math.log2(this.size))-1}}class s{constructor(){this.root=c.default()}extend(y){for(let k of y)this.push(k)}push(y){let k=this.root;for(let G of y){let $=k.children.get(G);$===void 0&&($=c.default(),k.children.set(G,$)),k=$}k.isLeaf=!0}*commonPrefixSearch(y){let k=this.root;if(k===void 0)return;let G="";for(let $ of y){if(G+=$,k=k.children.get($),k===void 0)return;k.isLeaf&&(yield G)}}}class c{constructor(y,k){this.isLeaf=y,this.children=k}static default(){return new c(!1,new Map)}}class u{constructor(y,k,G){this.chars=Array.from(y),this.len=this.chars.length,this.bosTokenId=k,this.eosTokenId=G,this.nodes=[],this.beginNodes=Array.from({length:this.len+1},()=>[]),this.endNodes=Array.from({length:this.len+1},()=>[]);let $=new h(this.bosTokenId,0,0,0,0),Me=new h(this.eosTokenId,1,this.len,0,0);this.nodes.push($.clone()),this.nodes.push(Me.clone()),this.beginNodes[this.len].push(Me),this.endNodes[0].push($)}insert(y,k,G,$){let Me=this.nodes.length,Re=new h($,Me,y,k,G);this.beginNodes[y].push(Re),this.endNodes[y+k].push(Re),this.nodes.push(Re)}viterbi(){let y=this.len,k=0;for(;k<=y;){if(this.beginNodes[k].length==0)return[];for(let Ke of this.beginNodes[k]){Ke.prev=null;let He=0,Ie=null;for(let Pe of this.endNodes[k]){let Xe=Pe.backtraceScore+Ke.score;(Ie===null||Xe>He)&&(Ie=Pe.clone(),He=Xe)}if(Ie!==null)Ke.prev=Ie,Ke.backtraceScore=He;else return[]}++k}let G=[],Me=this.beginNodes[y][0].prev;if(Me===null)return[];let Re=Me.clone();for(;Re.prev!==null;)G.push(Re.clone()),Re=Re.clone().prev.clone();return G.reverse(),G}piece(y){return this.chars.slice(y.pos,y.pos+y.length).join("")}tokens(){return this.viterbi().map(k=>this.piece(k))}tokenIds(){return this.viterbi().map(k=>k.tokenId)}}class h{constructor(y,k,G,$,Me){this.tokenId=y,this.nodeId=k,this.pos=G,this.length=$,this.score=Me,this.prev=null,this.backtraceScore=0}clone(){let y=new h(this.tokenId,this.nodeId,this.pos,this.length,this.score);return y.prev=this.prev,y.backtraceScore=this.backtraceScore,y}}},"./src/utils/devices.js":(r,o,e)=>{e.r(o),e.d(o,{DEVICE_TYPES:()=>n});let n=Object.freeze({auto:"auto",gpu:"gpu",cpu:"cpu",wasm:"wasm",webgpu:"webgpu",cuda:"cuda",dml:"dml",webnn:"webnn","webnn-npu":"webnn-npu","webnn-gpu":"webnn-gpu","webnn-cpu":"webnn-cpu"})},"./src/utils/dtypes.js":(r,o,e)=>{e.r(o),e.d(o,{DATA_TYPES:()=>u,DEFAULT_DEVICE_DTYPE_MAPPING:()=>h,DEFAULT_DTYPE_SUFFIX_MAPPING:()=>p,isWebGpuFp16Supported:()=>c});var n=e("./src/env.js"),s=e("./src/utils/devices.js");let c=function(){let y;return function(){return ot(this,null,function*(){if(y===void 0)if(!n.apis.IS_WEBGPU_AVAILABLE)y=!1;else try{y=(yield navigator.gpu.requestAdapter()).features.has("shader-f16")}catch{y=!1}return y})}}(),u=Object.freeze({auto:"auto",fp32:"fp32",fp16:"fp16",q8:"q8",int8:"int8",uint8:"uint8",q4:"q4",bnb4:"bnb4",q4f16:"q4f16"}),h=Object.freeze({[s.DEVICE_TYPES.wasm]:u.q8}),p=Object.freeze({[u.fp32]:"",[u.fp16]:"_fp16",[u.int8]:"_int8",[u.uint8]:"_uint8",[u.q8]:"_quantized",[u.q4]:"_q4",[u.q4f16]:"_q4f16",[u.bnb4]:"_bnb4"})},"./src/utils/generic.js":(r,o,e)=>{e.r(o),e.d(o,{Callable:()=>n});let n=class{constructor(){let s=function(...c){return s._call(...c)};return Object.setPrototypeOf(s,new.target.prototype)}_call(...s){throw Error("Must implement _call method in subclass")}}},"./src/utils/hub.js":(r,o,e)=>{e.r(o),e.d(o,{getFile:()=>k,getModelFile:()=>Ke,getModelJSON:()=>He});var n=e("?7a2c"),s=e("?a42a"),c=e("./src/env.js"),u=e("./src/utils/core.js");let h={txt:"text/plain",html:"text/html",css:"text/css",js:"text/javascript",json:"application/json",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif"};class p{constructor(Ne){if(this.filePath=Ne,this.headers=new Headers,this.exists=n.existsSync(Ne),this.exists){this.status=200,this.statusText="OK";let Ge=n.statSync(Ne);this.headers.set("content-length",Ge.size.toString()),this.updateContentType();let Ve=this;this.body=new ReadableStream({start(Oe){Ve.arrayBuffer().then(Ue=>{Oe.enqueue(new Uint8Array(Ue)),Oe.close()})}})}else this.status=404,this.statusText="Not Found",this.body=null}updateContentType(){let Ne=this.filePath.toString().split(".").pop().toLowerCase();this.headers.set("content-type",h[Ne]??"application/octet-stream")}clone(){let Ne=new p(this.filePath);return Ne.exists=this.exists,Ne.status=this.status,Ne.statusText=this.statusText,Ne.headers=new Headers(this.headers),Ne}arrayBuffer(){return ot(this,null,function*(){return(yield n.promises.readFile(this.filePath)).buffer})}blob(){return ot(this,null,function*(){let Ne=yield n.promises.readFile(this.filePath);return new Blob([Ne],{type:this.headers.get("content-type")})})}text(){return ot(this,null,function*(){return yield n.promises.readFile(this.filePath,"utf8")})}json(){return ot(this,null,function*(){return JSON.parse(yield this.text())})}}function y(Xe,Ne=null,Ge=null){let Ve;try{Ve=new URL(Xe)}catch{return!1}return!(Ne&&!Ne.includes(Ve.protocol)||Ge&&!Ge.includes(Ve.hostname))}function k(Xe){return ot(this,null,function*(){if(c.env.useFS&&!y(Xe,["http:","https:","blob:"]))return new p(Xe);if(typeof process<"u"&&process?.release?.name==="node"){let Ne=!!process.env?.TESTING_REMOTELY,Ge=c.env.version,Ve=new Headers;if(Ve.set("User-Agent",`transformers.js/${Ge}; is_ci/${Ne};`),y(Xe,["http:","https:"],["huggingface.co","hf.co"])){let Ue=process.env?.HF_TOKEN??process.env?.HF_ACCESS_TOKEN;Ue&&Ve.set("Authorization",`Bearer ${Ue}`)}return fetch(Xe,{headers:Ve})}else return fetch(Xe)})}let G={400:"Bad request error occurred while trying to load file",401:"Unauthorized access to file",403:"Forbidden access to file",404:"Could not locate file",408:"Request timeout error occurred while trying to load file",500:"Internal server error error occurred while trying to load file",502:"Bad gateway error occurred while trying to load file",503:"Service unavailable error occurred while trying to load file",504:"Gateway timeout error occurred while trying to load file"};function $(Xe,Ne,Ge){if(!Ge)return null;let Ve=G[Xe]??`Error (${Xe}) occurred while trying to load file`;throw Error(`${Ve}: "${Ne}".`)}class Me{constructor(Ne){this.path=Ne}match(Ne){return ot(this,null,function*(){let Ge=s.join(this.path,Ne),Ve=new p(Ge);if(Ve.exists)return Ve})}put(Ne,Ge){return ot(this,null,function*(){let Ve=Buffer.from(yield Ge.arrayBuffer()),Oe=s.join(this.path,Ne);try{yield n.promises.mkdir(s.dirname(Oe),{recursive:!0}),yield n.promises.writeFile(Oe,Ve)}catch(Ue){console.warn("An error occurred while writing the file to cache:",Ue)}})}}function Re(Xe,...Ne){return ot(this,null,function*(){for(let Ge of Ne)try{let Ve=yield Xe.match(Ge);if(Ve)return Ve}catch{continue}})}function Ke(Oe,Ue){return ot(this,arguments,function*(Xe,Ne,Ge=!0,Ve={}){if(!c.env.allowLocalModels){if(Ve.local_files_only)throw Error("Invalid configuration detected: local models are disabled (`env.allowLocalModels=false`) but you have requested to only use local models (`local_files_only=true`).");if(!c.env.allowRemoteModels)throw Error("Invalid configuration detected: both local and remote models are disabled. Fix by setting `env.allowLocalModels` or `env.allowRemoteModels` to `true`.")}(0,u.dispatchCallback)(Ve.progress_callback,{status:"initiate",name:Xe,file:Ne});let tt;if(!tt&&c.env.useBrowserCache){if(typeof caches>"u")throw Error("Browser cache is not available in this environment.");try{tt=yield caches.open("transformers-cache")}catch(at){console.warn("An error occurred while opening the browser cache:",at)}}if(!tt&&c.env.useFSCache&&(tt=new Me(Ve.cache_dir??c.env.cacheDir)),!tt&&c.env.useCustomCache){if(!c.env.customCache)throw Error("`env.useCustomCache=true`, but `env.customCache` is not defined.");if(!c.env.customCache.match||!c.env.customCache.put)throw new Error("`env.customCache` must be an object which implements the `match` and `put` functions of the Web Cache API. For more information, see https://developer.mozilla.org/en-US/docs/Web/API/Cache");tt=c.env.customCache}let bt=Ve.revision??"main",lt=Pe(Xe,Ne),mt=Pe(c.env.localModelPath,lt),ut=Pe(c.env.remoteHost,c.env.remotePathTemplate.replaceAll("{model}",Xe).replaceAll("{revision}",encodeURIComponent(bt)),Ne),ht=bt==="main"?lt:Pe(Xe,bt,Ne),Ct,It=tt instanceof Me?ht:ut,Ft=!1,At;tt&&(At=yield Re(tt,mt,It));let Dt=At!==void 0;if(At===void 0){if(c.env.allowLocalModels)if(y(lt,["http:","https:"])){if(Ve.local_files_only)throw new Error(`\`local_files_only=true\`, but attempted to load a remote file from: ${lt}.`);if(!c.env.allowRemoteModels)throw new Error(`\`env.allowRemoteModels=false\`, but attempted to load a remote file from: ${lt}.`)}else try{At=yield k(mt),Ct=mt}catch(Ze){console.warn(`Unable to load from local path "${mt}": "${Ze}"`)}if(At===void 0||At.status===404){if(Ve.local_files_only||!c.env.allowRemoteModels){if(Ge)throw Error(`\`local_files_only=true\` or \`env.allowRemoteModels=false\` and file was not found locally at "${mt}".`);return null}if(At=yield k(ut),At.status!==200)return $(At.status,ut,Ge);Ct=It}Ft=tt&&typeof Response<"u"&&At instanceof Response&&At.status===200}(0,u.dispatchCallback)(Ve.progress_callback,{status:"download",name:Xe,file:Ne});let Rt;return Ve.progress_callback?Dt&&typeof navigator<"u"&&/firefox/i.test(navigator.userAgent)?(Rt=new Uint8Array(yield At.arrayBuffer()),(0,u.dispatchCallback)(Ve.progress_callback,{status:"progress",name:Xe,file:Ne,progress:100,loaded:Rt.length,total:Rt.length})):Rt=yield Ie(At,at=>{(0,u.dispatchCallback)(Ve.progress_callback,Vt({status:"progress",name:Xe,file:Ne},at))}):Rt=new Uint8Array(yield At.arrayBuffer()),Ft&&Ct&&(yield tt.match(Ct))===void 0&&(yield tt.put(Ct,new Response(Rt,{headers:At.headers})).catch(at=>{console.warn(`Unable to add response to browser cache: ${at}.`)})),(0,u.dispatchCallback)(Ve.progress_callback,{status:"done",name:Xe,file:Ne}),Rt})}function He(Oe,Ue){return ot(this,arguments,function*(Xe,Ne,Ge=!0,Ve={}){let tt=yield Ke(Xe,Ne,Ge,Ve);if(tt===null)return{};let lt=new TextDecoder("utf-8").decode(tt);return JSON.parse(lt)})}function Ie(Xe,Ne){return ot(this,null,function*(){let Ge=Xe.headers.get("Content-Length");Ge===null&&console.warn("Unable to determine content-length from response headers. Will expand buffer when needed.");let Ve=parseInt(Ge??"0"),Oe=new Uint8Array(Ve),Ue=0,tt=Xe.body.getReader();function bt(){return ot(this,null,function*(){let{done:lt,value:mt}=yield tt.read();if(lt)return;let ut=Ue+mt.length;if(ut>Ve){Ve=ut;let Ct=new Uint8Array(Ve);Ct.set(Oe),Oe=Ct}Oe.set(mt,Ue),Ue=ut;let ht=Ue/Ve*100;return Ne({progress:ht,loaded:Ue,total:Ve}),bt()})}return yield bt(),Oe})}function Pe(...Xe){return Xe=Xe.map((Ne,Ge)=>(Ge&&(Ne=Ne.replace(new RegExp("^/"),"")),Ge!==Xe.length-1&&(Ne=Ne.replace(new RegExp("/$"),"")),Ne)),Xe.join("/")}},"./src/utils/image.js":(r,o,e)=>{e.r(o),e.d(o,{RawImage:()=>Re,load_image:()=>Ke});var n=e("./src/utils/core.js"),s=e("./src/utils/hub.js"),c=e("./src/env.js"),u=e("./src/utils/tensor.js"),h=e("?2b25");let p,y,k,G=c.apis.IS_BROWSER_ENV||c.apis.IS_WEBWORKER_ENV;if(G)p=(He,Ie)=>{if(!self.OffscreenCanvas)throw new Error("OffscreenCanvas not supported by this browser.");return new self.OffscreenCanvas(He,Ie)},k=self.createImageBitmap,y=self.ImageData;else if(h)k=He=>ot(void 0,null,function*(){let Pe=(yield He.metadata()).channels,{data:Xe,info:Ne}=yield He.rotate().raw().toBuffer({resolveWithObject:!0}),Ge=new Re(new Uint8ClampedArray(Xe),Ne.width,Ne.height,Ne.channels);return Pe!==void 0&&Pe!==Ne.channels&&Ge.convert(Pe),Ge});else throw new Error("Unable to load image processing library.");let $={0:"nearest",1:"lanczos",2:"bilinear",3:"bicubic",4:"box",5:"hamming"},Me=new Map([["png","image/png"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["gif","image/gif"]]);class Re{constructor(Ie,Pe,Xe,Ne){this.data=Ie,this.width=Pe,this.height=Xe,this.channels=Ne}get size(){return[this.width,this.height]}static read(Ie){return ot(this,null,function*(){if(Ie instanceof Re)return Ie;if(typeof Ie=="string"||Ie instanceof URL)return yield this.fromURL(Ie);throw new Error(`Unsupported input type: ${typeof Ie}`)})}static fromCanvas(Ie){if(!G)throw new Error("fromCanvas() is only supported in browser environments.");let Xe=Ie.getContext("2d").getImageData(0,0,Ie.width,Ie.height).data;return new Re(Xe,Ie.width,Ie.height,4)}static fromURL(Ie){return ot(this,null,function*(){let Pe=yield(0,s.getFile)(Ie);if(Pe.status!==200)throw new Error(`Unable to read image from "${Ie}" (${Pe.status} ${Pe.statusText})`);let Xe=yield Pe.blob();return this.fromBlob(Xe)})}static fromBlob(Ie){return ot(this,null,function*(){if(G){let Pe=yield k(Ie),Xe=p(Pe.width,Pe.height).getContext("2d");return Xe.drawImage(Pe,0,0),new this(Xe.getImageData(0,0,Pe.width,Pe.height).data,Pe.width,Pe.height,4)}else{let Pe=h(yield Ie.arrayBuffer());return yield k(Pe)}})}static fromTensor(Ie,Pe="CHW"){if(Ie.dims.length!==3)throw new Error(`Tensor should have 3 dimensions, but has ${Ie.dims.length} dimensions.`);if(Pe==="CHW")Ie=Ie.transpose(1,2,0);else if(Pe!=="HWC")throw new Error(`Unsupported channel format: ${Pe}`);if(!(Ie.data instanceof Uint8ClampedArray||Ie.data instanceof Uint8Array))throw new Error(`Unsupported tensor type: ${Ie.type}`);switch(Ie.dims[2]){case 1:case 2:case 3:case 4:return new Re(Ie.data,Ie.dims[1],Ie.dims[0],Ie.dims[2]);default:throw new Error(`Unsupported number of channels: ${Ie.dims[2]}`)}}grayscale(){if(this.channels===1)return this;let Ie=new Uint8ClampedArray(this.width*this.height*1);switch(this.channels){case 3:case 4:for(let Pe=0,Xe=0;Pe<this.data.length;Pe+=this.channels){let Ne=this.data[Pe],Ge=this.data[Pe+1],Ve=this.data[Pe+2];Ie[Xe++]=Math.round(.2989*Ne+.587*Ge+.114*Ve)}break;default:throw new Error(`Conversion failed due to unsupported number of channels: ${this.channels}`)}return this._update(Ie,this.width,this.height,1)}rgb(){if(this.channels===3)return this;let Ie=new Uint8ClampedArray(this.width*this.height*3);switch(this.channels){case 1:for(let Pe=0,Xe=0;Pe<this.data.length;++Pe)Ie[Xe++]=this.data[Pe],Ie[Xe++]=this.data[Pe],Ie[Xe++]=this.data[Pe];break;case 4:for(let Pe=0,Xe=0;Pe<this.data.length;Pe+=4)Ie[Xe++]=this.data[Pe],Ie[Xe++]=this.data[Pe+1],Ie[Xe++]=this.data[Pe+2];break;default:throw new Error(`Conversion failed due to unsupported number of channels: ${this.channels}`)}return this._update(Ie,this.width,this.height,3)}rgba(){if(this.channels===4)return this;let Ie=new Uint8ClampedArray(this.width*this.height*4);switch(this.channels){case 1:for(let Pe=0,Xe=0;Pe<this.data.length;++Pe)Ie[Xe++]=this.data[Pe],Ie[Xe++]=this.data[Pe],Ie[Xe++]=this.data[Pe],Ie[Xe++]=255;break;case 3:for(let Pe=0,Xe=0;Pe<this.data.length;Pe+=3)Ie[Xe++]=this.data[Pe],Ie[Xe++]=this.data[Pe+1],Ie[Xe++]=this.data[Pe+2],Ie[Xe++]=255;break;default:throw new Error(`Conversion failed due to unsupported number of channels: ${this.channels}`)}return this._update(Ie,this.width,this.height,4)}putAlpha(Ie){if(Ie.width!==this.width||Ie.height!==this.height)throw new Error(`Expected mask size to be ${this.width}x${this.height}, but got ${Ie.width}x${Ie.height}`);if(Ie.channels!==1)throw new Error(`Expected mask to have 1 channel, but got ${Ie.channels}`);let Pe=this.data,Xe=Ie.data,Ne=this.width*this.height;if(this.channels===3){let Ge=new Uint8ClampedArray(Ne*4);for(let Ve=0,Oe=0,Ue=0;Ve<Ne;++Ve)Ge[Ue++]=Pe[Oe++],Ge[Ue++]=Pe[Oe++],Ge[Ue++]=Pe[Oe++],Ge[Ue++]=Xe[Ve];return this._update(Ge,this.width,this.height,4)}else if(this.channels===4){for(let Ge=0;Ge<Ne;++Ge)Pe[4*Ge+3]=Xe[Ge];return this}throw new Error(`Expected image to have 3 or 4 channels, but got ${this.channels}`)}resize(Ne,Ge){return ot(this,arguments,function*(Ie,Pe,{resample:Xe=2}={}){if(this.width===Ie&&this.height===Pe)return this;let Ve=$[Xe]??Xe,Oe=(0,n.isNullishDimension)(Ie),Ue=(0,n.isNullishDimension)(Pe);if(Oe&&Ue)return this;if(Oe?Ie=Pe/this.height*this.width:Ue&&(Pe=Ie/this.width*this.height),G){let tt=this.channels,bt=this.toCanvas(),lt=p(Ie,Pe).getContext("2d");return lt.drawImage(bt,0,0,Ie,Pe),new Re(lt.getImageData(0,0,Ie,Pe).data,Ie,Pe,4).convert(tt)}else{let tt=this.toSharp();switch(Ve){case"box":case"hamming":(Ve==="box"||Ve==="hamming")&&(console.warn(`Resampling method ${Ve} is not yet supported. Using bilinear instead.`),Ve="bilinear");case"nearest":case"bilinear":case"bicubic":tt=tt.affine([Ie/this.width,0,0,Pe/this.height],{interpolator:Ve});break;case"lanczos":tt=tt.resize({width:Ie,height:Pe,fit:"fill",kernel:"lanczos3"});break;default:throw new Error(`Resampling method ${Ve} is not supported.`)}return yield k(tt)}})}pad(Ge){return ot(this,arguments,function*([Ie,Pe,Xe,Ne]){if(Ie=Math.max(Ie,0),Pe=Math.max(Pe,0),Xe=Math.max(Xe,0),Ne=Math.max(Ne,0),Ie===0&&Pe===0&&Xe===0&&Ne===0)return this;if(G){let Ve=this.channels,Oe=this.toCanvas(),Ue=this.width+Ie+Pe,tt=this.height+Xe+Ne,bt=p(Ue,tt).getContext("2d");return bt.drawImage(Oe,0,0,this.width,this.height,Ie,Xe,this.width,this.height),new Re(bt.getImageData(0,0,Ue,tt).data,Ue,tt,4).convert(Ve)}else{let Ve=this.toSharp().extend({left:Ie,right:Pe,top:Xe,bottom:Ne});return yield k(Ve)}})}crop(Ge){return ot(this,arguments,function*([Ie,Pe,Xe,Ne]){if(Ie=Math.max(Ie,0),Pe=Math.max(Pe,0),Xe=Math.min(Xe,this.width-1),Ne=Math.min(Ne,this.height-1),Ie===0&&Pe===0&&Xe===this.width-1&&Ne===this.height-1)return this;let Ve=Xe-Ie+1,Oe=Ne-Pe+1;if(G){let Ue=this.channels,tt=this.toCanvas(),bt=p(Ve,Oe).getContext("2d");return bt.drawImage(tt,Ie,Pe,Ve,Oe,0,0,Ve,Oe),new Re(bt.getImageData(0,0,Ve,Oe).data,Ve,Oe,4).convert(Ue)}else{let Ue=this.toSharp().extract({left:Ie,top:Pe,width:Ve,height:Oe});return yield k(Ue)}})}center_crop(Ie,Pe){return ot(this,null,function*(){if(this.width===Ie&&this.height===Pe)return this;let Xe=(this.width-Ie)/2,Ne=(this.height-Pe)/2;if(G){let Ge=this.channels,Ve=this.toCanvas(),Oe=p(Ie,Pe).getContext("2d"),Ue=0,tt=0,bt=0,lt=0;return Xe>=0?Ue=Xe:bt=-Xe,Ne>=0?tt=Ne:lt=-Ne,Oe.drawImage(Ve,Ue,tt,Ie,Pe,bt,lt,Ie,Pe),new Re(Oe.getImageData(0,0,Ie,Pe).data,Ie,Pe,4).convert(Ge)}else{let Ge=this.toSharp();if(Xe>=0&&Ne>=0)Ge=Ge.extract({left:Math.floor(Xe),top:Math.floor(Ne),width:Ie,height:Pe});else if(Xe<=0&&Ne<=0){let Ve=Math.floor(-Ne),Oe=Math.floor(-Xe);Ge=Ge.extend({top:Ve,left:Oe,right:Ie-this.width-Oe,bottom:Pe-this.height-Ve})}else{let Ve=[0,0],Oe=0;Ne<0?(Ve[0]=Math.floor(-Ne),Ve[1]=Pe-this.height-Ve[0]):Oe=Math.floor(Ne);let Ue=[0,0],tt=0;Xe<0?(Ue[0]=Math.floor(-Xe),Ue[1]=Ie-this.width-Ue[0]):tt=Math.floor(Xe),Ge=Ge.extend({top:Ve[0],bottom:Ve[1],left:Ue[0],right:Ue[1]}).extract({left:tt,top:Oe,width:Ie,height:Pe})}return yield k(Ge)}})}toBlob(Ie="image/png",Pe=1){return ot(this,null,function*(){if(!G)throw new Error("toBlob() is only supported in browser environments.");return yield this.toCanvas().convertToBlob({type:Ie,quality:Pe})})}toTensor(Ie="CHW"){let Pe=new u.Tensor("uint8",new Uint8Array(this.data),[this.height,this.width,this.channels]);if(Ie!=="HWC")if(Ie==="CHW")Pe=Pe.permute(2,0,1);else throw new Error(`Unsupported channel format: ${Ie}`);return Pe}toCanvas(){if(!G)throw new Error("toCanvas() is only supported in browser environments.");let Ie=this.clone().rgba(),Pe=p(Ie.width,Ie.height),Xe=new y(Ie.data,Ie.width,Ie.height);return Pe.getContext("2d").putImageData(Xe,0,0),Pe}split(){let{data:Ie,width:Pe,height:Xe,channels:Ne}=this,Ge=Ie.constructor,Ve=Ie.length/Ne,Oe=Array.from({length:Ne},()=>new Ge(Ve));for(let Ue=0;Ue<Ve;++Ue){let tt=Ne*Ue;for(let bt=0;bt<Ne;++bt)Oe[bt][Ue]=Ie[tt+bt]}return Oe.map(Ue=>new Re(Ue,Pe,Xe,1))}_update(Ie,Pe,Xe,Ne=null){return this.data=Ie,this.width=Pe,this.height=Xe,Ne!==null&&(this.channels=Ne),this}clone(){return new Re(this.data.slice(),this.width,this.height,this.channels)}convert(Ie){if(this.channels===Ie)return this;switch(Ie){case 1:this.grayscale();break;case 3:this.rgb();break;case 4:this.rgba();break;default:throw new Error(`Conversion failed due to unsupported number of channels: ${this.channels}`)}return this}save(Ie){return ot(this,null,function*(){if(G){if(c.apis.IS_WEBWORKER_ENV)throw new Error("Unable to save an image from a Web Worker.");let Pe=Ie.split(".").pop().toLowerCase(),Xe=Me.get(Pe)??"image/png",Ne=yield this.toBlob(Xe);(0,n.saveBlob)(Ie,Ne)}else{if(c.apis.IS_FS_AVAILABLE)return yield this.toSharp().toFile(Ie);throw new Error("Unable to save the image because filesystem is disabled in this environment.")}})}toSharp(){if(G)throw new Error("toSharp() is only supported in server-side environments.");return h(this.data,{raw:{width:this.width,height:this.height,channels:this.channels}})}}let Ke=Re.read.bind(Re)},"./src/utils/maths.js":(r,o,e)=>{e.r(o),e.d(o,{FFT:()=>Ke,bankers_round:()=>Pe,cos_sim:()=>p,dot:()=>h,dynamic_time_warping:()=>Xe,interpolate_data:()=>n,log_softmax:()=>u,magnitude:()=>y,max:()=>G,medianFilter:()=>He,min:()=>k,permute_data:()=>s,round:()=>Ie,softmax:()=>c});function n(Ne,[Ge,Ve,Oe],[Ue,tt],bt="bilinear",lt=!1){let mt=tt/Oe,ut=Ue/Ve,ht=new Ne.constructor(Ue*tt*Ge),Ct=Ve*Oe,It=Ue*tt;for(let Ft=0;Ft<Ue;++Ft)for(let At=0;At<tt;++At){let Dt=Ft*tt+At,Rt=(At+.5)/mt-.5,at=(Ft+.5)/ut-.5,Ze=Math.floor(Rt),vt=Math.floor(at),St=Math.min(Ze+1,Oe-1),$t=Math.min(vt+1,Ve-1);Ze=Math.max(Ze,0),vt=Math.max(vt,0);let qt=Rt-Ze,gt=at-vt,st=(1-qt)*(1-gt),hr=qt*(1-gt),Ht=(1-qt)*gt,xt=qt*gt,Ut=vt*Oe,rr=$t*Oe,nr=Ut+Ze,cr=Ut+St,mr=rr+Ze,Cr=rr+St;for(let Tr=0;Tr<Ge;++Tr){let dr=Tr*Ct;ht[Tr*It+Dt]=st*Ne[dr+nr]+hr*Ne[dr+cr]+Ht*Ne[dr+mr]+xt*Ne[dr+Cr]}}return ht}function s(Ne,Ge,Ve){let Oe=new Array(Ve.length),Ue=new Array(Ve.length);for(let lt=Ve.length-1,mt=1;lt>=0;--lt)Ue[lt]=mt,Oe[lt]=Ge[Ve[lt]],mt*=Oe[lt];let tt=Ve.map((lt,mt)=>Ue[Ve.indexOf(mt)]),bt=new Ne.constructor(Ne.length);for(let lt=0;lt<Ne.length;++lt){let mt=0;for(let ut=Ge.length-1,ht=lt;ut>=0;--ut)mt+=ht%Ge[ut]*tt[ut],ht=Math.floor(ht/Ge[ut]);bt[mt]=Ne[lt]}return[bt,Oe]}function c(Ne){let Ge=G(Ne)[0],Ve=Ne.map(tt=>Math.exp(tt-Ge)),Oe=Ve.reduce((tt,bt)=>tt+bt,0);return Ve.map(tt=>tt/Oe)}function u(Ne){let Ge=G(Ne)[0],Ve=0;for(let tt=0;tt<Ne.length;++tt)Ve+=Math.exp(Ne[tt]-Ge);let Oe=Math.log(Ve);return Ne.map(tt=>tt-Ge-Oe)}function h(Ne,Ge){let Ve=0;for(let Oe=0;Oe<Ne.length;++Oe)Ve+=Ne[Oe]*Ge[Oe];return Ve}function p(Ne,Ge){let Ve=h(Ne,Ge),Oe=y(Ne),Ue=y(Ge);return Ve/(Oe*Ue)}function y(Ne){return Math.sqrt(Ne.reduce((Ge,Ve)=>Ge+Ve*Ve,0))}function k(Ne){if(Ne.length===0)throw Error("Array must not be empty");let Ge=Ne[0],Ve=0;for(let Oe=1;Oe<Ne.length;++Oe)Ne[Oe]<Ge&&(Ge=Ne[Oe],Ve=Oe);return[Ge,Ve]}function G(Ne){if(Ne.length===0)throw Error("Array must not be empty");let Ge=Ne[0],Ve=0;for(let Oe=1;Oe<Ne.length;++Oe)Ne[Oe]>Ge&&(Ge=Ne[Oe],Ve=Oe);return[Ge,Ve]}function $(Ne){return Ne>0&&(Ne&Ne-1)===0}class Me{constructor(Ge){if(this.size=Ge|0,this.size<=1||!$(this.size))throw new Error("FFT size must be a power of two larger than 1");this._csize=Ge<<1,this.table=new Float64Array(this.size*2);for(let Oe=0;Oe<this.table.length;Oe+=2){let Ue=Math.PI*Oe/this.size;this.table[Oe]=Math.cos(Ue),this.table[Oe+1]=-Math.sin(Ue)}let Ve=0;for(let Oe=1;this.size>Oe;Oe<<=1)++Ve;this._width=Ve%2===0?Ve-1:Ve,this._bitrev=new Int32Array(1<<this._width);for(let Oe=0;Oe<this._bitrev.length;++Oe){this._bitrev[Oe]=0;for(let Ue=0;Ue<this._width;Ue+=2){let tt=this._width-Ue-2;this._bitrev[Oe]|=(Oe>>>Ue&3)<<tt}}}createComplexArray(){return new Float64Array(this._csize)}fromComplexArray(Ge,Ve){let Oe=Ve||new Array(Ge.length>>>1);for(let Ue=0;Ue<Ge.length;Ue+=2)Oe[Ue>>>1]=Ge[Ue];return Oe}toComplexArray(Ge,Ve){let Oe=Ve||this.createComplexArray();for(let Ue=0;Ue<Oe.length;Ue+=2)Oe[Ue]=Ge[Ue>>>1],Oe[Ue+1]=0;return Oe}transform(Ge,Ve){if(Ge===Ve)throw new Error("Input and output buffers must be different");this._transform4(Ge,Ve,1)}realTransform(Ge,Ve){if(Ge===Ve)throw new Error("Input and output buffers must be different");this._realTransform4(Ge,Ve,1)}inverseTransform(Ge,Ve){if(Ge===Ve)throw new Error("Input and output buffers must be different");this._transform4(Ge,Ve,-1);for(let Oe=0;Oe<Ge.length;++Oe)Ge[Oe]/=this.size}_transform4(Ge,Ve,Oe){let Ue=this._csize,bt=1<<this._width,lt=Ue/bt<<1,mt,ut,ht=this._bitrev;if(lt===4)for(mt=0,ut=0;mt<Ue;mt+=lt,++ut){let It=ht[ut];this._singleTransform2(Ve,Ge,mt,It,bt)}else for(mt=0,ut=0;mt<Ue;mt+=lt,++ut){let It=ht[ut];this._singleTransform4(Ve,Ge,mt,It,bt,Oe)}let Ct=this.table;for(bt>>=2;bt>=2;bt>>=2){lt=Ue/bt<<1;let It=lt>>>2;for(mt=0;mt<Ue;mt+=lt){let Ft=mt+It-1;for(let At=mt,Dt=0;At<Ft;At+=2,Dt+=bt){let Rt=At,at=Rt+It,Ze=at+It,vt=Ze+It,St=Ge[Rt],$t=Ge[Rt+1],qt=Ge[at],gt=Ge[at+1],st=Ge[Ze],hr=Ge[Ze+1],Ht=Ge[vt],xt=Ge[vt+1],Ut=Ct[Dt],rr=Oe*Ct[Dt+1],nr=qt*Ut-gt*rr,cr=qt*rr+gt*Ut,mr=Ct[2*Dt],Cr=Oe*Ct[2*Dt+1],Tr=st*mr-hr*Cr,dr=st*Cr+hr*mr,Ar=Ct[3*Dt],rt=Oe*Ct[3*Dt+1],Et=Ht*Ar-xt*rt,_t=Ht*rt+xt*Ar,Tt=St+Tr,zt=$t+dr,tr=St-Tr,ur=$t-dr,kr=nr+Et,gr=cr+_t,_r=Oe*(nr-Et),qr=Oe*(cr-_t);Ge[Rt]=Tt+kr,Ge[Rt+1]=zt+gr,Ge[at]=tr+qr,Ge[at+1]=ur-_r,Ge[Ze]=Tt-kr,Ge[Ze+1]=zt-gr,Ge[vt]=tr-qr,Ge[vt+1]=ur+_r}}}}_singleTransform2(Ge,Ve,Oe,Ue,tt){let bt=Ge[Ue],lt=Ge[Ue+1],mt=Ge[Ue+tt],ut=Ge[Ue+tt+1];Ve[Oe]=bt+mt,Ve[Oe+1]=lt+ut,Ve[Oe+2]=bt-mt,Ve[Oe+3]=lt-ut}_singleTransform4(Ge,Ve,Oe,Ue,tt,bt){let lt=tt*2,mt=tt*3,ut=Ge[Ue],ht=Ge[Ue+1],Ct=Ge[Ue+tt],It=Ge[Ue+tt+1],Ft=Ge[Ue+lt],At=Ge[Ue+lt+1],Dt=Ge[Ue+mt],Rt=Ge[Ue+mt+1],at=ut+Ft,Ze=ht+At,vt=ut-Ft,St=ht-At,$t=Ct+Dt,qt=It+Rt,gt=bt*(Ct-Dt),st=bt*(It-Rt);Ve[Oe]=at+$t,Ve[Oe+1]=Ze+qt,Ve[Oe+2]=vt+st,Ve[Oe+3]=St-gt,Ve[Oe+4]=at-$t,Ve[Oe+5]=Ze-qt,Ve[Oe+6]=vt-st,Ve[Oe+7]=St+gt}_realTransform4(Ge,Ve,Oe){let Ue=this._csize,bt=1<<this._width,lt=Ue/bt<<1,mt,ut,ht=this._bitrev;if(lt===4)for(mt=0,ut=0;mt<Ue;mt+=lt,++ut){let Ft=ht[ut];this._singleRealTransform2(Ve,Ge,mt,Ft>>>1,bt>>>1)}else for(mt=0,ut=0;mt<Ue;mt+=lt,++ut){let Ft=ht[ut];this._singleRealTransform4(Ve,Ge,mt,Ft>>>1,bt>>>1,Oe)}let Ct=this.table;for(bt>>=2;bt>=2;bt>>=2){lt=Ue/bt<<1;let Ft=lt>>>1,At=Ft>>>1,Dt=At>>>1;for(mt=0;mt<Ue;mt+=lt)for(let Rt=0,at=0;Rt<=Dt;Rt+=2,at+=bt){let Ze=mt+Rt,vt=Ze+At,St=vt+At,$t=St+At,qt=Ge[Ze],gt=Ge[Ze+1],st=Ge[vt],hr=Ge[vt+1],Ht=Ge[St],xt=Ge[St+1],Ut=Ge[$t],rr=Ge[$t+1],nr=qt,cr=gt,mr=Ct[at],Cr=Oe*Ct[at+1],Tr=st*mr-hr*Cr,dr=st*Cr+hr*mr,Ar=Ct[2*at],rt=Oe*Ct[2*at+1],Et=Ht*Ar-xt*rt,_t=Ht*rt+xt*Ar,Tt=Ct[3*at],zt=Oe*Ct[3*at+1],tr=Ut*Tt-rr*zt,ur=Ut*zt+rr*Tt,kr=nr+Et,gr=cr+_t,_r=nr-Et,qr=cr-_t,$r=Tr+tr,Ur=dr+ur,Io=Oe*(Tr-tr),Qo=Oe*(dr-ur);if(Ge[Ze]=kr+$r,Ge[Ze+1]=gr+Ur,Ge[vt]=_r+Qo,Ge[vt+1]=qr-Io,Rt===0){Ge[St]=kr-$r,Ge[St+1]=gr-Ur;continue}if(Rt===Dt)continue;let pn=mt+At-Rt,Kn=mt+Ft-Rt;Ge[pn]=_r-Oe*Qo,Ge[pn+1]=-qr-Oe*Io,Ge[Kn]=kr-Oe*$r,Ge[Kn+1]=-gr+Oe*Ur}}let It=Ue>>>1;for(let Ft=2;Ft<It;Ft+=2)Ge[Ue-Ft]=Ge[Ft],Ge[Ue-Ft+1]=-Ge[Ft+1]}_singleRealTransform2(Ge,Ve,Oe,Ue,tt){let bt=Ge[Ue],lt=Ge[Ue+tt];Ve[Oe]=bt+lt,Ve[Oe+1]=0,Ve[Oe+2]=bt-lt,Ve[Oe+3]=0}_singleRealTransform4(Ge,Ve,Oe,Ue,tt,bt){let lt=tt*2,mt=tt*3,ut=Ge[Ue],ht=Ge[Ue+tt],Ct=Ge[Ue+lt],It=Ge[Ue+mt],Ft=ut+Ct,At=ut-Ct,Dt=ht+It,Rt=bt*(ht-It);Ve[Oe]=Ft+Dt,Ve[Oe+1]=0,Ve[Oe+2]=At,Ve[Oe+3]=-Rt,Ve[Oe+4]=Ft-Dt,Ve[Oe+5]=0,Ve[Oe+6]=At,Ve[Oe+7]=Rt}}class Re{constructor(Ge){let Ve=2*(Ge-1),Oe=2*(2*Ge-1),Ue=2**Math.ceil(Math.log2(Oe));this.bufferSize=Ue,this._a=Ve;let tt=new Float64Array(Oe),bt=new Float64Array(Ue);this._chirpBuffer=new Float64Array(Ue),this._buffer1=new Float64Array(Ue),this._buffer2=new Float64Array(Ue),this._outBuffer1=new Float64Array(Ue),this._outBuffer2=new Float64Array(Ue);let lt=-2*Math.PI/Ge,mt=Math.cos(lt),ut=Math.sin(lt);for(let ht=0;ht<Oe>>1;++ht){let Ct=(ht+1-Ge)**2/2,It=Math.sqrt(mt**2+ut**2)**Ct,Ft=Ct*Math.atan2(ut,mt),At=2*ht;tt[At]=It*Math.cos(Ft),tt[At+1]=It*Math.sin(Ft),bt[At]=tt[At],bt[At+1]=-tt[At+1]}this._slicedChirpBuffer=tt.subarray(Ve,Oe),this._f=new Me(Ue>>1),this._f.transform(this._chirpBuffer,bt)}_transform(Ge,Ve,Oe){let Ue=this._buffer1,tt=this._buffer2,bt=this._outBuffer1,lt=this._outBuffer2,mt=this._chirpBuffer,ut=this._slicedChirpBuffer,ht=this._a;if(Oe)for(let Ct=0;Ct<ut.length;Ct+=2){let It=Ct+1,Ft=Ct>>1,At=Ve[Ft];Ue[Ct]=At*ut[Ct],Ue[It]=At*ut[It]}else for(let Ct=0;Ct<ut.length;Ct+=2){let It=Ct+1;Ue[Ct]=Ve[Ct]*ut[Ct]-Ve[It]*ut[It],Ue[It]=Ve[Ct]*ut[It]+Ve[It]*ut[Ct]}this._f.transform(bt,Ue);for(let Ct=0;Ct<mt.length;Ct+=2){let It=Ct+1;tt[Ct]=bt[Ct]*mt[Ct]-bt[It]*mt[It],tt[It]=bt[Ct]*mt[It]+bt[It]*mt[Ct]}this._f.inverseTransform(lt,tt);for(let Ct=0;Ct<lt.length;Ct+=2){let It=lt[Ct+ht],Ft=lt[Ct+ht+1],At=ut[Ct],Dt=ut[Ct+1];Ge[Ct]=It*At-Ft*Dt,Ge[Ct+1]=It*Dt+Ft*At}}transform(Ge,Ve){this._transform(Ge,Ve,!1)}realTransform(Ge,Ve){this._transform(Ge,Ve,!0)}}class Ke{constructor(Ge){this.fft_length=Ge,this.isPowerOfTwo=$(Ge),this.isPowerOfTwo?(this.fft=new Me(Ge),this.outputBufferSize=2*Ge):(this.fft=new Re(Ge),this.outputBufferSize=this.fft.bufferSize)}realTransform(Ge,Ve){this.fft.realTransform(Ge,Ve)}transform(Ge,Ve){this.fft.transform(Ge,Ve)}}function He(Ne,Ge){if(Ge%2===0||Ge<=0)throw new Error("Window size must be a positive odd number");let Ve=new Ne.constructor(Ne.length),Oe=new Ne.constructor(Ge),Ue=Math.floor(Ge/2);for(let tt=0;tt<Ne.length;++tt){let bt=0;for(let lt=-Ue;lt<=Ue;++lt){let mt=tt+lt;mt<0?mt=Math.abs(mt):mt>=Ne.length&&(mt=2*(Ne.length-1)-mt),Oe[bt++]=Ne[mt]}Oe.sort(),Ve[tt]=Oe[Ue]}return Ve}function Ie(Ne,Ge){let Ve=Math.pow(10,Ge);return Math.round(Ne*Ve)/Ve}function Pe(Ne){let Ge=Math.round(Ne);return Math.abs(Ne)%1===.5?Ge%2===0?Ge:Ge-1:Ge}function Xe(Ne){let Ge=Ne.length,Ve=Ne[0].length,Oe=[Ge+1,Ve+1],Ue=Array.from({length:Oe[0]},()=>Array(Oe[1]).fill(1/0));Ue[0][0]=0;let tt=Array.from({length:Oe[0]},()=>Array(Oe[1]).fill(-1));for(let ht=1;ht<Oe[1];++ht)for(let Ct=1;Ct<Oe[0];++Ct){let It=Ue[Ct-1][ht-1],Ft=Ue[Ct-1][ht],At=Ue[Ct][ht-1],Dt,Rt;It<Ft&&It<At?(Dt=It,Rt=0):Ft<It&&Ft<At?(Dt=Ft,Rt=1):(Dt=At,Rt=2),Ue[Ct][ht]=Ne[Ct-1][ht-1]+Dt,tt[Ct][ht]=Rt}for(let ht=0;ht<Oe[1];++ht)tt[0][ht]=2;for(let ht=0;ht<Oe[0];++ht)tt[ht][0]=1;let bt=Ge,lt=Ve,mt=[],ut=[];for(;bt>0||lt>0;)switch(mt.push(bt-1),ut.push(lt-1),tt[bt][lt]){case 0:--bt,--lt;break;case 1:--bt;break;case 2:--lt;break;default:throw new Error(`Internal error in dynamic time warping. Unexpected trace[${bt}, ${lt}]. Please file a bug report.`)}return mt.reverse(),ut.reverse(),[mt,ut]}},"./src/utils/tensor.js":(r,o,e)=>{e.r(o),e.d(o,{Tensor:()=>h,cat:()=>Ve,full:()=>ut,full_like:()=>ht,interpolate:()=>k,interpolate_4d:()=>G,layer_norm:()=>Pe,matmul:()=>$,mean:()=>bt,mean_pooling:()=>Ie,ones:()=>Ct,ones_like:()=>It,permute:()=>y,quantize_embeddings:()=>Rt,rand:()=>Dt,rfft:()=>Me,slice:()=>He,stack:()=>Oe,std_mean:()=>tt,topk:()=>Re,zeros:()=>Ft,zeros_like:()=>At});var n=e("./src/utils/maths.js"),s=e("./src/backends/onnx.js"),c=e("./src/ops/registry.js");let u=Object.freeze({float32:Float32Array,float16:Uint16Array,float64:Float64Array,string:Array,int8:Int8Array,uint8:Uint8Array,int16:Int16Array,uint16:Uint16Array,int32:Int32Array,uint32:Uint32Array,int64:BigInt64Array,uint64:BigUint64Array,bool:Uint8Array,uint4:Uint8Array,int4:Int8Array});class h{get dims(){return this.ort_tensor.dims}set dims(Ze){this.ort_tensor.dims=Ze}get type(){return this.ort_tensor.type}get data(){return this.ort_tensor.data}get size(){return this.ort_tensor.size}get location(){return this.ort_tensor.location}ort_tensor;constructor(...Ze){return(0,s.isONNXTensor)(Ze[0])?this.ort_tensor=Ze[0]:this.ort_tensor=new s.Tensor(Ze[0],Ze[1],Ze[2]),new Proxy(this,{get:(vt,St)=>{if(typeof St=="string"){let $t=Number(St);if(Number.isInteger($t))return vt._getitem($t)}return vt[St]},set:(vt,St,$t)=>vt[St]=$t})}dispose(){this.ort_tensor.dispose()}*[Symbol.iterator](){let[Ze,...vt]=this.dims;if(vt.length>0){let St=vt.reduce(($t,qt)=>$t*qt);for(let $t=0;$t<Ze;++$t)yield this._subarray($t,St,vt)}else yield*aM(this.data)}_getitem(Ze){let[vt,...St]=this.dims;if(Ze=Ge(Ze,vt),St.length>0){let $t=St.reduce((qt,gt)=>qt*gt);return this._subarray(Ze,$t,St)}else return new h(this.type,[this.data[Ze]],St)}indexOf(Ze){let vt=this.data;for(let St=0;St<vt.length;++St)if(vt[St]==Ze)return St;return-1}_subarray(Ze,vt,St){let $t=Ze*vt,qt=(Ze+1)*vt,gt="subarray"in this.data?this.data.subarray($t,qt):this.data.slice($t,qt);return new h(this.type,gt,St)}item(){let Ze=this.data;if(Ze.length!==1)throw new Error(`a Tensor with ${Ze.length} elements cannot be converted to Scalar`);return Ze[0]}tolist(){return p(this.data,this.dims)}sigmoid(){return this.clone().sigmoid_()}sigmoid_(){let Ze=this.data;for(let vt=0;vt<Ze.length;++vt)Ze[vt]=1/(1+Math.exp(-Ze[vt]));return this}map(Ze){return this.clone().map_(Ze)}map_(Ze){let vt=this.data;for(let St=0;St<vt.length;++St)vt[St]=Ze(vt[St],St,vt);return this}mul(Ze){return this.clone().mul_(Ze)}mul_(Ze){let vt=this.data;for(let St=0;St<vt.length;++St)vt[St]*=Ze;return this}div(Ze){return this.clone().div_(Ze)}div_(Ze){let vt=this.data;for(let St=0;St<vt.length;++St)vt[St]/=Ze;return this}add(Ze){return this.clone().add_(Ze)}add_(Ze){let vt=this.data;for(let St=0;St<vt.length;++St)vt[St]+=Ze;return this}sub(Ze){return this.clone().sub_(Ze)}sub_(Ze){let vt=this.data;for(let St=0;St<vt.length;++St)vt[St]-=Ze;return this}clone(){return new h(this.type,this.data.slice(),this.dims.slice())}slice(...Ze){let vt=[],St=[];for(let Ht=0;Ht<this.dims.length;++Ht){let xt=Ze[Ht];if(xt==null)St.push([0,this.dims[Ht]]),vt.push(this.dims[Ht]);else if(typeof xt=="number")xt=Ge(xt,this.dims[Ht],Ht),St.push([xt,xt+1]);else if(Array.isArray(xt)&&xt.length===2){let[Ut,rr]=xt;if(Ut=Ut===null?0:Ge(Ut,this.dims[Ht],Ht,!1),rr=rr===null?this.dims[Ht]:Ge(rr,this.dims[Ht],Ht,!1),Ut>rr)throw new Error(`Invalid slice: ${xt}`);let nr=[Math.max(Ut,0),Math.min(rr,this.dims[Ht])];St.push(nr),vt.push(nr[1]-nr[0])}else throw new Error(`Invalid slice: ${xt}`)}let $t=St.map(([Ht,xt])=>xt-Ht),qt=$t.reduce((Ht,xt)=>Ht*xt),gt=this.data,st=new gt.constructor(qt),hr=this.stride();for(let Ht=0;Ht<qt;++Ht){let xt=0;for(let Ut=$t.length-1,rr=Ht;Ut>=0;--Ut){let nr=$t[Ut];xt+=(rr%nr+St[Ut][0])*hr[Ut],rr=Math.floor(rr/nr)}st[Ht]=gt[xt]}return new h(this.type,st,vt)}permute(...Ze){return y(this,Ze)}transpose(...Ze){return this.permute(...Ze)}sum(Ze=null,vt=!1){return this.norm(1,Ze,vt)}norm(Ze="fro",vt=null,St=!1){if(Ze==="fro")Ze=2;else if(typeof Ze=="string")throw Error(`Unsupported norm: ${Ze}`);let $t=this.data,qt=(Ht,xt)=>Ht+xt**Ze;if(vt===null){let Ht=$t.reduce(qt,0)**(1/Ze);return new h(this.type,[Ht],[])}let[gt,st,hr]=Ue(qt,this,vt,St);if(Ze!==1)for(let Ht=0;Ht<st.length;++Ht)st[Ht]=st[Ht]**(1/Ze);return new h(gt,st,hr)}normalize_(Ze=2,vt=1){vt=Ge(vt,this.dims.length);let St=this.norm(Ze,vt,!0),$t=this.data,qt=St.data;for(let gt=0;gt<$t.length;++gt){let st=0;for(let hr=this.dims.length-1,Ht=gt,xt=1;hr>=0;--hr){let Ut=this.dims[hr];if(hr!==vt){let rr=Ht%Ut;st+=rr*xt,xt*=this.dims[hr]}Ht=Math.floor(Ht/Ut)}$t[gt]/=qt[st]}return this}normalize(Ze=2,vt=1){return this.clone().normalize_(Ze,vt)}stride(){return lt(this.dims)}squeeze(Ze=null){return new h(this.type,this.data,Xe(this.dims,Ze))}squeeze_(Ze=null){return this.dims=Xe(this.dims,Ze),this}unsqueeze(Ze=null){return new h(this.type,this.data,Ne(this.dims,Ze))}unsqueeze_(Ze=null){return this.dims=Ne(this.dims,Ze),this}flatten_(Ze=0,vt=-1){vt=(vt+this.dims.length)%this.dims.length;let St=this.dims.slice(0,Ze),$t=this.dims.slice(Ze,vt+1),qt=this.dims.slice(vt+1);return this.dims=[...St,$t.reduce((gt,st)=>gt*st,1),...qt],this}flatten(Ze=0,vt=-1){return this.clone().flatten_(Ze,vt)}view(...Ze){let vt=-1;for(let $t=0;$t<Ze.length;++$t)if(Ze[$t]===-1){if(vt!==-1)throw new Error("Only one dimension can be inferred");vt=$t}let St=this.data;if(vt!==-1){let $t=Ze.reduce((qt,gt,st)=>st!==vt?qt*gt:qt,1);Ze[vt]=St.length/$t}return new h(this.type,St,Ze)}neg_(){let Ze=this.data;for(let vt=0;vt<Ze.length;++vt)Ze[vt]=-Ze[vt];return this}neg(){return this.clone().neg_()}gt(Ze){let vt=new Uint8Array(this.data.length),St=this.data;for(let $t=0;$t<St.length;++$t)vt[$t]=St[$t]>Ze?1:0;return new h("bool",vt,this.dims)}lt(Ze){let vt=new Uint8Array(this.data.length),St=this.data;for(let $t=0;$t<St.length;++$t)vt[$t]=St[$t]<Ze?1:0;return new h("bool",vt,this.dims)}clamp_(Ze,vt){let St=this.data;for(let $t=0;$t<St.length;++$t)St[$t]=Math.min(Math.max(St[$t],Ze),vt);return this}clamp(Ze,vt){return this.clone().clamp_(Ze,vt)}round_(){let Ze=this.data;for(let vt=0;vt<Ze.length;++vt)Ze[vt]=Math.round(Ze[vt]);return this}round(){return this.clone().round_()}mean(Ze=null,vt=!1){return bt(this,Ze,vt)}min(Ze=null,vt=!1){if(Ze===null){let gt=(0,n.min)(this.data)[0];return new h(this.type,[gt],[])}let[St,$t,qt]=Ue((gt,st)=>Math.min(gt,st),this,Ze,vt,1/0);return new h(St,$t,qt)}max(Ze=null,vt=!1){if(Ze===null){let gt=(0,n.max)(this.data)[0];return new h(this.type,[gt],[])}let[St,$t,qt]=Ue((gt,st)=>Math.max(gt,st),this,Ze,vt,-1/0);return new h(St,$t,qt)}argmin(Ze=null,vt=!1){if(Ze!==null)throw new Error("`dim !== null` not yet implemented.");let St=(0,n.min)(this.data)[1];return new h("int64",[BigInt(St)],[])}argmax(Ze=null,vt=!1){if(Ze!==null)throw new Error("`dim !== null` not yet implemented.");let St=(0,n.max)(this.data)[1];return new h("int64",[BigInt(St)],[])}to(Ze){if(this.type===Ze)return this;if(!u.hasOwnProperty(Ze))throw new Error(`Unsupported type: ${Ze}`);let vt,St=["int64","uint64"].includes(this.type),$t=["int64","uint64"].includes(Ze);return St&&!$t?vt=Number:!St&&$t&&(vt=BigInt),new h(Ze,u[Ze].from(this.data,vt),this.dims)}}function p(at,Ze){let vt=at.length,St=Ze.reduce((qt,gt)=>qt*gt);if(vt!==St)throw Error(`cannot reshape array of size ${vt} into shape (${Ze})`);let $t=at;for(let qt=Ze.length-1;qt>=0;qt--)$t=$t.reduce((gt,st)=>{let hr=gt[gt.length-1];return hr.length<Ze[qt]?hr.push(st):gt.push([st]),gt},[[]]);return $t[0]}function y(at,Ze){let[vt,St]=(0,n.permute_data)(at.data,at.dims,Ze);return new h(at.type,vt,St)}function k(at,[Ze,vt],St="bilinear",$t=!1){let qt=at.dims.at(-3)??1,gt=at.dims.at(-2),st=at.dims.at(-1),hr=(0,n.interpolate_data)(at.data,[qt,gt,st],[Ze,vt],St,$t);return new h(at.type,hr,[qt,Ze,vt])}function G(St){return ot(this,arguments,function*(at,{size:Ze=null,mode:vt="bilinear"}={}){if(at.dims.length!==4)throw new Error("`interpolate_4d` currently only supports 4D input.");if(!Ze)throw new Error("`interpolate_4d` requires a `size` argument.");let $t;if(Ze.length===2)$t=[...at.dims.slice(0,2),...Ze];else if(Ze.length===3)$t=[at.dims[0],...Ze];else if(Ze.length===4)$t=Ze;else throw new Error("`size` must be of length 2, 3, or 4.");let qt;if(vt==="nearest")qt=yield c.TensorOpRegistry.nearest_interpolate_4d;else if(vt==="bilinear")qt=yield c.TensorOpRegistry.bilinear_interpolate_4d;else if(vt==="bicubic")qt=yield c.TensorOpRegistry.bicubic_interpolate_4d;else throw new Error(`Unsupported mode: ${vt}`);let gt=new h("int64",new BigInt64Array($t.map(BigInt)),[$t.length]);return yield qt({x:at,s:gt})})}function $(at,Ze){return ot(this,null,function*(){return yield(yield c.TensorOpRegistry.matmul)({a:at,b:Ze})})}function Me(at,Ze){return ot(this,null,function*(){return yield(yield c.TensorOpRegistry.rfft)({x:at,a:Ze})})}function Re(at,Ze){return ot(this,null,function*(){let vt=yield c.TensorOpRegistry.top_k;return Ze==null?Ze=at.dims.at(-1):Ze=Math.min(Ze,at.dims.at(-1)),yield vt({x:at,k:new h("int64",[BigInt(Ze)],[1])})})}let Ke=at=>new h("int64",at,[at.length]);function He(at,Ze,vt,St,$t){return ot(this,null,function*(){return yield(yield c.TensorOpRegistry.slice)({x:at,s:Ke(Ze),e:Ke(vt),a:Ke(St),t:Ke($t??new Array(St.length).fill(1))})})}function Ie(at,Ze){let vt=at.data,St=Ze.data,$t=[at.dims[0],at.dims[2]],qt=new vt.constructor($t[0]*$t[1]),[gt,st,hr]=at.dims,Ht=0;for(let xt=0;xt<gt;++xt){let Ut=xt*hr*st;for(let rr=0;rr<hr;++rr){let nr=0,cr=0,mr=xt*st,Cr=Ut+rr;for(let dr=0;dr<st;++dr){let Ar=Number(St[mr+dr]);cr+=Ar,nr+=vt[Cr+dr*hr]*Ar}let Tr=nr/cr;qt[Ht++]=Tr}}return new h(at.type,qt,$t)}function Pe(at,Ze,{eps:vt=1e-5}={}){if(at.dims.length!==2)throw new Error("`layer_norm` currently only supports 2D input.");let[St,$t]=at.dims;if(Ze.length!==1&&Ze[0]!==$t)throw new Error("`normalized_shape` must be a 1D array with shape `[input.dims[1]]`.");let[qt,gt]=tt(at,1,0,!0),st=qt.data,hr=gt.data,Ht=at.data,xt=new Ht.constructor(Ht.length);for(let Ut=0;Ut<St;++Ut){let rr=Ut*$t;for(let nr=0;nr<$t;++nr){let cr=rr+nr;xt[cr]=(Ht[cr]-hr[Ut])/(st[Ut]+vt)}}return new h(at.type,xt,at.dims)}function Xe(at,Ze){return at=at.slice(),Ze===null?at=at.filter(vt=>vt!==1):typeof Ze=="number"?at[Ze]===1&&at.splice(Ze,1):Array.isArray(Ze)&&(at=at.filter((vt,St)=>vt!==1||!Ze.includes(St))),at}function Ne(at,Ze){return Ze=Ge(Ze,at.length+1),at=at.slice(),at.splice(Ze,0,1),at}function Ge(at,Ze,vt=null,St=!0){if(St&&(at<-Ze||at>=Ze))throw new Error(`IndexError: index ${at} is out of bounds for dimension${vt===null?"":" "+vt} with size ${Ze}`);return at<0&&(at=(at%Ze+Ze)%Ze),at}function Ve(at,Ze=0){Ze=Ge(Ze,at[0].dims.length);let vt=at[0].dims.slice();vt[Ze]=at.reduce((gt,st)=>gt+st.dims[Ze],0);let St=vt.reduce((gt,st)=>gt*st,1),$t=new at[0].data.constructor(St),qt=at[0].type;if(Ze===0){let gt=0;for(let st of at){let hr=st.data;$t.set(hr,gt),gt+=hr.length}}else{let gt=0;for(let st=0;st<at.length;++st){let{data:hr,dims:Ht}=at[st];for(let xt=0;xt<hr.length;++xt){let Ut=0;for(let rr=Ht.length-1,nr=xt,cr=1;rr>=0;--rr){let mr=Ht[rr],Cr=nr%mr;rr===Ze&&(Cr+=gt),Ut+=Cr*cr,cr*=vt[rr],nr=Math.floor(nr/mr)}$t[Ut]=hr[xt]}gt+=Ht[Ze]}}return new h(qt,$t,vt)}function Oe(at,Ze=0){return Ve(at.map(vt=>vt.unsqueeze(Ze)),Ze)}function Ue(at,Ze,vt=null,St=!1,$t=null){let qt=Ze.data,gt=Ze.dims;vt=Ge(vt,gt.length);let st=gt.slice();st[vt]=1;let hr=new qt.constructor(qt.length/gt[vt]);$t!==null&&hr.fill($t);for(let Ht=0;Ht<qt.length;++Ht){let xt=0;for(let Ut=gt.length-1,rr=Ht,nr=1;Ut>=0;--Ut){let cr=gt[Ut];if(Ut!==vt){let mr=rr%cr;xt+=mr*nr,nr*=st[Ut]}rr=Math.floor(rr/cr)}hr[xt]=at(hr[xt],qt[Ht],Ht,xt)}return St||st.splice(vt,1),[Ze.type,hr,st]}function tt(at,Ze=null,vt=1,St=!1){let $t=at.data,qt=at.dims;if(Ze===null){let nr=$t.reduce((Tr,dr)=>Tr+dr,0)/$t.length,cr=Math.sqrt($t.reduce((Tr,dr)=>Tr+(dr-nr)**2,0)/($t.length-vt)),mr=new h(at.type,[nr],[]);return[new h(at.type,[cr],[]),mr]}Ze=Ge(Ze,qt.length);let gt=bt(at,Ze,St),st=gt.data,[hr,Ht,xt]=Ue((rr,nr,cr,mr)=>rr+(nr-st[mr])**2,at,Ze,St);for(let rr=0;rr<Ht.length;++rr)Ht[rr]=Math.sqrt(Ht[rr]/(qt[Ze]-vt));return[new h(hr,Ht,xt),gt]}function bt(at,Ze=null,vt=!1){let St=at.dims,$t=at.data;if(Ze===null){let hr=$t.reduce((Ht,xt)=>Ht+xt,0);return new h(at.type,[hr/$t.length],[])}Ze=Ge(Ze,St.length);let[qt,gt,st]=Ue((hr,Ht)=>hr+Ht,at,Ze,vt);if(St[Ze]!==1)for(let hr=0;hr<gt.length;++hr)gt[hr]/=St[Ze];return new h(qt,gt,st)}function lt(at){let Ze=new Array(at.length);for(let vt=at.length-1,St=1;vt>=0;--vt)Ze[vt]=St,St*=at[vt];return Ze}function mt(at,Ze,vt,St){let $t=at.reduce((qt,gt)=>qt*gt,1);return new h(vt,new St($t).fill(Ze),at)}function ut(at,Ze){let vt,St;if(typeof Ze=="number")vt="float32",St=Float32Array;else if(typeof Ze=="bigint")vt="int64",St=BigInt64Array;else if(typeof Ze=="boolean")vt="bool",St=Uint8Array;else throw new Error(`Unsupported data type: ${typeof Ze}`);return mt(at,Ze,vt,St)}function ht(at,Ze){return ut(at.dims,Ze)}function Ct(at){return mt(at,1n,"int64",BigInt64Array)}function It(at){return Ct(at.dims)}function Ft(at){return mt(at,0n,"int64",BigInt64Array)}function At(at){return Ft(at.dims)}function Dt(at){let Ze=at.reduce((vt,St)=>vt*St,1);return new h("float32",Float32Array.from({length:Ze},()=>Math.random()),at)}function Rt(at,Ze){if(at.dims.length!==2)throw new Error("The tensor must have 2 dimensions");if(at.dims.at(-1)%8!==0)throw new Error("The last dimension of the tensor must be a multiple of 8");if(!["binary","ubinary"].includes(Ze))throw new Error("The precision must be either 'binary' or 'ubinary'");let vt=Ze==="binary",St=vt?"int8":"uint8",$t=vt?Int8Array:Uint8Array,qt=at.data,gt=new $t(qt.length/8);for(let st=0;st<qt.length;++st){let hr=qt[st]>0?1:0,Ht=Math.floor(st/8),xt=st%8;gt[Ht]|=hr<<7-xt,vt&&xt===0&&(gt[Ht]-=128)}return new h(St,gt,[at.dims[0],at.dims[1]/8])}}},V5={};function cn(r){var o=V5[r];if(o!==void 0)return o.exports;var e=V5[r]={exports:{}};return U5[r](e,e.exports,cn),e.exports}cn.m=U5;(()=>{var r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o;cn.t=function(e,n){if(n&1&&(e=this(e)),n&8||typeof e=="object"&&e&&(n&4&&e.__esModule||n&16&&typeof e.then=="function"))return e;var s=Object.create(null);cn.r(s);var c={};o=o||[null,r({}),r([]),r(r)];for(var u=n&2&&e;typeof u=="object"&&!~o.indexOf(u);u=r(u))Object.getOwnPropertyNames(u).forEach(h=>c[h]=()=>e[h]);return c.default=()=>e,cn.d(s,c),s}})();cn.d=(r,o)=>{for(var e in o)cn.o(o,e)&&!cn.o(r,e)&&Object.defineProperty(r,e,{enumerable:!0,get:o[e]})};cn.o=(r,o)=>Object.prototype.hasOwnProperty.call(r,o);cn.r=r=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};(()=>{var r;if(typeof import.meta.url=="string"&&(r=import.meta.url),!r)throw new Error("Automatic publicPath is not supported in this browser");r=r.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),cn.p=r})();(()=>{cn.b=new URL(import.meta.url);var r={transformers:0}})();var _e={};(()=>{cn.r(_e),cn.d(_e,{ASTFeatureExtractor:()=>k.ASTFeatureExtractor,ASTForAudioClassification:()=>e.ASTForAudioClassification,ASTModel:()=>e.ASTModel,ASTPreTrainedModel:()=>e.ASTPreTrainedModel,AlbertForMaskedLM:()=>e.AlbertForMaskedLM,AlbertForQuestionAnswering:()=>e.AlbertForQuestionAnswering,AlbertForSequenceClassification:()=>e.AlbertForSequenceClassification,AlbertModel:()=>e.AlbertModel,AlbertPreTrainedModel:()=>e.AlbertPreTrainedModel,AlbertTokenizer:()=>n.AlbertTokenizer,AudioClassificationPipeline:()=>o.AudioClassificationPipeline,AutoConfig:()=>s.AutoConfig,AutoFeatureExtractor:()=>G.AutoFeatureExtractor,AutoImageProcessor:()=>Re.AutoImageProcessor,AutoModel:()=>e.AutoModel,AutoModelForAudioClassification:()=>e.AutoModelForAudioClassification,AutoModelForAudioFrameClassification:()=>e.AutoModelForAudioFrameClassification,AutoModelForCTC:()=>e.AutoModelForCTC,AutoModelForCausalLM:()=>e.AutoModelForCausalLM,AutoModelForDepthEstimation:()=>e.AutoModelForDepthEstimation,AutoModelForDocumentQuestionAnswering:()=>e.AutoModelForDocumentQuestionAnswering,AutoModelForImageClassification:()=>e.AutoModelForImageClassification,AutoModelForImageFeatureExtraction:()=>e.AutoModelForImageFeatureExtraction,AutoModelForImageMatting:()=>e.AutoModelForImageMatting,AutoModelForImageSegmentation:()=>e.AutoModelForImageSegmentation,AutoModelForImageToImage:()=>e.AutoModelForImageToImage,AutoModelForMaskGeneration:()=>e.AutoModelForMaskGeneration,AutoModelForMaskedLM:()=>e.AutoModelForMaskedLM,AutoModelForNormalEstimation:()=>e.AutoModelForNormalEstimation,AutoModelForObjectDetection:()=>e.AutoModelForObjectDetection,AutoModelForPoseEstimation:()=>e.AutoModelForPoseEstimation,AutoModelForQuestionAnswering:()=>e.AutoModelForQuestionAnswering,AutoModelForSemanticSegmentation:()=>e.AutoModelForSemanticSegmentation,AutoModelForSeq2SeqLM:()=>e.AutoModelForSeq2SeqLM,AutoModelForSequenceClassification:()=>e.AutoModelForSequenceClassification,AutoModelForSpeechSeq2Seq:()=>e.AutoModelForSpeechSeq2Seq,AutoModelForTextToSpectrogram:()=>e.AutoModelForTextToSpectrogram,AutoModelForTextToWaveform:()=>e.AutoModelForTextToWaveform,AutoModelForTokenClassification:()=>e.AutoModelForTokenClassification,AutoModelForUniversalSegmentation:()=>e.AutoModelForUniversalSegmentation,AutoModelForVision2Seq:()=>e.AutoModelForVision2Seq,AutoModelForXVector:()=>e.AutoModelForXVector,AutoModelForZeroShotObjectDetection:()=>e.AutoModelForZeroShotObjectDetection,AutoProcessor:()=>Ie.AutoProcessor,AutoTokenizer:()=>n.AutoTokenizer,AutomaticSpeechRecognitionPipeline:()=>o.AutomaticSpeechRecognitionPipeline,BartForConditionalGeneration:()=>e.BartForConditionalGeneration,BartForSequenceClassification:()=>e.BartForSequenceClassification,BartModel:()=>e.BartModel,BartPretrainedModel:()=>e.BartPretrainedModel,BartTokenizer:()=>n.BartTokenizer,BaseModelOutput:()=>e.BaseModelOutput,BaseStreamer:()=>Pe.BaseStreamer,BeitFeatureExtractor:()=>Me.BeitFeatureExtractor,BeitForImageClassification:()=>e.BeitForImageClassification,BeitModel:()=>e.BeitModel,BeitPreTrainedModel:()=>e.BeitPreTrainedModel,BertForMaskedLM:()=>e.BertForMaskedLM,BertForQuestionAnswering:()=>e.BertForQuestionAnswering,BertForSequenceClassification:()=>e.BertForSequenceClassification,BertForTokenClassification:()=>e.BertForTokenClassification,BertModel:()=>e.BertModel,BertPreTrainedModel:()=>e.BertPreTrainedModel,BertTokenizer:()=>n.BertTokenizer,BitImageProcessor:()=>Me.BitImageProcessor,BlenderbotForConditionalGeneration:()=>e.BlenderbotForConditionalGeneration,BlenderbotModel:()=>e.BlenderbotModel,BlenderbotPreTrainedModel:()=>e.BlenderbotPreTrainedModel,BlenderbotSmallForConditionalGeneration:()=>e.BlenderbotSmallForConditionalGeneration,BlenderbotSmallModel:()=>e.BlenderbotSmallModel,BlenderbotSmallPreTrainedModel:()=>e.BlenderbotSmallPreTrainedModel,BlenderbotSmallTokenizer:()=>n.BlenderbotSmallTokenizer,BlenderbotTokenizer:()=>n.BlenderbotTokenizer,BloomForCausalLM:()=>e.BloomForCausalLM,BloomModel:()=>e.BloomModel,BloomPreTrainedModel:()=>e.BloomPreTrainedModel,BloomTokenizer:()=>n.BloomTokenizer,CLIPFeatureExtractor:()=>Me.CLIPFeatureExtractor,CLIPImageProcessor:()=>Me.CLIPImageProcessor,CLIPModel:()=>e.CLIPModel,CLIPPreTrainedModel:()=>e.CLIPPreTrainedModel,CLIPSegForImageSegmentation:()=>e.CLIPSegForImageSegmentation,CLIPSegModel:()=>e.CLIPSegModel,CLIPSegPreTrainedModel:()=>e.CLIPSegPreTrainedModel,CLIPTextModel:()=>e.CLIPTextModel,CLIPTextModelWithProjection:()=>e.CLIPTextModelWithProjection,CLIPTokenizer:()=>n.CLIPTokenizer,CLIPVisionModel:()=>e.CLIPVisionModel,CLIPVisionModelWithProjection:()=>e.CLIPVisionModelWithProjection,CamembertForMaskedLM:()=>e.CamembertForMaskedLM,CamembertForQuestionAnswering:()=>e.CamembertForQuestionAnswering,CamembertForSequenceClassification:()=>e.CamembertForSequenceClassification,CamembertForTokenClassification:()=>e.CamembertForTokenClassification,CamembertModel:()=>e.CamembertModel,CamembertPreTrainedModel:()=>e.CamembertPreTrainedModel,CamembertTokenizer:()=>n.CamembertTokenizer,CausalLMOutput:()=>e.CausalLMOutput,CausalLMOutputWithPast:()=>e.CausalLMOutputWithPast,ChineseCLIPFeatureExtractor:()=>Me.ChineseCLIPFeatureExtractor,ChineseCLIPModel:()=>e.ChineseCLIPModel,ChineseCLIPPreTrainedModel:()=>e.ChineseCLIPPreTrainedModel,ClapAudioModelWithProjection:()=>e.ClapAudioModelWithProjection,ClapFeatureExtractor:()=>k.ClapFeatureExtractor,ClapModel:()=>e.ClapModel,ClapPreTrainedModel:()=>e.ClapPreTrainedModel,ClapTextModelWithProjection:()=>e.ClapTextModelWithProjection,ClassifierFreeGuidanceLogitsProcessor:()=>Ne.ClassifierFreeGuidanceLogitsProcessor,CodeGenForCausalLM:()=>e.CodeGenForCausalLM,CodeGenModel:()=>e.CodeGenModel,CodeGenPreTrainedModel:()=>e.CodeGenPreTrainedModel,CodeGenTokenizer:()=>n.CodeGenTokenizer,CodeLlamaTokenizer:()=>n.CodeLlamaTokenizer,CohereForCausalLM:()=>e.CohereForCausalLM,CohereModel:()=>e.CohereModel,CoherePreTrainedModel:()=>e.CoherePreTrainedModel,CohereTokenizer:()=>n.CohereTokenizer,ConvBertForMaskedLM:()=>e.ConvBertForMaskedLM,ConvBertForQuestionAnswering:()=>e.ConvBertForQuestionAnswering,ConvBertForSequenceClassification:()=>e.ConvBertForSequenceClassification,ConvBertForTokenClassification:()=>e.ConvBertForTokenClassification,ConvBertModel:()=>e.ConvBertModel,ConvBertPreTrainedModel:()=>e.ConvBertPreTrainedModel,ConvBertTokenizer:()=>n.ConvBertTokenizer,ConvNextFeatureExtractor:()=>Me.ConvNextFeatureExtractor,ConvNextForImageClassification:()=>e.ConvNextForImageClassification,ConvNextImageProcessor:()=>Me.ConvNextImageProcessor,ConvNextModel:()=>e.ConvNextModel,ConvNextPreTrainedModel:()=>e.ConvNextPreTrainedModel,ConvNextV2ForImageClassification:()=>e.ConvNextV2ForImageClassification,ConvNextV2Model:()=>e.ConvNextV2Model,ConvNextV2PreTrainedModel:()=>e.ConvNextV2PreTrainedModel,DPTFeatureExtractor:()=>Me.DPTFeatureExtractor,DPTForDepthEstimation:()=>e.DPTForDepthEstimation,DPTImageProcessor:()=>Me.DPTImageProcessor,DPTModel:()=>e.DPTModel,DPTPreTrainedModel:()=>e.DPTPreTrainedModel,DebertaForMaskedLM:()=>e.DebertaForMaskedLM,DebertaForQuestionAnswering:()=>e.DebertaForQuestionAnswering,DebertaForSequenceClassification:()=>e.DebertaForSequenceClassification,DebertaForTokenClassification:()=>e.DebertaForTokenClassification,DebertaModel:()=>e.DebertaModel,DebertaPreTrainedModel:()=>e.DebertaPreTrainedModel,DebertaTokenizer:()=>n.DebertaTokenizer,DebertaV2ForMaskedLM:()=>e.DebertaV2ForMaskedLM,DebertaV2ForQuestionAnswering:()=>e.DebertaV2ForQuestionAnswering,DebertaV2ForSequenceClassification:()=>e.DebertaV2ForSequenceClassification,DebertaV2ForTokenClassification:()=>e.DebertaV2ForTokenClassification,DebertaV2Model:()=>e.DebertaV2Model,DebertaV2PreTrainedModel:()=>e.DebertaV2PreTrainedModel,DebertaV2Tokenizer:()=>n.DebertaV2Tokenizer,DecisionTransformerModel:()=>e.DecisionTransformerModel,DecisionTransformerPreTrainedModel:()=>e.DecisionTransformerPreTrainedModel,DeiTFeatureExtractor:()=>Me.DeiTFeatureExtractor,DeiTForImageClassification:()=>e.DeiTForImageClassification,DeiTImageProcessor:()=>Me.DeiTImageProcessor,DeiTModel:()=>e.DeiTModel,DeiTPreTrainedModel:()=>e.DeiTPreTrainedModel,DepthAnythingForDepthEstimation:()=>e.DepthAnythingForDepthEstimation,DepthAnythingPreTrainedModel:()=>e.DepthAnythingPreTrainedModel,DepthEstimationPipeline:()=>o.DepthEstimationPipeline,DepthProForDepthEstimation:()=>e.DepthProForDepthEstimation,DepthProPreTrainedModel:()=>e.DepthProPreTrainedModel,DetrFeatureExtractor:()=>Me.DetrFeatureExtractor,DetrForObjectDetection:()=>e.DetrForObjectDetection,DetrForSegmentation:()=>e.DetrForSegmentation,DetrImageProcessor:()=>Me.DetrImageProcessor,DetrModel:()=>e.DetrModel,DetrObjectDetectionOutput:()=>e.DetrObjectDetectionOutput,DetrPreTrainedModel:()=>e.DetrPreTrainedModel,DetrSegmentationOutput:()=>e.DetrSegmentationOutput,Dinov2ForImageClassification:()=>e.Dinov2ForImageClassification,Dinov2Model:()=>e.Dinov2Model,Dinov2PreTrainedModel:()=>e.Dinov2PreTrainedModel,Dinov2WithRegistersForImageClassification:()=>e.Dinov2WithRegistersForImageClassification,Dinov2WithRegistersModel:()=>e.Dinov2WithRegistersModel,Dinov2WithRegistersPreTrainedModel:()=>e.Dinov2WithRegistersPreTrainedModel,DistilBertForMaskedLM:()=>e.DistilBertForMaskedLM,DistilBertForQuestionAnswering:()=>e.DistilBertForQuestionAnswering,DistilBertForSequenceClassification:()=>e.DistilBertForSequenceClassification,DistilBertForTokenClassification:()=>e.DistilBertForTokenClassification,DistilBertModel:()=>e.DistilBertModel,DistilBertPreTrainedModel:()=>e.DistilBertPreTrainedModel,DistilBertTokenizer:()=>n.DistilBertTokenizer,DocumentQuestionAnsweringPipeline:()=>o.DocumentQuestionAnsweringPipeline,DonutFeatureExtractor:()=>Me.DonutFeatureExtractor,DonutImageProcessor:()=>Me.DonutImageProcessor,DonutSwinModel:()=>e.DonutSwinModel,DonutSwinPreTrainedModel:()=>e.DonutSwinPreTrainedModel,EfficientNetForImageClassification:()=>e.EfficientNetForImageClassification,EfficientNetImageProcessor:()=>Me.EfficientNetImageProcessor,EfficientNetModel:()=>e.EfficientNetModel,EfficientNetPreTrainedModel:()=>e.EfficientNetPreTrainedModel,ElectraForMaskedLM:()=>e.ElectraForMaskedLM,ElectraForQuestionAnswering:()=>e.ElectraForQuestionAnswering,ElectraForSequenceClassification:()=>e.ElectraForSequenceClassification,ElectraForTokenClassification:()=>e.ElectraForTokenClassification,ElectraModel:()=>e.ElectraModel,ElectraPreTrainedModel:()=>e.ElectraPreTrainedModel,ElectraTokenizer:()=>n.ElectraTokenizer,EosTokenCriteria:()=>Xe.EosTokenCriteria,EsmForMaskedLM:()=>e.EsmForMaskedLM,EsmForSequenceClassification:()=>e.EsmForSequenceClassification,EsmForTokenClassification:()=>e.EsmForTokenClassification,EsmModel:()=>e.EsmModel,EsmPreTrainedModel:()=>e.EsmPreTrainedModel,EsmTokenizer:()=>n.EsmTokenizer,ExaoneForCausalLM:()=>e.ExaoneForCausalLM,ExaoneModel:()=>e.ExaoneModel,ExaonePreTrainedModel:()=>e.ExaonePreTrainedModel,FFT:()=>p.FFT,FalconForCausalLM:()=>e.FalconForCausalLM,FalconModel:()=>e.FalconModel,FalconPreTrainedModel:()=>e.FalconPreTrainedModel,FalconTokenizer:()=>n.FalconTokenizer,FastViTForImageClassification:()=>e.FastViTForImageClassification,FastViTModel:()=>e.FastViTModel,FastViTPreTrainedModel:()=>e.FastViTPreTrainedModel,FeatureExtractionPipeline:()=>o.FeatureExtractionPipeline,FeatureExtractor:()=>y.FeatureExtractor,FillMaskPipeline:()=>o.FillMaskPipeline,Florence2ForConditionalGeneration:()=>e.Florence2ForConditionalGeneration,Florence2PreTrainedModel:()=>e.Florence2PreTrainedModel,Florence2Processor:()=>He.Florence2Processor,ForcedBOSTokenLogitsProcessor:()=>Ne.ForcedBOSTokenLogitsProcessor,ForcedEOSTokenLogitsProcessor:()=>Ne.ForcedEOSTokenLogitsProcessor,GLPNFeatureExtractor:()=>Me.GLPNFeatureExtractor,GLPNForDepthEstimation:()=>e.GLPNForDepthEstimation,GLPNModel:()=>e.GLPNModel,GLPNPreTrainedModel:()=>e.GLPNPreTrainedModel,GPT2LMHeadModel:()=>e.GPT2LMHeadModel,GPT2Model:()=>e.GPT2Model,GPT2PreTrainedModel:()=>e.GPT2PreTrainedModel,GPT2Tokenizer:()=>n.GPT2Tokenizer,GPTBigCodeForCausalLM:()=>e.GPTBigCodeForCausalLM,GPTBigCodeModel:()=>e.GPTBigCodeModel,GPTBigCodePreTrainedModel:()=>e.GPTBigCodePreTrainedModel,GPTJForCausalLM:()=>e.GPTJForCausalLM,GPTJModel:()=>e.GPTJModel,GPTJPreTrainedModel:()=>e.GPTJPreTrainedModel,GPTNeoForCausalLM:()=>e.GPTNeoForCausalLM,GPTNeoModel:()=>e.GPTNeoModel,GPTNeoPreTrainedModel:()=>e.GPTNeoPreTrainedModel,GPTNeoXForCausalLM:()=>e.GPTNeoXForCausalLM,GPTNeoXModel:()=>e.GPTNeoXModel,GPTNeoXPreTrainedModel:()=>e.GPTNeoXPreTrainedModel,GPTNeoXTokenizer:()=>n.GPTNeoXTokenizer,Gemma2ForCausalLM:()=>e.Gemma2ForCausalLM,Gemma2Model:()=>e.Gemma2Model,Gemma2PreTrainedModel:()=>e.Gemma2PreTrainedModel,GemmaForCausalLM:()=>e.GemmaForCausalLM,GemmaModel:()=>e.GemmaModel,GemmaPreTrainedModel:()=>e.GemmaPreTrainedModel,GemmaTokenizer:()=>n.GemmaTokenizer,GlmForCausalLM:()=>e.GlmForCausalLM,GlmModel:()=>e.GlmModel,GlmPreTrainedModel:()=>e.GlmPreTrainedModel,GraniteForCausalLM:()=>e.GraniteForCausalLM,GraniteModel:()=>e.GraniteModel,GranitePreTrainedModel:()=>e.GranitePreTrainedModel,Grok1Tokenizer:()=>n.Grok1Tokenizer,GroundingDinoForObjectDetection:()=>e.GroundingDinoForObjectDetection,GroundingDinoImageProcessor:()=>Me.GroundingDinoImageProcessor,GroundingDinoPreTrainedModel:()=>e.GroundingDinoPreTrainedModel,GroundingDinoProcessor:()=>He.GroundingDinoProcessor,GroupViTModel:()=>e.GroupViTModel,GroupViTPreTrainedModel:()=>e.GroupViTPreTrainedModel,HeliumForCausalLM:()=>e.HeliumForCausalLM,HeliumModel:()=>e.HeliumModel,HeliumPreTrainedModel:()=>e.HeliumPreTrainedModel,HerbertTokenizer:()=>n.HerbertTokenizer,HieraForImageClassification:()=>e.HieraForImageClassification,HieraModel:()=>e.HieraModel,HieraPreTrainedModel:()=>e.HieraPreTrainedModel,HubertForCTC:()=>e.HubertForCTC,HubertForSequenceClassification:()=>e.HubertForSequenceClassification,HubertModel:()=>e.HubertModel,HubertPreTrainedModel:()=>e.HubertPreTrainedModel,IJepaForImageClassification:()=>e.IJepaForImageClassification,IJepaModel:()=>e.IJepaModel,IJepaPreTrainedModel:()=>e.IJepaPreTrainedModel,Idefics3ForConditionalGeneration:()=>e.Idefics3ForConditionalGeneration,Idefics3ImageProcessor:()=>Me.Idefics3ImageProcessor,Idefics3PreTrainedModel:()=>e.Idefics3PreTrainedModel,Idefics3Processor:()=>He.Idefics3Processor,ImageClassificationPipeline:()=>o.ImageClassificationPipeline,ImageFeatureExtractionPipeline:()=>o.ImageFeatureExtractionPipeline,ImageFeatureExtractor:()=>k.ImageFeatureExtractor,ImageMattingOutput:()=>e.ImageMattingOutput,ImageProcessor:()=>$.ImageProcessor,ImageSegmentationPipeline:()=>o.ImageSegmentationPipeline,ImageToImagePipeline:()=>o.ImageToImagePipeline,ImageToTextPipeline:()=>o.ImageToTextPipeline,InterruptableStoppingCriteria:()=>Xe.InterruptableStoppingCriteria,JAISLMHeadModel:()=>e.JAISLMHeadModel,JAISModel:()=>e.JAISModel,JAISPreTrainedModel:()=>e.JAISPreTrainedModel,JinaCLIPImageProcessor:()=>Me.JinaCLIPImageProcessor,JinaCLIPModel:()=>e.JinaCLIPModel,JinaCLIPPreTrainedModel:()=>e.JinaCLIPPreTrainedModel,JinaCLIPProcessor:()=>He.JinaCLIPProcessor,JinaCLIPTextModel:()=>e.JinaCLIPTextModel,JinaCLIPVisionModel:()=>e.JinaCLIPVisionModel,LlamaForCausalLM:()=>e.LlamaForCausalLM,LlamaModel:()=>e.LlamaModel,LlamaPreTrainedModel:()=>e.LlamaPreTrainedModel,LlamaTokenizer:()=>n.LlamaTokenizer,LlavaForConditionalGeneration:()=>e.LlavaForConditionalGeneration,LlavaOnevisionForConditionalGeneration:()=>e.LlavaOnevisionForConditionalGeneration,LlavaOnevisionImageProcessor:()=>Me.LlavaOnevisionImageProcessor,LlavaPreTrainedModel:()=>e.LlavaPreTrainedModel,LogitsProcessor:()=>Ne.LogitsProcessor,LogitsProcessorList:()=>Ne.LogitsProcessorList,LogitsWarper:()=>Ne.LogitsWarper,LongT5ForConditionalGeneration:()=>e.LongT5ForConditionalGeneration,LongT5Model:()=>e.LongT5Model,LongT5PreTrainedModel:()=>e.LongT5PreTrainedModel,M2M100ForConditionalGeneration:()=>e.M2M100ForConditionalGeneration,M2M100Model:()=>e.M2M100Model,M2M100PreTrainedModel:()=>e.M2M100PreTrainedModel,M2M100Tokenizer:()=>n.M2M100Tokenizer,MBart50Tokenizer:()=>n.MBart50Tokenizer,MBartForCausalLM:()=>e.MBartForCausalLM,MBartForConditionalGeneration:()=>e.MBartForConditionalGeneration,MBartForSequenceClassification:()=>e.MBartForSequenceClassification,MBartModel:()=>e.MBartModel,MBartPreTrainedModel:()=>e.MBartPreTrainedModel,MBartTokenizer:()=>n.MBartTokenizer,MPNetForMaskedLM:()=>e.MPNetForMaskedLM,MPNetForQuestionAnswering:()=>e.MPNetForQuestionAnswering,MPNetForSequenceClassification:()=>e.MPNetForSequenceClassification,MPNetForTokenClassification:()=>e.MPNetForTokenClassification,MPNetModel:()=>e.MPNetModel,MPNetPreTrainedModel:()=>e.MPNetPreTrainedModel,MPNetTokenizer:()=>n.MPNetTokenizer,MT5ForConditionalGeneration:()=>e.MT5ForConditionalGeneration,MT5Model:()=>e.MT5Model,MT5PreTrainedModel:()=>e.MT5PreTrainedModel,MarianMTModel:()=>e.MarianMTModel,MarianModel:()=>e.MarianModel,MarianPreTrainedModel:()=>e.MarianPreTrainedModel,MarianTokenizer:()=>n.MarianTokenizer,Mask2FormerImageProcessor:()=>Me.Mask2FormerImageProcessor,MaskFormerFeatureExtractor:()=>Me.MaskFormerFeatureExtractor,MaskFormerForInstanceSegmentation:()=>e.MaskFormerForInstanceSegmentation,MaskFormerImageProcessor:()=>Me.MaskFormerImageProcessor,MaskFormerModel:()=>e.MaskFormerModel,MaskFormerPreTrainedModel:()=>e.MaskFormerPreTrainedModel,MaskedLMOutput:()=>e.MaskedLMOutput,MaxLengthCriteria:()=>Xe.MaxLengthCriteria,MgpstrForSceneTextRecognition:()=>e.MgpstrForSceneTextRecognition,MgpstrModelOutput:()=>e.MgpstrModelOutput,MgpstrPreTrainedModel:()=>e.MgpstrPreTrainedModel,MgpstrProcessor:()=>He.MgpstrProcessor,MgpstrTokenizer:()=>n.MgpstrTokenizer,MinLengthLogitsProcessor:()=>Ne.MinLengthLogitsProcessor,MinNewTokensLengthLogitsProcessor:()=>Ne.MinNewTokensLengthLogitsProcessor,MistralForCausalLM:()=>e.MistralForCausalLM,MistralModel:()=>e.MistralModel,MistralPreTrainedModel:()=>e.MistralPreTrainedModel,MobileBertForMaskedLM:()=>e.MobileBertForMaskedLM,MobileBertForQuestionAnswering:()=>e.MobileBertForQuestionAnswering,MobileBertForSequenceClassification:()=>e.MobileBertForSequenceClassification,MobileBertModel:()=>e.MobileBertModel,MobileBertPreTrainedModel:()=>e.MobileBertPreTrainedModel,MobileBertTokenizer:()=>n.MobileBertTokenizer,MobileLLMForCausalLM:()=>e.MobileLLMForCausalLM,MobileLLMModel:()=>e.MobileLLMModel,MobileLLMPreTrainedModel:()=>e.MobileLLMPreTrainedModel,MobileNetV1FeatureExtractor:()=>Me.MobileNetV1FeatureExtractor,MobileNetV1ForImageClassification:()=>e.MobileNetV1ForImageClassification,MobileNetV1ImageProcessor:()=>Me.MobileNetV1ImageProcessor,MobileNetV1Model:()=>e.MobileNetV1Model,MobileNetV1PreTrainedModel:()=>e.MobileNetV1PreTrainedModel,MobileNetV2FeatureExtractor:()=>Me.MobileNetV2FeatureExtractor,MobileNetV2ForImageClassification:()=>e.MobileNetV2ForImageClassification,MobileNetV2ImageProcessor:()=>Me.MobileNetV2ImageProcessor,MobileNetV2Model:()=>e.MobileNetV2Model,MobileNetV2PreTrainedModel:()=>e.MobileNetV2PreTrainedModel,MobileNetV3FeatureExtractor:()=>Me.MobileNetV3FeatureExtractor,MobileNetV3ForImageClassification:()=>e.MobileNetV3ForImageClassification,MobileNetV3ImageProcessor:()=>Me.MobileNetV3ImageProcessor,MobileNetV3Model:()=>e.MobileNetV3Model,MobileNetV3PreTrainedModel:()=>e.MobileNetV3PreTrainedModel,MobileNetV4FeatureExtractor:()=>Me.MobileNetV4FeatureExtractor,MobileNetV4ForImageClassification:()=>e.MobileNetV4ForImageClassification,MobileNetV4ImageProcessor:()=>Me.MobileNetV4ImageProcessor,MobileNetV4Model:()=>e.MobileNetV4Model,MobileNetV4PreTrainedModel:()=>e.MobileNetV4PreTrainedModel,MobileViTFeatureExtractor:()=>Me.MobileViTFeatureExtractor,MobileViTForImageClassification:()=>e.MobileViTForImageClassification,MobileViTImageProcessor:()=>Me.MobileViTImageProcessor,MobileViTModel:()=>e.MobileViTModel,MobileViTPreTrainedModel:()=>e.MobileViTPreTrainedModel,MobileViTV2ForImageClassification:()=>e.MobileViTV2ForImageClassification,MobileViTV2Model:()=>e.MobileViTV2Model,MobileViTV2PreTrainedModel:()=>e.MobileViTV2PreTrainedModel,ModelOutput:()=>e.ModelOutput,ModernBertForMaskedLM:()=>e.ModernBertForMaskedLM,ModernBertForSequenceClassification:()=>e.ModernBertForSequenceClassification,ModernBertForTokenClassification:()=>e.ModernBertForTokenClassification,ModernBertModel:()=>e.ModernBertModel,ModernBertPreTrainedModel:()=>e.ModernBertPreTrainedModel,Moondream1ForConditionalGeneration:()=>e.Moondream1ForConditionalGeneration,MoonshineFeatureExtractor:()=>k.MoonshineFeatureExtractor,MoonshineForConditionalGeneration:()=>e.MoonshineForConditionalGeneration,MoonshineModel:()=>e.MoonshineModel,MoonshinePreTrainedModel:()=>e.MoonshinePreTrainedModel,MoonshineProcessor:()=>He.MoonshineProcessor,MptForCausalLM:()=>e.MptForCausalLM,MptModel:()=>e.MptModel,MptPreTrainedModel:()=>e.MptPreTrainedModel,MultiModalityCausalLM:()=>e.MultiModalityCausalLM,MultiModalityPreTrainedModel:()=>e.MultiModalityPreTrainedModel,MusicgenForCausalLM:()=>e.MusicgenForCausalLM,MusicgenForConditionalGeneration:()=>e.MusicgenForConditionalGeneration,MusicgenModel:()=>e.MusicgenModel,MusicgenPreTrainedModel:()=>e.MusicgenPreTrainedModel,NllbTokenizer:()=>n.NllbTokenizer,NoBadWordsLogitsProcessor:()=>Ne.NoBadWordsLogitsProcessor,NoRepeatNGramLogitsProcessor:()=>Ne.NoRepeatNGramLogitsProcessor,NomicBertModel:()=>e.NomicBertModel,NomicBertPreTrainedModel:()=>e.NomicBertPreTrainedModel,NougatImageProcessor:()=>Me.NougatImageProcessor,NougatTokenizer:()=>n.NougatTokenizer,OPTForCausalLM:()=>e.OPTForCausalLM,OPTModel:()=>e.OPTModel,OPTPreTrainedModel:()=>e.OPTPreTrainedModel,ObjectDetectionPipeline:()=>o.ObjectDetectionPipeline,Olmo2ForCausalLM:()=>e.Olmo2ForCausalLM,Olmo2Model:()=>e.Olmo2Model,Olmo2PreTrainedModel:()=>e.Olmo2PreTrainedModel,OlmoForCausalLM:()=>e.OlmoForCausalLM,OlmoModel:()=>e.OlmoModel,OlmoPreTrainedModel:()=>e.OlmoPreTrainedModel,OpenELMForCausalLM:()=>e.OpenELMForCausalLM,OpenELMModel:()=>e.OpenELMModel,OpenELMPreTrainedModel:()=>e.OpenELMPreTrainedModel,OwlViTFeatureExtractor:()=>Me.OwlViTFeatureExtractor,OwlViTForObjectDetection:()=>e.OwlViTForObjectDetection,OwlViTImageProcessor:()=>Me.OwlViTImageProcessor,OwlViTModel:()=>e.OwlViTModel,OwlViTPreTrainedModel:()=>e.OwlViTPreTrainedModel,OwlViTProcessor:()=>He.OwlViTProcessor,Owlv2ForObjectDetection:()=>e.Owlv2ForObjectDetection,Owlv2ImageProcessor:()=>Me.Owlv2ImageProcessor,Owlv2Model:()=>e.Owlv2Model,Owlv2PreTrainedModel:()=>e.Owlv2PreTrainedModel,PaliGemmaForConditionalGeneration:()=>e.PaliGemmaForConditionalGeneration,PaliGemmaPreTrainedModel:()=>e.PaliGemmaPreTrainedModel,PaliGemmaProcessor:()=>He.PaliGemmaProcessor,PatchTSMixerForPrediction:()=>e.PatchTSMixerForPrediction,PatchTSMixerModel:()=>e.PatchTSMixerModel,PatchTSMixerPreTrainedModel:()=>e.PatchTSMixerPreTrainedModel,PatchTSTForPrediction:()=>e.PatchTSTForPrediction,PatchTSTModel:()=>e.PatchTSTModel,PatchTSTPreTrainedModel:()=>e.PatchTSTPreTrainedModel,Phi3ForCausalLM:()=>e.Phi3ForCausalLM,Phi3Model:()=>e.Phi3Model,Phi3PreTrainedModel:()=>e.Phi3PreTrainedModel,Phi3VForCausalLM:()=>e.Phi3VForCausalLM,Phi3VImageProcessor:()=>Me.Phi3VImageProcessor,Phi3VPreTrainedModel:()=>e.Phi3VPreTrainedModel,Phi3VProcessor:()=>He.Phi3VProcessor,PhiForCausalLM:()=>e.PhiForCausalLM,PhiModel:()=>e.PhiModel,PhiPreTrainedModel:()=>e.PhiPreTrainedModel,Pipeline:()=>o.Pipeline,PreTrainedModel:()=>e.PreTrainedModel,PreTrainedTokenizer:()=>n.PreTrainedTokenizer,PretrainedConfig:()=>s.PretrainedConfig,PretrainedMixin:()=>e.PretrainedMixin,Processor:()=>Ke.Processor,PvtForImageClassification:()=>e.PvtForImageClassification,PvtImageProcessor:()=>Me.PvtImageProcessor,PvtModel:()=>e.PvtModel,PvtPreTrainedModel:()=>e.PvtPreTrainedModel,PyAnnoteFeatureExtractor:()=>k.PyAnnoteFeatureExtractor,PyAnnoteForAudioFrameClassification:()=>e.PyAnnoteForAudioFrameClassification,PyAnnoteModel:()=>e.PyAnnoteModel,PyAnnotePreTrainedModel:()=>e.PyAnnotePreTrainedModel,PyAnnoteProcessor:()=>He.PyAnnoteProcessor,QuestionAnsweringModelOutput:()=>e.QuestionAnsweringModelOutput,QuestionAnsweringPipeline:()=>o.QuestionAnsweringPipeline,Qwen2ForCausalLM:()=>e.Qwen2ForCausalLM,Qwen2Model:()=>e.Qwen2Model,Qwen2PreTrainedModel:()=>e.Qwen2PreTrainedModel,Qwen2Tokenizer:()=>n.Qwen2Tokenizer,Qwen2VLForConditionalGeneration:()=>e.Qwen2VLForConditionalGeneration,Qwen2VLImageProcessor:()=>Me.Qwen2VLImageProcessor,Qwen2VLPreTrainedModel:()=>e.Qwen2VLPreTrainedModel,Qwen2VLProcessor:()=>He.Qwen2VLProcessor,RTDetrForObjectDetection:()=>e.RTDetrForObjectDetection,RTDetrImageProcessor:()=>Me.RTDetrImageProcessor,RTDetrModel:()=>e.RTDetrModel,RTDetrObjectDetectionOutput:()=>e.RTDetrObjectDetectionOutput,RTDetrPreTrainedModel:()=>e.RTDetrPreTrainedModel,RawAudio:()=>c.RawAudio,RawImage:()=>u.RawImage,RepetitionPenaltyLogitsProcessor:()=>Ne.RepetitionPenaltyLogitsProcessor,ResNetForImageClassification:()=>e.ResNetForImageClassification,ResNetModel:()=>e.ResNetModel,ResNetPreTrainedModel:()=>e.ResNetPreTrainedModel,RoFormerForMaskedLM:()=>e.RoFormerForMaskedLM,RoFormerForQuestionAnswering:()=>e.RoFormerForQuestionAnswering,RoFormerForSequenceClassification:()=>e.RoFormerForSequenceClassification,RoFormerForTokenClassification:()=>e.RoFormerForTokenClassification,RoFormerModel:()=>e.RoFormerModel,RoFormerPreTrainedModel:()=>e.RoFormerPreTrainedModel,RoFormerTokenizer:()=>n.RoFormerTokenizer,RobertaForMaskedLM:()=>e.RobertaForMaskedLM,RobertaForQuestionAnswering:()=>e.RobertaForQuestionAnswering,RobertaForSequenceClassification:()=>e.RobertaForSequenceClassification,RobertaForTokenClassification:()=>e.RobertaForTokenClassification,RobertaModel:()=>e.RobertaModel,RobertaPreTrainedModel:()=>e.RobertaPreTrainedModel,RobertaTokenizer:()=>n.RobertaTokenizer,SamImageProcessor:()=>Me.SamImageProcessor,SamImageSegmentationOutput:()=>e.SamImageSegmentationOutput,SamModel:()=>e.SamModel,SamPreTrainedModel:()=>e.SamPreTrainedModel,SamProcessor:()=>He.SamProcessor,SapiensForDepthEstimation:()=>e.SapiensForDepthEstimation,SapiensForNormalEstimation:()=>e.SapiensForNormalEstimation,SapiensForSemanticSegmentation:()=>e.SapiensForSemanticSegmentation,SapiensPreTrainedModel:()=>e.SapiensPreTrainedModel,SeamlessM4TFeatureExtractor:()=>k.SeamlessM4TFeatureExtractor,SegformerFeatureExtractor:()=>Me.SegformerFeatureExtractor,SegformerForImageClassification:()=>e.SegformerForImageClassification,SegformerForSemanticSegmentation:()=>e.SegformerForSemanticSegmentation,SegformerImageProcessor:()=>Me.SegformerImageProcessor,SegformerModel:()=>e.SegformerModel,SegformerPreTrainedModel:()=>e.SegformerPreTrainedModel,Seq2SeqLMOutput:()=>e.Seq2SeqLMOutput,SequenceClassifierOutput:()=>e.SequenceClassifierOutput,SiglipImageProcessor:()=>Me.SiglipImageProcessor,SiglipModel:()=>e.SiglipModel,SiglipPreTrainedModel:()=>e.SiglipPreTrainedModel,SiglipTextModel:()=>e.SiglipTextModel,SiglipTokenizer:()=>n.SiglipTokenizer,SiglipVisionModel:()=>e.SiglipVisionModel,SpeechT5FeatureExtractor:()=>k.SpeechT5FeatureExtractor,SpeechT5ForSpeechToText:()=>e.SpeechT5ForSpeechToText,SpeechT5ForTextToSpeech:()=>e.SpeechT5ForTextToSpeech,SpeechT5HifiGan:()=>e.SpeechT5HifiGan,SpeechT5Model:()=>e.SpeechT5Model,SpeechT5PreTrainedModel:()=>e.SpeechT5PreTrainedModel,SpeechT5Processor:()=>He.SpeechT5Processor,SpeechT5Tokenizer:()=>n.SpeechT5Tokenizer,SqueezeBertForMaskedLM:()=>e.SqueezeBertForMaskedLM,SqueezeBertForQuestionAnswering:()=>e.SqueezeBertForQuestionAnswering,SqueezeBertForSequenceClassification:()=>e.SqueezeBertForSequenceClassification,SqueezeBertModel:()=>e.SqueezeBertModel,SqueezeBertPreTrainedModel:()=>e.SqueezeBertPreTrainedModel,SqueezeBertTokenizer:()=>n.SqueezeBertTokenizer,StableLmForCausalLM:()=>e.StableLmForCausalLM,StableLmModel:()=>e.StableLmModel,StableLmPreTrainedModel:()=>e.StableLmPreTrainedModel,Starcoder2ForCausalLM:()=>e.Starcoder2ForCausalLM,Starcoder2Model:()=>e.Starcoder2Model,Starcoder2PreTrainedModel:()=>e.Starcoder2PreTrainedModel,StoppingCriteria:()=>Xe.StoppingCriteria,StoppingCriteriaList:()=>Xe.StoppingCriteriaList,StyleTextToSpeech2Model:()=>e.StyleTextToSpeech2Model,StyleTextToSpeech2PreTrainedModel:()=>e.StyleTextToSpeech2PreTrainedModel,SummarizationPipeline:()=>o.SummarizationPipeline,SuppressTokensAtBeginLogitsProcessor:()=>Ne.SuppressTokensAtBeginLogitsProcessor,Swin2SRForImageSuperResolution:()=>e.Swin2SRForImageSuperResolution,Swin2SRImageProcessor:()=>Me.Swin2SRImageProcessor,Swin2SRModel:()=>e.Swin2SRModel,Swin2SRPreTrainedModel:()=>e.Swin2SRPreTrainedModel,SwinForImageClassification:()=>e.SwinForImageClassification,SwinModel:()=>e.SwinModel,SwinPreTrainedModel:()=>e.SwinPreTrainedModel,T5ForConditionalGeneration:()=>e.T5ForConditionalGeneration,T5Model:()=>e.T5Model,T5PreTrainedModel:()=>e.T5PreTrainedModel,T5Tokenizer:()=>n.T5Tokenizer,TableTransformerForObjectDetection:()=>e.TableTransformerForObjectDetection,TableTransformerModel:()=>e.TableTransformerModel,TableTransformerObjectDetectionOutput:()=>e.TableTransformerObjectDetectionOutput,TableTransformerPreTrainedModel:()=>e.TableTransformerPreTrainedModel,TemperatureLogitsWarper:()=>Ne.TemperatureLogitsWarper,Tensor:()=>h.Tensor,Text2TextGenerationPipeline:()=>o.Text2TextGenerationPipeline,TextClassificationPipeline:()=>o.TextClassificationPipeline,TextGenerationPipeline:()=>o.TextGenerationPipeline,TextStreamer:()=>Pe.TextStreamer,TextToAudioPipeline:()=>o.TextToAudioPipeline,TokenClassificationPipeline:()=>o.TokenClassificationPipeline,TokenClassifierOutput:()=>e.TokenClassifierOutput,TokenizerModel:()=>n.TokenizerModel,TopKLogitsWarper:()=>Ne.TopKLogitsWarper,TopPLogitsWarper:()=>Ne.TopPLogitsWarper,TrOCRForCausalLM:()=>e.TrOCRForCausalLM,TrOCRPreTrainedModel:()=>e.TrOCRPreTrainedModel,TranslationPipeline:()=>o.TranslationPipeline,UniSpeechForCTC:()=>e.UniSpeechForCTC,UniSpeechForSequenceClassification:()=>e.UniSpeechForSequenceClassification,UniSpeechModel:()=>e.UniSpeechModel,UniSpeechPreTrainedModel:()=>e.UniSpeechPreTrainedModel,UniSpeechSatForAudioFrameClassification:()=>e.UniSpeechSatForAudioFrameClassification,UniSpeechSatForCTC:()=>e.UniSpeechSatForCTC,UniSpeechSatForSequenceClassification:()=>e.UniSpeechSatForSequenceClassification,UniSpeechSatModel:()=>e.UniSpeechSatModel,UniSpeechSatPreTrainedModel:()=>e.UniSpeechSatPreTrainedModel,VLChatProcessor:()=>He.VLChatProcessor,VLMImageProcessor:()=>Me.VLMImageProcessor,ViTFeatureExtractor:()=>Me.ViTFeatureExtractor,ViTForImageClassification:()=>e.ViTForImageClassification,ViTImageProcessor:()=>Me.ViTImageProcessor,ViTMAEModel:()=>e.ViTMAEModel,ViTMAEPreTrainedModel:()=>e.ViTMAEPreTrainedModel,ViTMSNForImageClassification:()=>e.ViTMSNForImageClassification,ViTMSNModel:()=>e.ViTMSNModel,ViTMSNPreTrainedModel:()=>e.ViTMSNPreTrainedModel,ViTModel:()=>e.ViTModel,ViTPreTrainedModel:()=>e.ViTPreTrainedModel,VisionEncoderDecoderModel:()=>e.VisionEncoderDecoderModel,VitMatteForImageMatting:()=>e.VitMatteForImageMatting,VitMatteImageProcessor:()=>Me.VitMatteImageProcessor,VitMattePreTrainedModel:()=>e.VitMattePreTrainedModel,VitPoseForPoseEstimation:()=>e.VitPoseForPoseEstimation,VitPoseImageProcessor:()=>Me.VitPoseImageProcessor,VitPosePreTrainedModel:()=>e.VitPosePreTrainedModel,VitsModel:()=>e.VitsModel,VitsModelOutput:()=>e.VitsModelOutput,VitsPreTrainedModel:()=>e.VitsPreTrainedModel,VitsTokenizer:()=>n.VitsTokenizer,Wav2Vec2BertForCTC:()=>e.Wav2Vec2BertForCTC,Wav2Vec2BertForSequenceClassification:()=>e.Wav2Vec2BertForSequenceClassification,Wav2Vec2BertModel:()=>e.Wav2Vec2BertModel,Wav2Vec2BertPreTrainedModel:()=>e.Wav2Vec2BertPreTrainedModel,Wav2Vec2CTCTokenizer:()=>n.Wav2Vec2CTCTokenizer,Wav2Vec2FeatureExtractor:()=>k.Wav2Vec2FeatureExtractor,Wav2Vec2ForAudioFrameClassification:()=>e.Wav2Vec2ForAudioFrameClassification,Wav2Vec2ForCTC:()=>e.Wav2Vec2ForCTC,Wav2Vec2ForSequenceClassification:()=>e.Wav2Vec2ForSequenceClassification,Wav2Vec2Model:()=>e.Wav2Vec2Model,Wav2Vec2PreTrainedModel:()=>e.Wav2Vec2PreTrainedModel,Wav2Vec2Processor:()=>He.Wav2Vec2Processor,Wav2Vec2ProcessorWithLM:()=>He.Wav2Vec2ProcessorWithLM,WavLMForAudioFrameClassification:()=>e.WavLMForAudioFrameClassification,WavLMForCTC:()=>e.WavLMForCTC,WavLMForSequenceClassification:()=>e.WavLMForSequenceClassification,WavLMForXVector:()=>e.WavLMForXVector,WavLMModel:()=>e.WavLMModel,WavLMPreTrainedModel:()=>e.WavLMPreTrainedModel,WeSpeakerFeatureExtractor:()=>k.WeSpeakerFeatureExtractor,WeSpeakerResNetModel:()=>e.WeSpeakerResNetModel,WeSpeakerResNetPreTrainedModel:()=>e.WeSpeakerResNetPreTrainedModel,WhisperFeatureExtractor:()=>k.WhisperFeatureExtractor,WhisperForConditionalGeneration:()=>e.WhisperForConditionalGeneration,WhisperModel:()=>e.WhisperModel,WhisperPreTrainedModel:()=>e.WhisperPreTrainedModel,WhisperProcessor:()=>He.WhisperProcessor,WhisperTextStreamer:()=>Pe.WhisperTextStreamer,WhisperTimeStampLogitsProcessor:()=>Ne.WhisperTimeStampLogitsProcessor,WhisperTokenizer:()=>n.WhisperTokenizer,XLMForQuestionAnswering:()=>e.XLMForQuestionAnswering,XLMForSequenceClassification:()=>e.XLMForSequenceClassification,XLMForTokenClassification:()=>e.XLMForTokenClassification,XLMModel:()=>e.XLMModel,XLMPreTrainedModel:()=>e.XLMPreTrainedModel,XLMRobertaForMaskedLM:()=>e.XLMRobertaForMaskedLM,XLMRobertaForQuestionAnswering:()=>e.XLMRobertaForQuestionAnswering,XLMRobertaForSequenceClassification:()=>e.XLMRobertaForSequenceClassification,XLMRobertaForTokenClassification:()=>e.XLMRobertaForTokenClassification,XLMRobertaModel:()=>e.XLMRobertaModel,XLMRobertaPreTrainedModel:()=>e.XLMRobertaPreTrainedModel,XLMRobertaTokenizer:()=>n.XLMRobertaTokenizer,XLMTokenizer:()=>n.XLMTokenizer,XLMWithLMHeadModel:()=>e.XLMWithLMHeadModel,XVectorOutput:()=>e.XVectorOutput,YolosFeatureExtractor:()=>Me.YolosFeatureExtractor,YolosForObjectDetection:()=>e.YolosForObjectDetection,YolosImageProcessor:()=>Me.YolosImageProcessor,YolosModel:()=>e.YolosModel,YolosObjectDetectionOutput:()=>e.YolosObjectDetectionOutput,YolosPreTrainedModel:()=>e.YolosPreTrainedModel,ZeroShotAudioClassificationPipeline:()=>o.ZeroShotAudioClassificationPipeline,ZeroShotClassificationPipeline:()=>o.ZeroShotClassificationPipeline,ZeroShotImageClassificationPipeline:()=>o.ZeroShotImageClassificationPipeline,ZeroShotObjectDetectionPipeline:()=>o.ZeroShotObjectDetectionPipeline,bankers_round:()=>p.bankers_round,cat:()=>h.cat,cos_sim:()=>p.cos_sim,dot:()=>p.dot,dynamic_time_warping:()=>p.dynamic_time_warping,env:()=>r.env,full:()=>h.full,full_like:()=>h.full_like,getKeyValueShapes:()=>s.getKeyValueShapes,hamming:()=>c.hamming,hanning:()=>c.hanning,interpolate:()=>h.interpolate,interpolate_4d:()=>h.interpolate_4d,interpolate_data:()=>p.interpolate_data,is_chinese_char:()=>n.is_chinese_char,layer_norm:()=>h.layer_norm,load_image:()=>u.load_image,log_softmax:()=>p.log_softmax,magnitude:()=>p.magnitude,matmul:()=>h.matmul,max:()=>p.max,mean:()=>h.mean,mean_pooling:()=>h.mean_pooling,medianFilter:()=>p.medianFilter,mel_filter_bank:()=>c.mel_filter_bank,min:()=>p.min,ones:()=>h.ones,ones_like:()=>h.ones_like,permute:()=>h.permute,permute_data:()=>p.permute_data,pipeline:()=>o.pipeline,quantize_embeddings:()=>h.quantize_embeddings,rand:()=>h.rand,read_audio:()=>c.read_audio,rfft:()=>h.rfft,round:()=>p.round,slice:()=>h.slice,softmax:()=>p.softmax,spectrogram:()=>c.spectrogram,stack:()=>h.stack,std_mean:()=>h.std_mean,topk:()=>h.topk,window_function:()=>c.window_function,zeros:()=>h.zeros,zeros_like:()=>h.zeros_like});var r=cn("./src/env.js"),o=cn("./src/pipelines.js"),e=cn("./src/models.js"),n=cn("./src/tokenizers.js"),s=cn("./src/configs.js"),c=cn("./src/utils/audio.js"),u=cn("./src/utils/image.js"),h=cn("./src/utils/tensor.js"),p=cn("./src/utils/maths.js"),y=cn("./src/base/feature_extraction_utils.js"),k=cn("./src/models/feature_extractors.js"),G=cn("./src/models/auto/feature_extraction_auto.js"),$=cn("./src/base/image_processors_utils.js"),Me=cn("./src/models/image_processors.js"),Re=cn("./src/models/auto/image_processing_auto.js"),Ke=cn("./src/base/processing_utils.js"),He=cn("./src/models/processors.js"),Ie=cn("./src/models/auto/processing_auto.js"),Pe=cn("./src/generation/streamers.js"),Xe=cn("./src/generation/stopping_criteria.js"),Ne=cn("./src/generation/logits_process.js")})();var zV=_e.ASTFeatureExtractor,jV=_e.ASTForAudioClassification,VV=_e.ASTModel,UV=_e.ASTPreTrainedModel,WV=_e.AlbertForMaskedLM,GV=_e.AlbertForQuestionAnswering,HV=_e.AlbertForSequenceClassification,KV=_e.AlbertModel,qV=_e.AlbertPreTrainedModel,XV=_e.AlbertTokenizer,QV=_e.AudioClassificationPipeline,YV=_e.AutoConfig,JV=_e.AutoFeatureExtractor,ZV=_e.AutoImageProcessor,eU=_e.AutoModel,tU=_e.AutoModelForAudioClassification,rU=_e.AutoModelForAudioFrameClassification,oU=_e.AutoModelForCTC,nU=_e.AutoModelForCausalLM,iU=_e.AutoModelForDepthEstimation,aU=_e.AutoModelForDocumentQuestionAnswering,sU=_e.AutoModelForImageClassification,lU=_e.AutoModelForImageFeatureExtraction,cU=_e.AutoModelForImageMatting,dU=_e.AutoModelForImageSegmentation,uU=_e.AutoModelForImageToImage,pU=_e.AutoModelForMaskGeneration,fU=_e.AutoModelForMaskedLM,hU=_e.AutoModelForNormalEstimation,mU=_e.AutoModelForObjectDetection,gU=_e.AutoModelForPoseEstimation,_U=_e.AutoModelForQuestionAnswering,bU=_e.AutoModelForSemanticSegmentation,vU=_e.AutoModelForSeq2SeqLM,yU=_e.AutoModelForSequenceClassification,xU=_e.AutoModelForSpeechSeq2Seq,wU=_e.AutoModelForTextToSpectrogram,CU=_e.AutoModelForTextToWaveform,kU=_e.AutoModelForTokenClassification,MU=_e.AutoModelForUniversalSegmentation,TU=_e.AutoModelForVision2Seq,EU=_e.AutoModelForXVector,SU=_e.AutoModelForZeroShotObjectDetection,PU=_e.AutoProcessor,AU=_e.AutoTokenizer,BU=_e.AutomaticSpeechRecognitionPipeline,IU=_e.BartForConditionalGeneration,DU=_e.BartForSequenceClassification,FU=_e.BartModel,RU=_e.BartPretrainedModel,OU=_e.BartTokenizer,$U=_e.BaseModelOutput,LU=_e.BaseStreamer,NU=_e.BeitFeatureExtractor,zU=_e.BeitForImageClassification,jU=_e.BeitModel,VU=_e.BeitPreTrainedModel,UU=_e.BertForMaskedLM,WU=_e.BertForQuestionAnswering,GU=_e.BertForSequenceClassification,HU=_e.BertForTokenClassification,KU=_e.BertModel,qU=_e.BertPreTrainedModel,XU=_e.BertTokenizer,QU=_e.BitImageProcessor,YU=_e.BlenderbotForConditionalGeneration,JU=_e.BlenderbotModel,ZU=_e.BlenderbotPreTrainedModel,eW=_e.BlenderbotSmallForConditionalGeneration,tW=_e.BlenderbotSmallModel,rW=_e.BlenderbotSmallPreTrainedModel,oW=_e.BlenderbotSmallTokenizer,nW=_e.BlenderbotTokenizer,iW=_e.BloomForCausalLM,aW=_e.BloomModel,sW=_e.BloomPreTrainedModel,lW=_e.BloomTokenizer,cW=_e.CLIPFeatureExtractor,dW=_e.CLIPImageProcessor,uW=_e.CLIPModel,pW=_e.CLIPPreTrainedModel,fW=_e.CLIPSegForImageSegmentation,hW=_e.CLIPSegModel,mW=_e.CLIPSegPreTrainedModel,gW=_e.CLIPTextModel,_W=_e.CLIPTextModelWithProjection,bW=_e.CLIPTokenizer,vW=_e.CLIPVisionModel,yW=_e.CLIPVisionModelWithProjection,xW=_e.CamembertForMaskedLM,wW=_e.CamembertForQuestionAnswering,CW=_e.CamembertForSequenceClassification,kW=_e.CamembertForTokenClassification,MW=_e.CamembertModel,TW=_e.CamembertPreTrainedModel,EW=_e.CamembertTokenizer,SW=_e.CausalLMOutput,PW=_e.CausalLMOutputWithPast,AW=_e.ChineseCLIPFeatureExtractor,BW=_e.ChineseCLIPModel,IW=_e.ChineseCLIPPreTrainedModel,DW=_e.ClapAudioModelWithProjection,FW=_e.ClapFeatureExtractor,RW=_e.ClapModel,OW=_e.ClapPreTrainedModel,$W=_e.ClapTextModelWithProjection,LW=_e.ClassifierFreeGuidanceLogitsProcessor,NW=_e.CodeGenForCausalLM,zW=_e.CodeGenModel,jW=_e.CodeGenPreTrainedModel,VW=_e.CodeGenTokenizer,UW=_e.CodeLlamaTokenizer,WW=_e.CohereForCausalLM,GW=_e.CohereModel,HW=_e.CoherePreTrainedModel,KW=_e.CohereTokenizer,qW=_e.ConvBertForMaskedLM,XW=_e.ConvBertForQuestionAnswering,QW=_e.ConvBertForSequenceClassification,YW=_e.ConvBertForTokenClassification,JW=_e.ConvBertModel,ZW=_e.ConvBertPreTrainedModel,eG=_e.ConvBertTokenizer,tG=_e.ConvNextFeatureExtractor,rG=_e.ConvNextForImageClassification,oG=_e.ConvNextImageProcessor,nG=_e.ConvNextModel,iG=_e.ConvNextPreTrainedModel,aG=_e.ConvNextV2ForImageClassification,sG=_e.ConvNextV2Model,lG=_e.ConvNextV2PreTrainedModel,cG=_e.DPTFeatureExtractor,dG=_e.DPTForDepthEstimation,uG=_e.DPTImageProcessor,pG=_e.DPTModel,fG=_e.DPTPreTrainedModel,hG=_e.DebertaForMaskedLM,mG=_e.DebertaForQuestionAnswering,gG=_e.DebertaForSequenceClassification,_G=_e.DebertaForTokenClassification,bG=_e.DebertaModel,vG=_e.DebertaPreTrainedModel,yG=_e.DebertaTokenizer,xG=_e.DebertaV2ForMaskedLM,wG=_e.DebertaV2ForQuestionAnswering,CG=_e.DebertaV2ForSequenceClassification,kG=_e.DebertaV2ForTokenClassification,MG=_e.DebertaV2Model,TG=_e.DebertaV2PreTrainedModel,EG=_e.DebertaV2Tokenizer,SG=_e.DecisionTransformerModel,PG=_e.DecisionTransformerPreTrainedModel,AG=_e.DeiTFeatureExtractor,BG=_e.DeiTForImageClassification,IG=_e.DeiTImageProcessor,DG=_e.DeiTModel,FG=_e.DeiTPreTrainedModel,RG=_e.DepthAnythingForDepthEstimation,OG=_e.DepthAnythingPreTrainedModel,$G=_e.DepthEstimationPipeline,LG=_e.DepthProForDepthEstimation,NG=_e.DepthProPreTrainedModel,zG=_e.DetrFeatureExtractor,jG=_e.DetrForObjectDetection,VG=_e.DetrForSegmentation,UG=_e.DetrImageProcessor,WG=_e.DetrModel,GG=_e.DetrObjectDetectionOutput,HG=_e.DetrPreTrainedModel,KG=_e.DetrSegmentationOutput,qG=_e.Dinov2ForImageClassification,XG=_e.Dinov2Model,QG=_e.Dinov2PreTrainedModel,YG=_e.Dinov2WithRegistersForImageClassification,JG=_e.Dinov2WithRegistersModel,ZG=_e.Dinov2WithRegistersPreTrainedModel,eH=_e.DistilBertForMaskedLM,tH=_e.DistilBertForQuestionAnswering,rH=_e.DistilBertForSequenceClassification,oH=_e.DistilBertForTokenClassification,nH=_e.DistilBertModel,iH=_e.DistilBertPreTrainedModel,aH=_e.DistilBertTokenizer,sH=_e.DocumentQuestionAnsweringPipeline,lH=_e.DonutFeatureExtractor,cH=_e.DonutImageProcessor,dH=_e.DonutSwinModel,uH=_e.DonutSwinPreTrainedModel,pH=_e.EfficientNetForImageClassification,fH=_e.EfficientNetImageProcessor,hH=_e.EfficientNetModel,mH=_e.EfficientNetPreTrainedModel,gH=_e.ElectraForMaskedLM,_H=_e.ElectraForQuestionAnswering,bH=_e.ElectraForSequenceClassification,vH=_e.ElectraForTokenClassification,yH=_e.ElectraModel,xH=_e.ElectraPreTrainedModel,wH=_e.ElectraTokenizer,CH=_e.EosTokenCriteria,kH=_e.EsmForMaskedLM,MH=_e.EsmForSequenceClassification,TH=_e.EsmForTokenClassification,EH=_e.EsmModel,SH=_e.EsmPreTrainedModel,PH=_e.EsmTokenizer,AH=_e.ExaoneForCausalLM,BH=_e.ExaoneModel,IH=_e.ExaonePreTrainedModel,DH=_e.FFT,FH=_e.FalconForCausalLM,RH=_e.FalconModel,OH=_e.FalconPreTrainedModel,$H=_e.FalconTokenizer,LH=_e.FastViTForImageClassification,NH=_e.FastViTModel,zH=_e.FastViTPreTrainedModel,jH=_e.FeatureExtractionPipeline,VH=_e.FeatureExtractor,UH=_e.FillMaskPipeline,WH=_e.Florence2ForConditionalGeneration,GH=_e.Florence2PreTrainedModel,HH=_e.Florence2Processor,KH=_e.ForcedBOSTokenLogitsProcessor,qH=_e.ForcedEOSTokenLogitsProcessor,XH=_e.GLPNFeatureExtractor,QH=_e.GLPNForDepthEstimation,YH=_e.GLPNModel,JH=_e.GLPNPreTrainedModel,ZH=_e.GPT2LMHeadModel,eK=_e.GPT2Model,tK=_e.GPT2PreTrainedModel,rK=_e.GPT2Tokenizer,oK=_e.GPTBigCodeForCausalLM,nK=_e.GPTBigCodeModel,iK=_e.GPTBigCodePreTrainedModel,aK=_e.GPTJForCausalLM,sK=_e.GPTJModel,lK=_e.GPTJPreTrainedModel,cK=_e.GPTNeoForCausalLM,dK=_e.GPTNeoModel,uK=_e.GPTNeoPreTrainedModel,pK=_e.GPTNeoXForCausalLM,fK=_e.GPTNeoXModel,hK=_e.GPTNeoXPreTrainedModel,mK=_e.GPTNeoXTokenizer,gK=_e.Gemma2ForCausalLM,_K=_e.Gemma2Model,bK=_e.Gemma2PreTrainedModel,vK=_e.GemmaForCausalLM,yK=_e.GemmaModel,xK=_e.GemmaPreTrainedModel,wK=_e.GemmaTokenizer,CK=_e.GlmForCausalLM,kK=_e.GlmModel,MK=_e.GlmPreTrainedModel,TK=_e.GraniteForCausalLM,EK=_e.GraniteModel,SK=_e.GranitePreTrainedModel,PK=_e.Grok1Tokenizer,AK=_e.GroundingDinoForObjectDetection,BK=_e.GroundingDinoImageProcessor,IK=_e.GroundingDinoPreTrainedModel,DK=_e.GroundingDinoProcessor,FK=_e.GroupViTModel,RK=_e.GroupViTPreTrainedModel,OK=_e.HeliumForCausalLM,$K=_e.HeliumModel,LK=_e.HeliumPreTrainedModel,NK=_e.HerbertTokenizer,zK=_e.HieraForImageClassification,jK=_e.HieraModel,VK=_e.HieraPreTrainedModel,UK=_e.HubertForCTC,WK=_e.HubertForSequenceClassification,GK=_e.HubertModel,HK=_e.HubertPreTrainedModel,KK=_e.IJepaForImageClassification,qK=_e.IJepaModel,XK=_e.IJepaPreTrainedModel,QK=_e.Idefics3ForConditionalGeneration,YK=_e.Idefics3ImageProcessor,JK=_e.Idefics3PreTrainedModel,ZK=_e.Idefics3Processor,eq=_e.ImageClassificationPipeline,tq=_e.ImageFeatureExtractionPipeline,rq=_e.ImageFeatureExtractor,oq=_e.ImageMattingOutput,nq=_e.ImageProcessor,iq=_e.ImageSegmentationPipeline,aq=_e.ImageToImagePipeline,sq=_e.ImageToTextPipeline,lq=_e.InterruptableStoppingCriteria,cq=_e.JAISLMHeadModel,dq=_e.JAISModel,uq=_e.JAISPreTrainedModel,pq=_e.JinaCLIPImageProcessor,fq=_e.JinaCLIPModel,hq=_e.JinaCLIPPreTrainedModel,mq=_e.JinaCLIPProcessor,gq=_e.JinaCLIPTextModel,_q=_e.JinaCLIPVisionModel,bq=_e.LlamaForCausalLM,vq=_e.LlamaModel,yq=_e.LlamaPreTrainedModel,xq=_e.LlamaTokenizer,wq=_e.LlavaForConditionalGeneration,Cq=_e.LlavaOnevisionForConditionalGeneration,kq=_e.LlavaOnevisionImageProcessor,Mq=_e.LlavaPreTrainedModel,Tq=_e.LogitsProcessor,Eq=_e.LogitsProcessorList,Sq=_e.LogitsWarper,Pq=_e.LongT5ForConditionalGeneration,Aq=_e.LongT5Model,Bq=_e.LongT5PreTrainedModel,Iq=_e.M2M100ForConditionalGeneration,Dq=_e.M2M100Model,Fq=_e.M2M100PreTrainedModel,Rq=_e.M2M100Tokenizer,Oq=_e.MBart50Tokenizer,$q=_e.MBartForCausalLM,Lq=_e.MBartForConditionalGeneration,Nq=_e.MBartForSequenceClassification,zq=_e.MBartModel,jq=_e.MBartPreTrainedModel,Vq=_e.MBartTokenizer,Uq=_e.MPNetForMaskedLM,Wq=_e.MPNetForQuestionAnswering,Gq=_e.MPNetForSequenceClassification,Hq=_e.MPNetForTokenClassification,Kq=_e.MPNetModel,qq=_e.MPNetPreTrainedModel,Xq=_e.MPNetTokenizer,Qq=_e.MT5ForConditionalGeneration,Yq=_e.MT5Model,Jq=_e.MT5PreTrainedModel,Zq=_e.MarianMTModel,eX=_e.MarianModel,tX=_e.MarianPreTrainedModel,rX=_e.MarianTokenizer,oX=_e.Mask2FormerImageProcessor,nX=_e.MaskFormerFeatureExtractor,iX=_e.MaskFormerForInstanceSegmentation,aX=_e.MaskFormerImageProcessor,sX=_e.MaskFormerModel,lX=_e.MaskFormerPreTrainedModel,cX=_e.MaskedLMOutput,dX=_e.MaxLengthCriteria,uX=_e.MgpstrForSceneTextRecognition,pX=_e.MgpstrModelOutput,fX=_e.MgpstrPreTrainedModel,hX=_e.MgpstrProcessor,mX=_e.MgpstrTokenizer,gX=_e.MinLengthLogitsProcessor,_X=_e.MinNewTokensLengthLogitsProcessor,bX=_e.MistralForCausalLM,vX=_e.MistralModel,yX=_e.MistralPreTrainedModel,xX=_e.MobileBertForMaskedLM,wX=_e.MobileBertForQuestionAnswering,CX=_e.MobileBertForSequenceClassification,kX=_e.MobileBertModel,MX=_e.MobileBertPreTrainedModel,TX=_e.MobileBertTokenizer,EX=_e.MobileLLMForCausalLM,SX=_e.MobileLLMModel,PX=_e.MobileLLMPreTrainedModel,AX=_e.MobileNetV1FeatureExtractor,BX=_e.MobileNetV1ForImageClassification,IX=_e.MobileNetV1ImageProcessor,DX=_e.MobileNetV1Model,FX=_e.MobileNetV1PreTrainedModel,RX=_e.MobileNetV2FeatureExtractor,OX=_e.MobileNetV2ForImageClassification,$X=_e.MobileNetV2ImageProcessor,LX=_e.MobileNetV2Model,NX=_e.MobileNetV2PreTrainedModel,zX=_e.MobileNetV3FeatureExtractor,jX=_e.MobileNetV3ForImageClassification,VX=_e.MobileNetV3ImageProcessor,UX=_e.MobileNetV3Model,WX=_e.MobileNetV3PreTrainedModel,GX=_e.MobileNetV4FeatureExtractor,HX=_e.MobileNetV4ForImageClassification,KX=_e.MobileNetV4ImageProcessor,qX=_e.MobileNetV4Model,XX=_e.MobileNetV4PreTrainedModel,QX=_e.MobileViTFeatureExtractor,YX=_e.MobileViTForImageClassification,JX=_e.MobileViTImageProcessor,ZX=_e.MobileViTModel,eQ=_e.MobileViTPreTrainedModel,tQ=_e.MobileViTV2ForImageClassification,rQ=_e.MobileViTV2Model,oQ=_e.MobileViTV2PreTrainedModel,nQ=_e.ModelOutput,iQ=_e.ModernBertForMaskedLM,aQ=_e.ModernBertForSequenceClassification,sQ=_e.ModernBertForTokenClassification,lQ=_e.ModernBertModel,cQ=_e.ModernBertPreTrainedModel,dQ=_e.Moondream1ForConditionalGeneration,uQ=_e.MoonshineFeatureExtractor,pQ=_e.MoonshineForConditionalGeneration,fQ=_e.MoonshineModel,hQ=_e.MoonshinePreTrainedModel,mQ=_e.MoonshineProcessor,gQ=_e.MptForCausalLM,_Q=_e.MptModel,bQ=_e.MptPreTrainedModel,vQ=_e.MultiModalityCausalLM,yQ=_e.MultiModalityPreTrainedModel,xQ=_e.MusicgenForCausalLM,wQ=_e.MusicgenForConditionalGeneration,CQ=_e.MusicgenModel,kQ=_e.MusicgenPreTrainedModel,MQ=_e.NllbTokenizer,TQ=_e.NoBadWordsLogitsProcessor,EQ=_e.NoRepeatNGramLogitsProcessor,SQ=_e.NomicBertModel,PQ=_e.NomicBertPreTrainedModel,AQ=_e.NougatImageProcessor,BQ=_e.NougatTokenizer,IQ=_e.OPTForCausalLM,DQ=_e.OPTModel,FQ=_e.OPTPreTrainedModel,RQ=_e.ObjectDetectionPipeline,OQ=_e.Olmo2ForCausalLM,$Q=_e.Olmo2Model,LQ=_e.Olmo2PreTrainedModel,NQ=_e.OlmoForCausalLM,zQ=_e.OlmoModel,jQ=_e.OlmoPreTrainedModel,VQ=_e.OpenELMForCausalLM,UQ=_e.OpenELMModel,WQ=_e.OpenELMPreTrainedModel,GQ=_e.OwlViTFeatureExtractor,HQ=_e.OwlViTForObjectDetection,KQ=_e.OwlViTImageProcessor,qQ=_e.OwlViTModel,XQ=_e.OwlViTPreTrainedModel,QQ=_e.OwlViTProcessor,YQ=_e.Owlv2ForObjectDetection,JQ=_e.Owlv2ImageProcessor,ZQ=_e.Owlv2Model,eY=_e.Owlv2PreTrainedModel,tY=_e.PaliGemmaForConditionalGeneration,rY=_e.PaliGemmaPreTrainedModel,oY=_e.PaliGemmaProcessor,nY=_e.PatchTSMixerForPrediction,iY=_e.PatchTSMixerModel,aY=_e.PatchTSMixerPreTrainedModel,sY=_e.PatchTSTForPrediction,lY=_e.PatchTSTModel,cY=_e.PatchTSTPreTrainedModel,dY=_e.Phi3ForCausalLM,uY=_e.Phi3Model,pY=_e.Phi3PreTrainedModel,fY=_e.Phi3VForCausalLM,hY=_e.Phi3VImageProcessor,mY=_e.Phi3VPreTrainedModel,gY=_e.Phi3VProcessor,_Y=_e.PhiForCausalLM,bY=_e.PhiModel,vY=_e.PhiPreTrainedModel,yY=_e.Pipeline,xY=_e.PreTrainedModel,wY=_e.PreTrainedTokenizer,CY=_e.PretrainedConfig,kY=_e.PretrainedMixin,MY=_e.Processor,TY=_e.PvtForImageClassification,EY=_e.PvtImageProcessor,SY=_e.PvtModel,PY=_e.PvtPreTrainedModel,AY=_e.PyAnnoteFeatureExtractor,BY=_e.PyAnnoteForAudioFrameClassification,IY=_e.PyAnnoteModel,DY=_e.PyAnnotePreTrainedModel,FY=_e.PyAnnoteProcessor,RY=_e.QuestionAnsweringModelOutput,OY=_e.QuestionAnsweringPipeline,$Y=_e.Qwen2ForCausalLM,LY=_e.Qwen2Model,NY=_e.Qwen2PreTrainedModel,zY=_e.Qwen2Tokenizer,jY=_e.Qwen2VLForConditionalGeneration,VY=_e.Qwen2VLImageProcessor,UY=_e.Qwen2VLPreTrainedModel,WY=_e.Qwen2VLProcessor,GY=_e.RTDetrForObjectDetection,HY=_e.RTDetrImageProcessor,KY=_e.RTDetrModel,qY=_e.RTDetrObjectDetectionOutput,XY=_e.RTDetrPreTrainedModel,QY=_e.RawAudio,YY=_e.RawImage,JY=_e.RepetitionPenaltyLogitsProcessor,ZY=_e.ResNetForImageClassification,eJ=_e.ResNetModel,tJ=_e.ResNetPreTrainedModel,rJ=_e.RoFormerForMaskedLM,oJ=_e.RoFormerForQuestionAnswering,nJ=_e.RoFormerForSequenceClassification,iJ=_e.RoFormerForTokenClassification,aJ=_e.RoFormerModel,sJ=_e.RoFormerPreTrainedModel,lJ=_e.RoFormerTokenizer,cJ=_e.RobertaForMaskedLM,dJ=_e.RobertaForQuestionAnswering,uJ=_e.RobertaForSequenceClassification,pJ=_e.RobertaForTokenClassification,fJ=_e.RobertaModel,hJ=_e.RobertaPreTrainedModel,mJ=_e.RobertaTokenizer,gJ=_e.SamImageProcessor,_J=_e.SamImageSegmentationOutput,bJ=_e.SamModel,vJ=_e.SamPreTrainedModel,yJ=_e.SamProcessor,xJ=_e.SapiensForDepthEstimation,wJ=_e.SapiensForNormalEstimation,CJ=_e.SapiensForSemanticSegmentation,kJ=_e.SapiensPreTrainedModel,MJ=_e.SeamlessM4TFeatureExtractor,TJ=_e.SegformerFeatureExtractor,EJ=_e.SegformerForImageClassification,SJ=_e.SegformerForSemanticSegmentation,PJ=_e.SegformerImageProcessor,AJ=_e.SegformerModel,BJ=_e.SegformerPreTrainedModel,IJ=_e.Seq2SeqLMOutput,DJ=_e.SequenceClassifierOutput,FJ=_e.SiglipImageProcessor,RJ=_e.SiglipModel,OJ=_e.SiglipPreTrainedModel,$J=_e.SiglipTextModel,LJ=_e.SiglipTokenizer,NJ=_e.SiglipVisionModel,zJ=_e.SpeechT5FeatureExtractor,jJ=_e.SpeechT5ForSpeechToText,VJ=_e.SpeechT5ForTextToSpeech,UJ=_e.SpeechT5HifiGan,WJ=_e.SpeechT5Model,GJ=_e.SpeechT5PreTrainedModel,HJ=_e.SpeechT5Processor,KJ=_e.SpeechT5Tokenizer,qJ=_e.SqueezeBertForMaskedLM,XJ=_e.SqueezeBertForQuestionAnswering,QJ=_e.SqueezeBertForSequenceClassification,YJ=_e.SqueezeBertModel,JJ=_e.SqueezeBertPreTrainedModel,ZJ=_e.SqueezeBertTokenizer,eZ=_e.StableLmForCausalLM,tZ=_e.StableLmModel,rZ=_e.StableLmPreTrainedModel,oZ=_e.Starcoder2ForCausalLM,nZ=_e.Starcoder2Model,iZ=_e.Starcoder2PreTrainedModel,aZ=_e.StoppingCriteria,sZ=_e.StoppingCriteriaList,lZ=_e.StyleTextToSpeech2Model,cZ=_e.StyleTextToSpeech2PreTrainedModel,dZ=_e.SummarizationPipeline,uZ=_e.SuppressTokensAtBeginLogitsProcessor,pZ=_e.Swin2SRForImageSuperResolution,fZ=_e.Swin2SRImageProcessor,hZ=_e.Swin2SRModel,mZ=_e.Swin2SRPreTrainedModel,gZ=_e.SwinForImageClassification,_Z=_e.SwinModel,bZ=_e.SwinPreTrainedModel,vZ=_e.T5ForConditionalGeneration,yZ=_e.T5Model,xZ=_e.T5PreTrainedModel,wZ=_e.T5Tokenizer,CZ=_e.TableTransformerForObjectDetection,kZ=_e.TableTransformerModel,MZ=_e.TableTransformerObjectDetectionOutput,TZ=_e.TableTransformerPreTrainedModel,EZ=_e.TemperatureLogitsWarper,SZ=_e.Tensor,PZ=_e.Text2TextGenerationPipeline,AZ=_e.TextClassificationPipeline,BZ=_e.TextGenerationPipeline,IZ=_e.TextStreamer,DZ=_e.TextToAudioPipeline,FZ=_e.TokenClassificationPipeline,RZ=_e.TokenClassifierOutput,OZ=_e.TokenizerModel,$Z=_e.TopKLogitsWarper,LZ=_e.TopPLogitsWarper,NZ=_e.TrOCRForCausalLM,zZ=_e.TrOCRPreTrainedModel,jZ=_e.TranslationPipeline,VZ=_e.UniSpeechForCTC,UZ=_e.UniSpeechForSequenceClassification,WZ=_e.UniSpeechModel,GZ=_e.UniSpeechPreTrainedModel,HZ=_e.UniSpeechSatForAudioFrameClassification,KZ=_e.UniSpeechSatForCTC,qZ=_e.UniSpeechSatForSequenceClassification,XZ=_e.UniSpeechSatModel,QZ=_e.UniSpeechSatPreTrainedModel,YZ=_e.VLChatProcessor,JZ=_e.VLMImageProcessor,ZZ=_e.ViTFeatureExtractor,eee=_e.ViTForImageClassification,tee=_e.ViTImageProcessor,ree=_e.ViTMAEModel,oee=_e.ViTMAEPreTrainedModel,nee=_e.ViTMSNForImageClassification,iee=_e.ViTMSNModel,aee=_e.ViTMSNPreTrainedModel,see=_e.ViTModel,lee=_e.ViTPreTrainedModel,cee=_e.VisionEncoderDecoderModel,dee=_e.VitMatteForImageMatting,uee=_e.VitMatteImageProcessor,pee=_e.VitMattePreTrainedModel,fee=_e.VitPoseForPoseEstimation,hee=_e.VitPoseImageProcessor,mee=_e.VitPosePreTrainedModel,gee=_e.VitsModel,_ee=_e.VitsModelOutput,bee=_e.VitsPreTrainedModel,vee=_e.VitsTokenizer,yee=_e.Wav2Vec2BertForCTC,xee=_e.Wav2Vec2BertForSequenceClassification,wee=_e.Wav2Vec2BertModel,Cee=_e.Wav2Vec2BertPreTrainedModel,kee=_e.Wav2Vec2CTCTokenizer,Mee=_e.Wav2Vec2FeatureExtractor,Tee=_e.Wav2Vec2ForAudioFrameClassification,Eee=_e.Wav2Vec2ForCTC,See=_e.Wav2Vec2ForSequenceClassification,Pee=_e.Wav2Vec2Model,Aee=_e.Wav2Vec2PreTrainedModel,Bee=_e.Wav2Vec2Processor,Iee=_e.Wav2Vec2ProcessorWithLM,Dee=_e.WavLMForAudioFrameClassification,Fee=_e.WavLMForCTC,Ree=_e.WavLMForSequenceClassification,Oee=_e.WavLMForXVector,$ee=_e.WavLMModel,Lee=_e.WavLMPreTrainedModel,Nee=_e.WeSpeakerFeatureExtractor,zee=_e.WeSpeakerResNetModel,jee=_e.WeSpeakerResNetPreTrainedModel,Vee=_e.WhisperFeatureExtractor,Uee=_e.WhisperForConditionalGeneration,Wee=_e.WhisperModel,Gee=_e.WhisperPreTrainedModel,Hee=_e.WhisperProcessor,Kee=_e.WhisperTextStreamer,qee=_e.WhisperTimeStampLogitsProcessor,Xee=_e.WhisperTokenizer,Qee=_e.XLMForQuestionAnswering,Yee=_e.XLMForSequenceClassification,Jee=_e.XLMForTokenClassification,Zee=_e.XLMModel,ete=_e.XLMPreTrainedModel,tte=_e.XLMRobertaForMaskedLM,rte=_e.XLMRobertaForQuestionAnswering,ote=_e.XLMRobertaForSequenceClassification,nte=_e.XLMRobertaForTokenClassification,ite=_e.XLMRobertaModel,ate=_e.XLMRobertaPreTrainedModel,ste=_e.XLMRobertaTokenizer,lte=_e.XLMTokenizer,cte=_e.XLMWithLMHeadModel,dte=_e.XVectorOutput,ute=_e.YolosFeatureExtractor,pte=_e.YolosForObjectDetection,fte=_e.YolosImageProcessor,hte=_e.YolosModel,mte=_e.YolosObjectDetectionOutput,gte=_e.YolosPreTrainedModel,_te=_e.ZeroShotAudioClassificationPipeline,bte=_e.ZeroShotClassificationPipeline,vte=_e.ZeroShotImageClassificationPipeline,yte=_e.ZeroShotObjectDetectionPipeline,xte=_e.bankers_round,wte=_e.cat,Cte=_e.cos_sim,kte=_e.dot,Mte=_e.dynamic_time_warping,Tte=_e.env,Ete=_e.full,Ste=_e.full_like,Pte=_e.getKeyValueShapes,Ate=_e.hamming,Bte=_e.hanning,Ite=_e.interpolate,Dte=_e.interpolate_4d,Fte=_e.interpolate_data,Rte=_e.is_chinese_char,Ote=_e.layer_norm,$te=_e.load_image,Lte=_e.log_softmax,Nte=_e.magnitude,zte=_e.matmul,jte=_e.max,Vte=_e.mean,Ute=_e.mean_pooling,Wte=_e.medianFilter,Gte=_e.mel_filter_bank,Hte=_e.min,Kte=_e.ones,qte=_e.ones_like,Xte=_e.permute,Qte=_e.permute_data,H5=_e.pipeline,Yte=_e.quantize_embeddings,Jte=_e.rand,Zte=_e.read_audio,ere=_e.rfft,tre=_e.round,rre=_e.slice,ore=_e.softmax,nre=_e.spectrogram,ire=_e.stack,are=_e.std_mean,sre=_e.topk,lre=_e.window_function,cre=_e.zeros,dre=_e.zeros_like;var z$=({dt:r})=>`
.p-iftalabel {
    display: block;
    position: relative;
}

.p-iftalabel label {
    position: absolute;
    pointer-events: none;
    top: ${r("iftalabel.top")};
    transition-property: all;
    transition-timing-function: ease;
    line-height: 1;
    font-size: ${r("iftalabel.font.size")};
    font-weight: ${r("iftalabel.font.weight")};
    inset-inline-start: ${r("iftalabel.position.x")};
    color: ${r("iftalabel.color")};
    transition-duration: ${r("iftalabel.transition.duration")};
}

.p-iftalabel .p-inputtext,
.p-iftalabel .p-textarea,
.p-iftalabel .p-select-label,
.p-iftalabel .p-multiselect-label-container,
.p-iftalabel .p-autocomplete-input-multiple,
.p-iftalabel .p-cascadeselect-label,
.p-iftalabel .p-treeselect-label {
    padding-top: ${r("iftalabel.input.padding.top")};
}

.p-iftalabel:has(.ng-invalid.ng-dirty) label {
    color: ${r("iftalabel.invalid.color")};
}

.p-iftalabel:has(input:focus) label,
.p-iftalabel:has(input:-webkit-autofill) label,
.p-iftalabel:has(textarea:focus) label,
.p-iftalabel:has(.p-inputwrapper-focus) label {
    color: ${r("iftalabel.focus.color")};
}

.p-iftalabel .p-inputicon {
    top: ${r("iftalabel.input.padding.top")};
    transform: translateY(25%);
    margin-top: 0;
}

/*.p-iftalabel .p-placeholder,
.p-iftalabel input::placeholder,
.p-iftalabel .p-inputtext::placeholder {
    opacity: 0;
    transition-property: all;
    transition-timing-function: ease;
}

.p-iftalabel .p-focus .p-placeholder,
.p-iftalabel input:focus::placeholder,
.p-iftalabel .p-inputtext:focus::placeholder {
    opacity: 1;
    transition-property: all;
    transition-timing-function: ease;
}*/
`,j$={root:"p-iftalabel"},K5=(()=>{class r extends kn{name="iftalabel";theme=z$;classes=j$;static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})();var V$=["*"],q5=(()=>{class r extends Vn{_componentStyle=wr(K5);static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275cmp=Mo({type:r,selectors:[["p-iftalabel"],["p-iftaLabel"],["p-ifta-label"]],hostAttrs:[1,"p-iftalabel"],features:[an([K5]),No],ngContentSelectors:V$,decls:1,vars:0,template:function(n,s){n&1&&(Yi(),xi(0))},encapsulation:2,changeDetection:0})}return r})(),X5=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=vn({type:r});static \u0275inj=bn({imports:[Fn,wn,Qu,wn]})}return r})();var W$=(r,o)=>o.input;function G$(r,o){r&1&&(Kt(0,"div",1),no(1,"p-progressSpinner"),Kt(2,"p"),Dr(3,"Descargando modelo, por favor espere..."),Qt()())}function H$(r,o){r&1&&(Kt(0,"div",9),no(1,"p-progressSpinner"),Kt(2,"p"),Dr(3,"Procesando..."),Qt()())}function K$(r,o){if(r&1&&(Kt(0,"div",10)(1,"p-panel",11)(2,"p"),Dr(3),Qt()(),Kt(4,"p-panel",12)(5,"pre"),Dr(6),Qt()()()),r&2){let e=o.$implicit;pr(3),wi(e.input),pr(3),wi(e.output)}}function q$(r,o){if(r&1){let e=xn();Kt(0,"div",1)(1,"p-card",2)(2,"div",3)(3,"div",4)(4,"p-iftalabel")(5,"textarea",5),by("ngModelChange",function(s){en(e);let c=Sr();return _y(c.chatInput,s)||(c.chatInput=s),tn(s)}),Qt(),Kt(6,"label",6),Dr(7,"Description"),Qt()()(),Kt(8,"div",7)(9,"p-button",8),_o("onClick",function(){en(e);let s=Sr();return tn(s.sendMessage())}),Qt()(),Zr(10,H$,4,0,"div",9),Jl(11,K$,7,2,"div",10,W$),Qt()()()}if(r&2){let e=Sr();pr(5),gy("ngModel",e.chatInput),pr(4),Ir("disabled",e.processing),pr(),Dn(e.processing?10:-1),pr(),Zl(e.messages)}}var iw=class r{modelLoaded=!1;loadingModel=!1;processing=!1;generator=null;chatInput="";messages=[];loading=!1;extractor;ngOnInit(){return ot(this,null,function*(){this.loadModel()})}loadModel(){return ot(this,null,function*(){this.loadingModel=!0;try{this.generator=yield H5("text-generation","Xenova/codegen-350M-mono",{progress_callback:o=>{console.log("Model loading: ",o.progress)}})}catch(o){console.log("Error loading model:",o),o&&alert("Error loading model:"+JSON.stringify(o))}finally{this.loadingModel=!1}})}sendMessage(){return ot(this,null,function*(){if(console.log(this.chatInput,this.generator),!this.chatInput.trim()||!this.generator)return;let o=this.chatInput.trim();this.processing=!0;let e=`Extrae un objeto JSON con los siguientes campos: id, accountId, originalAccount, amount, date, categoryId, description, type, originalBody, targetAccountId, canProcessed, isProcessed. A partir del siguiente texto:

"${o}"

JSON:`;try{let n=yield this.generator(e,{max_new_tokens:150});alert("Salida"+JSON.stringify(n));let s=n[0].generated_text;this.messages.push({input:o,output:s})}catch(n){alert("Error al procesar el mensaje"+JSON.stringify(n)),console.error("Error al procesar el mensaje:",n),this.messages.push({input:o,output:"Error procesando la entrada."})}finally{this.processing=!1,this.chatInput="-"}})}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=Mo({type:r,selectors:[["app-chat"]],features:[an([{provide:su,useExisting:Bl(()=>r),multi:!0}])],decls:3,vars:2,consts:[[1,"p-grid"],[1,"p-col-12"],["header","Chat Extraction"],[1,"p-fluid"],[1,"card","flex","justify-center"],["pTextarea","","id","description","rows","5","cols","30",2,"resize","none",3,"ngModelChange","ngModel"],["for","description"],[1,"p-field"],["label","Enviar",3,"onClick","disabled"],[1,"p-mt-2"],[1,"p-mt-4"],["header","Entrada"],["header","Salida",1,"p-mt-2"]],template:function(e,n){e&1&&(Kt(0,"div",0),Zr(1,G$,4,0,"div",1)(2,q$,13,3,"div",1),Qt()),e&2&&(pr(),Dn(n.loadingModel?1:-1),pr(),Dn(n.loadingModel?-1:2))},dependencies:[np,tw,op,ll,Ju,iu,$5,O5,$l,nu,N5,CC,j5,kC,X5,q5],encapsulation:2})};var Q5={root:{transitionDuration:"{transition.duration}"},panel:{borderWidth:"0 0 1px 0",borderColor:"{content.border.color}"},header:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",padding:"1.125rem",fontWeight:"600",borderRadius:"0",borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",hoverBackground:"{content.background}",activeBackground:"{content.background}",activeHoverBackground:"{content.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}"},first:{topBorderRadius:"{content.border.radius}",borderWidth:"0"},last:{bottomBorderRadius:"{content.border.radius}",activeBottomBorderRadius:"0"}},content:{borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",color:"{text.color}",padding:"0 1.125rem 1.125rem 1.125rem"}};var Y5={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",focusColor:"{surface.800}"},dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",focusColor:"{surface.0}"},dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"}}}};var J5={root:{width:"2rem",height:"2rem",fontSize:"1rem",background:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},icon:{size:"1rem"},group:{borderColor:"{content.background}",offset:"-0.75rem"},lg:{width:"3rem",height:"3rem",fontSize:"1.5rem",icon:{size:"1.5rem"},group:{offset:"-1rem"}},xl:{width:"4rem",height:"4rem",fontSize:"2rem",icon:{size:"2rem"},group:{offset:"-1.5rem"}}};var Z5={root:{borderRadius:"{border.radius.md}",padding:"0 0.5rem",fontSize:"0.75rem",fontWeight:"700",minWidth:"1.5rem",height:"1.5rem"},dot:{size:"0.5rem"},sm:{fontSize:"0.625rem",minWidth:"1.25rem",height:"1.25rem"},lg:{fontSize:"0.875rem",minWidth:"1.75rem",height:"1.75rem"},xl:{fontSize:"1rem",minWidth:"2rem",height:"2rem"},colorScheme:{light:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.500}",color:"{surface.0}"},info:{background:"{sky.500}",color:"{surface.0}"},warn:{background:"{orange.500}",color:"{surface.0}"},danger:{background:"{red.500}",color:"{surface.0}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"{green.400}",color:"{green.950}"},info:{background:"{sky.400}",color:"{sky.950}"},warn:{background:"{orange.400}",color:"{orange.950}"},danger:{background:"{red.400}",color:"{red.950}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}};var eP={primitive:{borderRadius:{none:"0",xs:"2px",sm:"4px",md:"6px",lg:"8px",xl:"12px"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"}},semantic:{transitionDuration:"0.2s",focusRing:{width:"1px",style:"solid",color:"{primary.color}",offset:"2px",shadow:"none"},disabledOpacity:"0.6",iconSize:"1rem",anchorGutter:"2px",primary:{50:"{emerald.50}",100:"{emerald.100}",200:"{emerald.200}",300:"{emerald.300}",400:"{emerald.400}",500:"{emerald.500}",600:"{emerald.600}",700:"{emerald.700}",800:"{emerald.800}",900:"{emerald.900}",950:"{emerald.950}"},formField:{paddingX:"0.75rem",paddingY:"0.5rem",sm:{fontSize:"0.875rem",paddingX:"0.625rem",paddingY:"0.375rem"},lg:{fontSize:"1.125rem",paddingX:"0.875rem",paddingY:"0.625rem"},borderRadius:"{border.radius.md}",focusRing:{width:"0",style:"none",color:"transparent",offset:"0",shadow:"none"},transitionDuration:"{transition.duration}"},list:{padding:"0.25rem 0.25rem",gap:"2px",header:{padding:"0.5rem 1rem 0.25rem 1rem"},option:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}"},optionGroup:{padding:"0.5rem 0.75rem",fontWeight:"600"}},content:{borderRadius:"{border.radius.md}"},mask:{transitionDuration:"0.15s"},navigation:{list:{padding:"0.25rem 0.25rem",gap:"2px"},item:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}",gap:"0.5rem"},submenuLabel:{padding:"0.5rem 0.75rem",fontWeight:"600"},submenuIcon:{size:"0.875rem"}},overlay:{select:{borderRadius:"{border.radius.md}",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},popover:{borderRadius:"{border.radius.md}",padding:"0.75rem",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},modal:{borderRadius:"{border.radius.xl}",padding:"1.25rem",shadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)"},navigation:{shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"}},colorScheme:{light:{surface:{0:"#ffffff",50:"{slate.50}",100:"{slate.100}",200:"{slate.200}",300:"{slate.300}",400:"{slate.400}",500:"{slate.500}",600:"{slate.600}",700:"{slate.700}",800:"{slate.800}",900:"{slate.900}",950:"{slate.950}"},primary:{color:"{primary.500}",contrastColor:"#ffffff",hoverColor:"{primary.600}",activeColor:"{primary.700}"},highlight:{background:"{primary.50}",focusBackground:"{primary.100}",color:"{primary.700}",focusColor:"{primary.800}"},mask:{background:"rgba(0,0,0,0.4)",color:"{surface.200}"},formField:{background:"{surface.0}",disabledBackground:"{surface.200}",filledBackground:"{surface.50}",filledHoverBackground:"{surface.50}",filledFocusBackground:"{surface.50}",borderColor:"{surface.300}",hoverBorderColor:"{surface.400}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.400}",color:"{surface.700}",disabledColor:"{surface.500}",placeholderColor:"{surface.500}",invalidPlaceholderColor:"{red.600}",floatLabelColor:"{surface.500}",floatLabelFocusColor:"{primary.600}",floatLabelActiveColor:"{surface.500}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.700}",hoverColor:"{surface.800}",mutedColor:"{surface.500}",hoverMutedColor:"{surface.600}"},content:{background:"{surface.0}",hoverBackground:"{surface.100}",borderColor:"{surface.200}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},popover:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},modal:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.100}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.100}",activeBackground:"{surface.100}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}}},dark:{surface:{0:"#ffffff",50:"{zinc.50}",100:"{zinc.100}",200:"{zinc.200}",300:"{zinc.300}",400:"{zinc.400}",500:"{zinc.500}",600:"{zinc.600}",700:"{zinc.700}",800:"{zinc.800}",900:"{zinc.900}",950:"{zinc.950}"},primary:{color:"{primary.400}",contrastColor:"{surface.900}",hoverColor:"{primary.300}",activeColor:"{primary.200}"},highlight:{background:"color-mix(in srgb, {primary.400}, transparent 84%)",focusBackground:"color-mix(in srgb, {primary.400}, transparent 76%)",color:"rgba(255,255,255,.87)",focusColor:"rgba(255,255,255,.87)"},mask:{background:"rgba(0,0,0,0.6)",color:"{surface.200}"},formField:{background:"{surface.950}",disabledBackground:"{surface.700}",filledBackground:"{surface.800}",filledHoverBackground:"{surface.800}",filledFocusBackground:"{surface.800}",borderColor:"{surface.600}",hoverBorderColor:"{surface.500}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.300}",color:"{surface.0}",disabledColor:"{surface.400}",placeholderColor:"{surface.400}",invalidPlaceholderColor:"{red.400}",floatLabelColor:"{surface.400}",floatLabelFocusColor:"{primary.color}",floatLabelActiveColor:"{surface.400}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.0}",hoverColor:"{surface.0}",mutedColor:"{surface.400}",hoverMutedColor:"{surface.300}"},content:{background:"{surface.900}",hoverBackground:"{surface.800}",borderColor:"{surface.700}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},popover:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},modal:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.800}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.800}",activeBackground:"{surface.800}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}}}}}};var tP={root:{borderRadius:"{content.border.radius}"}};var rP={root:{padding:"1rem",background:"{content.background}",gap:"0.5rem",transitionDuration:"{transition.duration}"},item:{color:"{text.muted.color}",hoverColor:"{text.color}",borderRadius:"{content.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",hoverColor:"{navigation.item.icon.focus.color}"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},separator:{color:"{navigation.item.icon.color}"}};var oP={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",gap:"0.5rem",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",iconOnlyWidth:"2.5rem",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"},label:{fontWeight:"500"},raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"},badgeSize:"1rem",transitionDuration:"{form.field.transition.duration}"},colorScheme:{light:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",borderColor:"{surface.100}",hoverBorderColor:"{surface.200}",activeBorderColor:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}",focusRing:{color:"{surface.600}",shadow:"none"}},info:{background:"{sky.500}",hoverBackground:"{sky.600}",activeBackground:"{sky.700}",borderColor:"{sky.500}",hoverBorderColor:"{sky.600}",activeBorderColor:"{sky.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{sky.500}",shadow:"none"}},success:{background:"{green.500}",hoverBackground:"{green.600}",activeBackground:"{green.700}",borderColor:"{green.500}",hoverBorderColor:"{green.600}",activeBorderColor:"{green.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{green.500}",shadow:"none"}},warn:{background:"{orange.500}",hoverBackground:"{orange.600}",activeBackground:"{orange.700}",borderColor:"{orange.500}",hoverBorderColor:"{orange.600}",activeBorderColor:"{orange.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{orange.500}",shadow:"none"}},help:{background:"{purple.500}",hoverBackground:"{purple.600}",activeBackground:"{purple.700}",borderColor:"{purple.500}",hoverBorderColor:"{purple.600}",activeBorderColor:"{purple.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{purple.500}",shadow:"none"}},danger:{background:"{red.500}",hoverBackground:"{red.600}",activeBackground:"{red.700}",borderColor:"{red.500}",hoverBorderColor:"{red.600}",activeBorderColor:"{red.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{red.500}",shadow:"none"}},contrast:{background:"{surface.950}",hoverBackground:"{surface.900}",activeBackground:"{surface.800}",borderColor:"{surface.950}",hoverBorderColor:"{surface.900}",activeBorderColor:"{surface.800}",color:"{surface.0}",hoverColor:"{surface.0}",activeColor:"{surface.0}",focusRing:{color:"{surface.950}",shadow:"none"}}},outlined:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",borderColor:"{primary.200}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",borderColor:"{green.200}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",borderColor:"{sky.200}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",borderColor:"{orange.200}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",borderColor:"{purple.200}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",borderColor:"{red.200}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.700}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.700}"}},text:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.700}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},dark:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",borderColor:"{surface.800}",hoverBorderColor:"{surface.700}",activeBorderColor:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}",focusRing:{color:"{surface.300}",shadow:"none"}},info:{background:"{sky.400}",hoverBackground:"{sky.300}",activeBackground:"{sky.200}",borderColor:"{sky.400}",hoverBorderColor:"{sky.300}",activeBorderColor:"{sky.200}",color:"{sky.950}",hoverColor:"{sky.950}",activeColor:"{sky.950}",focusRing:{color:"{sky.400}",shadow:"none"}},success:{background:"{green.400}",hoverBackground:"{green.300}",activeBackground:"{green.200}",borderColor:"{green.400}",hoverBorderColor:"{green.300}",activeBorderColor:"{green.200}",color:"{green.950}",hoverColor:"{green.950}",activeColor:"{green.950}",focusRing:{color:"{green.400}",shadow:"none"}},warn:{background:"{orange.400}",hoverBackground:"{orange.300}",activeBackground:"{orange.200}",borderColor:"{orange.400}",hoverBorderColor:"{orange.300}",activeBorderColor:"{orange.200}",color:"{orange.950}",hoverColor:"{orange.950}",activeColor:"{orange.950}",focusRing:{color:"{orange.400}",shadow:"none"}},help:{background:"{purple.400}",hoverBackground:"{purple.300}",activeBackground:"{purple.200}",borderColor:"{purple.400}",hoverBorderColor:"{purple.300}",activeBorderColor:"{purple.200}",color:"{purple.950}",hoverColor:"{purple.950}",activeColor:"{purple.950}",focusRing:{color:"{purple.400}",shadow:"none"}},danger:{background:"{red.400}",hoverBackground:"{red.300}",activeBackground:"{red.200}",borderColor:"{red.400}",hoverBorderColor:"{red.300}",activeBorderColor:"{red.200}",color:"{red.950}",hoverColor:"{red.950}",activeColor:"{red.950}",focusRing:{color:"{red.400}",shadow:"none"}},contrast:{background:"{surface.0}",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{surface.0}",hoverBorderColor:"{surface.100}",activeBorderColor:"{surface.200}",color:"{surface.950}",hoverColor:"{surface.950}",activeColor:"{surface.950}",focusRing:{color:"{surface.0}",shadow:"none"}}},outlined:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",borderColor:"{primary.700}",color:"{primary.color}"},secondary:{hoverBackground:"rgba(255,255,255,0.04)",activeBackground:"rgba(255,255,255,0.16)",borderColor:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",borderColor:"{green.700}",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",borderColor:"{sky.700}",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",borderColor:"{orange.700}",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",borderColor:"{purple.700}",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",borderColor:"{red.700}",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.500}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.600}",color:"{surface.0}"}},text:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",color:"{primary.color}"},secondary:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}}}};var nP={root:{background:"{content.background}",borderRadius:"{border.radius.xl}",color:"{content.color}",shadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},body:{padding:"1.25rem",gap:"0.5rem"},caption:{gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"500"},subtitle:{color:"{text.muted.color}"}};var iP={root:{transitionDuration:"{transition.duration}"},content:{gap:"0.25rem"},indicatorList:{padding:"1rem",gap:"0.5rem"},indicator:{width:"2rem",height:"0.5rem",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{indicator:{background:"{surface.200}",hoverBackground:"{surface.300}",activeBackground:"{primary.color}"}},dark:{indicator:{background:"{surface.700}",hoverBackground:"{surface.600}",activeBackground:"{primary.color}"}}}};var aP={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",mobileIndent:"1rem"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",icon:{color:"{list.option.icon.color}",focusColor:"{list.option.icon.focus.color}",size:"0.875rem"}},clearIcon:{color:"{form.field.icon.color}"}};var sP={root:{borderRadius:"{border.radius.sm}",width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},icon:{size:"0.875rem",color:"{form.field.color}",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.75rem"},lg:{size:"1rem"}}};var lP={root:{borderRadius:"16px",paddingX:"0.75rem",paddingY:"0.5rem",gap:"0.5rem",transitionDuration:"{transition.duration}"},image:{width:"2rem",height:"2rem"},icon:{size:"1rem"},removeIcon:{size:"1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},colorScheme:{light:{root:{background:"{surface.100}",color:"{surface.800}"},icon:{color:"{surface.800}"},removeIcon:{color:"{surface.800}"}},dark:{root:{background:"{surface.800}",color:"{surface.0}"},icon:{color:"{surface.0}"},removeIcon:{color:"{surface.0}"}}}};var cP={root:{transitionDuration:"{transition.duration}"},preview:{width:"1.5rem",height:"1.5rem",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},panel:{shadow:"{overlay.popover.shadow}",borderRadius:"{overlay.popover.borderRadius}"},colorScheme:{light:{panel:{background:"{surface.800}",borderColor:"{surface.900}"},handle:{color:"{surface.0}"}},dark:{panel:{background:"{surface.900}",borderColor:"{surface.700}"},handle:{color:"{surface.0}"}}}};var dP={icon:{size:"2rem",color:"{overlay.modal.color}"},content:{gap:"1rem"}};var uP={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}",gap:"1rem"},icon:{size:"1.5rem",color:"{overlay.popover.color}"},footer:{gap:"0.5rem",padding:"0 {overlay.popover.padding} {overlay.popover.padding} {overlay.popover.padding}"}};var pP={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}};var fP={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{datatable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{datatable.border.color}",padding:"0.75rem 1rem"},footerCell:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},dropPoint:{color:"{primary.color}"},columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},rowToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},filter:{inlineGap:"0.5rem",overlaySelect:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},overlayPopover:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}",gap:"0.5rem"},rule:{borderColor:"{content.border.color}"},constraintList:{padding:"{list.padding}",gap:"{list.gap}"},constraint:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",separator:{borderColor:"{content.border.color}"},padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"}},paginatorTop:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},row:{stripedBackground:"{surface.50}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},row:{stripedBackground:"{surface.950}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}};var hP={root:{borderColor:"transparent",borderWidth:"0",borderRadius:"0",padding:"0"},header:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",borderRadius:"0"},content:{background:"{content.background}",color:"{content.color}",borderColor:"transparent",borderWidth:"0",padding:"0",borderRadius:"0"},footer:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"1px 0 0 0",padding:"0.75rem 1rem",borderRadius:"0"},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"1px 0 0 0"}};var mP={root:{transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}"},header:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",padding:"0 0 0.5rem 0"},title:{gap:"0.5rem",fontWeight:"500"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},inputIcon:{color:"{form.field.icon.color}"},selectMonth:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},selectYear:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},group:{borderColor:"{content.border.color}",gap:"{overlay.popover.padding}"},dayView:{margin:"0.5rem 0 0 0"},weekDay:{padding:"0.25rem",fontWeight:"500",color:"{content.color}"},date:{hoverBackground:"{content.hover.background}",selectedBackground:"{primary.color}",rangeSelectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{primary.contrast.color}",rangeSelectedColor:"{highlight.color}",width:"2rem",height:"2rem",borderRadius:"50%",padding:"0.25rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},monthView:{margin:"0.5rem 0 0 0"},month:{padding:"0.375rem",borderRadius:"{content.border.radius}"},yearView:{margin:"0.5rem 0 0 0"},year:{padding:"0.375rem",borderRadius:"{content.border.radius}"},buttonbar:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}"},timePicker:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}",gap:"0.5rem",buttonGap:"0.25rem"},colorScheme:{light:{dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"},today:{background:"{surface.200}",color:"{surface.900}"}},dark:{dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"},today:{background:"{surface.700}",color:"{surface.0}"}}}};var gP={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",borderRadius:"{overlay.modal.border.radius}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}",gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}",gap:"0.5rem"}};var _P={root:{borderColor:"{content.border.color}"},content:{background:"{content.background}",color:"{text.color}"},horizontal:{margin:"1rem 0",padding:"0 1rem",content:{padding:"0 0.5rem"}},vertical:{margin:"0 1rem",padding:"0.5rem 0",content:{padding:"0.5rem 0"}}};var bP={root:{background:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)",padding:"0.5rem",borderRadius:"{border.radius.xl}"},item:{borderRadius:"{content.border.radius}",padding:"0.5rem",size:"3rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var vP={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}"},title:{fontSize:"1.5rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"{overlay.modal.padding}"}};var yP={toolbar:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}"},toolbarItem:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}",padding:"{list.padding}"},overlayOption:{focusBackground:"{list.option.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},content:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"}};var xP={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",padding:"0 1.125rem 1.125rem 1.125rem",transitionDuration:"{transition.duration}"},legend:{background:"{content.background}",hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",borderRadius:"{content.border.radius}",borderWidth:"1px",borderColor:"transparent",padding:"0.5rem 0.75rem",gap:"0.5rem",fontWeight:"600",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},content:{padding:"0"}};var wP={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"unset",borderWidth:"0",borderRadius:"0",gap:"0.5rem"},content:{highlightBorderColor:"{primary.color}",padding:"0 1.125rem 1.125rem 1.125rem",gap:"1rem"},file:{padding:"1rem",gap:"1rem",borderColor:"{content.border.color}",info:{gap:"0.5rem"}},fileList:{gap:"0.5rem"},progressbar:{height:"0.25rem"},basic:{gap:"0.5rem"}};var CP={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",activeColor:"{form.field.float.label.active.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",positionY:"{form.field.padding.y}",fontWeight:"500",active:{fontSize:"0.75rem",fontWeight:"400"}},over:{active:{top:"-1.25rem"}},in:{input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},active:{top:"{form.field.padding.y}"}},on:{borderRadius:"{border.radius.xs}",active:{background:"{form.field.background}",padding:"0 0.125rem"}}};var kP={root:{borderWidth:"1px",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},navButton:{background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.100}",hoverColor:"{surface.0}",size:"3rem",gutter:"0.5rem",prev:{borderRadius:"50%"},next:{borderRadius:"50%"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},navIcon:{size:"1.5rem"},thumbnailsContent:{background:"{content.background}",padding:"1rem 0.25rem"},thumbnailNavButton:{size:"2rem",borderRadius:"{content.border.radius}",gutter:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},thumbnailNavButtonIcon:{size:"1rem"},caption:{background:"rgba(0, 0, 0, 0.5)",color:"{surface.100}",padding:"1rem"},indicatorList:{gap:"0.5rem",padding:"1rem"},indicatorButton:{width:"1rem",height:"1rem",activeBackground:"{primary.color}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},insetIndicatorList:{background:"rgba(0, 0, 0, 0.5)"},insetIndicatorButton:{background:"rgba(255, 255, 255, 0.4)",hoverBackground:"rgba(255, 255, 255, 0.6)",activeBackground:"rgba(255, 255, 255, 0.9)"},closeButton:{size:"3rem",gutter:"0.5rem",background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.50}",hoverColor:"{surface.0}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},closeButtonIcon:{size:"1.5rem"},colorScheme:{light:{thumbnailNavButton:{hoverBackground:"{surface.100}",color:"{surface.600}",hoverColor:"{surface.700}"},indicatorButton:{background:"{surface.200}",hoverBackground:"{surface.300}"}},dark:{thumbnailNavButton:{hoverBackground:"{surface.700}",color:"{surface.400}",hoverColor:"{surface.0}"},indicatorButton:{background:"{surface.700}",hoverBackground:"{surface.600}"}}}};var MP={icon:{color:"{form.field.icon.color}"}};var TP={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",top:"{form.field.padding.y}",fontSize:"0.75rem",fontWeight:"400"},input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"}};var EP={root:{transitionDuration:"{transition.duration}"},preview:{icon:{size:"1.5rem"},mask:{background:"{mask.background}",color:"{mask.color}"}},toolbar:{position:{left:"auto",right:"1rem",top:"1rem",bottom:"auto"},blur:"8px",background:"rgba(255,255,255,0.1)",borderColor:"rgba(255,255,255,0.2)",borderWidth:"1px",borderRadius:"30px",padding:".5rem",gap:"0.5rem"},action:{hoverBackground:"rgba(255,255,255,0.1)",color:"{surface.50}",hoverColor:"{surface.0}",size:"3rem",iconSize:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var SP={handle:{size:"15px",hoverSize:"30px",background:"rgba(255,255,255,0.3)",hoverBackground:"rgba(255,255,255,0.3)",borderColor:"unset",hoverBorderColor:"unset",borderWidth:"0",borderRadius:"50%",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"rgba(255,255,255,0.3)",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var PP={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",gap:"0.5rem"},text:{fontWeight:"500"},icon:{size:"1rem"},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}}}};var AP={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{transition.duration}"},display:{hoverBackground:"{content.hover.background}",hoverColor:"{content.hover.color}"}};var BP={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},chip:{borderRadius:"{border.radius.sm}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",color:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",color:"{surface.0}"}}}};var IP={addon:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.icon.color}",borderRadius:"{form.field.border.radius}",padding:"0.5rem",minWidth:"2.5rem"}};var DP={root:{transitionDuration:"{transition.duration}"},button:{width:"2.5rem",borderRadius:"{form.field.border.radius}",verticalPadding:"{form.field.padding.y}"},colorScheme:{light:{button:{background:"transparent",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.500}",activeColor:"{surface.600}"}},dark:{button:{background:"transparent",hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.300}",activeColor:"{surface.200}"}}}};var FP={root:{gap:"0.5rem"},input:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"}}};var RP={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}};var OP={root:{transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},value:{background:"{primary.color}"},range:{background:"{content.border.color}"},text:{color:"{text.muted.color}"}};var $P={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",borderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",shadow:"{form.field.shadow}",borderRadius:"{form.field.border.radius}",transitionDuration:"{form.field.transition.duration}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{option:{stripedBackground:"{surface.50}"}},dark:{option:{stripedBackground:"{surface.900}"}}}};var LP={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",verticalOrientation:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},horizontalOrientation:{padding:"0.5rem 0.75rem",gap:"0.5rem"},transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},overlay:{padding:"0",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",shadow:"{overlay.navigation.shadow}",gap:"0.5rem"},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background.}",color:"{navigation.submenu.label.color}"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var NP={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background}",color:"{navigation.submenu.label.color}"},separator:{borderColor:"{content.border.color}"}};var zP={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.5rem 0.75rem",transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",mobileIndent:"1rem",icon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"}},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var jP={root:{borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},content:{padding:"0.5rem 0.75rem",gap:"0.5rem",sm:{padding:"0.375rem 0.625rem"},lg:{padding:"0.625rem 0.875rem"}},text:{fontSize:"1rem",fontWeight:"500",sm:{fontSize:"0.875rem"},lg:{fontSize:"1.125rem"}},icon:{size:"1.125rem",sm:{size:"1rem"},lg:{size:"1.25rem"}},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem",sm:{size:"0.875rem"},lg:{size:"1.125rem"}},outlined:{root:{borderWidth:"1px"}},simple:{content:{padding:"0"}},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}},outlined:{color:"{blue.600}",borderColor:"{blue.600}"},simple:{color:"{blue.600}"}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}},outlined:{color:"{green.600}",borderColor:"{green.600}"},simple:{color:"{green.600}"}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}},outlined:{color:"{yellow.600}",borderColor:"{yellow.600}"},simple:{color:"{yellow.600}"}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}},outlined:{color:"{red.600}",borderColor:"{red.600}"},simple:{color:"{red.600}"}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}},outlined:{color:"{surface.500}",borderColor:"{surface.500}"},simple:{color:"{surface.500}"}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}},outlined:{color:"{surface.950}",borderColor:"{surface.950}"},simple:{color:"{surface.950}"}}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}},outlined:{color:"{blue.500}",borderColor:"{blue.500}"},simple:{color:"{blue.500}"}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}},outlined:{color:"{green.500}",borderColor:"{green.500}"},simple:{color:"{green.500}"}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}},outlined:{color:"{yellow.500}",borderColor:"{yellow.500}"},simple:{color:"{yellow.500}"}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}},outlined:{color:"{red.500}",borderColor:"{red.500}"},simple:{color:"{red.500}"}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}},outlined:{color:"{surface.400}",borderColor:"{surface.400}"},simple:{color:"{surface.400}"}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}},outlined:{color:"{surface.0}",borderColor:"{surface.0}"},simple:{color:"{surface.0}"}}}}};var VP={root:{borderRadius:"{content.border.radius}",gap:"1rem"},meters:{background:"{content.border.color}",size:"0.5rem"},label:{gap:"0.5rem"},labelMarker:{size:"0.5rem"},labelIcon:{size:"1rem"},labelList:{verticalGap:"0.5rem",horizontalGap:"1rem"}};var UP={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",gap:"0.5rem"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"}};var WP={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}};var GP={root:{gutter:"0.75rem",transitionDuration:"{transition.duration}"},node:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{content.border.color}",color:"{content.color}",selectedColor:"{highlight.color}",hoverColor:"{content.hover.color}",padding:"0.75rem 1rem",toggleablePadding:"0.75rem 1rem 1.25rem 1rem",borderRadius:"{content.border.radius}"},nodeToggleButton:{background:"{content.background}",hoverBackground:"{content.hover.background}",borderColor:"{content.border.color}",color:"{text.muted.color}",hoverColor:"{text.color}",size:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},connector:{color:"{content.border.color}",borderRadius:"{content.border.radius}",height:"24px"}};var HP={root:{outline:{width:"2px",color:"{content.background}"}}};var KP={root:{padding:"0.5rem 1rem",gap:"0.25rem",borderRadius:"{content.border.radius}",background:"{content.background}",color:"{content.color}",transitionDuration:"{transition.duration}"},navButton:{background:"transparent",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}",width:"2.5rem",height:"2.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},currentPageReport:{color:"{text.muted.color}"},jumpToPageInput:{maxWidth:"2.5rem"}};var qP={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"{content.border.color}",borderWidth:"0",borderRadius:"0"},toggleableHeader:{padding:"0.375rem 1.125rem"},title:{fontWeight:"600"},content:{padding:"0 1.125rem 1.125rem 1.125rem"},footer:{padding:"0 1.125rem 1.125rem 1.125rem"}};var XP={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",borderWidth:"1px",color:"{content.color}",padding:"0.25rem 0.25rem",borderRadius:"{content.border.radius}",first:{borderWidth:"1px",topBorderRadius:"{content.border.radius}"},last:{borderWidth:"1px",bottomBorderRadius:"{content.border.radius}"}},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",gap:"0.5rem",padding:"{navigation.item.padding}",borderRadius:"{content.border.radius}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenu:{indent:"1rem"},submenuIcon:{color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}"}};var QP={meter:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:".75rem"},icon:{color:"{form.field.icon.color}"},overlay:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",padding:"{overlay.popover.padding}",shadow:"{overlay.popover.shadow}"},content:{gap:"0.5rem"},colorScheme:{light:{strength:{weakBackground:"{red.500}",mediumBackground:"{amber.500}",strongBackground:"{green.500}"}},dark:{strength:{weakBackground:"{red.400}",mediumBackground:"{amber.400}",strongBackground:"{green.400}"}}}};var YP={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}};var JP={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}"}};var ZP={root:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:"1.25rem"},value:{background:"{primary.color}"},label:{color:"{primary.contrast.color}",fontSize:"0.75rem",fontWeight:"600"}};var e3={colorScheme:{light:{root:{"color.1":"{red.500}","color.2":"{blue.500}","color.3":"{green.500}","color.4":"{yellow.500}"}},dark:{root:{"color.1":"{red.400}","color.2":"{blue.400}","color.3":"{green.400}","color.4":"{yellow.400}"}}}};var t3={root:{width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},icon:{size:"0.75rem",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.5rem"},lg:{size:"1rem"}}};var r3={root:{gap:"0.25rem",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},icon:{size:"1rem",color:"{text.muted.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}};var o3={colorScheme:{light:{root:{background:"rgba(0,0,0,0.1)"}},dark:{root:{background:"rgba(255,255,255,0.3)"}}}};var n3={root:{transitionDuration:"{transition.duration}"},bar:{size:"9px",borderRadius:"{border.radius.sm}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{bar:{background:"{surface.100}"}},dark:{bar:{background:"{surface.800}"}}}};var i3={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"}};var a3={root:{borderRadius:"{form.field.border.radius}"},colorScheme:{light:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}},dark:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}}}};var s3={root:{borderRadius:"{content.border.radius}"},colorScheme:{light:{root:{background:"{surface.200}",animationBackground:"rgba(255,255,255,0.4)"}},dark:{root:{background:"rgba(255, 255, 255, 0.06)",animationBackground:"rgba(255, 255, 255, 0.04)"}}}};var l3={root:{transitionDuration:"{transition.duration}"},track:{background:"{content.border.color}",borderRadius:"{content.border.radius}",size:"3px"},range:{background:"{primary.color}"},handle:{width:"20px",height:"20px",borderRadius:"50%",background:"{content.border.color}",hoverBackground:"{content.border.color}",content:{borderRadius:"50%",hoverBackground:"{content.background}",width:"16px",height:"16px",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.08), 0px 1px 1px 0px rgba(0, 0, 0, 0.14)"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{handle:{contentBackground:"{surface.0}"}},dark:{handle:{contentBackground:"{surface.950}"}}}};var c3={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"}};var d3={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"}};var u3={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",transitionDuration:"{transition.duration}"},gutter:{background:"{content.border.color}"},handle:{size:"24px",background:"transparent",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var p3={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}",activeBackground:"{primary.color}",margin:"0 0 0 1.625rem",size:"2px"},step:{padding:"0.5rem",gap:"1rem"},stepHeader:{padding:"0",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},stepTitle:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},stepNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},steppanels:{padding:"0.875rem 0.5rem 1.125rem 0.5rem"},steppanel:{background:"{content.background}",color:"{content.color}",padding:"0",indent:"1rem"}};var f3={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}"},itemLink:{borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},itemLabel:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},itemNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}};var h3={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},item:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},itemIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"}};var m3={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},tab:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},tabpanel:{background:"{content.background}",color:"{content.color}",padding:"0.875rem 1.125rem 1.125rem 1.125rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",width:"2.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}};var g3={root:{transitionDuration:"{transition.duration}"},tabList:{background:"{content.background}",borderColor:"{content.border.color}"},tab:{borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},tabPanel:{background:"{content.background}",color:"{content.color}"},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}};var _3={root:{fontSize:"0.875rem",fontWeight:"700",padding:"0.25rem 0.5rem",gap:"0.25rem",borderRadius:"{content.border.radius}",roundedBorderRadius:"{border.radius.xl}"},icon:{size:"0.75rem"},colorScheme:{light:{primary:{background:"{primary.100}",color:"{primary.700}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.100}",color:"{green.700}"},info:{background:"{sky.100}",color:"{sky.700}"},warn:{background:"{orange.100}",color:"{orange.700}"},danger:{background:"{red.100}",color:"{red.700}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"color-mix(in srgb, {primary.500}, transparent 84%)",color:"{primary.300}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",color:"{green.300}"},info:{background:"color-mix(in srgb, {sky.500}, transparent 84%)",color:"{sky.300}"},warn:{background:"color-mix(in srgb, {orange.500}, transparent 84%)",color:"{orange.300}"},danger:{background:"color-mix(in srgb, {red.500}, transparent 84%)",color:"{red.300}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}};var b3={root:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.color}",height:"18rem",padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{form.field.border.radius}"},prompt:{gap:"0.25rem"},commandResponse:{margin:"2px 0"}};var v3={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}};var y3={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}};var x3={event:{minHeight:"5rem"},horizontal:{eventContent:{padding:"1rem 0"}},vertical:{eventContent:{padding:"0 1rem"}},eventMarker:{size:"1.125rem",borderRadius:"50%",borderWidth:"2px",background:"{content.background}",borderColor:"{content.border.color}",content:{borderRadius:"50%",size:"0.375rem",background:"{primary.color}",insetShadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},eventConnector:{color:"{content.border.color}",size:"2px"}};var w3={root:{width:"25rem",borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},icon:{size:"1.125rem"},content:{padding:"{overlay.popover.padding}",gap:"0.5rem"},text:{gap:"0.5rem"},summary:{fontWeight:"500",fontSize:"1rem"},detail:{fontWeight:"500",fontSize:"0.875rem"},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem"},colorScheme:{light:{blur:"1.5px",info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}}}},dark:{blur:"10px",info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",detailColor:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}}}}}};var C3={root:{padding:"0.5rem 1rem",borderRadius:"{content.border.radius}",gap:"0.5rem",fontWeight:"500",disabledBackground:"{form.field.disabled.background}",disabledBorderColor:"{form.field.disabled.background}",disabledColor:"{form.field.disabled.color}",invalidBorderColor:"{form.field.invalid.border.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",padding:"0.375rem 0.75rem"},lg:{fontSize:"{form.field.lg.font.size}",padding:"0.625rem 1.25rem"}},icon:{disabledColor:"{form.field.disabled.color}"},content:{left:"0.25rem",top:"0.25rem",checkedShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.02), 0px 1px 2px 0px rgba(0, 0, 0, 0.04)"},colorScheme:{light:{root:{background:"{surface.100}",checkedBackground:"{surface.100}",hoverBackground:"{surface.100}",borderColor:"{surface.100}",color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}",checkedBorderColor:"{surface.100}"},content:{checkedBackground:"{surface.0}"},icon:{color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}"}},dark:{root:{background:"{surface.950}",checkedBackground:"{surface.950}",hoverBackground:"{surface.950}",borderColor:"{surface.950}",color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}",checkedBorderColor:"{surface.950}"},content:{checkedBackground:"{surface.800}"},icon:{color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}"}}}};var k3={root:{width:"2.5rem",height:"1.5rem",borderRadius:"30px",gap:"0.25rem",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},borderWidth:"1px",borderColor:"transparent",hoverBorderColor:"transparent",checkedBorderColor:"transparent",checkedHoverBorderColor:"transparent",invalidBorderColor:"{form.field.invalid.border.color}",transitionDuration:"{form.field.transition.duration}",slideDuration:"0.2s"},handle:{borderRadius:"50%",size:"1rem"},colorScheme:{light:{root:{background:"{surface.300}",disabledBackground:"{form.field.disabled.background}",hoverBackground:"{surface.400}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.0}",disabledBackground:"{form.field.disabled.color}",hoverBackground:"{surface.0}",checkedBackground:"{surface.0}",checkedHoverBackground:"{surface.0}",color:"{text.muted.color}",hoverColor:"{text.color}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}},dark:{root:{background:"{surface.700}",disabledBackground:"{surface.600}",hoverBackground:"{surface.600}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.400}",disabledBackground:"{surface.900}",hoverBackground:"{surface.300}",checkedBackground:"{surface.900}",checkedHoverBackground:"{surface.900}",color:"{surface.900}",hoverColor:"{surface.800}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}}}};var M3={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.75rem"}};var T3={root:{maxWidth:"12.5rem",gutter:"0.25rem",shadow:"{overlay.popover.shadow}",padding:"0.5rem 0.75rem",borderRadius:"{overlay.popover.border.radius}"},colorScheme:{light:{root:{background:"{surface.700}",color:"{surface.0}"}},dark:{root:{background:"{surface.700}",color:"{surface.0}"}}}};var E3={root:{background:"{content.background}",color:"{content.color}",padding:"1rem",gap:"2px",indent:"1rem",transitionDuration:"{transition.duration}"},node:{padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.color}",hoverColor:"{text.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},gap:"0.25rem"},nodeIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}"},nodeToggleButton:{borderRadius:"50%",size:"1.75rem",hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedHoverColor:"{primary.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},loadingIcon:{size:"2rem"},filter:{margin:"0 0 0.5rem 0"}};var S3={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},tree:{padding:"{list.padding}"},clearIcon:{color:"{form.field.icon.color}"},emptyMessage:{padding:"{list.option.padding}"},chip:{borderRadius:"{border.radius.sm}"}};var P3={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{treetable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{treetable.border.color}",padding:"0.75rem 1rem",gap:"0.5rem"},footerCell:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},nodeToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}};var A3={loader:{mask:{background:"{content.background}",color:"{text.muted.color}"},icon:{size:"2rem"}}};var aw=Gr(Vt({},eP),{components:{accordion:Q5,autocomplete:Y5,avatar:J5,badge:Z5,blockui:tP,breadcrumb:rP,button:oP,datepicker:mP,card:nP,carousel:iP,cascadeselect:aP,checkbox:sP,chip:lP,colorpicker:cP,confirmdialog:dP,confirmpopup:uP,contextmenu:pP,dataview:hP,datatable:fP,dialog:gP,divider:_P,dock:bP,drawer:vP,editor:yP,fieldset:xP,fileupload:wP,iftalabel:TP,floatlabel:CP,galleria:kP,iconfield:MP,image:EP,imagecompare:SP,inlinemessage:PP,inplace:AP,inputchips:BP,inputgroup:IP,inputnumber:DP,inputotp:FP,inputtext:RP,knob:OP,listbox:$P,megamenu:LP,menu:NP,menubar:zP,message:jP,metergroup:VP,multiselect:UP,orderlist:WP,organizationchart:GP,overlaybadge:HP,popover:JP,paginator:KP,password:QP,panel:qP,panelmenu:XP,picklist:YP,progressbar:ZP,progressspinner:e3,radiobutton:t3,rating:r3,scrollpanel:n3,select:i3,selectbutton:a3,skeleton:s3,slider:l3,speeddial:c3,splitter:u3,splitbutton:d3,stepper:p3,steps:f3,tabmenu:h3,tabs:m3,tabview:g3,textarea:v3,tieredmenu:y3,tag:_3,terminal:b3,timeline:x3,togglebutton:C3,toggleswitch:k3,tree:E3,treeselect:S3,treetable:P3,toast:w3,toolbar:M3,virtualscroller:A3,tooltip:T3,ripple:o3}});var B3={root:{transitionDuration:"{transition.duration}"},panel:{borderWidth:"0",borderColor:"{content.border.color}"},header:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",padding:"1.125rem",fontWeight:"700",borderRadius:"0",borderWidth:"0 1px 1px 1px",borderColor:"{content.border.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}"},first:{topBorderRadius:"{content.border.radius}",borderWidth:"1px"},last:{bottomBorderRadius:"{content.border.radius}",activeBottomBorderRadius:"0"}},content:{borderWidth:"0 1px 1px 1px",borderColor:"{content.border.color}",background:"{content.background}",color:"{text.color}",padding:"1.125rem"},colorScheme:{light:{header:{background:"{surface.50}",hoverBackground:"{surface.100}",activeBackground:"{surface.50}",activeHoverBackground:"{surface.100}"}},dark:{header:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.800}",activeHoverBackground:"{surface.700}"}}}};var I3={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",focusColor:"{surface.800}"},dropdown:{background:"{surface.50}",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",focusColor:"{surface.0}"},dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"}}}};var D3={root:{width:"2rem",height:"2rem",fontSize:"1rem",background:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},icon:{size:"1rem"},group:{borderColor:"{content.background}",offset:"-0.75rem"},lg:{width:"3rem",height:"3rem",fontSize:"1.5rem",icon:{size:"1.5rem"},group:{offset:"-1rem"}},xl:{width:"4rem",height:"4rem",fontSize:"2rem",icon:{size:"2rem"}}};var F3={root:{borderRadius:"{border.radius.md}",padding:"0 0.5rem",fontSize:"0.75rem",fontWeight:"700",minWidth:"1.5rem",height:"1.5rem"},dot:{size:"0.5rem"},sm:{fontSize:"0.625rem",minWidth:"1.25rem",height:"1.25rem"},lg:{fontSize:"0.875rem",minWidth:"1.75rem",height:"1.75rem"},xl:{fontSize:"1rem",minWidth:"2rem",height:"2rem"},colorScheme:{light:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.500}",color:"{surface.0}"},info:{background:"{sky.500}",color:"{surface.0}"},warn:{background:"{orange.500}",color:"{surface.0}"},danger:{background:"{red.500}",color:"{surface.0}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"{green.400}",color:"{green.950}"},info:{background:"{sky.400}",color:"{sky.950}"},warn:{background:"{orange.400}",color:"{orange.950}"},danger:{background:"{red.400}",color:"{red.950}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}};var R3={primitive:{borderRadius:{none:"0",xs:"2px",sm:"4px",md:"6px",lg:"8px",xl:"12px"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"}},semantic:{transitionDuration:"0.2s",focusRing:{width:"0",style:"none",color:"transparent",offset:"0"},disabledOpacity:"0.6",iconSize:"1rem",anchorGutter:"2px",primary:{50:"{emerald.50}",100:"{emerald.100}",200:"{emerald.200}",300:"{emerald.300}",400:"{emerald.400}",500:"{emerald.500}",600:"{emerald.600}",700:"{emerald.700}",800:"{emerald.800}",900:"{emerald.900}",950:"{emerald.950}"},formField:{paddingX:"0.75rem",paddingY:"0.625rem",sm:{fontSize:"0.875rem",paddingX:"0.625rem",paddingY:"0.5rem"},lg:{fontSize:"1.125rem",paddingX:"0.875rem",paddingY:"0.75rem"},borderRadius:"{border.radius.md}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{transition.duration}"},list:{padding:"0.5rem 0",gap:"0",header:{padding:"0.625rem 1rem 0 1rem"},option:{padding:"0.625rem 1rem",borderRadius:"0"},optionGroup:{padding:"0.625rem 1rem",fontWeight:"600"}},content:{borderRadius:"{border.radius.md}"},mask:{transitionDuration:"0.15s"},navigation:{list:{padding:"0.5rem 0",gap:"0"},item:{padding:"0.625rem 1rem",borderRadius:"0",gap:"0.5rem"},submenuLabel:{padding:"0.625rem 1rem",fontWeight:"600"},submenuIcon:{size:"0.875rem"}},overlay:{select:{borderRadius:"{border.radius.md}",shadow:"0 2px 12px 0 rgba(0, 0, 0, 0.1)"},popover:{borderRadius:"{border.radius.md}",padding:"1rem",shadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},modal:{borderRadius:"{border.radius.xl}",padding:"1.5rem",shadow:"0 1px 3px rgba(0, 0, 0, 0.3)"},navigation:{shadow:"0 2px 12px 0 rgba(0, 0, 0, 0.1)"}},colorScheme:{light:{surface:{0:"#ffffff",50:"{slate.50}",100:"{slate.100}",200:"{slate.200}",300:"{slate.300}",400:"{slate.400}",500:"{slate.500}",600:"{slate.600}",700:"{slate.700}",800:"{slate.800}",900:"{slate.900}",950:"{slate.950}"},primary:{color:"{primary.500}",contrastColor:"#ffffff",hoverColor:"{primary.600}",activeColor:"{primary.700}"},highlight:{background:"{primary.50}",focusBackground:"{primary.100}",color:"{primary.700}",focusColor:"{primary.800}"},focusRing:{shadow:"0 0 0 0.2rem {primary.200}"},mask:{background:"rgba(0,0,0,0.4)",color:"{surface.200}"},formField:{background:"{surface.0}",disabledBackground:"{surface.200}",filledBackground:"{surface.50}",filledHoverBackground:"{surface.50}",filledFocusBackground:"{surface.0}",borderColor:"{surface.300}",hoverBorderColor:"{primary.color}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.400}",color:"{surface.700}",disabledColor:"{surface.500}",placeholderColor:"{surface.500}",invalidPlaceholderColor:"{red.600}",floatLabelColor:"{surface.500}",floatLabelFocusColor:"{primary.600}",floatLabelActiveColor:"{surface.500}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.500}",shadow:"none"},text:{color:"{surface.700}",hoverColor:"{surface.800}",mutedColor:"{surface.500}",hoverMutedColor:"{surface.600}"},content:{background:"{surface.0}",hoverBackground:"{surface.100}",borderColor:"{surface.200}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},popover:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},modal:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.100}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}"}},optionGroup:{background:"transparent",color:"{text.color}"}},navigation:{item:{focusBackground:"{surface.100}",activeBackground:"{surface.100}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}},submenuLabel:{background:"transparent",color:"{text.color}"},submenuIcon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}}},dark:{surface:{0:"#ffffff",50:"{zinc.50}",100:"{zinc.100}",200:"{zinc.200}",300:"{zinc.300}",400:"{zinc.400}",500:"{zinc.500}",600:"{zinc.600}",700:"{zinc.700}",800:"{zinc.800}",900:"{zinc.900}",950:"{zinc.950}"},primary:{color:"{primary.400}",contrastColor:"{surface.900}",hoverColor:"{primary.300}",activeColor:"{primary.200}"},highlight:{background:"color-mix(in srgb, {primary.400}, transparent 84%)",focusBackground:"color-mix(in srgb, {primary.400}, transparent 76%)",color:"rgba(255,255,255,.87)",focusColor:"rgba(255,255,255,.87)"},focusRing:{shadow:"0 0 0 0.2rem color-mix(in srgb, {primary.color}, transparent 80%)"},mask:{background:"rgba(0,0,0,0.6)",color:"{surface.200}"},formField:{background:"{surface.950}",disabledBackground:"{surface.700}",filledBackground:"{surface.800}",filledHoverBackground:"{surface.800}",filledFocusBackground:"{surface.950}",borderColor:"{surface.600}",hoverBorderColor:"{primary.color}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.300}",color:"{surface.0}",disabledColor:"{surface.400}",placeholderColor:"{surface.400}",invalidPlaceholderColor:"{red.400}",floatLabelColor:"{surface.400}",floatLabelFocusColor:"{primary.color}",floatLabelActiveColor:"{surface.400}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"none"},text:{color:"{surface.0}",hoverColor:"{surface.0}",mutedColor:"{surface.400}",hoverMutedColor:"{surface.300}"},content:{background:"{surface.900}",hoverBackground:"{surface.800}",borderColor:"{surface.700}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},popover:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},modal:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.800}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}"}},optionGroup:{background:"transparent",color:"{text.color}"}},navigation:{item:{focusBackground:"{surface.800}",activeBackground:"{surface.800}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}},submenuLabel:{background:"transparent",color:"{text.color}"},submenuIcon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}}}}}};var O3={root:{borderRadius:"{content.border.radius}"}};var $3={root:{padding:"1.25rem",background:"{content.background}",gap:"0.5rem",transitionDuration:"{transition.duration}"},item:{color:"{text.muted.color}",hoverColor:"{text.color}",borderRadius:"{content.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",hoverColor:"{navigation.item.icon.focus.color}"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},separator:{color:"{navigation.item.icon.color}"}};var L3={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",gap:"0.5rem",paddingX:"1rem",paddingY:"{form.field.padding.y}",iconOnlyWidth:"2.75rem",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"},label:{fontWeight:"600"},raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",offset:"{form.field.focus.ring.offset}"},badgeSize:"1rem",transitionDuration:"{form.field.transition.duration}"},colorScheme:{light:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"transparent",shadow:"0 0 0 0.2rem {primary.200}"}},secondary:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",borderColor:"{surface.100}",hoverBorderColor:"{surface.200}",activeBorderColor:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}",focusRing:{color:"transparent",shadow:"0 0 0 0.2rem {surface.200}"}},info:{background:"{sky.500}",hoverBackground:"{sky.600}",activeBackground:"{sky.700}",borderColor:"{sky.500}",hoverBorderColor:"{sky.600}",activeBorderColor:"{sky.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"transparent",shadow:"0 0 0 0.2rem {sky.200}"}},success:{background:"{green.500}",hoverBackground:"{green.600}",activeBackground:"{green.700}",borderColor:"{green.500}",hoverBorderColor:"{green.600}",activeBorderColor:"{green.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"transparent",shadow:"0 0 0 0.2rem {green.200}"}},warn:{background:"{orange.500}",hoverBackground:"{orange.600}",activeBackground:"{orange.700}",borderColor:"{orange.500}",hoverBorderColor:"{orange.600}",activeBorderColor:"{orange.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"transparent",shadow:"0 0 0 0.2rem {orange.200}"}},help:{background:"{purple.500}",hoverBackground:"{purple.600}",activeBackground:"{purple.700}",borderColor:"{purple.500}",hoverBorderColor:"{purple.600}",activeBorderColor:"{purple.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"transparent",shadow:"0 0 0 0.2rem {purple.200}"}},danger:{background:"{red.500}",hoverBackground:"{red.600}",activeBackground:"{red.700}",borderColor:"{red.500}",hoverBorderColor:"{red.600}",activeBorderColor:"{red.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"transparent",shadow:"0 0 0 0.2rem {red.200}"}},contrast:{background:"{surface.950}",hoverBackground:"{surface.900}",activeBackground:"{surface.800}",borderColor:"{surface.950}",hoverBorderColor:"{surface.900}",activeBorderColor:"{surface.800}",color:"{surface.0}",hoverColor:"{surface.0}",activeColor:"{surface.0}",focusRing:{color:"transparent",shadow:"0 0 0 0.2rem {surface.400}"}}},outlined:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",borderColor:"{primary.200}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",borderColor:"{green.200}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",borderColor:"{sky.200}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",borderColor:"{orange.200}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",borderColor:"{purple.200}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",borderColor:"{red.200}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.700}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.700}"}},text:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.100}",activeBackground:"{surface.200}",color:"{surface.600}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.700}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},dark:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"transparent",shadow:"0 0 0 0.2rem color-mix(in srgb, {primary.color}, transparent 80%)"}},secondary:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",borderColor:"{surface.800}",hoverBorderColor:"{surface.700}",activeBorderColor:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}",focusRing:{color:"transparent",shadow:"0 0 0 0.2rem color-mix(in srgb, {surface.300}, transparent 80%)"}},info:{background:"{sky.400}",hoverBackground:"{sky.300}",activeBackground:"{sky.200}",borderColor:"{sky.400}",hoverBorderColor:"{sky.300}",activeBorderColor:"{sky.200}",color:"{sky.950}",hoverColor:"{sky.950}",activeColor:"{sky.950}",focusRing:{color:"transparent",shadow:"0 0 0 0.2rem color-mix(in srgb, {sky.400}, transparent 80%)"}},success:{background:"{green.400}",hoverBackground:"{green.300}",activeBackground:"{green.200}",borderColor:"{green.400}",hoverBorderColor:"{green.300}",activeBorderColor:"{green.200}",color:"{green.950}",hoverColor:"{green.950}",activeColor:"{green.950}",focusRing:{color:"transparent",shadow:"0 0 0 0.2rem color-mix(in srgb, {green.400}, transparent 80%)"}},warn:{background:"{orange.400}",hoverBackground:"{orange.300}",activeBackground:"{orange.200}",borderColor:"{orange.400}",hoverBorderColor:"{orange.300}",activeBorderColor:"{orange.200}",color:"{orange.950}",hoverColor:"{orange.950}",activeColor:"{orange.950}",focusRing:{color:"transparent",shadow:"0 0 0 0.2rem color-mix(in srgb, {orange.400}, transparent 80%)"}},help:{background:"{purple.400}",hoverBackground:"{purple.300}",activeBackground:"{purple.200}",borderColor:"{purple.400}",hoverBorderColor:"{purple.300}",activeBorderColor:"{purple.200}",color:"{purple.950}",hoverColor:"{purple.950}",activeColor:"{purple.950}",focusRing:{color:"transparent",shadow:"0 0 0 0.2rem color-mix(in srgb, {purple.400}, transparent 80%)"}},danger:{background:"{red.400}",hoverBackground:"{red.300}",activeBackground:"{red.200}",borderColor:"{red.400}",hoverBorderColor:"{red.300}",activeBorderColor:"{red.200}",color:"{red.950}",hoverColor:"{red.950}",activeColor:"{red.950}",focusRing:{color:"transparent",shadow:"0 0 0 0.2rem color-mix(in srgb, {red.400}, transparent 80%)"}},contrast:{background:"{surface.0}",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{surface.0}",hoverBorderColor:"{surface.100}",activeBorderColor:"{surface.200}",color:"{surface.950}",hoverColor:"{surface.950}",activeColor:"{surface.950}",focusRing:{color:"transparent",shadow:"0 0 0 0.2rem color-mix(in srgb, {surface.0}, transparent 80%)"}}},outlined:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",borderColor:"{primary.700}",color:"{primary.color}"},secondary:{hoverBackground:"rgba(255,255,255,0.04)",activeBackground:"rgba(255,255,255,0.16)",borderColor:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",borderColor:"{green.700}",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",borderColor:"{sky.700}",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",borderColor:"{orange.700}",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {help.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {help.400}, transparent 84%)",borderColor:"{purple.700}",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {danger.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {danger.400}, transparent 84%)",borderColor:"{red.700}",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.500}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.600}",color:"{surface.0}"}},text:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",color:"{primary.color}"},secondary:{hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}}}};var N3={root:{background:"{content.background}",borderRadius:"{border.radius.lg}",color:"{content.color}",shadow:"0 .125rem .25rem rgba(0,0,0,.075)"},body:{padding:"1.5rem",gap:"0.75rem"},caption:{gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"700"},subtitle:{color:"{text.muted.color}"}};var z3={root:{transitionDuration:"{transition.duration}"},content:{gap:"0.25rem"},indicatorList:{padding:"1rem",gap:"0.5rem"},indicator:{width:"1rem",height:"1rem",borderRadius:"50",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{indicator:{background:"{surface.200}",hoverBackground:"{surface.300}",activeBackground:"{primary.color}"}},dark:{indicator:{background:"{surface.700}",hoverBackground:"{surface.600}",activeBackground:"{primary.color}"}}}};var j3={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",mobileIndent:"1.25rem"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",icon:{color:"{list.option.icon.color}",focusColor:"{list.option.icon.focus.color}",size:"0.875rem"}},clearIcon:{color:"{form.field.icon.color}"}};var V3={root:{borderRadius:"{border.radius.sm}",width:"1.5rem",height:"1.5rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1.25rem",height:"1.25rem"},lg:{width:"1.75rem",height:"1.75rem"}},icon:{size:"1rem",color:"{form.field.color}",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.75rem"},lg:{size:"1.25rem"}}};var U3={root:{borderRadius:"16px",paddingX:"0.875rem",paddingY:"0.625rem",gap:"0.5rem",transitionDuration:"{transition.duration}"},image:{width:"2rem",height:"2rem"},icon:{size:"1rem"},removeIcon:{size:"1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{root:{background:"{surface.100}",color:"{surface.800}"},icon:{color:"{surface.800}"},removeIcon:{color:"{surface.800}"}},dark:{root:{background:"{surface.800}",color:"{surface.0}"},icon:{color:"{surface.0}"},removeIcon:{color:"{surface.0}"}}}};var W3={root:{transitionDuration:"{transition.duration}"},preview:{width:"1.75rem",height:"1.75rem",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},panel:{shadow:"{overlay.popover.shadow}",borderRadius:"{overlay.popover.borderRadius}"},colorScheme:{light:{panel:{background:"{surface.800}",borderColor:"{surface.900}"},handle:{color:"{surface.0}"}},dark:{panel:{background:"{surface.900}",borderColor:"{surface.700}"},handle:{color:"{surface.0}"}}}};var G3={icon:{size:"2rem",color:"{overlay.modal.color}"},content:{gap:"1rem"}};var H3={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}",gap:"1rem"},icon:{size:"1.5rem",color:"{overlay.popover.color}"},footer:{gap:"0.5rem",padding:"0 {overlay.popover.padding} {overlay.popover.padding} {overlay.popover.padding}"}};var K3={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1.25rem"},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background.}",color:"{navigation.submenu.label.color}"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}};var q3={root:{transitionDuration:"{transition.duration}"},header:{borderColor:"{datatable.border.color}",borderWidth:"1px 0 1px 0",padding:"0.75rem 1rem"},headerCell:{selectedBackground:"{highlight.background}",borderColor:"{datatable.border.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},columnTitle:{fontWeight:"700"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},bodyCell:{borderColor:"{datatable.border.color}",padding:"0.75rem 1rem"},footerCell:{borderColor:"{datatable.border.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"700"},footer:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},dropPoint:{color:"{primary.color}"},columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},rowToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},filter:{inlineGap:"0.5rem",overlaySelect:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},overlayPopover:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}",gap:"0.5rem"},rule:{borderColor:"{content.border.color}"},constraintList:{padding:"{list.padding}",gap:"{list.gap}"},constraint:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",separator:{borderColor:"{content.border.color}"},padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"}},paginatorTop:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},header:{background:"{surface.50}",color:"{text.color}"},headerCell:{background:"{surface.50}",hoverBackground:"{surface.100}",color:"{text.color}"},footer:{background:"{surface.50}",color:"{text.color}"},footerCell:{background:"{surface.50}",color:"{text.color}"},row:{stripedBackground:"{surface.50}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},header:{background:"{surface.800}",color:"{text.color}"},headerCell:{background:"{surface.800}",hoverBackground:"{surface.700}",color:"{text.color}"},footer:{background:"{surface.800}",color:"{text.color}"},footerCell:{background:"{surface.800}",color:"{text.color}"},row:{stripedBackground:"{surface.950}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}};var X3={root:{borderColor:"{content.border.color}",borderWidth:"1px",borderRadius:"4px",padding:"0"},header:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0",padding:"0.875rem 1.125rem",borderRadius:"5px 5px 0 0"},content:{background:"{content.background}",color:"{content.color}",borderColor:"transparent",borderWidth:"0",padding:"0",borderRadius:"5px"},footer:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"1px 0 0 0",padding:"0.875rem 1.125rem",borderRadius:"0 0 5px 5px"},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"1px 0 0 0"},colorScheme:{light:{header:{background:"{surface.50}",color:"{text.color}"}},dark:{header:{background:"{surface.800}",color:"{text.color}"}}}};var Q3={root:{transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}"},header:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",padding:"0 0 0.75rem 0"},title:{gap:"0.5rem",fontWeight:"700"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},inputIcon:{color:"{form.field.icon.color}"},selectMonth:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.375rem 0.625rem",borderRadius:"{content.border.radius}"},selectYear:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.375rem 0.625rem",borderRadius:"{content.border.radius}"},group:{borderColor:"{content.border.color}",gap:"{overlay.popover.padding}"},dayView:{margin:"0.75rem 0 0 0"},weekDay:{padding:"0.375rem",fontWeight:"700",color:"{content.color}"},date:{hoverBackground:"{content.hover.background}",selectedBackground:"{primary.color}",rangeSelectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{primary.contrast.color}",rangeSelectedColor:"{highlight.color}",width:"2.5rem",height:"2.5rem",borderRadius:"50%",padding:"0.375rem",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},monthView:{margin:"0.75rem 0 0 0"},month:{padding:"0.5rem",borderRadius:"{content.border.radius}"},yearView:{margin:"0.75rem 0 0 0"},year:{padding:"0.5rem",borderRadius:"{content.border.radius}"},buttonbar:{padding:"0.75rem 0 0 0",borderColor:"{content.border.color}"},timePicker:{padding:"0.75rem 0 0 0",borderColor:"{content.border.color}",gap:"0.5rem",buttonGap:"0.25rem"},colorScheme:{light:{dropdown:{background:"{surface.50}",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"},today:{background:"{surface.200}",color:"{surface.900}"}},dark:{dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"},today:{background:"{surface.700}",color:"{surface.0}"}}}};var Y3={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",borderRadius:"{overlay.modal.border.radius}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}",gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}",gap:"0.5rem"}};var J3={root:{borderColor:"{content.border.color}"},content:{background:"{content.background}",color:"{text.color}"},horizontal:{margin:"1.125rem 0",padding:"0 1.125rem",content:{padding:"0 0.625rem"}},vertical:{margin:"0 1.125rem",padding:"1.125rem 0",content:{padding:"0.625rem 0"}}};var Z3={root:{background:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)",padding:"0.5rem",borderRadius:"{border.radius.lg}"},item:{borderRadius:"{content.border.radius}",padding:"0.5rem",size:"3rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var eA={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}"},title:{fontSize:"1.5rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"{overlay.modal.padding}"}};var tA={toolbar:{borderColor:"{content.border.color}",borderRadius:"{content.border.radius}"},toolbarItem:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}",padding:"{list.padding}"},overlayOption:{focusBackground:"{list.option.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},content:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},colorScheme:{light:{toolbar:{background:"{surface.50}"}},dark:{toolbar:{background:"{surface.800}"}}}};var rA={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",padding:"0.75rem 1.125rem 1.125rem 1.125rem",transitionDuration:"{transition.duration}"},legend:{borderRadius:"{content.border.radius}",borderWidth:"1px",borderColor:"{content.border.color}",padding:"0.625rem 0.875rem",gap:"0.5rem",fontWeight:"700",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},content:{padding:"0"},colorScheme:{light:{legend:{background:"{surface.50}",hoverBackground:"{surface.100}",color:"{text.color}",hoverColor:"{text.hover.color}"}},dark:{legend:{background:"{surface.800}",hoverBackground:"{surface.700}",color:"{text.color}",hoverColor:"{text.hover.color}"}}}};var oA={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},header:{borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",padding:"1.125rem",borderRadius:"5px 5px 0 0",gap:"0.5rem"},content:{highlightBorderColor:"{primary.color}",padding:"1.125rem",gap:"1rem"},file:{padding:"1rem",gap:"1rem",borderColor:"{content.border.color}",info:{gap:"0.5rem"}},fileList:{gap:"0.5rem"},progressbar:{height:"0.25rem"},basic:{gap:"0.5rem"},colorScheme:{light:{header:{background:"{surface.50}",color:"{text.color}"}},dark:{header:{background:"{surface.800}",color:"{text.color}"}}}};var nA={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",activeColor:"{form.field.float.label.active.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",positionY:"{form.field.padding.y}",fontWeight:"500",active:{fontSize:"0.75rem",fontWeight:"400"}},over:{active:{top:"-1.375rem"}},in:{input:{paddingTop:"1.875rem",paddingBottom:"{form.field.padding.y}"},active:{top:"{form.field.padding.y}"}},on:{borderRadius:"{border.radius.xs}",active:{background:"{form.field.background}",padding:"0 0.125rem"}}};var iA={root:{borderWidth:"1px",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},navButton:{background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.100}",hoverColor:"{surface.0}",size:"3rem",gutter:"0",prev:{borderRadius:"0 12px 12px 0"},next:{borderRadius:"12px 0 0 12px"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},navIcon:{size:"1.5rem"},thumbnailsContent:{padding:"1rem 0.25rem"},thumbnailNavButton:{size:"2rem",borderRadius:"{content.border.radius}",gutter:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},thumbnailNavButtonIcon:{size:"1rem"},caption:{background:"rgba(0, 0, 0, 0.5)",color:"{surface.100}",padding:"1rem"},indicatorList:{gap:"0.5rem",padding:"1rem"},indicatorButton:{width:"1rem",height:"1rem",activeBackground:"{primary.color}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},insetIndicatorList:{background:"rgba(0, 0, 0, 0.5)"},insetIndicatorButton:{background:"rgba(255, 255, 255, 0.4)",hoverBackground:"rgba(255, 255, 255, 0.6)",activeBackground:"rgba(255, 255, 255, 0.9)"},closeButton:{size:"3rem",gutter:"0.5rem",background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.50}",hoverColor:"{surface.0}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},closeButtonIcon:{size:"1.5rem"},colorScheme:{light:{thumbnailsContent:{background:"{surface.50}"},thumbnailNavButton:{hoverBackground:"{surface.100}",color:"{surface.600}",hoverColor:"{surface.700}"},indicatorButton:{background:"{surface.200}",hoverBackground:"{surface.300}"}},dark:{thumbnailsContent:{background:"{surface.800}"},thumbnailNavButton:{hoverBackground:"{surface.700}",color:"{surface.400}",hoverColor:"{surface.0}"},indicatorButton:{background:"{surface.700}",hoverBackground:"{surface.600}"}}}};var aA={icon:{color:"{form.field.icon.color}"}};var sA={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",top:"{form.field.padding.y}",fontSize:"0.75rem",fontWeight:"400"},input:{paddingTop:"1.875rem",paddingBottom:"{form.field.padding.y}"}};var lA={root:{transitionDuration:"{transition.duration}"},preview:{icon:{size:"1.5rem"},mask:{background:"{mask.background}",color:"{mask.color}"}},toolbar:{position:{left:"auto",right:"1rem",top:"1rem",bottom:"auto"},blur:"8px",background:"rgba(255,255,255,0.1)",borderColor:"rgba(255,255,255,0.2)",borderWidth:"1px",borderRadius:"{content.border.radius}",padding:".5rem",gap:"0.5rem"},action:{hoverBackground:"rgba(255,255,255,0.1)",color:"{surface.50}",hoverColor:"{surface.0}",size:"3rem",iconSize:"1.5rem",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var cA={handle:{size:"15px",hoverSize:"30px",background:"rgba(255,255,255,0.3)",hoverBackground:"rgba(255,255,255,0.3)",borderColor:"rgba(255,255,255,0.3)",hoverBorderColor:"rgba(255,255,255,0.3)",borderWidth:"3px",borderRadius:"50%",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"rgba(255,255,255,0.3)",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var dA={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",gap:"0.5rem"},text:{fontWeight:"500"},icon:{size:"1.125rem"},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"color-mix(in srgb, {blue.50}, transparent 5%)",color:"{blue.600}",shadow:"none"},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"color-mix(in srgb, {green.50}, transparent 5%)",color:"{green.600}",shadow:"none"},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"color-mix(in srgb,{yellow.50}, transparent 5%)",color:"{yellow.600}",shadow:"none"},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"color-mix(in srgb, {red.50}, transparent 5%)",color:"{red.600}",shadow:"none"},secondary:{background:"{surface.100}",borderColor:"{surface.100}",color:"{surface.600}",shadow:"none"},contrast:{background:"{surface.900}",borderColor:"{surface.900}",color:"{surface.50}",shadow:"none"}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.500}, transparent 84%)",color:"{blue.500}",shadow:"none"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.500}, transparent 84%)",color:"{green.500}",shadow:"none"},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.500}, transparent 84%)",color:"{yellow.500}",shadow:"none"},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.500}, transparent 84%)",color:"{red.500}",shadow:"none"},secondary:{background:"{surface.800}",borderColor:"{surface.800}",color:"{surface.300}",shadow:"none"},contrast:{background:"{surface.0}",borderColor:"{surface.0}",color:"{surface.950}",shadow:"none"}}}};var uA={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{transition.duration}"},display:{hoverBackground:"{content.hover.background}",hoverColor:"{content.hover.color}"}};var pA={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},chip:{borderRadius:"{border.radius.sm}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",color:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",color:"{surface.0}"}}}};var fA={addon:{borderRadius:"{form.field.border.radius}",padding:"0.625rem 0.5rem",minWidth:"2.75rem"},colorScheme:{light:{addon:{background:"{surface.50}",borderColor:"{form.field.border.color}",color:"{text.muted.color}"}},dark:{addon:{background:"{surface.800}",borderColor:"{form.field.border.color}",color:"{text.muted.color}"}}}};var hA={root:{transitionDuration:"{transition.duration}"},button:{width:"2.5rem",borderRadius:"{form.field.border.radius}",verticalPadding:"{form.field.padding.y}"},colorScheme:{light:{button:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"}},dark:{button:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.500}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"}}}};var mA={root:{gap:"0.5rem"},input:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"}}};var gA={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}};var _A={root:{transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},value:{background:"{primary.color}"},range:{background:"{content.border.color}"},text:{color:"{text.muted.color}"}};var bA={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",borderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",shadow:"{form.field.shadow}",borderRadius:"{form.field.border.radius}",transitionDuration:"{form.field.transition.duration}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.5rem",gutterEnd:"0.5rem"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{option:{stripedBackground:"{surface.50}"}},dark:{option:{stripedBackground:"{surface.900}"}}}};var vA={root:{borderColor:"transparent",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",verticalOrientation:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},horizontalOrientation:{padding:"0.75rem 1rem",gap:"0.5rem"},transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"0.75rem 1rem"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},overlay:{padding:"0",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",shadow:"{overlay.navigation.shadow}",gap:"0.5rem"},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background.}",color:"{navigation.submenu.label.color}"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"2rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{root:{background:"{surface.50}"}},dark:{root:{background:"{surface.800}"}}}};var yA={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background.}",color:"{navigation.submenu.label.color}"},separator:{borderColor:"{content.border.color}"}};var xA={root:{borderColor:"transparent",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.75rem 1rem",transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"0.75rem 1rem"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",mobileIndent:"1.25rem",icon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"}},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"2rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{root:{background:"{surface.50}"}},dark:{root:{background:"{surface.800}"}}}};var wA={root:{borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},content:{padding:"0.75rem 1rem",gap:"0.5rem",sm:{padding:"0.5rem 0.625rem"},lg:{padding:"0.75rem 0.875rem"}},text:{fontSize:"1rem",fontWeight:"500",sm:{fontSize:"0.875rem"},lg:{fontSize:"1.125rem"}},icon:{size:"1.25rem",sm:{size:"1rem"},lg:{size:"1.5rem"}},closeButton:{width:"2rem",height:"2rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem",sm:{fontSize:"0.875rem"},lg:{fontSize:"1.125rem"}},outlined:{root:{borderWidth:"1px"}},simple:{content:{padding:"0"}},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"transparent",color:"{blue.600}",shadow:"none",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{focus.ring.color}",shadow:"0 0 0 0.2rem {blue.200}"}},outlined:{color:"{blue.600}",borderColor:"{blue.600}"},simple:{color:"{blue.600}"}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"transparent",color:"{green.600}",shadow:"none",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{focus.ring.color}",shadow:"0 0 0 0.2rem {green.200}"}},outlined:{color:"{green.600}",borderColor:"{green.600}"},simple:{color:"{green.600}"}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"transparent",color:"{yellow.600}",shadow:"none",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{focus.ring.color}",shadow:"0 0 0 0.2rem {yellow.200}"}},outlined:{color:"{yellow.600}",borderColor:"{yellow.600}"},simple:{color:"{yellow.600}"}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"transparent",color:"{red.600}",shadow:"none",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{focus.ring.color}",shadow:"0 0 0 0.2rem {red.200}"}},outlined:{color:"{red.600}",borderColor:"{red.600}"},simple:{color:"{red.600}"}},secondary:{background:"{surface.100}",borderColor:"transparent",color:"{surface.600}",shadow:"none",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{focus.ring.color}",shadow:"0 0 0 0.2rem {surface.200}"}},outlined:{color:"{surface.500}",borderColor:"{surface.500}"},simple:{color:"{surface.500}"}},contrast:{background:"{surface.900}",borderColor:"transparent",color:"{surface.50}",shadow:"none",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{focus.ring.color}",shadow:"0 0 0 0.2rem {surface.400}"}},outlined:{color:"{surface.900}",borderColor:"{surface.900}"},simple:{color:"{surface.900}"}}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"transparent",color:"{blue.500}",shadow:"none",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{focus.ring.color}",shadow:"0 0 0 0.2rem color-mix(in srgb, {blue.500}, transparent 80%)"}},outlined:{color:"{blue.500}",borderColor:"{blue.500}"},simple:{color:"{blue.500}"}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"transparent",color:"{green.500}",shadow:"none",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{focus.ring.color}",shadow:"0 0 0 0.2rem color-mix(in srgb, {green.500}, transparent 80%)"}},outlined:{color:"{green.500}",borderColor:"{green.500}"},simple:{color:"{green.500}"}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"transparent",color:"{yellow.500}",shadow:"none",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{focus.ring.color}",shadow:"0 0 0 0.2rem color-mix(in srgb, {yellow.500}, transparent 80%)"}},outlined:{color:"{yellow.500}",borderColor:"{yellow.500}"},simple:{color:"{yellow.500}"}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"transparent",color:"{red.500}",shadow:"none",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{focus.ring.color}",shadow:"0 0 0 0.2rem color-mix(in srgb, {red.500}, transparent 80%)"}},outlined:{color:"{red.500}",borderColor:"{red.500}"},simple:{color:"{red.500}"}},secondary:{background:"{surface.800}",borderColor:"transparent",color:"{surface.300}",shadow:"none",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{focus.ring.color}",shadow:"0 0 0 0.2rem color-mix(in srgb, {surface.300}, transparent 80%)"}},outlined:{color:"{surface.400}",borderColor:"{surface.400}"},simple:{color:"{surface.400}"}},contrast:{background:"{surface.0}",borderColor:"transparent",color:"{surface.950}",shadow:"none",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{focus.ring.color}",shadow:"0 0 0 0.2rem color-mix(in srgb, {surface.950}, transparent 80%)"}},outlined:{color:"{surface.0}",borderColor:"{surface.0}"},simple:{color:"{surface.0}"}}}}};var CA={root:{borderRadius:"{content.border.radius}",gap:"1rem"},meters:{background:"{content.border.color}",size:"0.625rem"},label:{gap:"0.5rem"},labelMarker:{size:"0.5rem"},labelIcon:{size:"1rem"},labelList:{verticalGap:"0.5rem",horizontalGap:"1rem"}};var kA={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",gap:"0.5rem"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"}};var MA={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}};var TA={root:{gutter:"0.75rem",transitionDuration:"{transition.duration}"},node:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{content.border.color}",color:"{content.color}",selectedColor:"{highlight.color}",hoverColor:"{content.hover.color}",padding:"1rem 1.25rem",toggleablePadding:"1rem 1.25rem 1.5rem 1.25rem",borderRadius:"{content.border.radius}"},nodeToggleButton:{background:"{content.background}",hoverBackground:"{content.hover.background}",borderColor:"{content.border.color}",color:"{text.muted.color}",hoverColor:"{text.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},connector:{color:"{content.border.color}",borderRadius:"{content.border.radius}",height:"24px"}};var EA={root:{outline:{width:"2px",color:"{content.background}"}}};var SA={root:{padding:"0.5rem 1rem",gap:"0.25rem",borderRadius:"{content.border.radius}",background:"{content.background}",color:"{content.color}",transitionDuration:"{transition.duration}"},navButton:{background:"transparent",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}",width:"2.5rem",height:"2.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},currentPageReport:{color:"{text.muted.color}"},jumpToPageInput:{maxWidth:"2.5rem"}};var PA={root:{borderColor:"{content.border.color}",borderRadius:"{content.border.radius}"},header:{borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",padding:"1.125rem",borderRadius:"5px 5px 0 0"},toggleableHeader:{padding:"0.25rem 1.125rem"},title:{fontWeight:"700"},content:{padding:"1.125rem"},footer:{padding:"1.125rem"},colorScheme:{light:{header:{background:"{surface.50}",color:"{text.color}"}},dark:{header:{background:"{surface.800}",color:"{text.color}"}}}};var AA={root:{gap:"0",transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",borderWidth:"1px",color:"{content.color}",padding:"0.25rem 0.25rem",borderRadius:"0",first:{borderWidth:"1px 1px 0 1px",topBorderRadius:"{content.border.radius}"},last:{borderWidth:"0 1px 1px 1px",bottomBorderRadius:"{content.border.radius}"}},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",gap:"0.5rem",padding:"{navigation.item.padding}",borderRadius:"{content.border.radius}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenu:{indent:"1rem"},submenuIcon:{color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}"}};var BA={meter:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:".75rem"},icon:{color:"{form.field.icon.color}"},overlay:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",padding:"{overlay.popover.padding}",shadow:"{overlay.popover.shadow}"},content:{gap:"0.75rem"},colorScheme:{light:{strength:{weakBackground:"{red.500}",mediumBackground:"{amber.500}",strongBackground:"{green.500}"}},dark:{strength:{weakBackground:"{red.400}",mediumBackground:"{amber.400}",strongBackground:"{green.400}"}}}};var IA={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}};var DA={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}"}};var FA={root:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:"1.5rem"},value:{background:"{primary.color}"},label:{color:"{primary.contrast.color}",fontSize:"0.875rem",fontWeight:"600"}};var RA={colorScheme:{light:{root:{"color.1":"{pink.500}","color.2":"{sky.500}","color.3":"{emerald.500}","color.4":"{amber.500}"}},dark:{root:{"color.1":"{pink.400}","color.2":"{sky.400}","color.3":"{emerald.400}","color.4":"{amber.400}"}}}};var OA={root:{width:"1.5rem",height:"1.5rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1.25rem",height:"1.25rem"},lg:{width:"1.75rem",height:"1.75rem"}},icon:{size:"1rem",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.75rem"},lg:{size:"1.25rem"}}};var $A={root:{gap:"0.25rem",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},icon:{size:"1.25rem",color:"{text.muted.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}};var LA={colorScheme:{light:{root:{background:"rgba(0,0,0,0.1)"}},dark:{root:{background:"rgba(255,255,255,0.3)"}}}};var NA={root:{transitionDuration:"{transition.duration}"},bar:{size:"9px",borderRadius:"{border.radius.sm}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{bar:{background:"{surface.200}"}},dark:{bar:{background:"{surface.700}"}}}};var zA={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.5rem",gutterEnd:"0.5rem"},emptyMessage:{padding:"{list.option.padding}"}};var jA={root:{borderRadius:"{form.field.border.radius}"},colorScheme:{light:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}},dark:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}}}};var VA={root:{borderRadius:"{content.border.radius}"},colorScheme:{light:{root:{background:"{surface.200}",animationBackground:"rgba(255,255,255,0.4)"}},dark:{root:{background:"rgba(255, 255, 255, 0.06)",animationBackground:"rgba(255, 255, 255, 0.04)"}}}};var UA={root:{transitionDuration:"{transition.duration}"},track:{background:"{content.border.color}",borderRadius:"{content.border.radius}",size:"3px"},range:{background:"{primary.color}"},handle:{width:"16px",height:"16px",borderRadius:"50%",background:"{primary.color}",hoverBackground:"{primary.color}",content:{borderRadius:"50%",hoverBackground:"{primary.color}",width:"12px",height:"12px",shadow:"none"},focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},colorScheme:{light:{handle:{contentBackground:"{surface.0}"}},dark:{handle:{contentBackground:"{surface.950}"}}}};var WA={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"}};var GA={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"}};var HA={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",transitionDuration:"{transition.duration}"},gutter:{background:"{content.border.color}"},handle:{size:"24px",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{handle:{background:"{surface.400}"}},dark:{handle:{background:"{surface.600}"}}}};var KA={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}",activeBackground:"{primary.color}",margin:"0 0 0 1.625rem",size:"2px"},step:{padding:"0.5rem",gap:"1rem"},stepHeader:{padding:"0",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},stepTitle:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},stepNumber:{background:"{content.background}",activeBackground:"{primary.color}",borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",activeColor:"{primary.contrast.color}",size:"2.25rem",fontSize:"1.125rem",fontWeight:"500",borderRadius:"50%",shadow:"none"},steppanels:{padding:"0.875rem 0.5rem 1.125rem 0.5rem"},steppanel:{background:"{content.background}",color:"{content.color}",padding:"0",indent:"1rem"}};var qA={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}"},itemLink:{borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},itemLabel:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},itemNumber:{background:"{content.background}",activeBackground:"{primary.color}",borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",activeColor:"{primary.contrast.color}",size:"2.25rem",fontSize:"1.125rem",fontWeight:"500",borderRadius:"50%",shadow:"none"}};var XA={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0",background:"{content.background}",borderColor:"{content.border.color}"},item:{borderWidth:"2px 0 0 0",borderColor:"transparent",hoverBorderColor:"transparent",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.25rem",fontWeight:"600",margin:"0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},itemIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},activeBar:{height:"0",bottom:"0",background:"transparent"},colorScheme:{light:{item:{background:"{surface.50}",hoverBackground:"{surface.100}",activeBackground:"{surface.0}"}},dark:{item:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.900}"}}}};var QA={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0",background:"{content.background}",borderColor:"{content.border.color}"},tab:{borderWidth:"2px 0 0 0",borderColor:"transparent",hoverBorderColor:"transparent",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.25rem",fontWeight:"700",margin:"0",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},tabpanel:{background:"{content.background}",color:"{content.color}",padding:"0.875rem 1.125rem 1.125rem 1.125rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",width:"2.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},activeBar:{height:"0",bottom:"0",background:"transparent"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"},tab:{background:"{surface.50}",hoverBackground:"{surface.100}",activeBackground:"{surface.0}"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"},tab:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.900}"}}}};var YA={root:{transitionDuration:"{transition.duration}"},tabList:{background:"{content.background}",borderColor:"{content.border.color}"},tab:{borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},tabPanel:{background:"{content.background}",color:"{content.color}"},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}};var JA={root:{fontSize:"0.875rem",fontWeight:"700",padding:"0.25rem 0.5rem",gap:"0.25rem",borderRadius:"{content.border.radius}",roundedBorderRadius:"{border.radius.xl}"},icon:{size:"0.75rem"},colorScheme:{light:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.500}",color:"{surface.0}"},info:{background:"{sky.500}",color:"{surface.0}"},warn:{background:"{orange.500}",color:"{surface.0}"},danger:{background:"{red.500}",color:"{surface.0}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"{green.400}",color:"{green.950}"},info:{background:"{sky.400}",color:"{sky.950}"},warn:{background:"{orange.400}",color:"{orange.950}"},danger:{background:"{red.400}",color:"{red.950}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}};var ZA={root:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.color}",height:"18rem",padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{form.field.border.radius}"},prompt:{gap:"0.25rem"},commandResponse:{margin:"2px 0"}};var e4={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}};var t4={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1.25rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}};var r4={event:{minHeight:"5rem"},horizontal:{eventContent:{padding:"1rem 0"}},vertical:{eventContent:{padding:"0 1rem"}},eventMarker:{size:"1.125rem",borderRadius:"50%",borderWidth:"2px",background:"{content.background}",borderColor:"{primary.color}",content:{borderRadius:"50%",size:"0.375rem",background:"transparent",insetShadow:"none"}},eventConnector:{color:"{content.border.color}",size:"2px"}};var o4={root:{width:"25rem",borderRadius:"{content.border.radius}",borderWidth:"0 0 0 6px",transitionDuration:"{transition.duration}"},icon:{size:"1.25rem"},content:{padding:"{overlay.popover.padding}",gap:"0.5rem"},text:{gap:"0.5rem"},summary:{fontWeight:"500",fontSize:"1rem"},detail:{fontWeight:"500",fontSize:"0.875rem"},closeButton:{width:"2rem",height:"2rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem"},colorScheme:{light:{blur:"1.5px",info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.500}",color:"{blue.600}",detailColor:"{surface.700}",shadow:"{overlay.popover.shadow}",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{focus.ring.color}",shadow:"0 0 0 0.2rem {blue.200}"}}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.500}",color:"{green.600}",detailColor:"{surface.700}",shadow:"{overlay.popover.shadow}",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{focus.ring.color}",shadow:"0 0 0 0.2rem {green.200}"}}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.500}",color:"{yellow.600}",detailColor:"{surface.700}",shadow:"{overlay.popover.shadow}",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{focus.ring.color}",shadow:"0 0 0 0.2rem {yellow.200}"}}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.500}",color:"{red.600}",detailColor:"{surface.700}",shadow:"{overlay.popover.shadow}",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{focus.ring.color}",shadow:"0 0 0 0.2rem {red.200}"}}},secondary:{background:"{surface.100}",borderColor:"{surface.500}",color:"{surface.600}",detailColor:"{surface.700}",shadow:"{overlay.popover.shadow}",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{focus.ring.color}",shadow:"0 0 0 0.2rem {surface.200}"}}},contrast:{background:"{surface.900}",borderColor:"{primary.color}",color:"{surface.50}",detailColor:"{surface.0}",shadow:"{overlay.popover.shadow}",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{focus.ring.color}",shadow:"0 0 0 0.2rem {surface.400}"}}}},dark:{blur:"10px",info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",detailColor:"{surface.0}",shadow:"{overlay.popover.shadow}",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{focus.ring.color}",shadow:"0 0 0 0.2rem color-mix(in srgb, {blue.500}, transparent 80%)"}}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",detailColor:"{surface.0}",shadow:"{overlay.popover.shadow}",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{focus.ring.color}",shadow:"0 0 0 0.2rem color-mix(in srgb, {green.500}, transparent 80%)"}}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",detailColor:"{surface.0}",shadow:"{overlay.popover.shadow}",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{focus.ring.color}",shadow:"0 0 0 0.2rem color-mix(in srgb, {yellow.500}, transparent 80%)"}}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",detailColor:"{surface.0}",shadow:"{overlay.popover.shadow}",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{focus.ring.color}",shadow:"0 0 0 0.2rem color-mix(in srgb, {red.500}, transparent 80%)"}}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",detailColor:"{surface.0}",shadow:"{overlay.popover.shadow}",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{focus.ring.color}",shadow:"0 0 0 0.2rem color-mix(in srgb, {surface.300}, transparent 80%)"}}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",detailColor:"{surface.950}",shadow:"{overlay.popover.shadow}",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{focus.ring.color}",shadow:"0 0 0 0.2rem color-mix(in srgb, {surface.950}, transparent 80%)"}}}}}};var n4={root:{padding:"0.625rem 1rem",borderRadius:"{content.border.radius}",gap:"0.5rem",fontWeight:"500",background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.color}",hoverColor:"{form.field.color}",checkedBackground:"{highlight.background}",checkedColor:"{highlight.color}",checkedBorderColor:"{form.field.border.color}",disabledBackground:"{form.field.disabled.background}",disabledBorderColor:"{form.field.disabled.background}",disabledColor:"{form.field.disabled.color}",invalidBorderColor:"{form.field.invalid.border.color}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",padding:"0.5rem 0.75rem"},lg:{fontSize:"{form.field.lg.font.size}",padding:"0.75rem 1.25rem"}},icon:{color:"{text.muted.color}",hoverColor:"{text.muted.color}",checkedColor:"{highlight.color}",disabledColor:"{form.field.disabled.color}"},content:{left:"0.25rem",top:"0.25rem",checkedBackground:"transparent",checkedShadow:"none"},colorScheme:{light:{root:{hoverBackground:"{surface.100}"}},dark:{root:{hoverBackground:"{surface.800}"}}}};var i4={root:{width:"3rem",height:"1.75rem",borderRadius:"30px",gap:"0.25rem",shadow:"{form.field.shadow}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},borderWidth:"1px",borderColor:"transparent",hoverBorderColor:"transparent",checkedBorderColor:"transparent",checkedHoverBorderColor:"transparent",invalidBorderColor:"{form.field.invalid.border.color}",transitionDuration:"{form.field.transition.duration}",slideDuration:"0.2s"},handle:{borderRadius:"50%",size:"1.25rem"},colorScheme:{light:{root:{background:"{surface.300}",disabledBackground:"{form.field.disabled.background}",hoverBackground:"{surface.400}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.0}",disabledBackground:"{form.field.disabled.color}",hoverBackground:"{surface.0}",checkedBackground:"{surface.0}",checkedHoverBackground:"{surface.0}",color:"{text.muted.color}",hoverColor:"{text.color}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}},dark:{root:{background:"{surface.700}",disabledBackground:"{surface.600}",hoverBackground:"{surface.600}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.400}",disabledBackground:"{surface.900}",hoverBackground:"{surface.300}",checkedBackground:"{surface.900}",checkedHoverBackground:"{surface.900}",color:"{surface.900}",hoverColor:"{surface.800}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}}}};var a4={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.75rem"},colorScheme:{light:{root:{background:"{surface.50}",color:"{content.color}"}},dark:{root:{background:"{surface.800}",color:"{content.color}"}}}};var s4={root:{maxWidth:"12.5rem",gutter:"0.25rem",shadow:"{overlay.popover.shadow}",padding:"0.625rem 0.75rem",borderRadius:"{overlay.popover.border.radius}"},colorScheme:{light:{root:{background:"{surface.700}",color:"{surface.0}"}},dark:{root:{background:"{surface.700}",color:"{surface.0}"}}}};var l4={root:{background:"{content.background}",color:"{content.color}",padding:"1rem",gap:"2px",indent:"1rem",transitionDuration:"{transition.duration}"},node:{padding:"0.375rem 0.625rem",borderRadius:"{content.border.radius}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.color}",hoverColor:"{text.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"},gap:"0.25rem"},nodeIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}"},nodeToggleButton:{borderRadius:"50%",size:"1.75rem",hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedHoverColor:"{primary.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},loadingIcon:{size:"2rem"},filter:{margin:"0 0 0.5rem 0"}};var c4={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},tree:{padding:"{list.padding}"},clearIcon:{color:"{form.field.icon.color}"},emptyMessage:{padding:"{list.option.padding}"},chip:{borderRadius:"{border.radius.sm}"}};var d4={root:{transitionDuration:"{transition.duration}"},header:{borderColor:"{treetable.border.color}",borderWidth:"1px 0 1px 0",padding:"0.75rem 1rem"},headerCell:{selectedBackground:"{highlight.background}",borderColor:"{treetable.border.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},columnTitle:{fontWeight:"700"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{sr.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},bodyCell:{borderColor:"{treetable.border.color}",padding:"0.75rem 1rem",gap:"0.5rem"},footerCell:{borderColor:"{treetable.border.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"700"},footer:{borderColor:"{treetable.border.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},nodeToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},header:{background:"{surface.50}",color:"{text.color}"},headerCell:{background:"{surface.50}",hoverBackground:"{surface.100}",color:"{text.color}"},footer:{background:"{surface.50}",color:"{text.color}"},footerCell:{background:"{surface.50}",color:"{text.color}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},header:{background:"{surface.800}",color:"{text.color}"},headerCell:{background:"{surface.800}",hoverBackground:"{surface.700}",color:"{text.color}"},footer:{background:"{surface.800}",color:"{text.color}"},footerCell:{background:"{surface.800}",color:"{text.color}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}};var u4={loader:{mask:{background:"{content.background}",color:"{text.muted.color}"},icon:{size:"2rem"}}};var p4=Gr(Vt({},R3),{components:{accordion:B3,autocomplete:I3,avatar:D3,badge:F3,blockui:O3,breadcrumb:$3,button:L3,datepicker:Q3,card:N3,carousel:z3,cascadeselect:j3,checkbox:V3,chip:U3,colorpicker:W3,confirmdialog:G3,confirmpopup:H3,contextmenu:K3,dataview:X3,datatable:q3,dialog:Y3,divider:J3,dock:Z3,drawer:eA,editor:tA,fieldset:rA,fileupload:oA,iftalabel:sA,floatlabel:nA,galleria:iA,iconfield:aA,image:lA,imagecompare:cA,inlinemessage:dA,inplace:uA,inputchips:pA,inputgroup:fA,inputnumber:hA,inputotp:mA,inputtext:gA,knob:_A,listbox:bA,megamenu:vA,menu:yA,menubar:xA,message:wA,metergroup:CA,multiselect:kA,orderlist:MA,organizationchart:TA,overlaybadge:EA,popover:DA,paginator:SA,password:BA,panel:PA,panelmenu:AA,picklist:IA,progressbar:FA,progressspinner:RA,radiobutton:OA,rating:$A,scrollpanel:NA,select:zA,selectbutton:jA,skeleton:VA,slider:UA,speeddial:WA,splitter:HA,splitbutton:GA,stepper:KA,steps:qA,tabmenu:XA,tabs:QA,tabview:YA,textarea:e4,tieredmenu:t4,tag:JA,terminal:ZA,timeline:r4,togglebutton:n4,toggleswitch:i4,tree:l4,treeselect:c4,treetable:d4,toast:o4,toolbar:a4,virtualscroller:u4,tooltip:s4,ripple:LA}});var f4={root:{transitionDuration:"{transition.duration}"},panel:{borderWidth:"0",borderColor:"{content.border.color}"},header:{background:"{content.background}",hoverBackground:"{content.hover.background}",activeBackground:"{content.background}",activeHoverBackground:"{content.hover.background}",color:"{text.color}",hoverColor:"{text.color}",activeColor:"{text.color}",padding:"1.125rem",fontWeight:"700",borderRadius:"0",borderWidth:"0 1px 1px 1px",borderColor:"{content.border.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-2px",shadow:"{focus.ring.shadow}"},toggleIcon:{color:"{text.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}"},first:{topBorderRadius:"{content.border.radius}",borderWidth:"1px"},last:{bottomBorderRadius:"{content.border.radius}",activeBottomBorderRadius:"0"}},content:{borderWidth:"0 1px 1px 1px",borderColor:"{content.border.color}",background:"{content.background}",color:"{text.color}",padding:"1.125rem"}};var h4={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},background:"{form.field.background}",color:"{form.field.icon.color}",hoverColor:"{form.field.icon.color}",activeColor:"{form.field.icon.color}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},chip:{borderRadius:"{border.radius.xs}"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{chip:{focusBackground:"{surface.300}",focusColor:"{surface.900}"},dropdown:{hoverBackground:"{surface.200}",activeBackground:"{surface.300}"}},dark:{chip:{focusBackground:"{surface.600}",focusColor:"{surface.0}"},dropdown:{hoverBackground:"{surface.700}",activeBackground:"{surface.600}"}}}};var m4={root:{width:"2rem",height:"2rem",fontSize:"1rem",background:"{content.hover.background}",color:"{content.color}",borderRadius:"{content.border.radius}"},icon:{size:"1rem"},group:{borderColor:"{content.background}",offset:"-0.75rem"},lg:{width:"3rem",height:"3rem",fontSize:"1.5rem",icon:{size:"1.5rem"},group:{offset:"-1rem"}},xl:{width:"4rem",height:"4rem",fontSize:"2rem",icon:{size:"2rem"},group:{offset:"-1.5rem"}}};var g4={root:{borderRadius:"{border.radius.md}",padding:"0 0.5rem",fontSize:"0.75rem",fontWeight:"700",minWidth:"1.5rem",height:"1.5rem"},dot:{size:"0.5rem"},sm:{fontSize:"0.625rem",minWidth:"1.25rem",height:"1.25rem"},lg:{fontSize:"0.875rem",minWidth:"1.75rem",height:"1.75rem"},xl:{fontSize:"1rem",minWidth:"2rem",height:"2rem"},colorScheme:{light:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.200}",color:"{surface.700}"},success:{background:"{green.600}",color:"{surface.0}"},info:{background:"{sky.600}",color:"{surface.0}"},warn:{background:"{orange.600}",color:"{surface.0}"},danger:{background:"{red.600}",color:"{surface.0}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.700}",color:"{surface.200}"},success:{background:"{green.500}",color:"{green.950}"},info:{background:"{sky.500}",color:"{sky.950}"},warn:{background:"{orange.500}",color:"{orange.950}"},danger:{background:"{red.500}",color:"{red.950}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}};var _4={primitive:{borderRadius:{none:"0",xs:"2px",sm:"4px",md:"6px",lg:"8px",xl:"12px"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"}},semantic:{transitionDuration:"0s",focusRing:{width:"2px",style:"solid",color:"{primary.color}",offset:"2px",shadow:"none"},disabledOpacity:"0.6",iconSize:"1rem",anchorGutter:"0",primary:{50:"{emerald.50}",100:"{emerald.100}",200:"{emerald.200}",300:"{emerald.300}",400:"{emerald.400}",500:"{emerald.500}",600:"{emerald.600}",700:"{emerald.700}",800:"{emerald.800}",900:"{emerald.900}",950:"{emerald.950}"},formField:{paddingX:"0.75rem",paddingY:"0.5rem",sm:{fontSize:"0.875rem",paddingX:"0.625rem",paddingY:"0.375rem"},lg:{fontSize:"1.125rem",paddingX:"0.875rem",paddingY:"0.625rem"},borderRadius:"{border.radius.xs}",focusRing:{width:"2px",style:"solid",color:"{primary.color}",offset:"-1px",shadow:"none"},transitionDuration:"{transition.duration}"},list:{padding:"0.125rem 0",gap:"0",header:{padding:"0.5rem 0.75rem 0.375rem 0.75rem"},option:{padding:"0.5rem 0.75rem",borderRadius:"0"},optionGroup:{padding:"0.5rem 0.75rem",fontWeight:"700"}},content:{borderRadius:"{border.radius.xs}"},mask:{transitionDuration:"0.15s"},navigation:{list:{padding:"0.125rem 0",gap:"0"},item:{padding:"0.5rem 0.75rem",borderRadius:"0",gap:"0.5rem"},submenuLabel:{padding:"0.5rem 0.75rem",fontWeight:"700"},submenuIcon:{size:"0.875rem"}},overlay:{select:{borderRadius:"{border.radius.xs}",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},popover:{borderRadius:"{border.radius.xs}",padding:"0.75rem",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},modal:{borderRadius:"{border.radius.xs}",padding:"1.25rem",shadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)"},navigation:{shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"}},colorScheme:{light:{surface:{0:"#ffffff",50:"{slate.50}",100:"{slate.100}",200:"{slate.200}",300:"{slate.300}",400:"{slate.400}",500:"{slate.500}",600:"{slate.600}",700:"{slate.700}",800:"{slate.800}",900:"{slate.900}",950:"{slate.950}"},primary:{color:"{primary.600}",contrastColor:"#ffffff",hoverColor:"{primary.700}",activeColor:"{primary.800}"},highlight:{background:"{primary.600}",focusBackground:"{primary.700}",color:"#ffffff",focusColor:"#ffffff"},mask:{background:"rgba(0,0,0,0.4)",color:"{surface.200}"},formField:{background:"{surface.0}",disabledBackground:"{surface.300}",filledBackground:"{surface.100}",filledHoverBackground:"{surface.100}",filledFocusBackground:"{surface.100}",borderColor:"{surface.500}",hoverBorderColor:"{surface.500}",focusBorderColor:"{surface.500}",invalidBorderColor:"{red.500}",color:"{surface.900}",disabledColor:"{surface.600}",placeholderColor:"{surface.600}",invalidPlaceholderColor:"{red.600}",floatLabelColor:"{surface.600}",floatLabelFocusColor:"{primary.color}",floatLabelActiveColor:"{surface.600}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.900}",shadow:"none"},text:{color:"{surface.900}",hoverColor:"{surface.950}",mutedColor:"{surface.600}",hoverMutedColor:"{surface.700}"},content:{background:"{surface.0}",hoverBackground:"{surface.200}",borderColor:"{surface.400}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.0}",borderColor:"transparent",color:"{text.color}"},popover:{background:"{surface.0}",borderColor:"transparent",color:"{text.color}"},modal:{background:"{surface.0}",borderColor:"transparent",color:"{text.color}"}},list:{option:{focusBackground:"{surface.200}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{text.muted.color}",focusColor:"{text.hover.muted.color}"}},optionGroup:{background:"transparent",color:"{text.color}"}},navigation:{item:{focusBackground:"{primary.color}",activeBackground:"{surface.200}",color:"{text.color}",focusColor:"{primary.contrast.color}",activeColor:"{text.hover.color}",icon:{color:"{text.muted.color}",focusColor:"{primary.contrast.color}",activeColor:"{text.hover.muted.color}"}},submenuLabel:{background:"transparent",color:"{text.color}"},submenuIcon:{color:"{text.muted.color}",focusColor:"{primary.contrast.color}",activeColor:"{text.hover.muted.color}"}}},dark:{surface:{0:"#ffffff",50:"{zinc.50}",100:"{zinc.100}",200:"{zinc.200}",300:"{zinc.300}",400:"{zinc.400}",500:"{zinc.500}",600:"{zinc.600}",700:"{zinc.700}",800:"{zinc.800}",900:"{zinc.900}",950:"{zinc.950}"},primary:{color:"{primary.500}",contrastColor:"{surface.950}",hoverColor:"{primary.400}",activeColor:"{primary.300}"},highlight:{background:"{primary.500}",focusBackground:"{primary.400}",color:"{surface.950}",focusColor:"{surface.950}"},mask:{background:"rgba(0,0,0,0.6)",color:"{surface.200}"},formField:{background:"{surface.950}",disabledBackground:"{surface.700}",filledBackground:"{surface.800}",filledHoverBackground:"{surface.800}",filledFocusBackground:"{surface.800}",borderColor:"{surface.500}",hoverBorderColor:"{surface.500}",focusBorderColor:"{surface.500}",invalidBorderColor:"{red.400}",color:"{surface.0}",disabledColor:"{surface.400}",placeholderColor:"{surface.400}",invalidPlaceholderColor:"{red.400}",floatLabelColor:"{surface.400}",floatLabelFocusColor:"{primary.color}",floatLabelActiveColor:"{surface.400}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.0}",shadow:"none"},text:{color:"{surface.0}",hoverColor:"{surface.0}",mutedColor:"{surface.400}",hoverMutedColor:"{surface.300}"},content:{background:"{surface.900}",hoverBackground:"{surface.700}",borderColor:"{surface.500}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},popover:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},modal:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.700}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{text.muted.color}",focusColor:"{text.hover.muted.color}"}},optionGroup:{background:"transparent",color:"{text.color}"}},navigation:{item:{focusBackground:"{primary.color}",activeBackground:"{surface.700}",color:"{text.color}",focusColor:"{primary.contrast.color}",activeColor:"{text.color}",icon:{color:"{text.muted.color}",focusColor:"{primary.contrast.color}",activeColor:"{text.hover.muted.color}"}},submenuLabel:{background:"transparent",color:"{text.color}"},submenuIcon:{color:"{text.muted.color}",focusColor:"{primary.contrast.color}",activeColor:"{text.hover.muted.color}"}}}}}};var b4={root:{borderRadius:"{content.border.radius}"}};var v4={root:{padding:"1rem",background:"{content.background}",gap:"0.5rem",transitionDuration:"{transition.duration}"},item:{color:"{text.muted.color}",hoverColor:"{text.color}",borderRadius:"{content.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{text.muted.color}",hoverColor:"{text.color}"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},separator:{color:"{navigation.item.icon.color}"}};var y4={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",gap:"0.5rem",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",iconOnlyWidth:"2.5rem",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"},label:{fontWeight:"700"},raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"},badgeSize:"1rem",transitionDuration:"{form.field.transition.duration}"},colorScheme:{light:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.200}",hoverBackground:"{surface.300}",activeBackground:"{surface.400}",borderColor:"{surface.200}",hoverBorderColor:"{surface.300}",activeBorderColor:"{surface.400}",color:"{surface.700}",hoverColor:"{surface.800}",activeColor:"{surface.900}",focusRing:{color:"{surface.700}",shadow:"none"}},info:{background:"{sky.600}",hoverBackground:"{sky.700}",activeBackground:"{sky.800}",borderColor:"{sky.600}",hoverBorderColor:"{sky.700}",activeBorderColor:"{sky.800}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{sky.600}",shadow:"none"}},success:{background:"{green.600}",hoverBackground:"{green.700}",activeBackground:"{green.800}",borderColor:"{green.600}",hoverBorderColor:"{green.700}",activeBorderColor:"{green.800}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{green.600}",shadow:"none"}},warn:{background:"{orange.600}",hoverBackground:"{orange.700}",activeBackground:"{orange.800}",borderColor:"{orange.600}",hoverBorderColor:"{orange.700}",activeBorderColor:"{orange.800}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{orange.600}",shadow:"none"}},help:{background:"{purple.600}",hoverBackground:"{purple.700}",activeBackground:"{purple.800}",borderColor:"{purple.600}",hoverBorderColor:"{purple.700}",activeBorderColor:"{purple.800}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{purple.600}",shadow:"none"}},danger:{background:"{red.600}",hoverBackground:"{red.700}",activeBackground:"{red.800}",borderColor:"{red.600}",hoverBorderColor:"{red.700}",activeBorderColor:"{red.800}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{red.600}",shadow:"none"}},contrast:{background:"{surface.950}",hoverBackground:"{surface.900}",activeBackground:"{surface.800}",borderColor:"{surface.950}",hoverBorderColor:"{surface.900}",activeBorderColor:"{surface.800}",color:"{surface.0}",hoverColor:"{surface.0}",activeColor:"{surface.0}",focusRing:{color:"{surface.950}",shadow:"none"}}},outlined:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",borderColor:"{primary.color}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.600}",color:"{surface.600}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",borderColor:"{green.600}",color:"{green.600}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",borderColor:"{sky.600}",color:"{sky.600}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",borderColor:"{orange.600}",color:"{orange.600}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",borderColor:"{purple.600}",color:"{purple.600}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",borderColor:"{red.600}",color:"{red.600}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.950}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.900}",color:"{surface.900}"}},text:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.600}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",color:"{green.600}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",color:"{sky.600}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",color:"{orange.600}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",color:"{purple.600}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",color:"{red.600}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.900}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},dark:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.700}",hoverBackground:"{surface.600}",activeBackground:"{surface.500}",borderColor:"{surface.700}",hoverBorderColor:"{surface.600}",activeBorderColor:"{surface.500}",color:"{surface.200}",hoverColor:"{surface.100}",activeColor:"{surface.0}",focusRing:{color:"{surface.200}",shadow:"none"}},info:{background:"{sky.500}",hoverBackground:"{sky.400}",activeBackground:"{sky.300}",borderColor:"{sky.500}",hoverBorderColor:"{sky.400}",activeBorderColor:"{sky.300}",color:"{sky.950}",hoverColor:"{sky.950}",activeColor:"{sky.950}",focusRing:{color:"{sky.500}",shadow:"none"}},success:{background:"{green.500}",hoverBackground:"{green.400}",activeBackground:"{green.300}",borderColor:"{green.500}",hoverBorderColor:"{green.400}",activeBorderColor:"{green.300}",color:"{green.950}",hoverColor:"{green.950}",activeColor:"{green.950}",focusRing:{color:"{green.500}",shadow:"none"}},warn:{background:"{orange.500}",hoverBackground:"{orange.400}",activeBackground:"{orange.300}",borderColor:"{orange.500}",hoverBorderColor:"{orange.400}",activeBorderColor:"{orange.300}",color:"{orange.950}",hoverColor:"{orange.950}",activeColor:"{orange.950}",focusRing:{color:"{orange.500}",shadow:"none"}},help:{background:"{purple.500}",hoverBackground:"{purple.400}",activeBackground:"{purple.300}",borderColor:"{purple.500}",hoverBorderColor:"{purple.400}",activeBorderColor:"{purple.300}",color:"{purple.950}",hoverColor:"{purple.950}",activeColor:"{purple.950}",focusRing:{color:"{purple.500}",shadow:"none"}},danger:{background:"{red.500}",hoverBackground:"{red.400}",activeBackground:"{red.300}",borderColor:"{red.500}",hoverBorderColor:"{red.400}",activeBorderColor:"{red.300}",color:"{red.950}",hoverColor:"{red.950}",activeColor:"{red.950}",focusRing:{color:"{red.500}",shadow:"none"}},contrast:{background:"{surface.0}",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{surface.0}",hoverBorderColor:"{surface.100}",activeBorderColor:"{surface.200}",color:"{surface.950}",hoverColor:"{surface.950}",activeColor:"{surface.950}",focusRing:{color:"{surface.0}",shadow:"none"}}},outlined:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",borderColor:"{primary.color}",color:"{primary.color}"},secondary:{hoverBackground:"rgba(255,255,255,0.04)",activeBackground:"rgba(255,255,255,0.16)",borderColor:"{surface.400}",color:"{surface.400}"},success:{hoverBackground:"{green.950}",activeBackground:"{green.900}",borderColor:"{green.500}",color:"{green.500}"},info:{hoverBackground:"{sky.950}",activeBackground:"{sky.900}",borderColor:"{sky.500}",color:"{sky.500}"},warn:{hoverBackground:"{orange.950}",activeBackground:"{orange.900}",borderColor:"{orange.500}",color:"{orange.500}"},help:{hoverBackground:"{purple.950}",activeBackground:"{purple.900}",borderColor:"{purple.500}",color:"{purple.500}"},danger:{hoverBackground:"{red.950}",activeBackground:"{red.900}",borderColor:"{red.500}",color:"{red.500}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.0}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.0}",color:"{surface.0}"}},text:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",color:"{primary.color}"},secondary:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",color:"{green.500}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",color:"{sky.500}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",color:"{orange.500}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",color:"{purple.500}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",color:"{red.500}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}}}};var x4={root:{background:"{content.background}",borderRadius:"{border.radius.sm}",color:"{content.color}",shadow:"0 1px 4px 0 rgba(0, 0, 0, 0.1)"},body:{padding:"1.25rem",gap:"0.5rem"},caption:{gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"500"},subtitle:{color:"{text.muted.color}"}};var w4={root:{transitionDuration:"{transition.duration}"},content:{gap:"0.25rem"},indicatorList:{padding:"1rem",gap:"0.5rem"},indicator:{width:"2rem",height:"0.5rem",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{indicator:{background:"{surface.300}",hoverBackground:"{surface.400}",activeBackground:"{primary.color}"}},dark:{indicator:{background:"{surface.600}",hoverBackground:"{surface.500}",activeBackground:"{primary.color}"}}}};var C4={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",mobileIndent:"1rem"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",icon:{color:"{list.option.icon.color}",focusColor:"{list.option.icon.focus.color}",size:"0.875rem"}},clearIcon:{color:"{form.field.icon.color}"}};var k4={root:{borderRadius:"{border.radius.xs}",width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},icon:{size:"0.875rem",color:"{form.field.color}",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.75rem"},lg:{size:"1rem"}}};var M4={root:{borderRadius:"16px",paddingX:"0.75rem",paddingY:"0.5rem",gap:"0.5rem",transitionDuration:"{transition.duration}"},image:{width:"2rem",height:"2rem"},icon:{size:"1rem"},removeIcon:{size:"1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},colorScheme:{light:{root:{background:"{surface.200}",color:"{surface.900}"},icon:{color:"{surface.900}"},removeIcon:{color:"{surface.900}"}},dark:{root:{background:"{surface.700}",color:"{surface.0}"},icon:{color:"{surface.0}"},removeIcon:{color:"{surface.0}"}}}};var T4={root:{transitionDuration:"{transition.duration}"},preview:{width:"1.5rem",height:"1.5rem",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},panel:{shadow:"{overlay.popover.shadow}",borderRadius:"{overlay.popover.borderRadius}"},colorScheme:{light:{panel:{background:"{surface.800}",borderColor:"{surface.900}"},handle:{color:"{surface.0}"}},dark:{panel:{background:"{surface.900}",borderColor:"{surface.700}"},handle:{color:"{surface.0}"}}}};var E4={icon:{size:"2rem",color:"{overlay.modal.color}"},content:{gap:"1rem"}};var S4={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}",gap:"1rem"},icon:{size:"1.5rem",color:"{overlay.popover.color}"},footer:{gap:"0.5rem",padding:"0 {overlay.popover.padding} {overlay.popover.padding} {overlay.popover.padding}"}};var P4={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}};var A4={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"1px 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{datatable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"700"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{datatable.border.color}",padding:"0.75rem 1rem"},footerCell:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"700"},footer:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},dropPoint:{color:"{primary.color}"},columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},rowToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},filter:{inlineGap:"0.5rem",overlaySelect:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},overlayPopover:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}",gap:"0.5rem"},rule:{borderColor:"{content.border.color}"},constraintList:{padding:"{list.padding}",gap:"{list.gap}"},constraint:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",separator:{borderColor:"{content.border.color}"},padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"}},paginatorTop:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{surface.300}"},row:{stripedBackground:"{surface.50}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.600}"},row:{stripedBackground:"{surface.950}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}};var B4={root:{borderColor:"transparent",borderWidth:"0",borderRadius:"0",padding:"0"},header:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",borderRadius:"0"},content:{background:"{content.background}",color:"{content.color}",borderColor:"transparent",borderWidth:"0",padding:"0",borderRadius:"0"},footer:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"1px 0 0 0",padding:"0.75rem 1rem",borderRadius:"0"},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"1px 0 0 0"}};var I4={root:{transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}"},header:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",padding:"0 0 0.5rem 0"},title:{gap:"0.5rem",fontWeight:"500"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},background:"{form.field.background}",color:"{form.field.icon.color}",hoverColor:"{form.field.icon.color}",activeColor:"{form.field.icon.color}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},inputIcon:{color:"{form.field.icon.color}"},selectMonth:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem"},selectYear:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem"},group:{borderColor:"{content.border.color}",gap:"{overlay.popover.padding}"},dayView:{margin:"0.5rem 0 0 0"},weekDay:{padding:"0.25rem",fontWeight:"500",color:"{content.color}"},date:{hoverBackground:"{content.hover.background}",selectedBackground:"{primary.color}",rangeSelectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{primary.contrast.color}",rangeSelectedColor:"{highlight.color}",width:"2rem",height:"2rem",borderRadius:"50%",padding:"0.25rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},monthView:{margin:"0.5rem 0 0 0"},month:{padding:"0.375rem",borderRadius:"{content.border.radius}"},yearView:{margin:"0.5rem 0 0 0"},year:{padding:"0.375rem",borderRadius:"{content.border.radius}"},buttonbar:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}"},timePicker:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}",gap:"0.5rem",buttonGap:"0.25rem"},colorScheme:{light:{dropdown:{hoverBackground:"{surface.200}",activeBackground:"{surface.300}"},today:{background:"{surface.200}",color:"{surface.900}"}},dark:{dropdown:{hoverBackground:"{surface.700}",activeBackground:"{surface.600}"},today:{background:"{surface.700}",color:"{surface.0}"}}}};var D4={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",borderRadius:"{overlay.modal.border.radius}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}",gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"700"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}",gap:"0.5rem"}};var F4={root:{borderColor:"{content.border.color}"},content:{background:"{content.background}",color:"{text.color}"},horizontal:{margin:"1rem 0",padding:"0 1rem",content:{padding:"0 0.5rem"}},vertical:{margin:"0 1rem",padding:"0.5rem 0",content:{padding:"0.5rem 0"}}};var R4={root:{background:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)",padding:"0.5rem",borderRadius:"{border.radius.xl}"},item:{borderRadius:"{content.border.radius}",padding:"0.5rem",size:"3rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var O4={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}"},title:{fontSize:"1.5rem",fontWeight:"700"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"{overlay.modal.padding}"}};var $4={toolbar:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}"},toolbarItem:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}",padding:"{list.padding}"},overlayOption:{focusBackground:"{list.option.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},content:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"}};var L4={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",padding:"0.75rem 1.125rem 1.125rem 1.125rem",transitionDuration:"{transition.duration}"},legend:{background:"{content.background}",hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",borderRadius:"{content.border.radius}",borderWidth:"1px",borderColor:"{content.border.color}",padding:"0.5rem 0.75rem",gap:"0.5rem",fontWeight:"700",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},content:{padding:"0"}};var N4={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"unset",borderWidth:"0",borderRadius:"0",gap:"0.5rem"},content:{highlightBorderColor:"{primary.color}",padding:"0 1.125rem 1.125rem 1.125rem",gap:"1rem"},file:{padding:"1rem",gap:"1rem",borderColor:"{content.border.color}",info:{gap:"0.5rem"}},fileList:{gap:"0.5rem"},progressbar:{height:"0.25rem"},basic:{gap:"0.5rem"}};var z4={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",activeColor:"{form.field.float.label.active.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",positionY:"{form.field.padding.y}",fontWeight:"500",active:{fontSize:"0.75rem",fontWeight:"400"}},over:{active:{top:"-1.25rem"}},in:{input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},active:{top:"{form.field.padding.y}"}},on:{borderRadius:"{border.radius.xs}",active:{background:"{form.field.background}",padding:"0 0.125rem"}}};var j4={root:{borderWidth:"1px",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},navButton:{background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.100}",hoverColor:"{surface.0}",size:"3rem",gutter:"0.5rem",prev:{borderRadius:"50%"},next:{borderRadius:"50%"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},navIcon:{size:"1.5rem"},thumbnailsContent:{background:"{content.background}",padding:"1rem 0.25rem"},thumbnailNavButton:{size:"2rem",borderRadius:"{content.border.radius}",gutter:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},thumbnailNavButtonIcon:{size:"1rem"},caption:{background:"rgba(0, 0, 0, 0.5)",color:"{surface.100}",padding:"1rem"},indicatorList:{gap:"0.5rem",padding:"1rem"},indicatorButton:{width:"1rem",height:"1rem",activeBackground:"{primary.color}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},insetIndicatorList:{background:"rgba(0, 0, 0, 0.5)"},insetIndicatorButton:{background:"rgba(255, 255, 255, 0.4)",hoverBackground:"rgba(255, 255, 255, 0.6)",activeBackground:"rgba(255, 255, 255, 0.9)"},closeButton:{size:"3rem",gutter:"0.5rem",background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.50}",hoverColor:"{surface.0}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},closeButtonIcon:{size:"1.5rem"},colorScheme:{light:{thumbnailNavButton:{hoverBackground:"{surface.200}",color:"{text.color}",hoverColor:"{text.hover.color}"},indicatorButton:{background:"{surface.300}",hoverBackground:"{surface.400}"}},dark:{thumbnailNavButton:{hoverBackground:"{surface.700}",color:"{surface.0}",hoverColor:"{surface.0}"},indicatorButton:{background:"{surface.600}",hoverBackground:"{surface.500}"}}}};var V4={icon:{color:"{form.field.icon.color}"}};var U4={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",top:"{form.field.padding.y}",fontSize:"0.75rem",fontWeight:"400"},input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"}};var W4={root:{transitionDuration:"{transition.duration}"},preview:{icon:{size:"1.5rem"},mask:{background:"{mask.background}",color:"{mask.color}"}},toolbar:{position:{left:"auto",right:"1rem",top:"1rem",bottom:"auto"},blur:"8px",background:"rgba(255,255,255,0.1)",borderColor:"rgba(255,255,255,0.2)",borderWidth:"1px",borderRadius:"{content.border.radius}",padding:".5rem",gap:"0.5rem"},action:{hoverBackground:"rgba(255,255,255,0.1)",color:"{surface.50}",hoverColor:"{surface.0}",size:"3rem",iconSize:"1.5rem",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var G4={handle:{size:"15px",hoverSize:"30px",background:"rgba(255,255,255,0.3)",hoverBackground:"rgba(255,255,255,0.3)",borderColor:"rgba(255,255,255,0.3)",hoverBorderColor:"rgba(255,255,255,0.3)",borderWidth:"3px",borderRadius:"{content.border.radius}",transitionDuration:"0.2s",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"rgba(255,255,255,0.3)",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var H4={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",gap:"0.5rem"},text:{fontWeight:"700"},icon:{size:"1rem"},colorScheme:{light:{info:{background:"{blue.800}",borderColor:"{blue.800}",color:"{blue.50}",shadow:"none"},success:{background:"{green.800}",borderColor:"{green.800}",color:"{green.50}",shadow:"none"},warn:{background:"{yellow.600}",borderColor:"{yellow.600}",color:"{yellow.50}",shadow:"none"},error:{background:"{red.800}",borderColor:"{red.800}",color:"{red.50}",shadow:"none"},secondary:{background:"{surface.200}",borderColor:"{surface.200}",color:"{surface.700}",shadow:"none"},contrast:{background:"{surface.900}",borderColor:"{surface.900}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}},dark:{info:{background:"{blue.200}",borderColor:"{blue.200}",color:"{blue.950}",shadow:"none"},success:{background:"{green.200}",borderColor:"{green.200}",color:"{green.950}",shadow:"none"},warn:{background:"{yellow.200}",borderColor:"{yellow.200}",color:"{yellow.950}",shadow:"none"},error:{background:"{red.200}",borderColor:"{red.200}",color:"{red.950}",shadow:"none"},secondary:{background:"{surface.700}",borderColor:"{surface.700}",color:"{surface.200}",shadow:"none"},contrast:{background:"{surface.0}",borderColor:"{surface.0}",color:"{surface.950}",shadow:"none"}}}};var K4={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{transition.duration}"},display:{hoverBackground:"{content.hover.background}",hoverColor:"{content.hover.color}"}};var q4={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},chip:{borderRadius:"{border.radius.xs}"},colorScheme:{light:{chip:{focusBackground:"{surface.300}",color:"{surface.900}"}},dark:{chip:{focusBackground:"{surface.600}",color:"{surface.0}"}}}};var X4={addon:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.icon.color}",borderRadius:"{form.field.border.radius}",padding:"0.5rem",minWidth:"2.5rem"}};var Q4={root:{transitionDuration:"{transition.duration}"},button:{background:"transparent",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{form.field.icon.color}",hoverColor:"{form.field.icon.color}",activeColor:"{form.field.icon.color}",width:"2.5rem",borderRadius:"{form.field.border.radius}",verticalPadding:"{form.field.padding.y}"},colorScheme:{light:{button:{hoverBackground:"{surface.200}",activeBackground:"{surface.300}"}},dark:{button:{hoverBackground:"{surface.700}",activeBackground:"{surface.600}"}}}};var Y4={root:{gap:"0.5rem"},input:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"}}};var J4={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}};var Z4={root:{transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},value:{background:"{primary.color}"},text:{color:"{text.muted.color}"},colorScheme:{light:{range:{background:"{surface.300}"}},dark:{range:{background:"{surface.600}"}}}};var eB={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",borderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",shadow:"{form.field.shadow}",borderRadius:"{form.field.border.radius}",transitionDuration:"{form.field.transition.duration}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{option:{stripedBackground:"{surface.100}"}},dark:{option:{stripedBackground:"{surface.800}"}}}};var tB={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",verticalOrientation:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},horizontalOrientation:{padding:"0.5rem 0.75rem",gap:"0.5rem"},transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},overlay:{padding:"0",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",shadow:"{overlay.navigation.shadow}",gap:"0.5rem"},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background.}",color:"{navigation.submenu.label.color}"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var rB={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background.}",color:"{navigation.submenu.label.color}"},separator:{borderColor:"{content.border.color}"}};var oB={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.5rem 0.75rem",transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",mobileIndent:"1rem",icon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"}},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var nB={root:{borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},content:{padding:"0.5rem 0.75rem",gap:"0.5rem",sm:{padding:"0.375rem 0.625rem"},lg:{padding:"0.625rem 0.875rem"}},text:{fontSize:"1rem",fontWeight:"700",sm:{fontSize:"0.875rem"},lg:{fontSize:"1.125rem"}},icon:{size:"1.125rem",sm:{size:"1rem"},lg:{size:"1.25rem"}},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem",sm:{size:"0.875rem"},lg:{size:"1.125rem"}},outlined:{root:{borderWidth:"1px"}},simple:{content:{padding:"0"}},colorScheme:{light:{info:{background:"{blue.800}",borderColor:"{blue.800}",color:"{blue.50}",shadow:"none",closeButton:{hoverBackground:"{blue.600}",focusRing:{color:"{blue.50}",shadow:"none"}},outlined:{color:"{blue.800}",borderColor:"{blue.800}"},simple:{color:"{blue.800}"}},success:{background:"{green.800}",borderColor:"{green.800}",color:"{green.50}",shadow:"none",closeButton:{hoverBackground:"{green.600}",focusRing:{color:"{green.50}",shadow:"none"}},outlined:{color:"{green.800}",borderColor:"{green.800}"},simple:{color:"{green.800}"}},warn:{background:"{yellow.600}",borderColor:"{yellow.600}",color:"{yellow.50}",shadow:"none",closeButton:{hoverBackground:"{yellow.400}",focusRing:{color:"{yellow.50}",shadow:"none"}},outlined:{color:"{yellow.600}",borderColor:"{yellow.600}"},simple:{color:"{yellow.600}"}},error:{background:"{red.800}",borderColor:"{red.800}",color:"{red.50}",shadow:"none",closeButton:{hoverBackground:"{red.600}",focusRing:{color:"{red.50}",shadow:"none"}},outlined:{color:"{red.800}",borderColor:"{red.800}"},simple:{color:"{red.800}"}},secondary:{background:"{surface.200}",borderColor:"{surface.200}",color:"{surface.700}",shadow:"none",closeButton:{hoverBackground:"{surface.50}",focusRing:{color:"{surface.700}",shadow:"none"}},outlined:{color:"{surface.600}",borderColor:"{surface.600}"},simple:{color:"{surface.600}"}},contrast:{background:"{surface.900}",borderColor:"{surface.900}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.50}",shadow:"none"}},outlined:{color:"{surface.900}",borderColor:"{surface.900}"},simple:{color:"{surface.900}"}}},dark:{info:{background:"{blue.200}",borderColor:"{blue.200}",color:"{blue.950}",shadow:"none",closeButton:{hoverBackground:"{blue.50}",focusRing:{color:"{blue.950}",shadow:"none"}},outlined:{color:"{blue.200}",borderColor:"{blue.200}"},simple:{color:"{blue.200}"}},success:{background:"{green.200}",borderColor:"{green.200}",color:"{green.950}",shadow:"none",closeButton:{hoverBackground:"{green.50}",focusRing:{color:"{green.950}",shadow:"none"}},outlined:{color:"{green.200}",borderColor:"{green.200}"},simple:{color:"{green.200}"}},warn:{background:"{yellow.200}",borderColor:"{yellow.200}",color:"{yellow.950}",shadow:"none",closeButton:{hoverBackground:"{yellow.50}",focusRing:{color:"{yellow.950}",shadow:"none"}},outlined:{color:"{yellow.200}",borderColor:"{yellow.200}"},simple:{color:"{yellow.200}"}},error:{background:"{red.200}",borderColor:"{red.200}",color:"{red.950}",shadow:"none",closeButton:{hoverBackground:"{red.50}",focusRing:{color:"{red.950}",shadow:"none"}},outlined:{color:"{red.200}",borderColor:"{red.200}"},simple:{color:"{red.200}"}},secondary:{background:"{surface.700}",borderColor:"{surface.700}",color:"{surface.200}",shadow:"none",closeButton:{hoverBackground:"{surface.500}",focusRing:{color:"{surface.200}",shadow:"none"}},outlined:{color:"{surface.400}",borderColor:"{surface.400}"},simple:{color:"{surface.400}"}},contrast:{background:"{surface.0}",borderColor:"{surface.0}",color:"{surface.950}",shadow:"none",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.950}",shadow:"none"}},outlined:{color:"{surface.0}",borderColor:"{surface.0}"},simple:{color:"{surface.0}"}}}}};var iB={root:{borderRadius:"{content.border.radius}",gap:"1rem"},meters:{size:"0.5rem"},label:{gap:"0.5rem"},labelMarker:{size:"0.5rem"},labelIcon:{size:"1rem"},labelList:{verticalGap:"0.5rem",horizontalGap:"1rem"},colorScheme:{light:{meters:{background:"{surface.300}"}},dark:{meters:{background:"{surface.600}"}}}};var aB={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",gap:"0.5rem"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},chip:{borderRadius:"{border.radius.xs}"},emptyMessage:{padding:"{list.option.padding}"}};var sB={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}};var lB={root:{gutter:"0.75rem",transitionDuration:"{transition.duration}"},node:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{content.border.color}",color:"{content.color}",selectedColor:"{highlight.color}",hoverColor:"{content.hover.color}",padding:"0.75rem 1rem",toggleablePadding:"0.75rem 1rem 1.25rem 1rem",borderRadius:"{content.border.radius}"},nodeToggleButton:{background:"{content.background}",hoverBackground:"{content.hover.background}",borderColor:"{content.border.color}",color:"{text.muted.color}",hoverColor:"{text.color}",size:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},connector:{color:"{content.border.color}",borderRadius:"{content.border.radius}",height:"24px"}};var cB={root:{outline:{width:"2px",color:"{content.background}"}}};var dB={root:{padding:"0.5rem 1rem",gap:"0.25rem",borderRadius:"{content.border.radius}",background:"{content.background}",color:"{content.color}",transitionDuration:"{transition.duration}"},navButton:{background:"transparent",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}",width:"2.5rem",height:"2.5rem",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},currentPageReport:{color:"{text.muted.color}"},jumpToPageInput:{maxWidth:"2.5rem"}};var uB={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",borderRadius:"0"},toggleableHeader:{padding:"0.375rem 1.125rem"},title:{fontWeight:"700"},content:{padding:"1.125rem"},footer:{padding:"0 1.125rem 1.125rem 1.125rem"}};var pB={root:{gap:"0",transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",borderWidth:"1px",color:"{content.color}",padding:"0.25rem 0.25rem",borderRadius:"0",first:{borderWidth:"1px 1px 0 1px",topBorderRadius:"{content.border.radius}"},last:{borderWidth:"0 1px 1px 1px",bottomBorderRadius:"{content.border.radius}"}},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",gap:"0.5rem",padding:"{navigation.item.padding}",borderRadius:"{content.border.radius}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenu:{indent:"1rem"},submenuIcon:{color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}"}};var fB={meter:{borderRadius:"{content.border.radius}",height:".75rem"},icon:{color:"{form.field.icon.color}"},overlay:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",padding:"{overlay.popover.padding}",shadow:"{overlay.popover.shadow}"},content:{gap:"0.5rem"},colorScheme:{light:{meter:{background:"{surface.300}"},strength:{weakBackground:"{red.600}",mediumBackground:"{yellow.600}",strongBackground:"{green.600}"}},dark:{meter:{background:"{surface.600}"},strength:{weakBackground:"{red.500}",mediumBackground:"{yellow.500}",strongBackground:"{green.500}"}}}};var hB={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}};var mB={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}"}};var gB={root:{borderRadius:"{content.border.radius}",height:"1.25rem"},value:{background:"{primary.color}"},label:{color:"{primary.contrast.color}",fontSize:"0.75rem",fontWeight:"700"},colorScheme:{light:{root:{background:"{surface.300}"}},dark:{root:{background:"{surface.600}"}}}};var _B={colorScheme:{light:{root:{"color.1":"{red.500}","color.2":"{blue.500}","color.3":"{green.500}","color.4":"{yellow.500}"}},dark:{root:{"color.1":"{red.400}","color.2":"{blue.400}","color.3":"{green.400}","color.4":"{yellow.400}"}}}};var bB={root:{width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{form.field.background}",checkedHoverBackground:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",checkedBorderColor:"{form.field.border.color}",checkedHoverBorderColor:"{form.field.hover.border.color}",checkedFocusBorderColor:"{form.field.focus.border.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},icon:{size:"0.75rem",checkedColor:"{primary.color}",checkedHoverColor:"{primary.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.5rem"},lg:{size:"1rem"}}};var vB={root:{gap:"0.25rem",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},icon:{size:"1rem",color:"{text.muted.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}};var yB={colorScheme:{light:{root:{background:"rgba(0,0,0,0.1)"}},dark:{root:{background:"rgba(255,255,255,0.4)"}}}};var xB={root:{transitionDuration:"{transition.duration}"},bar:{size:"9px",borderRadius:"{border.radius.xs}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{bar:{background:"{surface.200}"}},dark:{bar:{background:"{surface.700}"}}}};var wB={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"}};var CB={root:{borderRadius:"{form.field.border.radius}"},colorScheme:{light:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}},dark:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}}}};var kB={root:{borderRadius:"{content.border.radius}"},colorScheme:{light:{root:{background:"{surface.300}",animationBackground:"rgba(255,255,255,0.4)"}},dark:{root:{background:"rgba(255, 255, 255, 0.1)",animationBackground:"rgba(255, 255, 255, 0.04)"}}}};var MB={root:{transitionDuration:"{transition.duration}"},track:{borderRadius:"{content.border.radius}",size:"3px"},range:{background:"{primary.color}"},handle:{width:"16px",height:"16px",borderRadius:"50%",background:"{primary.color}",hoverBackground:"{primary.color}",content:{borderRadius:"50%",background:"{primary.color}",hoverBackground:"{primary.color}",width:"12px",height:"12px",shadow:"none"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{track:{background:"{surface.300}"}},dark:{track:{background:"{surface.600}"}}}};var TB={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"}};var EB={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"}};var SB={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",transitionDuration:"{transition.duration}"},gutter:{background:"{content.border.color}"},handle:{size:"24px",background:"transparent",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}};var PB={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}",activeBackground:"{primary.color}",margin:"0 0 0 1.625rem",size:"2px"},step:{padding:"0.5rem",gap:"1rem"},stepHeader:{padding:"0",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},stepTitle:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"700"},stepNumber:{background:"{content.background}",activeBackground:"{primary.color}",borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",activeColor:"{primary.contrast.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"none"},steppanels:{padding:"0.875rem 0.5rem 1.125rem 0.5rem"},steppanel:{background:"{content.background}",color:"{content.color}",padding:"0",indent:"1rem"}};var AB={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}"},itemLink:{borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},itemLabel:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"700"},itemNumber:{background:"{content.background}",activeBackground:"{primary.color}",borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",activeColor:"{primary.contrast.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"none"}};var BB={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},item:{background:"{content.background}",hoverBackground:"{content.hover.background}",activeBackground:"{primary.color}",borderWidth:"0",borderColor:"transparent",hoverBorderColor:"transparent",activeBorderColor:"transparent",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.contrast.color}",padding:"1rem 1.25rem",fontWeight:"700",margin:"0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},itemIcon:{color:"{text.color}",hoverColor:"{text.color}",activeColor:"{primary.contrast.color}"},activeBar:{height:"0",bottom:"0",background:"transparent"}};var IB={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},tab:{background:"{content.background}",hoverBackground:"{content.hover.background}",activeBackground:"{primary.color}",borderWidth:"0",borderColor:"transparent",hoverBorderColor:"transparent",activeBorderColor:"transparent",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.contrast.color}",padding:"1rem 1.25rem",fontWeight:"700",margin:"0",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-2px",shadow:"{focus.ring.shadow}"}},tabpanel:{background:"{content.background}",color:"{content.color}",padding:"0.875rem 1.125rem 1.125rem 1.125rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",width:"2.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},activeBar:{height:"0",bottom:"0",background:"transparent"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}};var DB={root:{transitionDuration:"{transition.duration}"},tabList:{background:"{content.background}",borderColor:"{content.border.color}"},tab:{borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},tabPanel:{background:"{content.background}",color:"{content.color}"},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}};var FB={root:{fontSize:"0.875rem",fontWeight:"700",padding:"0.25rem 0.5rem",gap:"0.25rem",borderRadius:"{content.border.radius}",roundedBorderRadius:"{border.radius.xl}"},icon:{size:"0.75rem"},colorScheme:{light:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.200}",color:"{surface.700}"},success:{background:"{green.600}",color:"{surface.0}"},info:{background:"{sky.600}",color:"{surface.0}"},warn:{background:"{orange.600}",color:"{surface.0}"},danger:{background:"{red.600}",color:"{surface.0}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.700}",color:"{surface.200}"},success:{background:"{green.500}",color:"{green.950}"},info:{background:"{sky.500}",color:"{sky.950}"},warn:{background:"{orange.500}",color:"{orange.950}"},danger:{background:"{red.500}",color:"{red.950}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}};var RB={root:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.color}",height:"18rem",padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{form.field.border.radius}"},prompt:{gap:"0.25rem"},commandResponse:{margin:"2px 0"}};var OB={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}};var $B={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}};var LB={event:{minHeight:"5rem"},horizontal:{eventContent:{padding:"1rem 0"}},vertical:{eventContent:{padding:"0 1rem"}},eventMarker:{size:"1.125rem",borderRadius:"50%",borderWidth:"2px",background:"{primary.color}",borderColor:"{primary.color}",content:{borderRadius:"50%",size:"0.375rem",background:"transparent",insetShadow:"none"}},eventConnector:{color:"{content.border.color}",size:"2px"}};var NB={root:{width:"25rem",borderRadius:"{content.border.radius}",borderWidth:"0 0 0 6px",transitionDuration:"{transition.duration}"},icon:{size:"1.125rem"},content:{padding:"{overlay.popover.padding}",gap:"0.5rem"},text:{gap:"0.5rem"},summary:{fontWeight:"700",fontSize:"1rem"},detail:{fontWeight:"500",fontSize:"0.875rem"},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem"},colorScheme:{light:{blur:"0",info:{background:"{blue.800}",borderColor:"{blue.800}",color:"{blue.50}",detailColor:"{blue.50}",shadow:"{overlay.popover.shadow}",closeButton:{hoverBackground:"{blue.600}",focusRing:{color:"{blue.50}",shadow:"none"}}},success:{background:"{green.800}",borderColor:"{green.800}",color:"{green.50}",detailColor:"{green.50}",shadow:"{overlay.popover.shadow}",closeButton:{hoverBackground:"{green.600}",focusRing:{color:"{green.50}",shadow:"none"}}},warn:{background:"{yellow.600}",borderColor:"{yellow.600}",color:"{yellow.50}",detailColor:"{yellow.50}",shadow:"{overlay.popover.shadow}",closeButton:{hoverBackground:"{yellow.400}",focusRing:{color:"{yellow.50}",shadow:"none"}}},error:{background:"{red.800}",borderColor:"{red.800}",color:"{red.50}",detailColor:"{red.50}",shadow:"{overlay.popover.shadow}",closeButton:{hoverBackground:"{red.600}",focusRing:{color:"{red.50}",shadow:"none"}}},secondary:{background:"{surface.200}",borderColor:"{surface.200}",color:"{surface.700}",detailColor:"{surface.700}",shadow:"{overlay.popover.shadow}",closeButton:{hoverBackground:"{surface.50}",focusRing:{color:"{surface.700}",shadow:"none"}}},contrast:{background:"{surface.900}",borderColor:"{surface.900}",color:"{surface.50}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.50}",shadow:"none"}}}},dark:{blur:"0",info:{background:"{blue.200}",borderColor:"{blue.200}",color:"{blue.950}",detailColor:"{blue.950}",shadow:"{overlay.popover.shadow}",closeButton:{hoverBackground:"{blue.50}",focusRing:{color:"{blue.950}",shadow:"none"}}},success:{background:"{green.200}",borderColor:"{green.200}",color:"{green.950}",detailColor:"{green.950}",shadow:"{overlay.popover.shadow}",closeButton:{hoverBackground:"{green.50}",focusRing:{color:"{green.950}",shadow:"none"}}},warn:{background:"{yellow.200}",borderColor:"{yellow.200}",color:"{yellow.950}",detailColor:"{yellow.950}",shadow:"{overlay.popover.shadow}",closeButton:{hoverBackground:"{yellow.50}",focusRing:{color:"{yellow.950}",shadow:"none"}}},error:{background:"{red.200}",borderColor:"{red.200}",color:"{red.950}",detailColor:"{red.950}",shadow:"{overlay.popover.shadow}",closeButton:{hoverBackground:"{red.50}",focusRing:{color:"{red.950}",shadow:"none"}}},secondary:{background:"{surface.700}",borderColor:"{surface.700}",color:"{surface.200}",detailColor:"{surface.200}",shadow:"{overlay.popover.shadow}",closeButton:{hoverBackground:"{surface.500}",focusRing:{color:"{surface.200}",shadow:"none"}}},contrast:{background:"{surface.0}",borderColor:"{surface.0}",color:"{surface.950}",detailColor:"{surface.950}",shadow:"{overlay.popover.shadow}",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.950}",shadow:"none"}}}}}};var zB={root:{padding:"0.5rem 0.75rem",borderRadius:"{content.border.radius}",gap:"0.5rem",fontWeight:"500",background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.color}",hoverColor:"{form.field.color}",checkedBackground:"{highlight.background}",checkedColor:"{highlight.color}",checkedBorderColor:"{form.field.border.color}",disabledBackground:"{form.field.disabled.background}",disabledBorderColor:"{form.field.disabled.background}",disabledColor:"{form.field.disabled.color}",invalidBorderColor:"{form.field.invalid.border.color}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",padding:"0.375rem 0.625rem"},lg:{fontSize:"{form.field.lg.font.size}",padding:"0.625rem 0.875rem"}},icon:{color:"{text.muted.color}",hoverColor:"{text.muted.color}",checkedColor:"{highlight.color}",disabledColor:"{form.field.disabled.color}"},content:{left:"0.25rem",top:"0.25rem",checkedBackground:"transparent",checkedShadow:"none"},colorScheme:{light:{root:{hoverBackground:"{surface.200}"}},dark:{root:{hoverBackground:"{surface.700}"}}}};var jB={root:{width:"2.5rem",height:"1.5rem",borderRadius:"30px",gap:"0.25rem",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},borderWidth:"1px",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.color}",invalidBorderColor:"{form.field.invalid.border.color}",background:"{form.field.background}",hoverBackground:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.color}",transitionDuration:"{form.field.transition.duration}",slideDuration:"0.1s",disabledBackground:"{form.field.disabled.background}"},handle:{borderRadius:"50%",size:"1rem",background:"{form.field.border.color}",hoverBackground:"{form.field.border.color}",checkedBackground:"{primary.contrast.color}",checkedHoverBackground:"{primary.contrast.color}",disabledBackground:"{form.field.disabled.color}",color:"{surface.0}",hoverColor:"{surface.0}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.color}"}};var VB={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.75rem"}};var UB={root:{maxWidth:"12.5rem",gutter:"0.25rem",shadow:"{overlay.popover.shadow}",padding:"0.5rem 0.75rem",borderRadius:"{overlay.popover.border.radius}"},colorScheme:{light:{root:{background:"{surface.900}",color:"{surface.0}"}},dark:{root:{background:"{surface.0}",color:"{surface.900}"}}}};var WB={root:{background:"{content.background}",color:"{content.color}",padding:"1rem",gap:"2px",indent:"1rem",transitionDuration:"{transition.duration}"},node:{padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.color}",hoverColor:"{text.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-2px",shadow:"{focus.ring.shadow}"},gap:"0.25rem"},nodeIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}"},nodeToggleButton:{borderRadius:"50%",size:"1.75rem",hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedHoverColor:"{primary.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},loadingIcon:{size:"2rem"},filter:{margin:"0 0 0.5rem 0"}};var GB={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},tree:{padding:"{list.padding}"},clearIcon:{color:"{form.field.icon.color}"},emptyMessage:{padding:"{list.option.padding}"},chip:{borderRadius:"{border.radius.xs}"}};var HB={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"1px 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{treetable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"700"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{treetable.border.color}",padding:"0.75rem 1rem",gap:"0.5rem"},footerCell:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"700"},footer:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},nodeToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{surface.300}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.600}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}};var KB={loader:{mask:{background:"{content.background}",color:"{text.muted.color}"},icon:{size:"2rem"}}};var qB=Gr(Vt({},_4),{components:{accordion:f4,autocomplete:h4,avatar:m4,badge:g4,blockui:b4,breadcrumb:v4,button:y4,datepicker:I4,card:x4,carousel:w4,cascadeselect:C4,checkbox:k4,chip:M4,colorpicker:T4,confirmdialog:E4,confirmpopup:S4,contextmenu:P4,dataview:B4,datatable:A4,dialog:D4,divider:F4,dock:R4,drawer:O4,editor:$4,fieldset:L4,fileupload:N4,iftalabel:U4,floatlabel:z4,galleria:j4,iconfield:V4,image:W4,imagecompare:G4,inlinemessage:H4,inplace:K4,inputchips:q4,inputgroup:X4,inputnumber:Q4,inputotp:Y4,inputtext:J4,knob:Z4,listbox:eB,megamenu:tB,menu:rB,menubar:oB,message:nB,metergroup:iB,multiselect:aB,orderlist:sB,organizationchart:lB,overlaybadge:cB,popover:mB,paginator:dB,password:fB,panel:uB,panelmenu:pB,picklist:hB,progressbar:gB,progressspinner:_B,radiobutton:bB,rating:vB,scrollpanel:xB,select:wB,selectbutton:CB,skeleton:kB,slider:MB,speeddial:TB,splitter:SB,splitbutton:EB,stepper:PB,steps:AB,tabmenu:BB,tabs:IB,tabview:DB,textarea:OB,tieredmenu:$B,tag:FB,terminal:RB,timeline:LB,toast:NB,togglebutton:zB,toggleswitch:jB,toolbar:VB,tooltip:UB,tree:WB,treeselect:GB,treetable:HB,virtualscroller:KB,ripple:yB}});var X$=({dt:r})=>`
p-togglebutton {
    display: inline-flex;
}

.p-togglebutton {
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    color: ${r("togglebutton.color")};
    background: ${r("togglebutton.background")};
    border: 1px solid ${r("togglebutton.border.color")};
    padding: ${r("togglebutton.padding")};
    font-size: 1rem;
    font-family: inherit;
    font-feature-settings: inherit;
    transition: background ${r("togglebutton.transition.duration")}, color ${r("togglebutton.transition.duration")}, border-color ${r("togglebutton.transition.duration")},
        outline-color ${r("togglebutton.transition.duration")}, box-shadow ${r("togglebutton.transition.duration")};
    border-radius: ${r("togglebutton.border.radius")};
    outline-color: transparent;
    font-weight: ${r("togglebutton.font.weight")};
}

.p-togglebutton-content {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: ${r("togglebutton.gap")};
}

.p-togglebutton-label,
.p-togglebutton-icon {
    position: relative;
    transition: none;
}

.p-togglebutton::before {
    content: "";
    background: transparent;
    transition: background ${r("togglebutton.transition.duration")}, color ${r("togglebutton.transition.duration")}, border-color ${r("togglebutton.transition.duration")},
            outline-color ${r("togglebutton.transition.duration")}, box-shadow ${r("togglebutton.transition.duration")};
    position: absolute;
    inset-inline-start: ${r("togglebutton.content.left")};
    top: ${r("togglebutton.content.top")};
    width: calc(100% - calc(2 *  ${r("togglebutton.content.left")}));
    height: calc(100% - calc(2 *  ${r("togglebutton.content.top")}));
    border-radius: ${r("togglebutton.border.radius")};
}

.p-togglebutton.p-togglebutton-checked::before {
    background: ${r("togglebutton.content.checked.background")};
    box-shadow: ${r("togglebutton.content.checked.shadow")};
}

.p-togglebutton:not(:disabled):not(.p-togglebutton-checked):hover {
    background: ${r("togglebutton.hover.background")};
    color: ${r("togglebutton.hover.color")};
}

.p-togglebutton.p-togglebutton-checked {
    background: ${r("togglebutton.checked.background")};
    border-color: ${r("togglebutton.checked.border.color")};
    color: ${r("togglebutton.checked.color")};
}

.p-togglebutton:focus-visible {
    box-shadow: ${r("togglebutton.focus.ring.shadow")};
    outline: ${r("togglebutton.focus.ring.width")} ${r("togglebutton.focus.ring.style")} ${r("togglebutton.focus.ring.color")};
    outline-offset: ${r("togglebutton.focus.ring.offset")};
}

.p-togglebutton.p-invalid {
    border-color: ${r("togglebutton.invalid.border.color")};
}

.p-togglebutton:disabled {
    opacity: 1;
    cursor: default;
    background: ${r("togglebutton.disabled.background")};
    border-color: ${r("togglebutton.disabled.border.color")};
    color: ${r("togglebutton.disabled.color")};
}

.p-togglebutton-icon {
    color: ${r("togglebutton.icon.color")};
}

.p-togglebutton:not(:disabled):not(.p-togglebutton-checked):hover .p-togglebutton-icon {
    color: ${r("togglebutton.icon.hover.color")};
}

.p-togglebutton.p-togglebutton-checked .p-togglebutton-icon {
    color: ${r("togglebutton.icon.checked.color")};
}

.p-togglebutton:disabled .p-togglebutton-icon {
    color: ${r("togglebutton.icon.disabled.color")};
}

.p-togglebutton-sm {
    padding: ${r("togglebutton.sm.padding")};
    font-size: ${r("togglebutton.sm.font.size")};
}

.p-togglebutton-lg {
    padding: ${r("togglebutton.lg.padding")};
    font-size: ${r("togglebutton.lg.font.size")};
}

/* For PrimeNG (iconPos) */

.p-togglebutton-icon-right {
    order: 1;
}

p-togglebutton.ng-invalid.ng-dirty > .p-togglebutton {
    border-color: ${r("togglebutton.invalid.border.color")};
}
`,Q$={root:({instance:r})=>({"p-togglebutton p-component":!0,"p-togglebutton-checked":r.checked,"p-disabled":r.disabled,"p-togglebutton-sm p-inputfield-sm":r.size==="small","p-togglebutton-lg p-inputfield-lg":r.size==="large"}),content:"p-togglebutton-content",icon:"p-togglebutton-icon",label:"p-togglebutton-label"},XB=(()=>{class r extends kn{name="togglebutton";theme=X$;classes=Q$;static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})();var Y$=["icon"],J$=["content"],QB=r=>({$implicit:r}),Z$=(r,o)=>({"p-togglebutton-icon":!0,"p-togglebutton-icon-left":r,"p-togglebutton-icon-right":o});function eL(r,o){r&1&&Li(0)}function tL(r,o){if(r&1&&no(0,"span",1),r&2){let e=Sr(3);Sn(e.checked?e.onIcon:e.offIcon),Ir("ngClass",Bh(4,Z$,e.iconPos==="left",e.iconPos==="right")),Fo("data-pc-section","icon")}}function rL(r,o){if(r&1&&Zr(0,tL,1,7,"span",3),r&2){let e=Sr(2);Dn(e.onIcon||e.offIcon?0:-1)}}function oL(r,o){r&1&&Li(0)}function nL(r,o){if(r&1&&Zr(0,oL,1,0,"ng-container",2),r&2){let e=Sr(2);Ir("ngTemplateOutlet",e.iconTemplate||e._iconTemplate)("ngTemplateOutletContext",Ni(2,QB,e.checked))}}function iL(r,o){if(r&1&&(Zr(0,rL,1,1)(1,nL,1,4,"ng-container"),Kt(2,"span",1),Dr(3),Qt()),r&2){let e=Sr();Dn(e.iconTemplate?1:0),pr(2),Ir("ngClass",e.cx("label")),Fo("data-pc-section","label"),pr(),wi(e.checked?e.hasOnLabel?e.onLabel:"\xA0":e.hasOffLabel?e.offLabel:"\xA0")}}var aL={provide:su,useExisting:Bl(()=>MC),multi:!0},MC=(()=>{class r extends Vn{onLabel="Yes";offLabel="No";onIcon;offIcon;ariaLabel;ariaLabelledBy;disabled;style;styleClass;get hostClass(){return this.styleClass||""}inputId;tabindex=0;size;iconPos="left";autofocus;allowEmpty;onChange=new Ln;iconTemplate;contentTemplate;templates;checked=!1;onModelChange=()=>{};onModelTouched=()=>{};_componentStyle=wr(XB);toggle(e){!this.disabled&&!(this.allowEmpty===!1&&this.checked)&&(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:e,checked:this.checked}),this.cd.markForCheck())}onKeyDown(e){switch(e.code){case"Enter":this.toggle(e),e.preventDefault();break;case"Space":this.toggle(e),e.preventDefault();break}}onBlur(){this.onModelTouched()}writeValue(e){this.checked=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}get active(){return this.checked===!0}_iconTemplate;_contentTemplate;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"icon":this._iconTemplate=e.template;break;case"content":this._contentTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275cmp=Mo({type:r,selectors:[["p-toggleButton"],["p-togglebutton"],["p-toggle-button"]],contentQueries:function(n,s,c){if(n&1&&(hn(c,Y$,4),hn(c,J$,4),hn(c,Gi,4)),n&2){let u;on(u=nn())&&(s.iconTemplate=u.first),on(u=nn())&&(s.contentTemplate=u.first),on(u=nn())&&(s.templates=u)}},hostVars:2,hostBindings:function(n,s){n&2&&Sn(s.hostClass)},inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",disabled:[2,"disabled","disabled",Oo],style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:[2,"tabindex","tabindex",Fh],size:"size",iconPos:"iconPos",autofocus:[2,"autofocus","autofocus",Oo],allowEmpty:"allowEmpty"},outputs:{onChange:"onChange"},features:[an([aL,XB]),fi,No],decls:4,vars:15,consts:[["pRipple","","type","button",3,"click","ngClass","tabindex","disabled"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class","ngClass"]],template:function(n,s){n&1&&(Kt(0,"button",0),_o("click",function(u){return s.toggle(u)}),Kt(1,"span",1),Zr(2,eL,1,0,"ng-container",2)(3,iL,4,4),Qt()()),n&2&&(Sn(s.styleClass),Ir("ngClass",s.cx("root"))("tabindex",s.tabindex)("disabled",s.disabled),Fo("aria-labelledby",s.ariaLabelledBy)("aria-pressed",s.checked)("data-p-checked",s.active)("data-p-disabled",s.disabled),pr(),Ir("ngClass",s.cx("content")),pr(),Ir("ngTemplateOutlet",s.contentTemplate||s._contentTemplate)("ngTemplateOutletContext",Ni(13,QB,s.checked)),pr(),Dn(s.contentTemplate?-1:3))},dependencies:[sx,Fn,is,Rs,wn],encapsulation:2,changeDetection:0})}return r})();var sL=({dt:r})=>`
.p-selectbutton {
    display: inline-flex;
    user-select: none;
    vertical-align: bottom;
    outline-color: transparent;
    border-radius: ${r("selectbutton.border.radius")};
}

.p-selectbutton .p-togglebutton {
    border-radius: 0;
    border-width: 1px 1px 1px 0;
}

.p-selectbutton .p-togglebutton:focus-visible {
    position: relative;
    z-index: 1;
}

.p-selectbutton p-togglebutton:first-child .p-togglebutton {
    border-left-width: 1px;
    border-start-start-radius: ${r("selectbutton.border.radius")};
    border-end-start-radius: ${r("selectbutton.border.radius")};
}

.p-selectbutton p-togglebutton:last-child .p-togglebutton{
    border-start-end-radius: ${r("selectbutton.border.radius")};
    border-end-end-radius: ${r("selectbutton.border.radius")};
}

.p-selectbutton.ng-invalid.ng-dirty {
    outline: 1px solid ${r("selectbutton.invalid.border.color")};
    outline-offset: 0;
}
`,lL={root:({props:r})=>["p-selectbutton p-component",{"p-invalid":r.invalid}]},YB=(()=>{class r extends kn{name="selectbutton";theme=sL;classes=lL;static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})();var cL=["item"],dL=(r,o)=>({$implicit:r,index:o});function uL(r,o){r&1&&Li(0)}function pL(r,o){if(r&1&&Zr(0,uL,1,0,"ng-container",3),r&2){let e=Sr(2),n=e.$implicit,s=e.$index,c=Sr();Ir("ngTemplateOutlet",c.itemTemplate||c._itemTemplate)("ngTemplateOutletContext",Bh(2,dL,n,s))}}function fL(r,o){r&1&&Zr(0,pL,1,5,"ng-template",null,0,Dh)}function hL(r,o){if(r&1){let e=xn();Kt(0,"p-toggleButton",2),_o("onChange",function(s){let c=en(e),u=c.$implicit,h=c.$index,p=Sr();return tn(p.onOptionSelect(s,u,h))}),Zr(1,fL,2,0),Qt()}if(r&2){let e=o.$implicit,n=Sr();Ir("autofocus",n.autofocus)("styleClass",n.styleClass)("ngModel",n.isSelected(e))("onLabel",n.getOptionLabel(e))("offLabel",n.getOptionLabel(e))("disabled",n.disabled||n.isOptionDisabled(e))("allowEmpty",n.allowEmpty)("size",n.size),pr(),Dn(n.itemTemplate||n._itemTemplate?1:-1)}}var mL={provide:su,useExisting:Bl(()=>sw),multi:!0},sw=(()=>{class r extends Vn{options;optionLabel;optionValue;optionDisabled;unselectable=!1;tabindex=0;multiple;allowEmpty=!0;style;styleClass;ariaLabelledBy;size;disabled;dataKey;autofocus;onOptionClick=new Ln;onChange=new Ln;itemTemplate;_itemTemplate;get equalityKey(){return this.optionValue?null:this.dataKey}value;onModelChange=()=>{};onModelTouched=()=>{};focusedIndex=0;_componentStyle=wr(YB);getOptionLabel(e){return this.optionLabel?xf(e,this.optionLabel):e.label!=null?e.label:e}getOptionValue(e){return this.optionValue?xf(e,this.optionValue):this.optionLabel||e.value===void 0?e:e.value}isOptionDisabled(e){return this.optionDisabled?xf(e,this.optionDisabled):e.disabled!==void 0?e.disabled:!1}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onOptionSelect(e,n,s){if(this.disabled||this.isOptionDisabled(n))return;let c=this.isSelected(n);if(c&&this.unselectable)return;let u=this.getOptionValue(n),h;if(this.multiple)c?h=this.value.filter(p=>!Wu(p,u,this.equalityKey)):h=this.value?[...this.value,u]:[u];else{if(c&&!this.allowEmpty)return;h=c?null:u}this.focusedIndex=s,this.value=h,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.onOptionClick.emit({originalEvent:e,option:n,index:s})}changeTabIndexes(e,n){let s,c;for(let u=0;u<=this.el.nativeElement.children.length-1;u++)this.el.nativeElement.children[u].getAttribute("tabindex")==="0"&&(s={elem:this.el.nativeElement.children[u],index:u});n==="prev"?s.index===0?c=this.el.nativeElement.children.length-1:c=s.index-1:s.index===this.el.nativeElement.children.length-1?c=0:c=s.index+1,this.focusedIndex=c,this.el.nativeElement.children[c].focus()}onFocus(e,n){this.focusedIndex=n}onBlur(){this.onModelTouched()}removeOption(e){this.value=this.value.filter(n=>!Wu(n,this.getOptionValue(e),this.dataKey))}isSelected(e){let n=!1,s=this.getOptionValue(e);if(this.multiple){if(this.value&&Array.isArray(this.value)){for(let c of this.value)if(Wu(c,s,this.dataKey)){n=!0;break}}}else n=Wu(this.getOptionValue(e),this.value,this.equalityKey);return n}templates;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this._itemTemplate=e.template;break}})}static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275cmp=Mo({type:r,selectors:[["p-selectButton"],["p-selectbutton"],["p-select-button"]],contentQueries:function(n,s,c){if(n&1&&(hn(c,cL,4),hn(c,Gi,4)),n&2){let u;on(u=nn())&&(s.itemTemplate=u.first),on(u=nn())&&(s.templates=u)}},hostVars:10,hostBindings:function(n,s){n&2&&(Fo("role","group")("aria-labelledby",s.ariaLabelledBy)("data-pc-section","root")("data-pc-name","selectbutton"),Yl(s.style),Dl("p-selectbutton",!0)("p-component",!0))},inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",unselectable:[2,"unselectable","unselectable",Oo],tabindex:[2,"tabindex","tabindex",Fh],multiple:[2,"multiple","multiple",Oo],allowEmpty:[2,"allowEmpty","allowEmpty",Oo],style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",size:"size",disabled:[2,"disabled","disabled",Oo],dataKey:"dataKey",autofocus:[2,"autofocus","autofocus",Oo]},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[an([mL,YB]),fi,No],decls:2,vars:0,consts:[["content",""],[3,"autofocus","styleClass","ngModel","onLabel","offLabel","disabled","allowEmpty","size"],[3,"onChange","autofocus","styleClass","ngModel","onLabel","offLabel","disabled","allowEmpty","size"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,s){n&1&&Jl(0,hL,2,9,"p-toggleButton",1,OM),n&2&&Zl(s.options)},dependencies:[MC,np,op,ll,Fn,Rs,wn],encapsulation:2,changeDetection:0})}return r})(),JB=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=vn({type:r});static \u0275inj=bn({imports:[sw,wn,wn]})}return r})();var ip=class r{_config={preset:"Aura",primary:"emerald",surface:null,darkTheme:!1,menuMode:"static"};_state={staticMenuDesktopInactive:!1,overlayMenuActive:!1,configSidebarVisible:!1,staticMenuMobileActive:!1,menuHoverActive:!1};layoutConfig=yi(this._config);layoutState=yi(this._state);configUpdate=new si;overlayOpen=new si;menuSource=new si;resetSource=new si;menuSource$=this.menuSource.asObservable();resetSource$=this.resetSource.asObservable();configUpdate$=this.configUpdate.asObservable();overlayOpen$=this.overlayOpen.asObservable();theme=hi(()=>this.layoutConfig()?.darkTheme?"light":"dark");isSidebarActive=hi(()=>this.layoutState().overlayMenuActive||this.layoutState().staticMenuMobileActive);isDarkTheme=hi(()=>this.layoutConfig().darkTheme);getPrimary=hi(()=>this.layoutConfig().primary);getSurface=hi(()=>this.layoutConfig().surface);isOverlay=hi(()=>this.layoutConfig().menuMode==="overlay");transitionComplete=yi(!1);initialized=!1;constructor(){Nu(()=>{this.layoutConfig()&&this.onConfigUpdate()}),Nu(()=>{let o=this.layoutConfig();if(!this.initialized||!o){this.initialized=!0;return}this.handleDarkModeTransition(o)})}handleDarkModeTransition(o){document.startViewTransition?this.startViewTransition(o):(this.toggleDarkMode(o),this.onTransitionEnd())}startViewTransition(o){document.startViewTransition(()=>{this.toggleDarkMode(o)}).ready.then(()=>{this.onTransitionEnd()}).catch(()=>{})}toggleDarkMode(o){(o||this.layoutConfig()).darkTheme?document.documentElement.classList.add("app-dark"):document.documentElement.classList.remove("app-dark")}onTransitionEnd(){this.transitionComplete.set(!0),setTimeout(()=>{this.transitionComplete.set(!1)})}onMenuToggle(){this.isOverlay()&&(this.layoutState.update(o=>Gr(Vt({},o),{overlayMenuActive:!this.layoutState().overlayMenuActive})),this.layoutState().overlayMenuActive&&this.overlayOpen.next(null)),this.isDesktop()?this.layoutState.update(o=>Gr(Vt({},o),{staticMenuDesktopInactive:!this.layoutState().staticMenuDesktopInactive})):(this.layoutState.update(o=>Gr(Vt({},o),{staticMenuMobileActive:!this.layoutState().staticMenuMobileActive})),this.layoutState().staticMenuMobileActive&&this.overlayOpen.next(null))}isDesktop(){return window.innerWidth>991}isMobile(){return!this.isDesktop()}onConfigUpdate(){this._config=Vt({},this.layoutConfig()),this.configUpdate.next(this.layoutConfig())}onMenuStateChange(o){this.menuSource.next(o)}reset(){this.resetSource.next(!0)}static \u0275fac=function(e){return new(e||r)};static \u0275prov=jr({token:r,factory:r.\u0275fac,providedIn:"root"})};var eI=(r,o)=>o.name,tI=r=>({"background-color":r}),rI=r=>({"outline-primary":r});function _L(r,o){if(r&1){let e=xn();Kt(0,"button",7),_o("click",function(s){let c=en(e).$implicit,u=Sr();return tn(u.updateColors(s,"primary",c))}),Qt()}if(r&2){let e=o.$implicit,n=Sr();Yl(Ni(4,tI,(e==null?null:e.name)==="noir"?"var(--text-color)":e==null||e.palette==null?null:e.palette[500])),Ir("title",e.name)("ngClass",Ni(6,rI,e.name===n.selectedPrimaryColor()))}}function bL(r,o){if(r&1){let e=xn();Kt(0,"button",7),_o("click",function(s){let c=en(e).$implicit,u=Sr();return tn(u.updateColors(s,"surface",c))}),Qt()}if(r&2){let e=o.$implicit,n=Sr();Yl(Ni(4,tI,(e==null?null:e.name)==="noir"?"var(--text-color)":e==null||e.palette==null?null:e.palette[500])),Ir("title",e.name)("ngClass",Ni(6,rI,n.selectedSurfaceColor()?n.selectedSurfaceColor()===e.name:n.layoutService.layoutConfig().darkTheme?e.name==="zinc":e.name==="slate"))}}function vL(r,o){if(r&1){let e=xn();Kt(0,"div",4)(1,"span",1),Dr(2,"Menu Mode"),Qt(),Kt(3,"p-selectbutton",8),_o("ngModelChange",function(s){en(e);let c=Sr();return tn(c.onMenuModeChange(s))}),Qt()()}if(r&2){let e=Sr();pr(3),Ir("ngModel",e.menuMode())("options",e.menuModeOptions)("allowEmpty",!1)}}var TC={Aura:aw,Lara:p4,Nora:qB},lw=class r{router=wr(as);config=wr(jh);layoutService=wr(ip);platformId=wr(rs);primeng=wr(jh);presets=Object.keys(TC);showMenuModeButton=yi(!this.router.url.includes("auth"));menuModeOptions=[{label:"Static",value:"static"},{label:"Overlay",value:"overlay"}];ngOnInit(){Oh(this.platformId)&&this.onPresetChange(this.layoutService.layoutConfig().preset)}surfaces=[{name:"slate",palette:{0:"#ffffff",50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"}},{name:"gray",palette:{0:"#ffffff",50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"}},{name:"zinc",palette:{0:"#ffffff",50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"}},{name:"neutral",palette:{0:"#ffffff",50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"}},{name:"stone",palette:{0:"#ffffff",50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"}},{name:"soho",palette:{0:"#ffffff",50:"#ececec",100:"#dedfdf",200:"#c4c4c6",300:"#adaeb0",400:"#97979b",500:"#7f8084",600:"#6a6b70",700:"#55565b",800:"#3f4046",900:"#2c2c34",950:"#16161d"}},{name:"viva",palette:{0:"#ffffff",50:"#f3f3f3",100:"#e7e7e8",200:"#cfd0d0",300:"#b7b8b9",400:"#9fa1a1",500:"#87898a",600:"#6e7173",700:"#565a5b",800:"#3e4244",900:"#262b2c",950:"#0e1315"}},{name:"ocean",palette:{0:"#ffffff",50:"#fbfcfc",100:"#F7F9F8",200:"#EFF3F2",300:"#DADEDD",400:"#B1B7B6",500:"#828787",600:"#5F7274",700:"#415B61",800:"#29444E",900:"#183240",950:"#0c1920"}}];selectedPrimaryColor=hi(()=>this.layoutService.layoutConfig().primary);selectedSurfaceColor=hi(()=>this.layoutService.layoutConfig().surface);selectedPreset=hi(()=>this.layoutService.layoutConfig().preset);menuMode=hi(()=>this.layoutService.layoutConfig().menuMode);primaryColors=hi(()=>{let o=TC[this.layoutService.layoutConfig().preset].primitive,e=["emerald","green","lime","orange","amber","yellow","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"],n=[{name:"noir",palette:{}}];return e.forEach(s=>{n.push({name:s,palette:o?.[s]})}),n});getPresetExt(){let o=this.primaryColors().find(n=>n.name===this.selectedPrimaryColor())||{},e=this.layoutService.layoutConfig().preset;return o.name==="noir"?{semantic:{primary:{50:"{surface.50}",100:"{surface.100}",200:"{surface.200}",300:"{surface.300}",400:"{surface.400}",500:"{surface.500}",600:"{surface.600}",700:"{surface.700}",800:"{surface.800}",900:"{surface.900}",950:"{surface.950}"},colorScheme:{light:{primary:{color:"{primary.950}",contrastColor:"#ffffff",hoverColor:"{primary.800}",activeColor:"{primary.700}"},highlight:{background:"{primary.950}",focusBackground:"{primary.700}",color:"#ffffff",focusColor:"#ffffff"}},dark:{primary:{color:"{primary.50}",contrastColor:"{primary.950}",hoverColor:"{primary.200}",activeColor:"{primary.300}"},highlight:{background:"{primary.50}",focusBackground:"{primary.300}",color:"{primary.950}",focusColor:"{primary.950}"}}}}}:e==="Nora"?{semantic:{primary:o.palette,colorScheme:{light:{primary:{color:"{primary.600}",contrastColor:"#ffffff",hoverColor:"{primary.700}",activeColor:"{primary.800}"},highlight:{background:"{primary.600}",focusBackground:"{primary.700}",color:"#ffffff",focusColor:"#ffffff"}},dark:{primary:{color:"{primary.500}",contrastColor:"{surface.900}",hoverColor:"{primary.400}",activeColor:"{primary.300}"},highlight:{background:"{primary.500}",focusBackground:"{primary.400}",color:"{surface.900}",focusColor:"{surface.900}"}}}}}:{semantic:{primary:o.palette,colorScheme:{light:{primary:{color:"{primary.500}",contrastColor:"#ffffff",hoverColor:"{primary.600}",activeColor:"{primary.700}"},highlight:{background:"{primary.50}",focusBackground:"{primary.100}",color:"{primary.700}",focusColor:"{primary.800}"}},dark:{primary:{color:"{primary.400}",contrastColor:"{surface.900}",hoverColor:"{primary.300}",activeColor:"{primary.200}"},highlight:{background:"color-mix(in srgb, {primary.400}, transparent 84%)",focusBackground:"color-mix(in srgb, {primary.400}, transparent 76%)",color:"rgba(255,255,255,.87)",focusColor:"rgba(255,255,255,.87)"}}}}}}updateColors(o,e,n){e==="primary"?this.layoutService.layoutConfig.update(s=>Gr(Vt({},s),{primary:n.name})):e==="surface"&&this.layoutService.layoutConfig.update(s=>Gr(Vt({},s),{surface:n.name})),this.applyTheme(e,n),o.stopPropagation()}applyTheme(o,e){o==="primary"?XT(this.getPresetExt()):o==="surface"&&QT(e.palette)}onPresetChange(o){this.layoutService.layoutConfig.update(s=>Gr(Vt({},s),{preset:o}));let e=TC[o],n=this.surfaces.find(s=>s.name===this.selectedSurfaceColor())?.palette;A2().preset(e).preset(this.getPresetExt()).surfacePalette(n).use({useDefaultOptions:!0})}onMenuModeChange(o){this.layoutService.layoutConfig.update(e=>Gr(Vt({},e),{menuMode:o}))}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=Mo({type:r,selectors:[["app-app-configurator"]],hostAttrs:[1,"hidden","absolute","top-[3.25rem]","right-0","w-72","p-4","bg-surface-0","dark:bg-surface-900","border","border-surface","rounded-border","origin-top","shadow-[0px_3px_5px_rgba(0,0,0,0.02),0px_0px_2px_rgba(0,0,0,0.05),0px_1px_4px_rgba(0,0,0,0.08)]"],decls:18,vars:4,consts:[[1,"flex","flex-col","gap-4"],[1,"text-sm","text-muted-color","font-semibold"],[1,"pt-2","flex","gap-2","flex-wrap","justify-start"],["type","button",1,"border-none","w-5","h-5","rounded-full","p-0","cursor-pointer","outline-none","outline-offset-1",3,"title","ngClass","style"],[1,"flex","flex-col","gap-2"],["size","small",3,"ngModelChange","options","ngModel","allowEmpty"],["class","flex flex-col gap-2",4,"ngIf"],["type","button",1,"border-none","w-5","h-5","rounded-full","p-0","cursor-pointer","outline-none","outline-offset-1",3,"click","title","ngClass"],["size","small",3,"ngModelChange","ngModel","options","allowEmpty"]],template:function(e,n){e&1&&(Kt(0,"div",0)(1,"div")(2,"span",1),Dr(3,"Primary"),Qt(),Kt(4,"div",2),Jl(5,_L,1,8,"button",3,eI),Qt()(),Kt(7,"div")(8,"span",1),Dr(9,"Surface"),Qt(),Kt(10,"div",2),Jl(11,bL,1,8,"button",3,eI),Qt()(),Kt(13,"div",4)(14,"span",1),Dr(15,"Presets"),Qt(),Kt(16,"p-selectbutton",5),_o("ngModelChange",function(c){return n.onPresetChange(c)}),Qt()(),Zr(17,vL,4,3,"div",6),Qt()),e&2&&(pr(5),Zl(n.primaryColors()),pr(6),Zl(n.surfaces),pr(5),Ir("options",n.presets)("ngModel",n.selectedPreset())("allowEmpty",!1),pr(),Ir("ngIf",n.showMenuModeButton()))},dependencies:[Fn,is,Fl,np,op,ll,JB,sw],encapsulation:2})};var oI=(()=>{class r{el;renderer;zone;constructor(e,n,s){this.el=e,this.renderer=n,this.zone=s}selector;set enterClass(e){this._enterClass=e,console.log("enterClass is deprecated, use enterFromClass instead")}get enterClass(){return this._enterClass}enterFromClass;enterActiveClass;enterToClass;set leaveClass(e){this._leaveClass=e,console.log("leaveClass is deprecated, use leaveFromClass instead")}get leaveClass(){return this._leaveClass}leaveFromClass;leaveActiveClass;leaveToClass;hideOnOutsideClick;toggleClass;hideOnEscape;eventListener;documentClickListener;documentKeydownListener;target;enterListener;leaveListener;animating;_enterClass;_leaveClass;clickListener(){this.target=this.resolveTarget(),this.toggleClass?this.toggle():this.target?.offsetParent===null?this.enter():this.leave()}toggle(){Fy(this.target,this.toggleClass)?Ji(this.target,this.toggleClass):hs(this.target,this.toggleClass)}enter(){this.enterActiveClass?this.animating||(this.animating=!0,this.enterActiveClass==="animate-slidedown"&&(this.target.style.height="0px",Ji(this.target,"hidden"),this.target.style.maxHeight=this.target.scrollHeight+"px",hs(this.target,"hidden"),this.target.style.height=""),hs(this.target,this.enterActiveClass),(this.enterClass||this.enterFromClass)&&Ji(this.target,this.enterClass||this.enterFromClass),this.enterListener=this.renderer.listen(this.target,"animationend",()=>{Ji(this.target,this.enterActiveClass),this.enterToClass&&hs(this.target,this.enterToClass),this.enterListener&&this.enterListener(),this.enterActiveClass==="animate-slidedown"&&(this.target.style.maxHeight=""),this.animating=!1})):((this.enterClass||this.enterFromClass)&&Ji(this.target,this.enterClass||this.enterFromClass),this.enterToClass&&hs(this.target,this.enterToClass)),this.hideOnOutsideClick&&this.bindDocumentClickListener(),this.hideOnEscape&&this.bindDocumentKeydownListener()}leave(){this.leaveActiveClass?this.animating||(this.animating=!0,hs(this.target,this.leaveActiveClass),(this.leaveClass||this.leaveFromClass)&&Ji(this.target,this.leaveClass||this.leaveFromClass),this.leaveListener=this.renderer.listen(this.target,"animationend",()=>{Ji(this.target,this.leaveActiveClass),this.leaveToClass&&hs(this.target,this.leaveToClass),this.leaveListener&&this.leaveListener(),this.animating=!1})):((this.leaveClass||this.leaveFromClass)&&Ji(this.target,this.leaveClass||this.leaveFromClass),this.leaveToClass&&hs(this.target,this.leaveToClass)),this.hideOnOutsideClick&&this.unbindDocumentClickListener(),this.hideOnEscape&&this.unbindDocumentKeydownListener()}resolveTarget(){if(this.target)return this.target;switch(this.selector){case"@next":return this.el.nativeElement.nextElementSibling;case"@prev":return this.el.nativeElement.previousElementSibling;case"@parent":return this.el.nativeElement.parentElement;case"@grandparent":return this.el.nativeElement.parentElement.parentElement;default:return document.querySelector(this.selector)}}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el.nativeElement.ownerDocument,"click",e=>{!this.isVisible()||getComputedStyle(this.target).getPropertyValue("position")==="static"?this.unbindDocumentClickListener():this.isOutsideClick(e)&&this.leave()}))}bindDocumentKeydownListener(){this.documentKeydownListener||this.zone.runOutsideAngular(()=>{this.documentKeydownListener=this.renderer.listen(this.el.nativeElement.ownerDocument,"keydown",e=>{let{key:n,keyCode:s,which:c,type:u}=e;(!this.isVisible()||getComputedStyle(this.target).getPropertyValue("position")==="static")&&this.unbindDocumentKeydownListener(),this.isVisible()&&n==="Escape"&&s===27&&c===27&&this.leave()})})}isVisible(){return this.target.offsetParent!==null}isOutsideClick(e){return!this.el.nativeElement.isSameNode(e.target)&&!this.el.nativeElement.contains(e.target)&&!this.target.contains(e.target)}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}unbindDocumentKeydownListener(){this.documentKeydownListener&&(this.documentKeydownListener(),this.documentKeydownListener=null)}ngOnDestroy(){this.target=null,this.eventListener&&this.eventListener(),this.unbindDocumentClickListener(),this.unbindDocumentKeydownListener()}static \u0275fac=function(n){return new(n||r)(Ho(tl),Ho(rl),Ho($i))};static \u0275dir=Zn({type:r,selectors:[["","pStyleClass",""]],hostBindings:function(n,s){n&1&&_o("click",function(u){return s.clickListener(u)})},inputs:{selector:[0,"pStyleClass","selector"],enterClass:"enterClass",enterFromClass:"enterFromClass",enterActiveClass:"enterActiveClass",enterToClass:"enterToClass",leaveClass:"leaveClass",leaveFromClass:"leaveFromClass",leaveActiveClass:"leaveActiveClass",leaveToClass:"leaveToClass",hideOnOutsideClick:[2,"hideOnOutsideClick","hideOnOutsideClick",Oo],toggleClass:"toggleClass",hideOnEscape:[2,"hideOnEscape","hideOnEscape",Oo]},features:[fi]})}return r})(),nI=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=vn({type:r});static \u0275inj=bn({})}return r})();var xL=({dt:r})=>`
.p-chip {
    display: inline-flex;
    align-items: center;
    background: ${r("chip.background")};
    color: ${r("chip.color")};
    border-radius: ${r("chip.border.radius")};
    padding: ${r("chip.padding.y")} ${r("chip.padding.x")};
    gap: ${r("chip.gap")};
}

.p-chip-icon {
    color: ${r("chip.icon.color")};
    font-size: ${r("chip.icon.font.size")};
    width: ${r("chip.icon.size")};
    height: ${r("chip.icon.size")};
}

.p-chip-image {
    border-radius: 50%;
    width: ${r("chip.image.width")};
    height: ${r("chip.image.height")};
    margin-left: calc(-1 * ${r("chip.padding.y")});
}

.p-chip:has(.p-chip-remove-icon) {
    padding-inline-end: ${r("chip.padding.y")};
}

.p-chip:has(.p-chip-image) {
    padding-top: calc(${r("chip.padding.y")} / 2);
    padding-bottom: calc(${r("chip.padding.y")} / 2);
}

.p-chip-remove-icon {
    cursor: pointer;
    font-size: ${r("chip.remove.icon.font.size")};
    width: ${r("chip.remove.icon.size")};
    height: ${r("chip.remove.icon.size")};
    color: ${r("chip.remove.icon.color")};
    border-radius: 50%;
    transition: outline-color ${r("chip.transition.duration")}, box-shadow ${r("chip.transition.duration")};
    outline-color: transparent;
}

.p-chip-remove-icon:focus-visible {
    box-shadow: ${r("chip.remove.icon.focus.ring.shadow")};
    outline: ${r("chip.remove.icon.focus.ring.width")} ${r("chip.remove.icon.focus.ring.style")} ${r("chip.remove.icon.focus.ring.color")};
    outline-offset: ${r("chip.remove.icon.focus.ring.offset")};
}
`,wL={root:"p-chip p-component",image:"p-chip-image",icon:"p-chip-icon",label:"p-chip-label",removeIcon:"p-chip-remove-icon"},iI=(()=>{class r extends kn{name="chip";theme=xL;classes=wL;static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})();var CL=["removeicon"],kL=["*"];function ML(r,o){if(r&1){let e=xn();Kt(0,"img",4),_o("error",function(s){en(e);let c=Sr();return tn(c.imageError(s))}),Qt()}if(r&2){let e=Sr();Ir("src",e.image,PM)("alt",e.alt)}}function TL(r,o){if(r&1&&no(0,"span",6),r&2){let e=Sr(2);Sn(e.icon),Ir("ngClass","p-chip-icon"),Fo("data-pc-section","icon")}}function EL(r,o){if(r&1&&Zr(0,TL,1,4,"span",5),r&2){let e=Sr();Ir("ngIf",e.icon)}}function SL(r,o){if(r&1&&(Kt(0,"div",7),Dr(1),Qt()),r&2){let e=Sr();Fo("data-pc-section","label"),pr(),wi(e.label)}}function PL(r,o){if(r&1){let e=xn();Kt(0,"span",11),_o("click",function(s){en(e);let c=Sr(3);return tn(c.close(s))})("keydown",function(s){en(e);let c=Sr(3);return tn(c.onKeydown(s))}),Qt()}if(r&2){let e=Sr(3);Sn(e.removeIcon),Ir("ngClass","p-chip-remove-icon"),Fo("data-pc-section","removeicon")("aria-label",e.removeAriaLabel)}}function AL(r,o){if(r&1){let e=xn();Kt(0,"TimesCircleIcon",12),_o("click",function(s){en(e);let c=Sr(3);return tn(c.close(s))})("keydown",function(s){en(e);let c=Sr(3);return tn(c.onKeydown(s))}),Qt()}if(r&2){let e=Sr(3);Sn("p-chip-remove-icon"),Fo("data-pc-section","removeicon")("aria-label",e.removeAriaLabel)}}function BL(r,o){if(r&1&&(os(0),Zr(1,PL,1,5,"span",9)(2,AL,1,4,"TimesCircleIcon",10),ns()),r&2){let e=Sr(2);pr(),Ir("ngIf",e.removeIcon),pr(),Ir("ngIf",!e.removeIcon)}}function IL(r,o){}function DL(r,o){r&1&&Zr(0,IL,0,0,"ng-template")}function FL(r,o){if(r&1){let e=xn();Kt(0,"span",13),_o("click",function(s){en(e);let c=Sr(2);return tn(c.close(s))})("keydown",function(s){en(e);let c=Sr(2);return tn(c.onKeydown(s))}),Zr(1,DL,1,0,null,14),Qt()}if(r&2){let e=Sr(2);Fo("data-pc-section","removeicon")("aria-label",e.removeAriaLabel),pr(),Ir("ngTemplateOutlet",e.removeIconTemplate||e._removeIconTemplate)}}function RL(r,o){if(r&1&&(os(0),Zr(1,BL,3,2,"ng-container",3)(2,FL,2,3,"span",8),ns()),r&2){let e=Sr();pr(),Ir("ngIf",!e.removeIconTemplate&&!e._removeIconTemplate),pr(),Ir("ngIf",e.removeIconTemplate||e._removeIconTemplate)}}var aI=(()=>{class r extends Vn{label;icon;image;alt;style;styleClass;removable=!1;removeIcon;onRemove=new Ln;onImageError=new Ln;visible=!0;get removeAriaLabel(){return this.config.getTranslation(VT.ARIA).removeLabel}get chipProps(){return this._chipProps}set chipProps(e){this._chipProps=e,e&&typeof e=="object"&&Object.entries(e).forEach(([n,s])=>this[`_${n}`]!==s&&(this[`_${n}`]=s))}_chipProps;_componentStyle=wr(iI);removeIconTemplate;templates;_removeIconTemplate;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"removeicon":this._removeIconTemplate=e.template;break;default:this._removeIconTemplate=e.template;break}})}ngOnChanges(e){if(super.ngOnChanges(e),e.chipProps&&e.chipProps.currentValue){let{currentValue:n}=e.chipProps;n.label!==void 0&&(this.label=n.label),n.icon!==void 0&&(this.icon=n.icon),n.image!==void 0&&(this.image=n.image),n.alt!==void 0&&(this.alt=n.alt),n.style!==void 0&&(this.style=n.style),n.styleClass!==void 0&&(this.styleClass=n.styleClass),n.removable!==void 0&&(this.removable=n.removable),n.removeIcon!==void 0&&(this.removeIcon=n.removeIcon)}}containerClass(){let e="p-chip p-component";return this.styleClass&&(e+=` ${this.styleClass}`),e}close(e){this.visible=!1,this.onRemove.emit(e)}onKeydown(e){(e.key==="Enter"||e.key==="Backspace")&&this.close(e)}imageError(e){this.onImageError.emit(e)}static \u0275fac=(()=>{let e;return function(s){return(e||(e=ho(r)))(s||r)}})();static \u0275cmp=Mo({type:r,selectors:[["p-chip"]],contentQueries:function(n,s,c){if(n&1&&(hn(c,CL,4),hn(c,Gi,4)),n&2){let u;on(u=nn())&&(s.removeIconTemplate=u.first),on(u=nn())&&(s.templates=u)}},hostVars:9,hostBindings:function(n,s){n&2&&(Fo("data-pc-name","chip")("aria-label",s.label)("data-pc-section","root"),Yl(s.style),Sn(s.containerClass()),Ah("display",!s.visible&&"none"))},inputs:{label:"label",icon:"icon",image:"image",alt:"alt",style:"style",styleClass:"styleClass",removable:[2,"removable","removable",Oo],removeIcon:"removeIcon",chipProps:"chipProps"},outputs:{onRemove:"onRemove",onImageError:"onImageError"},features:[an([iI]),fi,No,Is],ngContentSelectors:kL,decls:6,vars:4,consts:[["iconTemplate",""],["class","p-chip-image",3,"src","alt","error",4,"ngIf","ngIfElse"],["class","p-chip-label",4,"ngIf"],[4,"ngIf"],[1,"p-chip-image",3,"error","src","alt"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[1,"p-chip-label"],["tabindex","0","class","p-chip-remove-icon","role","button",3,"click","keydown",4,"ngIf"],["tabindex","0","role","button",3,"class","ngClass","click","keydown",4,"ngIf"],["tabindex","0","role","button",3,"class","click","keydown",4,"ngIf"],["tabindex","0","role","button",3,"click","keydown","ngClass"],["tabindex","0","role","button",3,"click","keydown"],["tabindex","0","role","button",1,"p-chip-remove-icon",3,"click","keydown"],[4,"ngTemplateOutlet"]],template:function(n,s){if(n&1&&(Yi(),xi(0),Zr(1,ML,1,2,"img",1)(2,EL,1,1,"ng-template",null,0,Dh)(4,SL,2,2,"div",2)(5,RL,3,2,"ng-container",3)),n&2){let c=$M(3);pr(),Ir("ngIf",s.image)("ngIfElse",c),pr(3),Ir("ngIf",s.label),pr(),Ir("ngIf",s.removable)}},dependencies:[Fn,is,Fl,Rs,tS,wn],encapsulation:2,changeDetection:0})}return r})();var Wv=class r{constructor(o,e){this.layoutService=o;this.messageService=e;this.items=[{label:"Update",command:()=>{this.update()}},{label:"Delete",command:()=>{this.delete()}},{label:"Angular Website",url:"http://angular.io"},{separator:!0},{label:"Upload",routerLink:["/fileupload"]}]}isConfiguratorVisible=!1;isOptVisible=!1;items;toggleDarkMode(){this.layoutService.layoutConfig.update(o=>Gr(Vt({},o),{darkTheme:!o.darkTheme}))}toggleConfigurator(){this.isConfiguratorVisible=!this.isConfiguratorVisible}save(o){this.messageService.add({severity:o,summary:"Success",detail:"Data Saved"})}update(){this.messageService.add({severity:"success",summary:"Success",detail:"Data Updated"})}delete(){this.messageService.add({severity:"success",summary:"Success",detail:"Data Deleted"})}static \u0275fac=function(e){return new(e||r)(Ho(ip),Ho(Hu))};static \u0275cmp=Mo({type:r,selectors:[["app-app-top-bar"]],features:[an([Hu])],decls:69,vars:6,consts:[[1,"layout-topbar"],[1,"layout-topbar-logo-container"],["routerLink","/",1,"layout-topbar-logo"],["xmlns","http://www.w3.org/2000/svg","version","1.0","width","100","height","100","viewBox","0 0 1024.000000 1024.000000","preserveAspectRatio","xMidYMid meet"],["transform","translate(0.000000,1024.000000) scale(0.100000,-0.100000)","fill","var(--primary-color)","stroke","none"],["d","M4240 9743 c-50 -26 -77 -73 -85 -146 -4 -34 -5 -323 -2 -642 4 -620 3 -611 54 -657 54 -49 37 -48 910 -48 774 0 820 1 858 19 46 21 79 54 94 94 14 37 15 1237 1 1287 -5 20 -26 51 -45 70 l-36 35 -857 3 c-801 2 -859 1 -892 -15z m219 -180 c-20 -54 -44 -84 -83 -103 -22 -10 -43 -17 -48 -14 -8 5 -9 122 -1 137 2 4 35 7 73 7 l70 0 -11 -27z m1152 -24 c9 -59 38 -115 86 -163 41 -41 143 -96 181 -96 l22 0 0 -258 c0 -192 -3 -262 -12 -273 -7 -9 -31 -21 -54 -27 -90 -26 -171 -111 -211 -225 l-22 -62 -485 -3 -484 -2 -22 64 c-37 111 -115 192 -226 234 l-48 17 -1 267 -1 266 34 5 c116 19 234 139 256 259 6 36 8 37 54 41 26 2 245 3 487 3 l440 -1 6 -46z m299 -23 l0 -75 -32 9 c-40 12 -77 46 -94 87 -22 51 -19 53 56 53 l70 0 0 -74z m-2 -1013 l-3 -78 -59 -3 c-32 -2 -63 1 -68 6 -25 25 77 150 125 152 4 0 7 -35 5 -77z"],["d","M5065 9348 c-80 -11 -153 -48 -209 -108 -73 -78 -91 -126 -91 -240 0 -120 23 -176 101 -250 70 -67 129 -92 225 -98 154 -9 290 71 352 207 33 72 31 207 -5 283 -70 149 -210 227 -373 206z m154 -191 c154 -102 80 -341 -106 -341 -159 0 -247 214 -131 321 66 62 161 70 237 20z"],["d","M8525 9196 c-257 -80 -242 -74 -265 -99 -38 -41 -16 -124 39 -147 24 -10 39 -9 82 4 30 8 55 13 57 11 7 -7 -44 -61 -273 -287 l-220 -217 -65 50 c-75 57 -124 74 -167 59 -35 -13 -642 -626 -649 -657 -14 -54 29 -103 90 -103 40 0 45 4 318 280 152 154 281 280 286 280 5 0 40 -24 77 -54 127 -101 115 -108 476 250 163 162 301 294 308 294 7 0 11 -26 11 -75 0 -69 2 -78 26 -100 36 -33 96 -34 128 -2 26 26 30 62 42 354 l7 162 -33 31 c-18 16 -42 30 -54 29 -11 0 -111 -29 -221 -63z"],["d","M6278 8995 c-35 -20 -48 -44 -48 -90 0 -71 18 -85 150 -121 169 -45 432 -147 644 -251 107 -51 137 -54 177 -14 34 34 40 91 13 129 -33 48 -382 203 -659 294 -209 68 -240 74 -277 53z"],["d","M3705 8946 c-186 -61 -313 -111 -482 -190 -199 -92 -213 -103 -213 -168 0 -32 21 -74 44 -90 27 -19 82 -4 201 53 221 104 418 178 665 251 123 36 112 199 -13 197 -23 0 -114 -24 -202 -53z"],["d","M1912 8895 c-17 -14 -37 -44 -44 -67 -13 -39 -18 -43 -79 -63 -35 -12 -83 -32 -107 -44 l-43 -22 -45 21 c-53 26 -77 22 -135 -22 -72 -56 -104 -104 -103 -152 0 -24 8 -53 17 -66 15 -22 14 -26 -23 -94 -21 -39 -44 -92 -51 -119 -10 -41 -16 -49 -53 -65 -66 -30 -71 -42 -71 -157 0 -123 11 -148 72 -171 37 -15 44 -22 54 -58 6 -22 26 -76 46 -118 35 -76 35 -78 19 -112 -31 -67 -18 -103 72 -188 67 -64 100 -73 165 -42 33 16 36 15 103 -14 38 -17 88 -36 111 -42 37 -11 42 -17 52 -55 7 -28 22 -53 43 -70 30 -26 35 -27 131 -23 96 3 100 4 122 33 13 16 28 45 32 64 7 29 16 38 48 50 22 8 71 27 109 44 67 28 70 29 103 13 68 -33 97 -24 179 57 67 66 74 76 74 112 0 22 -7 53 -15 68 -14 27 -13 33 19 100 19 40 37 88 41 108 9 47 13 52 66 77 26 13 51 33 57 48 7 14 12 67 12 119 0 86 -2 96 -26 124 -14 17 -39 34 -56 39 -27 7 -33 16 -49 66 -10 32 -33 84 -51 116 -32 59 -32 59 -15 95 9 20 17 52 17 72 0 33 -8 45 -68 104 -82 80 -113 91 -174 59 l-41 -21 -46 22 c-25 12 -75 32 -110 44 -62 21 -65 23 -78 68 -21 72 -48 87 -159 87 -84 0 -95 -2 -122 -25z m268 -266 c65 -13 190 -76 190 -94 0 -7 -8 -23 -18 -35 l-18 -22 -62 31 c-72 36 -166 61 -235 61 -74 0 -185 -28 -256 -66 l-64 -33 -18 22 c-26 31 -24 39 16 65 74 51 154 75 259 79 55 2 102 5 104 8 5 5 10 4 102 -16z m20 -245 c82 -39 152 -109 192 -194 28 -58 32 -75 31 -150 0 -122 -27 -185 -112 -271 -89 -88 -149 -113 -281 -114 -86 0 -101 3 -162 32 -247 117 -308 411 -126 609 83 90 171 125 303 121 76 -2 100 -7 155 -33z m353 -34 c15 -21 39 -69 53 -106 l25 -67 -24 -21 c-14 -12 -27 -28 -29 -36 -3 -8 -13 12 -22 44 -10 33 -31 87 -48 119 -25 50 -28 64 -19 84 15 33 32 28 64 -17z m-988 10 c17 -19 17 -22 -13 -87 -17 -38 -37 -87 -44 -110 -7 -24 -15 -43 -19 -43 -3 0 -16 14 -28 31 -22 29 -22 35 -11 73 19 63 69 156 84 156 7 0 21 -9 31 -20z m1055 -483 c0 -23 -63 -162 -78 -171 -6 -4 -23 1 -36 10 l-25 16 28 56 c16 32 34 75 40 97 7 22 15 47 17 55 6 18 53 -37 54 -63z m-1120 46 c0 -9 18 -54 40 -99 22 -46 40 -86 40 -89 0 -8 -42 -44 -52 -45 -9 0 -75 137 -82 171 -4 18 1 35 15 53 23 30 39 34 39 9z m246 -337 c42 -30 152 -67 226 -77 99 -14 204 6 302 55 l68 35 19 -22 c25 -30 24 -32 -16 -63 -67 -51 -157 -76 -289 -80 -154 -5 -263 21 -345 85 -23 17 -23 21 -11 50 14 35 18 36 46 17z"],["d","M2000 8264 c-6 -14 -10 -29 -10 -32 0 -4 -13 -13 -30 -19 -18 -7 -36 -25 -46 -46 -35 -74 12 -151 102 -168 54 -10 69 -21 61 -43 -11 -28 -53 -30 -86 -5 -41 30 -84 18 -89 -24 -4 -34 10 -52 60 -78 29 -15 38 -26 38 -44 0 -22 4 -25 35 -25 31 0 35 3 35 25 0 18 9 29 38 44 75 38 92 143 32 202 -25 26 -84 49 -122 49 -11 0 -18 8 -18 20 0 15 7 20 28 20 15 0 36 -7 46 -15 29 -22 53 -18 72 10 15 23 15 27 0 50 -10 14 -28 31 -41 37 -14 6 -28 20 -31 32 -14 43 -59 49 -74 10z"],["d","M8515 8560 c-40 -12 -271 -245 -280 -283 -6 -22 -13 -27 -39 -27 -40 0 -66 -18 -162 -112 l-79 -78 -134 0 c-118 0 -138 -2 -167 -21 -52 -32 -75 -72 -81 -139 l-6 -60 -46 0 c-71 0 -119 -18 -167 -62 -66 -60 -84 -97 -91 -178 -4 -51 -10 -70 -20 -70 -21 0 -63 -50 -63 -76 0 -37 20 -72 49 -84 18 -7 236 -10 718 -8 l691 3 27 25 c55 50 55 49 55 578 l0 489 -22 33 c-13 18 -34 41 -48 51 -31 22 -95 31 -135 19z m29 -568 c-1 -207 -2 -394 -3 -414 l-1 -38 -70 0 -70 0 -1 128 c-1 70 0 224 1 342 l2 214 65 73 c36 40 68 73 72 73 3 0 5 -170 5 -378z m-324 -192 l0 -261 -77 3 -78 3 -3 184 -3 184 73 74 c40 40 76 73 80 73 5 0 8 -117 8 -260z m-337 75 c4 -8 5 -85 4 -172 l-2 -158 -67 -3 -66 -3 -7 63 c-4 35 -5 110 -3 168 l3 105 50 6 c28 3 57 7 66 7 9 1 19 -5 22 -13z"],["d","M8852 7375 c-69 -29 -82 -99 -33 -174 123 -190 231 -399 311 -601 45 -115 68 -146 111 -155 63 -14 137 56 122 116 -10 43 -103 260 -163 384 -62 126 -209 378 -238 408 -28 27 -74 37 -110 22z"],["d","M3760 7356 c-114 -32 -201 -88 -280 -183 -56 -67 -83 -120 -106 -204 -16 -60 -17 -195 -15 -1982 2 -1698 4 -1923 18 -1970 56 -189 204 -332 398 -383 66 -18 2583 -20 2667 -3 187 38 350 192 414 389 16 50 18 111 22 640 3 581 3 586 -17 604 -26 24 -28 82 -3 109 16 18 17 93 20 1222 3 783 0 1232 -7 1287 -5 46 -19 109 -31 140 -52 140 -172 260 -321 321 -52 21 -67 22 -470 25 l-417 3 -21 -27 c-19 -24 -21 -40 -21 -139 0 -100 -2 -116 -23 -146 -45 -68 -50 -69 -452 -69 -332 0 -363 2 -402 19 -67 31 -77 55 -83 203 -4 113 -7 131 -24 144 -27 19 -776 19 -846 0z m701 -247 c8 -98 44 -169 113 -220 91 -69 103 -70 557 -67 396 3 405 3 450 26 113 56 174 143 185 268 l7 71 321 -1 321 -1 59 -30 c115 -58 186 -159 206 -291 8 -49 10 -633 8 -1915 -3 -1720 -5 -1847 -21 -1896 -21 -63 -82 -142 -145 -188 -87 -62 -109 -65 -586 -65 -235 0 -426 3 -424 8 2 4 20 32 40 62 23 33 44 82 55 124 21 88 9 172 -41 269 l-34 67 483 0 c455 0 484 1 506 19 l23 18 0 1641 1 1641 -23 23 -23 23 -1384 0 c-1316 0 -1385 -1 -1402 -18 -17 -17 -18 -97 -18 -1668 0 -1622 0 -1651 19 -1665 17 -12 101 -14 503 -14 266 0 483 -2 483 -5 0 -3 -13 -26 -29 -52 -83 -138 -72 -323 25 -429 14 -14 22 -29 19 -33 -4 -3 -208 -6 -453 -6 l-447 0 -47 23 c-75 37 -143 105 -180 180 l-33 67 -3 1903 c-2 2114 -7 1955 65 2060 52 76 128 126 218 142 22 4 171 7 330 6 l290 -1 6 -76z m728 -686 c49 -38 62 -66 68 -150 l6 -80 85 -22 c216 -55 442 -230 502 -389 56 -150 -23 -282 -170 -282 -85 0 -156 50 -213 150 -50 86 -145 154 -244 175 l-33 7 0 -296 0 -295 78 -16 c227 -48 340 -102 458 -220 62 -62 90 -99 118 -157 70 -146 81 -284 35 -436 -32 -103 -74 -169 -173 -268 -77 -76 -106 -97 -186 -137 -52 -25 -130 -55 -173 -66 -43 -11 -81 -22 -85 -25 -3 -3 -4 -25 -4 -48 4 -76 -16 -145 -49 -172 -39 -33 -91 -47 -130 -36 -81 23 -109 71 -109 184 l0 75 -42 11 c-236 61 -399 160 -523 320 -79 102 -107 187 -91 274 13 70 107 145 181 146 93 0 160 -52 248 -193 32 -51 63 -87 94 -108 53 -37 132 -69 168 -69 l24 0 3 281 c2 155 1 284 -2 288 -3 4 -57 21 -120 38 -161 44 -218 67 -302 122 -132 86 -236 226 -272 367 -9 34 -16 99 -16 144 0 171 57 298 194 435 108 107 205 162 356 199 l95 24 5 78 c3 44 10 88 17 99 16 29 55 62 78 68 35 10 97 -1 124 -20z m134 -3166 c63 -37 99 -93 105 -161 2 -30 -1 -70 -7 -89 -13 -40 -72 -104 -107 -117 -13 -5 -101 -10 -196 -11 -193 -2 -210 2 -265 65 -81 91 -65 228 35 304 41 31 83 37 267 37 113 0 123 -2 168 -28z"],["d","M6062 3117 c-31 -33 -29 -80 4 -106 30 -24 55 -26 87 -10 30 16 37 28 37 66 0 66 -83 98 -128 50z"],["d","M6380 3120 c-12 -12 -20 -33 -20 -55 0 -45 29 -75 73 -75 68 0 103 83 54 128 -30 28 -80 29 -107 2z"],["d","M4948 5811 c-71 -23 -118 -52 -159 -98 -95 -109 -91 -256 9 -344 42 -37 141 -85 195 -95 l37 -6 0 271 c0 149 0 274 1 279 1 13 -26 11 -83 -7z"],["d","M5190 4575 l0 -278 39 6 c54 7 139 47 185 87 84 74 114 199 68 286 -42 81 -144 148 -255 169 l-37 7 0 -277z"],["d","M4939 7363 c-100 -3 -109 -5 -133 -30 -38 -37 -36 -94 3 -134 l29 -29 255 0 c155 0 266 4 285 11 58 20 81 98 43 148 -30 40 -106 45 -482 34z"],["d","M1214 7180 c-35 -14 -69 -67 -143 -221 -111 -233 -201 -491 -267 -767 -31 -131 -30 -145 5 -184 23 -26 37 -33 68 -33 22 0 51 8 66 18 28 18 34 36 82 237 58 244 162 521 276 737 27 52 49 107 49 123 0 59 -81 113 -136 90z"],["d","M8400 6280 c-445 -6 -436 -4 -488 -82 l-27 -41 -7 -561 c-4 -309 -5 -675 -4 -813 4 -284 8 -299 80 -357 l38 -31 784 -3 c754 -2 787 -2 828 17 24 10 56 36 72 57 l29 37 3 811 c2 722 1 816 -13 853 -19 48 -74 101 -113 109 -39 8 -722 10 -1182 4z m1128 -941 l2 -767 -35 -6 c-20 -4 -56 -4 -80 0 l-45 6 0 610 0 609 -25 24 c-17 18 -35 25 -64 25 -53 0 -69 -7 -86 -40 -11 -22 -24 -29 -61 -35 -63 -9 -90 -23 -103 -52 -9 -20 -9 -30 4 -49 14 -22 23 -24 90 -24 l75 0 0 -534 0 -534 -25 -4 c-13 -3 -47 -3 -75 0 l-50 5 0 390 c0 482 19 437 -184 437 -130 0 -141 -2 -163 -22 -31 -29 -30 -77 2 -112 22 -23 31 -26 95 -26 l70 0 0 -334 c0 -381 9 -351 -96 -340 l-64 7 0 273 0 274 -27 17 c-23 15 -55 18 -219 21 -188 3 -192 3 -218 -20 l-27 -23 1 -271 c0 -148 -1 -272 -4 -275 -2 -2 -38 -3 -80 -1 l-76 4 0 769 0 769 733 -2 732 -3 3 -766z m-990 -566 l-3 -208 -27 1 c-16 1 -48 2 -73 3 l-45 1 0 205 0 205 75 0 75 0 -2 -207z"],["d","M8616 5789 l-90 -92 -33 38 c-44 51 -92 85 -120 85 -35 0 -73 -43 -73 -81 0 -28 14 -47 98 -131 136 -136 130 -137 289 29 111 116 122 132 123 165 0 28 -6 41 -26 57 -49 38 -70 29 -168 -70z"],["d","M1540 6142 c-47 -23 -73 -78 -79 -172 -6 -79 -16 -100 -72 -165 l-31 -35 -342 0 c-252 0 -347 -4 -366 -13 -40 -20 -60 -72 -60 -156 l0 -75 -47 -42 -48 -42 0 -399 c0 -433 0 -434 55 -466 25 -15 71 -17 406 -17 l378 0 25 -24 c15 -14 159 -104 321 -202 162 -97 296 -178 298 -179 2 -2 -1 -20 -7 -40 -18 -65 24 -115 95 -115 37 0 58 29 184 250 63 111 130 227 148 259 37 63 38 108 3 145 -19 21 -20 37 -23 398 -3 362 -4 378 -24 405 -11 15 -34 35 -52 43 -35 17 -42 37 -40 123 1 76 -14 96 -128 171 -49 32 -179 123 -289 201 -261 185 -245 178 -305 147z m203 -296 c42 -32 77 -60 77 -62 0 -2 -43 -4 -95 -4 l-95 0 0 76 c0 70 1 74 18 62 10 -7 52 -39 95 -72z m357 -306 l0 -60 -669 0 -669 0 -6 23 c-3 12 -6 39 -6 60 l0 37 675 0 675 0 0 -60z m100 -519 l0 -289 -32 -4 c-18 -3 -361 -4 -763 -4 l-730 1 -3 293 -2 292 765 0 765 0 0 -289z m0 -511 c-12 -23 -31 -45 -43 -49 -30 -12 -50 -36 -81 -99 l-26 -52 -28 19 c-15 10 -72 45 -127 77 -55 32 -131 78 -170 101 l-69 43 282 0 282 0 -20 -40z"],["d","M1359 5051 c-32 -33 -37 -67 -14 -110 30 -58 105 -63 150 -9 32 38 32 78 -1 117 -36 43 -93 44 -135 2z"],["d","M842 4354 c-31 -22 -172 -235 -172 -261 0 -12 11 -34 24 -50 19 -22 32 -28 65 -28 l42 0 15 -55 c74 -260 152 -467 264 -696 86 -178 106 -200 169 -190 46 7 91 55 91 96 0 18 -31 93 -74 178 -90 180 -175 392 -221 553 -19 66 -35 125 -35 130 0 5 11 9 25 9 13 0 33 10 45 22 38 41 31 57 -103 224 -42 54 -81 84 -105 84 -4 0 -18 -7 -30 -16z"],["d","M9262 4184 c-28 -19 -48 -58 -57 -109 -14 -78 -97 -352 -141 -465 -25 -63 -79 -183 -120 -266 -41 -82 -74 -160 -74 -172 0 -73 80 -124 143 -91 12 7 29 21 39 33 20 24 102 188 159 318 82 187 199 578 199 666 0 81 -85 130 -148 86z"],["d","M1950 3231 c-91 -19 -179 -100 -202 -187 l-12 -44 -131 0 c-111 0 -135 -3 -162 -20 -47 -28 -58 -55 -63 -165 l-5 -100 -125 -5 c-137 -5 -160 -13 -190 -63 -19 -31 -20 -56 -20 -695 0 -550 2 -668 14 -697 29 -68 -17 -65 916 -65 l840 0 38 34 37 34 3 251 3 252 -30 29 c-37 37 -79 39 -118 6 l-28 -24 -3 -201 -3 -201 -745 0 -744 0 0 585 0 585 110 0 c118 0 160 11 195 50 17 19 21 39 23 131 l4 109 66 2 c171 6 182 1 182 -92 0 -87 5 -90 192 -90 186 0 190 2 198 109 l5 66 136 3 136 3 5 -87 c4 -81 7 -89 33 -110 l28 -22 -46 -46 c-56 -57 -94 -131 -109 -216 -28 -161 62 -324 220 -398 50 -24 69 -27 162 -27 96 0 110 3 165 29 76 38 143 105 181 181 26 54 29 70 29 160 0 93 -2 105 -33 167 -41 84 -100 143 -182 182 -56 26 -79 31 -166 34 l-102 4 -6 30 c-3 17 -6 70 -6 118 0 73 -3 92 -21 114 -39 49 -66 56 -223 56 l-144 0 -16 48 c-43 128 -168 207 -286 183z m88 -191 c27 -17 32 -25 32 -59 0 -48 -24 -79 -67 -87 -27 -5 -37 -1 -63 24 -32 32 -37 56 -19 96 21 46 67 56 117 26z m812 -560 c70 -36 106 -87 116 -164 8 -57 -10 -109 -55 -159 -45 -50 -85 -67 -154 -67 -109 0 -196 78 -205 184 -6 70 10 116 58 165 66 68 156 83 240 41z"],["d","M2712 2373 c-7 -3 -19 -18 -28 -35 -35 -67 16 -145 86 -134 82 13 107 113 41 163 -16 12 -75 16 -99 6z"],["d","M7293 3154 c-13 -3 -32 -17 -43 -31 -19 -25 -20 -39 -20 -407 0 -291 3 -393 14 -432 38 -142 153 -266 294 -316 68 -25 187 -34 260 -20 29 5 55 6 58 1 3 -5 -17 -22 -45 -39 -42 -26 -111 -107 -111 -131 0 -4 -17 -10 -37 -14 -89 -16 -178 -86 -223 -176 -30 -58 -37 -168 -16 -241 31 -109 132 -201 251 -233 64 -16 177 -18 320 -5 70 6 104 4 150 -8 88 -22 251 -19 349 7 171 45 343 173 426 316 19 33 61 89 94 124 167 182 245 391 233 625 -11 229 -88 405 -248 571 -228 236 -535 308 -788 184 -61 -30 -64 -31 -74 -13 -22 42 -134 137 -202 169 -113 56 -166 65 -405 69 -118 3 -225 3 -237 0z m486 -200 c96 -28 189 -100 230 -178 12 -21 10 -31 -15 -81 -55 -113 -42 -266 31 -377 l26 -38 -51 -51 c-28 -28 -76 -62 -108 -77 -51 -24 -69 -27 -167 -27 -95 0 -116 3 -152 23 -58 30 -111 86 -137 141 -20 43 -21 64 -24 370 l-3 324 158 -6 c97 -4 180 -13 212 -23z m846 -175 c81 -30 196 -111 260 -182 57 -64 120 -175 150 -262 37 -112 37 -287 0 -401 -27 -81 -40 -85 -54 -17 -24 126 -120 273 -230 354 -133 99 -306 139 -465 109 -77 -14 -85 -10 -119 54 -30 57 -29 155 1 213 40 77 118 133 213 153 64 13 179 4 244 -21z m-155 -579 c78 -15 137 -48 206 -115 71 -69 110 -139 130 -234 36 -170 -3 -303 -124 -426 -142 -142 -346 -193 -539 -134 l-32 10 39 72 c79 145 89 271 31 385 -28 55 -85 117 -130 142 -27 14 -26 23 3 86 46 98 143 180 248 208 65 18 100 19 168 6z m-513 -463 c60 -34 86 -115 59 -181 -9 -21 -16 -51 -16 -66 0 -40 -27 -111 -53 -138 -73 -79 -208 -91 -295 -26 -63 48 -82 137 -42 202 23 37 54 52 109 52 30 0 50 9 89 40 28 23 54 51 58 63 18 62 46 79 91 54z"],["d","M1745 2290 c-143 -3 -261 -7 -262 -8 -1 -1 -9 -15 -18 -32 -22 -43 -19 -87 10 -115 l24 -25 320 0 c176 0 327 3 336 6 19 8 45 55 45 84 0 65 -50 99 -145 97 -27 -1 -167 -4 -310 -7z"],["d","M1577 1931 c-109 -7 -127 -22 -127 -108 0 -44 5 -58 25 -78 23 -24 30 -25 137 -25 121 1 148 10 148 48 0 12 -5 33 -12 47 -9 19 -9 28 0 37 33 33 -5 90 -58 86 -14 -1 -65 -4 -113 -7z"],["d","M1943 1930 c-27 -11 -39 -50 -24 -78 7 -14 7 -28 -1 -50 -10 -25 -9 -34 5 -56 17 -25 20 -26 127 -26 99 0 111 2 135 23 60 51 39 167 -34 187 -44 12 -178 12 -208 0z"],["d","M4409 1821 c-45 -14 -79 -43 -107 -90 l-27 -46 -3 -507 c-2 -338 1 -521 8 -547 6 -22 22 -54 36 -71 54 -63 14 -60 806 -60 l723 1 40 27 c23 15 50 47 63 72 22 44 22 45 22 561 l0 516 -23 44 c-13 24 -43 58 -66 74 l-43 30 -701 2 c-386 1 -714 -2 -728 -6z m1122 -230 c31 -90 116 -163 206 -178 l48 -8 3 -231 2 -230 -49 -13 c-101 -26 -187 -107 -216 -205 l-12 -41 -149 -6 c-209 -9 -510 -10 -582 -3 l-60 7 -12 44 c-16 55 -61 124 -103 156 -18 13 -57 33 -87 43 -30 11 -58 24 -62 29 -4 6 -8 108 -8 227 l0 218 28 6 c127 27 213 104 237 212 l7 32 395 -2 395 -3 19 -54z"],["d","M5032 1447 c-45 -17 -99 -62 -118 -98 -9 -17 -16 -51 -16 -75 0 -83 56 -142 154 -164 29 -6 72 -16 95 -22 96 -24 46 -110 -51 -88 -37 8 -56 19 -89 53 -34 34 -117 -3 -117 -53 0 -32 45 -84 95 -108 112 -56 266 -32 325 50 36 49 46 95 30 142 -25 77 -77 114 -199 141 -86 20 -108 37 -88 68 31 48 120 40 159 -14 16 -21 30 -29 54 -29 40 0 84 34 84 65 0 32 -53 91 -104 117 -50 26 -165 34 -214 15z"],["d","M7002 1591 c-223 -116 -416 -195 -663 -271 -160 -49 -165 -52 -179 -95 -17 -51 1 -99 44 -119 19 -9 41 -16 50 -16 25 0 300 87 446 142 154 58 427 186 477 224 44 34 57 67 43 110 -15 43 -54 74 -94 74 -17 0 -73 -22 -124 -49z"],["d","M3071 1604 c-27 -22 -31 -32 -31 -74 0 -42 4 -52 33 -76 69 -58 397 -199 704 -301 179 -59 206 -66 240 -57 72 18 102 104 54 157 -23 27 -35 32 -172 72 -172 51 -384 133 -580 226 -92 44 -178 79 -192 79 -14 0 -39 -12 -56 -26z"],["d","M1635 1602 c-54 -4 -65 -13 -65 -53 0 -34 14 -39 114 -39 87 0 106 8 106 46 0 43 -35 53 -155 46z"],["d","M2036 1601 c-58 -7 -76 -27 -58 -65 11 -25 15 -26 100 -26 96 0 112 7 112 52 0 46 -31 54 -154 39z"],["d","M2441 1601 c-63 -7 -81 -26 -63 -65 11 -25 15 -26 101 -26 59 0 92 4 99 13 10 12 9 64 -1 74 -9 8 -80 11 -136 4z"],[1,"layout-topbar-actions"],[1,"layout-config-menu"],["type","button",1,"layout-topbar-action",3,"click"],[1,"pi"],[1,"relative"],[1,"layout-topbar-action","layout-topbar-action-highlight",3,"click"],[1,"pi","pi-palette"],["label","Asiya Javayantee","image","https://primefaces.org/cdn/primeng/images/demo/avatar/asiyajavayant.png","alt","Avatar image",1,"!py-0","!pl-0","pr-2","!pr-4"],["severity","secondary","pStyleClass","@next","toggleClass","hidden","leaveActiveClass","animate-fadeout",1,"layout-topbar-menu-button","layout-topbar-action"],[1,"pi","pi-ellipsis-v"],[1,"layout-topbar-menu","hidden","lg:block"],[1,"layout-topbar-menu-content"],["type","button",1,"layout-topbar-action"],[1,"pi","pi-calendar"],[1,"pi","pi-inbox"],[1,"pi","pi-user"]],template:function(e,n){e&1&&(Kt(0,"div",0)(1,"div",1)(2,"a",2),Ds(),Kt(3,"svg",3)(4,"metadata"),Dr(5," Created by potrace 1.16, written by Peter Selinger 2001-2019 "),Qt(),Kt(6,"g",4),no(7,"path",5)(8,"path",6)(9,"path",7)(10,"path",8)(11,"path",9)(12,"path",10)(13,"path",11)(14,"path",12)(15,"path",13)(16,"path",14)(17,"path",15)(18,"path",16)(19,"path",17)(20,"path",18)(21,"path",19)(22,"path",20)(23,"path",21)(24,"path",22)(25,"path",23)(26,"path",24)(27,"path",25)(28,"path",26)(29,"path",27)(30,"path",28)(31,"path",29)(32,"path",30)(33,"path",31)(34,"path",32)(35,"path",33)(36,"path",34)(37,"path",35)(38,"path",36)(39,"path",37)(40,"path",38)(41,"path",39),Qt()(),yM(),Kt(42,"span"),Dr(43,"Ledgrify"),Qt()()(),Kt(44,"div",40)(45,"div",41)(46,"button",42),_o("click",function(){return n.toggleDarkMode()}),no(47,"i",43),Qt(),Kt(48,"div",44)(49,"button",45),_o("click",function(){return n.toggleConfigurator()}),no(50,"i",46),Qt(),no(51,"app-app-configurator"),Qt()(),no(52,"p-chip",47),Kt(53,"button",48),no(54,"i",49),Qt(),Kt(55,"div",50)(56,"div",51)(57,"button",52),no(58,"i",53),Kt(59,"span"),Dr(60,"Calendar"),Qt()(),Kt(61,"button",52),no(62,"i",54),Kt(63,"span"),Dr(64,"Messages"),Qt()(),Kt(65,"button",52),no(66,"i",55),Kt(67,"span"),Dr(68,"Profile"),Qt()()()()()()),e&2&&(pr(47),Dl("pi-moon",n.layoutService.isDarkTheme())("pi-sun",!n.layoutService.isDarkTheme()),pr(4),Dl("hidden",!n.isConfiguratorVisible))},dependencies:[Qu,zE,Fn,nI,oI,aI,lw],encapsulation:2})};var cw=class r{static \u0275fac=function(e){return new(e||r)};static \u0275cmp=Mo({type:r,selectors:[["app-app-footer"]],decls:4,vars:0,consts:[[1,"layout-footer"],["href","https://inganibalguerra.github.io","target","_blank","rel","noopener noreferrer",1,"text-primary","font-bold","hover:underline"]],template:function(e,n){e&1&&(Kt(0,"div",0),Dr(1," Ledgrify By "),Kt(2,"a",1),Dr(3,"Anibal Guerra"),Qt()())},encapsulation:2})};var dw=class r{constructor(o,e,n){this.layoutService=o;this.renderer=e;this.router=n;this.overlayMenuOpenSubscription=this.layoutService.overlayOpen$.subscribe(()=>{this.menuOutsideClickListener||(this.menuOutsideClickListener=this.renderer.listen("document","click",s=>{this.isOutsideClicked(s)&&this.hideMenu()})),this.layoutService.layoutState().staticMenuMobileActive&&this.blockBodyScroll()})}overlayMenuOpenSubscription;menuOutsideClickListener;appTopBar;isOutsideClicked(o){let e=document.querySelector(".layout-sidebar"),n=document.querySelector(".layout-menu-button"),s=o.target;return!(e?.isSameNode(s)||e?.contains(s)||n?.isSameNode(s)||n?.contains(s))}hideMenu(){this.layoutService.layoutState.update(o=>Gr(Vt({},o),{overlayMenuActive:!1,staticMenuMobileActive:!1,menuHoverActive:!1})),this.menuOutsideClickListener&&(this.menuOutsideClickListener(),this.menuOutsideClickListener=null),this.unblockBodyScroll()}blockBodyScroll(){document.body.classList?document.body.classList.add("blocked-scroll"):document.body.className+=" blocked-scroll"}unblockBodyScroll(){document.body.classList?document.body.classList.remove("blocked-scroll"):document.body.className=document.body.className.replace(new RegExp("(^|\\b)"+"blocked-scroll".split(" ").join("|")+"(\\b|$)","gi")," ")}get containerClass(){return{"layout-overlay":this.layoutService.layoutConfig().menuMode==="overlay","layout-static":this.layoutService.layoutConfig().menuMode==="static","layout-static-inactive":this.layoutService.layoutState().staticMenuDesktopInactive&&this.layoutService.layoutConfig().menuMode==="static","layout-overlay-active":this.layoutService.layoutState().overlayMenuActive,"layout-mobile-active":this.layoutService.layoutState().staticMenuMobileActive}}ngOnDestroy(){this.overlayMenuOpenSubscription&&this.overlayMenuOpenSubscription.unsubscribe(),this.menuOutsideClickListener&&this.menuOutsideClickListener()}static \u0275fac=function(e){return new(e||r)(Ho(ip),Ho(rl),Ho(as))};static \u0275cmp=Mo({type:r,selectors:[["app-app-layout"]],viewQuery:function(e,n){if(e&1&&my(Wv,5),e&2){let s;on(s=nn())&&(n.appTopBar=s.first)}},decls:8,vars:2,consts:[[1,"layout-wrapper"],[1,"layout-main-container"],[1,"layout-main"],[1,"layout-mask","animate-fadein"]],template:function(e,n){e&1&&(Kt(0,"div",0),no(1,"app-app-top-bar"),Kt(2,"div",1)(3,"div",2)(4,"p-card"),no(5,"router-outlet"),Qt()(),no(6,"app-app-footer"),Qt(),no(7,"div",3),Qt()),e&2&&Sn(n.containerClass)},dependencies:[Wv,Qu,Iv,Ju,iu,cw],encapsulation:2})};var sI=[{path:"landing",component:dx},{path:"",component:dw,children:[{path:"home",component:ow},{path:"chat",component:iw}]},{path:"**",redirectTo:"home",pathMatch:"full"}];var Hv="Service workers are disabled or not supported by this browser";function OL(r){return Th(()=>_f(new Error(r)))}var om=class{serviceWorker;worker;registration;events;constructor(o){if(this.serviceWorker=o,!o)this.worker=this.events=this.registration=OL(Hv);else{let n=Qw(o,"controllerchange").pipe(jo(()=>o.controller)),s=Th(()=>bo(o.controller)),c=cy(s,n);this.worker=c.pipe(ts(k=>!!k)),this.registration=this.worker.pipe(Si(()=>o.getRegistration()));let y=Qw(o,"message").pipe(jo(k=>k.data)).pipe(ts(k=>k&&k.type)).pipe(hM());y.connect(),this.events=y}}postMessage(o,e){return this.worker.pipe(fs(1),vi(n=>{n.postMessage(Vt({action:o},e))})).toPromise().then(()=>{})}postMessageWithOperation(o,e,n){let s=this.waitForOperationCompleted(n),c=this.postMessage(o,e);return Promise.all([c,s]).then(([,u])=>u)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(o){let e;return typeof o=="string"?e=n=>n.type===o:e=n=>o.includes(n.type),this.events.pipe(ts(e))}nextEventOfType(o){return this.eventsOfType(o).pipe(fs(1))}waitForOperationCompleted(o){return this.eventsOfType("OPERATION_COMPLETED").pipe(ts(e=>e.nonce===o),fs(1),jo(e=>{if(e.result!==void 0)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},$L=(()=>{class r{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new si;constructor(e){if(this.sw=e,!e.isEnabled){this.messages=Eh,this.notificationClicks=Eh,this.subscription=Eh;return}this.messages=this.sw.eventsOfType("PUSH").pipe(jo(s=>s.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(jo(s=>s.data)),this.pushManager=this.sw.registration.pipe(jo(s=>s.pushManager));let n=this.pushManager.pipe(Si(s=>s.getSubscription()));this.subscription=Yw(n,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Hv));let n={userVisibleOnly:!0},s=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),c=new Uint8Array(new ArrayBuffer(s.length));for(let u=0;u<s.length;u++)c[u]=s.charCodeAt(u);return n.applicationServerKey=c,this.pushManager.pipe(Si(u=>u.subscribe(n)),fs(1)).toPromise().then(u=>(this.subscriptionChanges.next(u),u))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Hv));let e=n=>{if(n===null)throw new Error("Not subscribed to push notifications.");return n.unsubscribe().then(s=>{if(!s)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(fs(1),Si(e)).toPromise()}decodeBase64(e){return atob(e)}static \u0275fac=function(n){return new(n||r)(Ao(om))};static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})(),LL=(()=>{class r{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=Eh,this.unrecoverable=Eh;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Hv));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Hv));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static \u0275fac=function(n){return new(n||r)(Ao(om))};static \u0275prov=jr({token:r,factory:r.\u0275fac})}return r})();var lI=new rn("");function NL(r,o,e){return()=>{if(!("serviceWorker"in navigator&&e.enabled!==!1))return;let n=r.get($i),s=r.get(vf);n.runOutsideAngular(()=>{let u=navigator.serviceWorker,h=()=>u.controller?.postMessage({action:"INITIALIZE"});u.addEventListener("controllerchange",h),s.onDestroy(()=>{u.removeEventListener("controllerchange",h)})});let c;if(typeof e.registrationStrategy=="function")c=e.registrationStrategy();else{let[u,...h]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(u){case"registerImmediately":c=bo(null);break;case"registerWithDelay":c=cI(+h[0]||0);break;case"registerWhenStable":let p=bi(r.get(vf).whenStable());c=h[0]?Yw(p,cI(+h[0])):p;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}n.runOutsideAngular(()=>c.pipe(fs(1)).subscribe(()=>navigator.serviceWorker.register(o,{scope:e.scope}).catch(u=>console.error("Service worker registration failed with:",u))))}}function cI(r){return bo(null).pipe(pM(r))}function zL(r){return new om(r.enabled!==!1?navigator.serviceWorker:void 0)}var Gv=class{enabled;scope;registrationStrategy};function dI(r,o={}){return el([$L,LL,{provide:lI,useValue:r},{provide:Gv,useValue:o},{provide:om,useFactory:zL,deps:[Gv]},{provide:rv,useFactory:NL,deps:[Fs,lI,Gv],multi:!0}])}var uI={providers:[NM({eventCoalescing:!0}),VE(sI),ET(),JT({theme:{preset:aw,options:{darkModeSelector:".app-dark"}},ripple:!0,filterMatchModeOptions:{text:[un.STARTS_WITH,un.CONTAINS,un.NOT_CONTAINS,un.ENDS_WITH,un.EQUALS,un.NOT_EQUALS],numeric:[un.EQUALS,un.NOT_EQUALS,un.LESS_THAN,un.LESS_THAN_OR_EQUAL_TO,un.GREATER_THAN,un.GREATER_THAN_OR_EQUAL_TO],date:[un.DATE_IS,un.DATE_IS_NOT,un.DATE_BEFORE,un.DATE_AFTER]}}),hT(mT()),dI("ngsw-worker.js",{enabled:!zM(),registrationStrategy:"registerWhenStable:30000"})]};var uw=class r{title="Ledgrify";static \u0275fac=function(e){return new(e||r)};static \u0275cmp=Mo({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(e,n){e&1&&no(0,"router-outlet")},dependencies:[Iv,$l,Fn],encapsulation:2})};MT(uw,uI).catch(r=>console.error(r));
